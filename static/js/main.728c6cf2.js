/*! For license information please see main.728c6cf2.js.LICENSE.txt */
(()=>{var e={765:(e,t,n)=>{"use strict";t.R=l;var r,i=(r=n(791))&&r.__esModule?r:{default:r};function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e){var t=e.scale,n=void 0===t?"M":t,r=a(e,["scale"]);return i.default.createElement("svg",o({},r,r),"L"===n&&i.default.createElement("path",{d:"M10.563 2.206l-9.249 16.55a.5.5 0 0 0 .436.744h18.5a.5.5 0 0 0 .436-.744l-9.251-16.55a.5.5 0 0 0-.872 0zm1.436 15.044a.25.25 0 0 1-.25.25h-1.5a.25.25 0 0 1-.25-.25v-1.5a.25.25 0 0 1 .25-.25h1.5a.25.25 0 0 1 .25.25zm0-3.5a.25.25 0 0 1-.25.25h-1.5a.25.25 0 0 1-.25-.25v-6a.25.25 0 0 1 .25-.25h1.5a.25.25 0 0 1 .25.25z"}),"M"===n&&i.default.createElement("path",{d:"M8.564 1.289L.2 16.256A.5.5 0 0 0 .636 17h16.728a.5.5 0 0 0 .436-.744L9.436 1.289a.5.5 0 0 0-.872 0zM10 14.75a.25.25 0 0 1-.25.25h-1.5a.25.25 0 0 1-.25-.25v-1.5a.25.25 0 0 1 .25-.25h1.5a.25.25 0 0 1 .25.25zm0-3a.25.25 0 0 1-.25.25h-1.5a.25.25 0 0 1-.25-.25v-6a.25.25 0 0 1 .25-.25h1.5a.25.25 0 0 1 .25.25z"}))}l.displayName="AlertMedium"},851:(e,t,n)=>{"use strict";t.S=l;var r,i=(r=n(791))&&r.__esModule?r:{default:r};function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e){var t=e.scale,n=void 0===t?"M":t,r=a(e,["scale"]);return i.default.createElement("svg",o({},r,r),"L"===n&&i.default.createElement("path",{d:"M8.564 1.289L.2 16.256A.5.5 0 0 0 .636 17h16.728a.5.5 0 0 0 .436-.744L9.436 1.289a.5.5 0 0 0-.872 0zM10 14.75a.25.25 0 0 1-.25.25h-1.5a.25.25 0 0 1-.25-.25v-1.5a.25.25 0 0 1 .25-.25h1.5a.25.25 0 0 1 .25.25zm0-3a.25.25 0 0 1-.25.25h-1.5a.25.25 0 0 1-.25-.25v-6a.25.25 0 0 1 .25-.25h1.5a.25.25 0 0 1 .25.25z"}),"M"===n&&i.default.createElement("path",{d:"M6.66 1.003L.157 12.643a.389.389 0 0 0 .339.58h13.01a.389.389 0 0 0 .34-.58L7.338 1.004a.389.389 0 0 0-.678 0zm1.118 10.47a.194.194 0 0 1-.195.194H6.417a.194.194 0 0 1-.195-.195v-1.166a.194.194 0 0 1 .195-.195h1.166a.194.194 0 0 1 .195.195zm0-2.334a.194.194 0 0 1-.195.194H6.417a.194.194 0 0 1-.195-.194V4.472a.194.194 0 0 1 .195-.194h1.166a.194.194 0 0 1 .195.194z"}))}l.displayName="AlertSmall"},448:(e,t,n)=>{"use strict";t.m=l;var r,i=(r=n(791))&&r.__esModule?r:{default:r};function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e){var t=e.scale,n=void 0===t?"M":t,r=a(e,["scale"]);return i.default.createElement("svg",o({},r,r),"L"===n&&i.default.createElement("path",{d:"M9.99 7.01a1 1 0 0 0-1.707-.707L6 8.586V1.01a1 1 0 0 0-2 0v7.576L1.717 6.303A1 1 0 1 0 .303 7.717l3.99 3.98a1 1 0 0 0 1.414 0l3.99-3.98a.997.997 0 0 0 .293-.707z"}),"M"===n&&i.default.createElement("path",{d:"M7.99 6.01a1 1 0 0 0-1.707-.707L5 6.586V1a1 1 0 0 0-2 0v5.586L1.717 5.303A1 1 0 1 0 .303 6.717l2.99 2.98a1 1 0 0 0 1.414 0l2.99-2.98a.997.997 0 0 0 .293-.707z"}))}l.displayName="ArrowDownSmall"},738:(e,t,n)=>{"use strict";t.d=l;var r,i=(r=n(791))&&r.__esModule?r:{default:r};function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e){var t=e.scale,n=void 0===t?"M":t,r=a(e,["scale"]);return i.default.createElement("svg",o({},r,r),"L"===n&&i.default.createElement("path",{d:"M7.867 7.872c.061.062.103.145 0 .228l-1.283.827c-.104.061-.145.02-.186-.083L4.804 6.07l-2.09 2.297c-.021.042-.083.083-.145 0l-.994-1.035c-.103-.062-.082-.124 0-.186l2.36-1.966-2.691-1.014c-.042 0-.104-.083-.062-.186l.703-1.41a.11.11 0 0 1 .187-.04L4.43 4.06l.145-3.02A.109.109 0 0 1 4.7.917l1.718.227c.104 0 .124.042.104.145l-.808 2.96 2.734-.828c.061-.042.124-.042.165.082l.27 1.532c.02.103 0 .145-.084.145l-2.856.227z"}),"M"===n&&i.default.createElement("path",{d:"M6.573 6.558c.056.055.092.13 0 .204l-1.148.74c-.093.056-.13.02-.167-.073L3.832 4.947l-1.87 2.055c-.02.037-.075.074-.13 0l-.889-.926c-.092-.055-.074-.111 0-.167l2.111-1.76-2.408-.906c-.037 0-.092-.074-.055-.167l.63-1.259a.097.097 0 0 1 .166-.036l2.111 1.37.13-2.704a.097.097 0 0 1 .111-.11L5.277.54c.092 0 .11.037.092.13l-.722 2.647 2.444-.74c.056-.038.111-.038.148.073l.241 1.37c.019.093 0 .13-.074.13l-2.556.204z"}))}l.displayName="Asterisk"},699:(e,t,n)=>{"use strict";t.p=l;var r,i=(r=n(791))&&r.__esModule?r:{default:r};function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e){var t=e.scale,n=void 0===t?"M":t,r=a(e,["scale"]);return i.default.createElement("svg",o({},r,r),"L"===n&&i.default.createElement("path",{d:"M6 14a1 1 0 0 1-.789-.385l-4-5a1 1 0 1 1 1.577-1.23L6 11.376l7.213-8.99a1 1 0 1 1 1.576 1.23l-8 10a1 1 0 0 1-.789.384z"}),"M"===n&&i.default.createElement("path",{d:"M4.5 10a1.022 1.022 0 0 1-.799-.384l-2.488-3a1 1 0 0 1 1.576-1.233L4.5 7.376l4.712-5.991a1 1 0 1 1 1.576 1.23l-5.51 7A.978.978 0 0 1 4.5 10z"}))}l.displayName="CheckmarkMedium"},698:(e,t,n)=>{"use strict";t.K=l;var r,i=(r=n(791))&&r.__esModule?r:{default:r};function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e){var t=e.scale,n=void 0===t?"M":t,r=a(e,["scale"]);return i.default.createElement("svg",o({},r,r),"L"===n&&i.default.createElement("path",{d:"M4.5 11a.999.999 0 0 1-.788-.385l-3-4a1 1 0 1 1 1.576-1.23L4.5 8.376l5.212-6.99a1 1 0 1 1 1.576 1.23l-6 8A.999.999 0 0 1 4.5 11z"}),"M"===n&&i.default.createElement("path",{d:"M3.788 9A.999.999 0 0 1 3 8.615l-2.288-3a1 1 0 1 1 1.576-1.23l1.5 1.991 3.924-4.991a1 1 0 1 1 1.576 1.23l-4.712 6A.999.999 0 0 1 3.788 9z"}))}l.displayName="CheckmarkSmall"},350:(e,t,n)=>{"use strict";t.F=l;var r,i=(r=n(791))&&r.__esModule?r:{default:r};function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e){var t=e.scale,n=void 0===t?"M":t,r=a(e,["scale"]);return i.default.createElement("svg",o({},r,r),"L"===n&&i.default.createElement("path",{d:"M11.99 1.51a1 1 0 0 0-1.707-.707L6 5.086 1.717.803A1 1 0 1 0 .303 2.217l4.99 4.99a1 1 0 0 0 1.414 0l4.99-4.99a.997.997 0 0 0 .293-.707z"}),"M"===n&&i.default.createElement("path",{d:"M9.99 1.01A1 1 0 0 0 8.283.303L5 3.586 1.717.303A1 1 0 1 0 .303 1.717l3.99 3.98a1 1 0 0 0 1.414 0l3.99-3.98a.997.997 0 0 0 .293-.707z"}))}l.displayName="ChevronDownMedium"},331:(e,t,n)=>{"use strict";t.Y=l;var r,i=(r=n(791))&&r.__esModule?r:{default:r};function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e){var t=e.scale,n=void 0===t?"M":t,r=a(e,["scale"]);return i.default.createElement("svg",o({},r,r),"L"===n&&i.default.createElement("path",{d:"M7.197 10.283L2.914 6l4.283-4.283A1 1 0 1 0 5.783.303l-4.99 4.99a1 1 0 0 0 0 1.414l4.99 4.99a1 1 0 1 0 1.414-1.414z"}),"M"===n&&i.default.createElement("path",{d:"M5.697 8.283L2.414 5l3.283-3.283A1 1 0 1 0 4.283.303l-3.98 3.99a1 1 0 0 0 0 1.414l3.98 3.99a1 1 0 1 0 1.414-1.414z"}))}l.displayName="ChevronLeftMedium"},318:(e,t,n)=>{"use strict";t.R=l;var r,i=(r=n(791))&&r.__esModule?r:{default:r};function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e){var t=e.scale,n=void 0===t?"M":t,r=a(e,["scale"]);return i.default.createElement("svg",o({},r,r),"L"===n&&i.default.createElement("path",{d:"M7.5 6a.997.997 0 0 0-.293-.707L2.217.303A1 1 0 1 0 .803 1.717L5.086 6 .803 10.283a1 1 0 1 0 1.414 1.414l4.99-4.99A.997.997 0 0 0 7.5 6z"}),"M"===n&&i.default.createElement("path",{d:"M5.99 5a.997.997 0 0 0-.293-.707L1.717.303A1 1 0 1 0 .303 1.717L3.586 5 .303 8.283a1 1 0 1 0 1.414 1.414l3.98-3.99A.997.997 0 0 0 5.99 5z"}))}l.displayName="ChevronRightMedium"},388:(e,t,n)=>{"use strict";t.B=l;var r,i=(r=n(791))&&r.__esModule?r:{default:r};function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e){var t=e.scale,n=void 0===t?"M":t,r=a(e,["scale"]);return i.default.createElement("svg",o({},r,r),"L"===n&&i.default.createElement("path",{d:"M5.74.01a.25.25 0 0 0-.177.073l-5.48 5.48a.25.25 0 0 0 .177.427h5.48a.25.25 0 0 0 .25-.25V.26a.25.25 0 0 0-.25-.25z"}),"M"===n&&i.default.createElement("path",{d:"M4.74.01a.25.25 0 0 0-.177.073l-4.48 4.48a.25.25 0 0 0 .177.427h4.48a.25.25 0 0 0 .25-.25V.26a.25.25 0 0 0-.25-.25z"}))}l.displayName="CornerTriangle"},256:(e,t,n)=>{"use strict";t.U=l;var r,i=(r=n(791))&&r.__esModule?r:{default:r};function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e){var t=e.scale,n=void 0===t?"M":t,r=a(e,["scale"]);return i.default.createElement("svg",o({},r,r),"L"===n&&i.default.createElement("path",{d:"M15.697 14.283L9.414 8l6.283-6.283A1 1 0 1 0 14.283.303L8 6.586 1.717.303A1 1 0 1 0 .303 1.717L6.586 8 .303 14.283a1 1 0 1 0 1.414 1.414L8 9.414l6.283 6.283a1 1 0 1 0 1.414-1.414z"}),"M"===n&&i.default.createElement("path",{d:"M11.697 10.283L7.414 6l4.283-4.283A1 1 0 1 0 10.283.303L6 4.586 1.717.303A1 1 0 1 0 .303 1.717L4.586 6 .303 10.283a1 1 0 1 0 1.414 1.414L6 7.414l4.283 4.283a1 1 0 1 0 1.414-1.414z"}))}l.displayName="CrossLarge"},548:(e,t,n)=>{"use strict";var r,i=(r=n(791))&&r.__esModule?r:{default:r};function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e){var t=e.scale,n=void 0===t?"M":t,r=a(e,["scale"]);return i.default.createElement("svg",o({},r,r),"L"===n&&i.default.createElement("path",{d:"M9.317 8.433L5.884 5l3.433-3.433a.625.625 0 1 0-.884-.884L5 4.116 1.567.683a.625.625 0 1 0-.884.884C.83 1.713 2.77 3.657 4.116 5L.683 8.433a.625.625 0 1 0 .884.884L5 5.884l3.433 3.433a.625.625 0 0 0 .884-.884z"}),"M"===n&&i.default.createElement("path",{d:"M7.317 6.433L4.884 4l2.433-2.433a.625.625 0 1 0-.884-.884L4 3.116 1.567.683a.625.625 0 1 0-.884.884L3.116 4 .683 6.433a.625.625 0 1 0 .884.884L4 4.884l2.433 2.433a.625.625 0 0 0 .884-.884z"}))}l.displayName="CrossSmall"},384:(e,t,n)=>{"use strict";t.z=l;var r,i=(r=n(791))&&r.__esModule?r:{default:r};function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e){var t=e.scale,n=void 0===t?"M":t,r=a(e,["scale"]);return i.default.createElement("svg",o({},r,r),"L"===n&&i.default.createElement("path",{d:"M10.99 5H1.01a1 1 0 0 0 0 2h9.98a1 1 0 1 0 0-2z"}),"M"===n&&i.default.createElement("path",{d:"M8 4H2a1 1 0 0 0 0 2h6a1 1 0 0 0 0-2z"}))}l.displayName="DashSmall"},187:(e,t,n)=>{"use strict";t.b=l;var r,i=(r=n(791))&&r.__esModule?r:{default:r};function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e){var t=e.scale,n=void 0===t?"M":t,r=a(e,["scale"]);return i.default.createElement("svg",o({},r,r),"L"===n&&i.default.createElement("path",{d:"M9 1a8 8 0 1 0 8 8 8 8 0 0 0-8-8zm-.15 2.15a1.359 1.359 0 0 1 1.431 1.283q.004.064.001.129A1.332 1.332 0 0 1 8.85 5.994a1.353 1.353 0 0 1-1.432-1.433 1.359 1.359 0 0 1 1.304-1.412q.064-.002.128.001zM11 13.5a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5H8V9h-.5a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5V12h.5a.5.5 0 0 1 .5.5z"}),"M"===n&&i.default.createElement("path",{d:"M7 .778A6.222 6.222 0 1 0 13.222 7 6.222 6.222 0 0 0 7 .778zM6.883 2.45a1.057 1.057 0 0 1 1.113.998q.003.05.001.1a1.036 1.036 0 0 1-1.114 1.114A1.052 1.052 0 0 1 5.77 3.547 1.057 1.057 0 0 1 6.784 2.45q.05-.002.1.001zm1.673 8.05a.389.389 0 0 1-.39.389H5.834a.389.389 0 0 1-.389-.389v-.778a.389.389 0 0 1 .39-.389h.388V7h-.389a.389.389 0 0 1-.389-.389v-.778a.389.389 0 0 1 .39-.389h1.555a.389.389 0 0 1 .389.39v3.5h.389a.389.389 0 0 1 .389.388z"}))}l.displayName="InfoSmall"},425:(e,t,n)=>{"use strict";t.D=o;var r,i=(r=n(791))&&r.__esModule?r:{default:r};function o(e){let{scale:t="M",...n}=e;return i.default.createElement("svg",n,"L"===t&&i.default.createElement(i.default.Fragment,null,i.default.createElement("circle",{cx:"5.375",cy:"12.625",r:"1.25"}),i.default.createElement("circle",{cx:"1.625",cy:"12.625",r:"1.25"}),i.default.createElement("circle",{cx:"5.375",cy:"8.875",r:"1.25"}),i.default.createElement("circle",{cx:"1.625",cy:"8.875",r:"1.25"}),i.default.createElement("circle",{cx:"5.375",cy:"5.125",r:"1.25"}),i.default.createElement("circle",{cx:"1.625",cy:"5.125",r:"1.25"}),i.default.createElement("circle",{cx:"5.375",cy:"1.375",r:"1.25"}),i.default.createElement("circle",{cx:"1.625",cy:"1.375",r:"1.25"})),"M"===t&&i.default.createElement(i.default.Fragment,null,i.default.createElement("circle",{cx:"4",cy:"10.5",r:"1"}),i.default.createElement("circle",{cx:"1",cy:"10.5",r:"1"}),i.default.createElement("circle",{cx:"4",cy:"7.5",r:"1"}),i.default.createElement("circle",{cx:"1",cy:"7.5",r:"1"}),i.default.createElement("circle",{cx:"4",cy:"4.5",r:"1"}),i.default.createElement("circle",{cx:"1",cy:"4.5",r:"1"}),i.default.createElement("circle",{cx:"4",cy:"1.5",r:"1"}),i.default.createElement("circle",{cx:"1",cy:"1.5",r:"1"})))}o.displayName="ListGripper"},299:(e,t,n)=>{"use strict";t.e=l;var r,i=(r=n(791))&&r.__esModule?r:{default:r};function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e){var t=e.scale,n=void 0===t?"M":t,r=a(e,["scale"]);return i.default.createElement("svg",o({},r,r),"L"===n&&i.default.createElement("path",{d:"M9 1a8 8 0 1 0 8 8 8 8 0 0 0-8-8zm5.333 4.54l-6.324 8.13a.6.6 0 0 1-.437.23h-.037a.6.6 0 0 1-.425-.176l-3.893-3.9a.6.6 0 0 1 0-.849l.663-.663a.6.6 0 0 1 .848 0L7.4 10.991l5.256-6.754a.6.6 0 0 1 .843-.1l.728.566a.6.6 0 0 1 .106.837z"}),"M"===n&&i.default.createElement("path",{d:"M7 .778A6.222 6.222 0 1 0 13.222 7 6.222 6.222 0 0 0 7 .778zm4.148 3.53l-4.919 6.324a.467.467 0 0 1-.34.18h-.028a.467.467 0 0 1-.331-.138L2.502 7.641a.467.467 0 0 1 0-.66l.516-.516a.467.467 0 0 1 .66 0l2.078 2.084 4.088-5.254a.467.467 0 0 1 .655-.078l.566.44a.467.467 0 0 1 .083.652z"}))}l.displayName="SuccessSmall"},774:(e,t,n)=>{"use strict";t.p=function(e){var t=o({},e);return i.default.createElement("svg",o({viewBox:"0 0 36 36"},t,t),i.default.createElement("path",{fillRule:"evenodd",d:"M12,18v0a1.988,1.988,0,0,0,.585,1.409l7.983,7.98a2,2,0,1,0,2.871-2.772l-.049-.049L16.819,18l6.572-6.57a2,2,0,0,0-2.773-2.87l-.049.049-7.983,7.98A1.988,1.988,0,0,0,12,18Z"}))};var r,i=(r=n(791))&&r.__esModule?r:{default:r};function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}},238:(e,t,n)=>{"use strict";t.E=function(e){var t=o({},e);return i.default.createElement("svg",o({viewBox:"0 0 36 36"},t,t),i.default.createElement("path",{fillRule:"evenodd",d:"M24,18v0a1.988,1.988,0,0,1-.585,1.409l-7.983,7.98a2,2,0,1,1-2.871-2.772l.049-.049L19.181,18l-6.572-6.57a2,2,0,0,1,2.773-2.87l.049.049,7.983,7.98A1.988,1.988,0,0,1,24,18Z"}))};var r,i=(r=n(791))&&r.__esModule?r:{default:r};function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}},526:(e,t,n)=>{"use strict";t.r=function(e){var t=o({},e);return i.default.createElement("svg",o({viewBox:"0 0 36 36"},t,t),i.default.createElement("path",{fillRule:"evenodd",d:"M20.15,12A2.15,2.15,0,1,1,18,9.85,2.15,2.15,0,0,1,20.15,12Zm.1835,12H20V16.3999A.4001.4001,0,0,0,19.60007,16H15.66648S14.5,16.03223,14.5,17c0,.96729,1.16651,1,1.16651,1H16v6h-.33349S14.5,24.03223,14.5,25c0,.96729,1.16651,1,1.16651,1h4.667S21.5,25.96729,21.5,25C21.5,24.03223,20.33347,24,20.33347,24ZM18,1A17,17,0,1,0,35.00008,18,17.00014,17.00014,0,0,0,18,1Zm0,30.34961A13.34961,13.34961,0,1,1,31.34967,18,13.34962,13.34962,0,0,1,18,31.34961Z"}))};var r,i=(r=n(791))&&r.__esModule?r:{default:r};function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}},213:(e,t,n)=>{"use strict";var r,i=(r=n(791))&&r.__esModule?r:{default:r};function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}},769:(e,t,n)=>{"use strict";t.g=function(e){var t=o({},e);return i.default.createElement("svg",o({viewBox:"0 0 36 36"},t,t),i.default.createElement("path",{fillRule:"evenodd",d:"M33.173,30.215,25.4,22.443A12.826,12.826,0,1,0,22.443,25.4l7.772,7.772a2.1,2.1,0,0,0,2.958-2.958ZM6,15a9,9,0,1,1,9,9A9,9,0,0,1,6,15Z"}))};var r,i=(r=n(791))&&r.__esModule?r:{default:r};function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}},262:e=>{"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!==i--;){var a=o[i];if(!e(t[a],n[a]))return!1}return!0}return t!==t&&n!==n}},888:(e,t,n)=>{"use strict";var r=n(47);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},7:(e,t,n)=>{e.exports=n(888)()},47:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:(e,t,n)=>{"use strict";var r=n(791),i=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,l={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(h,e)&&(f.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),M=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var z=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}var O,I=Object.assign;function L(e){if(void 0===O)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var B=!1;function j(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,l=o.length-1;1<=a&&0<=l&&i[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==o[l]){if(1!==a||1!==l)do{if(a--,0>--l||i[a]!==o[l]){var s="\n"+i[a].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=a&&0<=l);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?L(e):""}function U(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function K(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case _:return"Portal";case S:return"Profiler";case E:return"StrictMode";case A:return"Suspense";case D:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case M:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case F:return null!==(t=e.displayName||null)?t:K(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return K(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return K(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function V(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return I({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){$(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return I({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function oe(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ve=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,ke=null,Ee=null;function Se(e){if(e=bi(e)){if("function"!==typeof _e)throw Error(o(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Ce(e){ke?Ee?Ee.push(e):Ee=[e]:ke=e}function Me(){if(ke){var e=ke,t=Ee;if(Ee=ke=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Te(e,t){return e(t)}function Ae(){}var De=!1;function Fe(e,t,n){if(De)return e(t,n);De=!0;try{return Te(e,t,n)}finally{De=!1,(null!==ke||null!==Ee)&&(Ae(),Me())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Re=!1;if(u)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Re=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(ue){Re=!1}function Pe(e,t,n,r,i,o,a,l,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Oe=!1,Ie=null,Le=!1,Be=null,je={onError:function(e){Oe=!0,Ie=e}};function Ue(e,t,n,r,i,o,a,l,s){Oe=!1,Ie=null,Pe.apply(je,arguments)}function Ke(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Ke(e)!==e)throw Error(o(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ke(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return qe(i),e;if(a===r)return qe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var l=!1,s=i.child;s;){if(s===n){l=!0,n=i,r=a;break}if(s===r){l=!0,r=i,n=a;break}s=s.sibling}if(!l){for(s=a.child;s;){if(s===n){l=!0,n=a,r=i;break}if(s===r){l=!0,r=a,n=i;break}s=s.sibling}if(!l)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ve(e):null}function Ve(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ve(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Xe=i.unstable_requestPaint,$e=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(lt(e)/st|0)|0},lt=Math.log,st=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var l=a&~i;0!==l?r=dt(l):0!==(o&=a)&&(r=dt(o))}else 0!==(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,kt,Et,St,Ct=!1,Mt=[],Tt=null,At=null,Dt=null,Ft=new Map,Nt=new Map,Rt=[],zt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":Ft.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Ot(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function It(e){var t=yi(e.target);if(null!==t){var n=Ke(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void St(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Lt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Bt(e,t,n){Lt(e)&&n.delete(t)}function jt(){Ct=!1,null!==Tt&&Lt(Tt)&&(Tt=null),null!==At&&Lt(At)&&(At=null),null!==Dt&&Lt(Dt)&&(Dt=null),Ft.forEach(Bt),Nt.forEach(Bt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jt)))}function Kt(e){function t(t){return Ut(t,e)}if(0<Mt.length){Ut(Mt[0],e);for(var n=1;n<Mt.length;n++){var r=Mt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Ut(Tt,e),null!==At&&Ut(At,e),null!==Dt&&Ut(Dt,e),Ft.forEach(t),Nt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)It(n),null===n.blockedOn&&Rt.shift()}var Wt=x.ReactCurrentBatchConfig,qt=!0;function Ht(e,t,n,r){var i=bt,o=Wt.transition;Wt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,Wt.transition=o}}function Vt(e,t,n,r){var i=bt,o=Wt.transition;Wt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,Wt.transition=o}}function Gt(e,t,n,r){if(qt){var i=Qt(e,t,n,r);if(null===i)qr(e,t,r,Yt,n),Pt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Ot(Tt,e,t,n,r,i),!0;case"dragenter":return At=Ot(At,e,t,n,r,i),!0;case"mouseover":return Dt=Ot(Dt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ft.set(o,Ot(Ft.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Nt.set(o,Ot(Nt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Pt(e,r),4&t&&-1<zt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&wt(o),null===(o=Qt(e,t,n,r))&&qr(e,t,r,Yt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Yt=null;function Qt(e,t,n,r){if(Yt=null,null!==(e=yi(e=we(r))))if(null===(t=Ke(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Zt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Zt,r=n.length,i="value"in $t?$t.value:$t.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return I(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,ln,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=I({},cn,{view:0,detail:0}),fn=on(dn),hn=I({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(an=e.screenX-sn.screenX,ln=e.screenY-sn.screenY):ln=an=0,sn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),pn=on(hn),mn=on(I({},hn,{dataTransfer:0})),gn=on(I({},dn,{relatedTarget:0})),vn=on(I({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=I({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),xn=on(I({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Sn(){return En}var Cn=I({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Mn=on(Cn),Tn=on(I({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=on(I({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Dn=on(I({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Fn=I({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=on(Fn),Rn=[9,13,27,32],zn=u&&"CompositionEvent"in window,Pn=null;u&&"documentMode"in document&&(Pn=document.documentMode);var On=u&&"TextEvent"in window&&!Pn,In=u&&(!zn||Pn&&8<Pn&&11>=Pn),Ln=String.fromCharCode(32),Bn=!1;function jn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Kn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ce(r),0<(t=Vr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vn=null,Gn=null;function Yn(e){Lr(e,0)}function Qn(e){if(G(xi(e)))return e}function Xn(e,t){if("change"===e)return t}var $n=!1;if(u){var Zn;if(u){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Zn=Jn}else Zn=!1;$n=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Vn&&(Vn.detachEvent("onpropertychange",nr),Gn=Vn=null)}function nr(e){if("value"===e.propertyName&&Qn(Gn)){var t=[];Hn(t,Gn,e,we(e)),Fe(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Vn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Gn)}function or(e,t){if("click"===e)return Qn(t)}function ar(e,t){if("input"===e||"change"===e)return Qn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!lr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Y(r)||("selectionStart"in(r=gr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&sr(yr,r)||(yr=r,0<(r=Vr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},kr={},Er={};function Sr(e){if(kr[e])return kr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return kr[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Cr=Sr("animationend"),Mr=Sr("animationiteration"),Tr=Sr("animationstart"),Ar=Sr("transitionend"),Dr=new Map,Fr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Dr.set(e,t),s(t,[e])}for(var Rr=0;Rr<Fr.length;Rr++){var zr=Fr[Rr];Nr(zr.toLowerCase(),"on"+(zr[0].toUpperCase()+zr.slice(1)))}Nr(Cr,"onAnimationEnd"),Nr(Mr,"onAnimationIteration"),Nr(Tr,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function Ir(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,l,s,c){if(Ue.apply(this,arguments),Oe){if(!Oe)throw Error(o(198));var u=Ie;Oe=!1,Ie=null,Le||(Le=!0,Be=u)}}(r,t,void 0,e),e.currentTarget=null}function Lr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],s=l.instance,c=l.currentTarget;if(l=l.listener,s!==o&&i.isPropagationStopped())break e;Ir(i,l,c),o=s}else for(a=0;a<r.length;a++){if(s=(l=r[a]).instance,c=l.currentTarget,l=l.listener,s!==o&&i.isPropagationStopped())break e;Ir(i,l,c),o=s}}}if(Le)throw e=Be,Le=!1,Be=null,e}function Br(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Kr(e){if(!e[Ur]){e[Ur]=!0,a.forEach((function(t){"selectionchange"!==t&&(Or.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,jr("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Xt(t)){case 1:var i=Ht;break;case 4:i=Vt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var l=r.stateNode.containerInfo;if(l===i||8===l.nodeType&&l.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var s=a.tag;if((3===s||4===s)&&((s=a.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;a=a.return}for(;null!==l;){if(null===(a=yi(l)))return;if(5===(s=a.tag)||6===s){r=o=a;continue e}l=l.parentNode}}r=r.return}Fe((function(){var r=o,i=we(n),a=[];e:{var l=Dr.get(e);if(void 0!==l){var s=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Mn;break;case"focusin":c="focus",s=gn;break;case"focusout":c="blur",s=gn;break;case"beforeblur":case"afterblur":s=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=An;break;case Cr:case Mr:case Tr:s=vn;break;case Ar:s=Dn;break;case"scroll":s=fn;break;case"wheel":s=Nn;break;case"copy":case"cut":case"paste":s=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Tn}var u=0!==(4&t),d=!u&&"scroll"===e,f=u?null!==l?l+"Capture":null:l;u=[];for(var h,p=r;null!==p;){var m=(h=p).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==f&&(null!=(m=Ne(p,f))&&u.push(Hr(p,m,h)))),d)break;p=p.return}0<u.length&&(l=new s(l,c,null,n,i),a.push({event:l,listeners:u}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(s||l)&&(l=i.window===i?i:(l=i.ownerDocument)?l.defaultView||l.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=Ke(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(u=pn,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,m="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==s?l:xi(s),h=null==c?l:xi(c),(l=new u(m,p+"leave",s,n,i)).target=d,l.relatedTarget=h,m=null,yi(i)===r&&((u=new u(f,p+"enter",c,n,i)).target=h,u.relatedTarget=d,m=u),d=m,s&&c)e:{for(f=c,p=0,h=u=s;h;h=Gr(h))p++;for(h=0,m=f;m;m=Gr(m))h++;for(;0<p-h;)u=Gr(u),p--;for(;0<h-p;)f=Gr(f),h--;for(;p--;){if(u===f||null!==f&&u===f.alternate)break e;u=Gr(u),f=Gr(f)}u=null}else u=null;null!==s&&Yr(a,l,s,u,!1),null!==c&&null!==d&&Yr(a,d,c,u,!0)}if("select"===(s=(l=r?xi(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===s&&"file"===l.type)var g=Xn;else if(qn(l))if($n)g=ar;else{g=ir;var v=rr}else(s=l.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(g=or);switch(g&&(g=g(e,r))?Hn(a,g,n,i):(v&&v(e,l,r),"focusout"===e&&(v=l._wrapperState)&&v.controlled&&"number"===l.type&&ee(l,"number",l.value)),v=r?xi(r):window,e){case"focusin":(qn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(a,n,i)}var y;if(zn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Kn?jn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(In&&"ko"!==n.locale&&(Kn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Kn&&(y=en()):(Zt="value"in($t=i)?$t.value:$t.textContent,Kn=!0)),0<(v=Vr(r,b)).length&&(b=new xn(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=Un(n))&&(b.data=y))),(y=On?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Bn=!0,Ln);case"textInput":return(e=t.data)===Ln&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Kn)return"compositionend"===e||!zn&&jn(e,t)?(e=en(),Jt=Zt=$t=null,Kn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return In&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Vr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Lr(a,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ne(e,n))&&r.unshift(Hr(e,o,i)),null!=(o=Ne(e,t))&&r.push(Hr(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var l=n,s=l.alternate,c=l.stateNode;if(null!==s&&s===r)break;5===l.tag&&null!==c&&(l=c,i?null!=(s=Ne(n,o))&&a.unshift(Hr(n,s,l)):i||null!=(s=Ne(n,o))&&a.push(Hr(n,s,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Qr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Xr,"")}function Zr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(o(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(li)}:ri;function li(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Kt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Kt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),fi="__reactFiber$"+di,hi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[fi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wi(e){return e[hi]||null}var _i=[],ki=-1;function Ei(e){return{current:e}}function Si(e){0>ki||(e.current=_i[ki],_i[ki]=null,ki--)}function Ci(e,t){ki++,_i[ki]=e.current,e.current=t}var Mi={},Ti=Ei(Mi),Ai=Ei(!1),Di=Mi;function Fi(e,t){var n=e.type.contextTypes;if(!n)return Mi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ni(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Si(Ai),Si(Ti)}function zi(e,t,n){if(Ti.current!==Mi)throw Error(o(168));Ci(Ti,t),Ci(Ai,n)}function Pi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,W(e)||"Unknown",i));return I({},n,r)}function Oi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mi,Di=Ti.current,Ci(Ti,e),Ci(Ai,Ai.current),!0}function Ii(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Pi(e,t,Di),r.__reactInternalMemoizedMergedChildContext=e,Si(Ai),Si(Ti),Ci(Ti,e)):Si(Ai),Ci(Ai,n)}var Li=null,Bi=!1,ji=!1;function Ui(e){null===Li?Li=[e]:Li.push(e)}function Ki(){if(!ji&&null!==Li){ji=!0;var e=0,t=bt;try{var n=Li;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Li=null,Bi=!1}catch(i){throw null!==Li&&(Li=Li.slice(e+1)),Ge(Je,Ki),i}finally{bt=t,ji=!1}}return null}var Wi=[],qi=0,Hi=null,Vi=0,Gi=[],Yi=0,Qi=null,Xi=1,$i="";function Zi(e,t){Wi[qi++]=Vi,Wi[qi++]=Hi,Hi=e,Vi=t}function Ji(e,t,n){Gi[Yi++]=Xi,Gi[Yi++]=$i,Gi[Yi++]=Qi,Qi=e;var r=Xi;e=$i;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Xi=1<<32-at(t)+i|n<<i|r,$i=o+e}else Xi=1<<o|n<<i|r,$i=e}function eo(e){null!==e.return&&(Zi(e,1),Ji(e,1,0))}function to(e){for(;e===Hi;)Hi=Wi[--qi],Wi[qi]=null,Vi=Wi[--qi],Wi[qi]=null;for(;e===Qi;)Qi=Gi[--Yi],Gi[Yi]=null,$i=Gi[--Yi],Gi[Yi]=null,Xi=Gi[--Yi],Gi[Yi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function lo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Xi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function so(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!lo(e,t)){if(so(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&lo(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(so(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(so(e))throw ho(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function ho(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=x.ReactCurrentBatchConfig;function vo(e,t){if(e&&e.defaultProps){for(var n in t=I({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=Ei(null),bo=null,xo=null,wo=null;function _o(){wo=xo=bo=null}function ko(e){var t=yo.current;Si(yo),e._currentValue=t}function Eo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function So(e,t){bo=e,wo=xo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xl=!0),e.firstContext=null)}function Co(e){var t=e._currentValue;if(wo!==e)if(e={context:e,memoizedValue:t,next:null},null===xo){if(null===bo)throw Error(o(308));xo=e,bo.dependencies={lanes:0,firstContext:e}}else xo=xo.next=e;return t}var Mo=null;function To(e){null===Mo?Mo=[e]:Mo.push(e)}function Ao(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,To(t)):(n.next=i.next,i.next=n),t.interleaved=n,Do(e,r)}function Do(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Fo=!1;function No(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ro(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Po(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&As)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Do(e,n)}return null===(i=r.interleaved)?(t.next=t,To(r)):(t.next=i.next,i.next=t),r.interleaved=t,Do(e,n)}function Oo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Io(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Lo(e,t,n,r){var i=e.updateQueue;Fo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(null!==l){i.shared.pending=null;var s=l,c=s.next;s.next=null,null===a?o=c:a.next=c,a=s;var u=e.alternate;null!==u&&((l=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===l?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=s))}if(null!==o){var d=i.baseState;for(a=0,u=c=s=null,l=o;;){var f=l.lane,h=l.eventTime;if((r&f)===f){null!==u&&(u=u.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,m=l;switch(f=t,h=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=m.payload)?p.call(h,d,f):p)||void 0===f)break e;d=I({},d,f);break e;case 2:Fo=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[l]:f.push(l))}else h={eventTime:h,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===u?(c=u=h,s=d):u=u.next=h,a|=f;if(null===(l=l.next)){if(null===(l=i.shared.pending))break;l=(f=l).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===u&&(s=d),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Is|=a,e.lanes=a,e.memoizedState=d}}function Bo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var jo=(new r.Component).refs;function Uo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:I({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ko={isMounted:function(e){return!!(e=e._reactInternals)&&Ke(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=zo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Po(e,o,i))&&(rc(t,e,i,r),Oo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=zo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Po(e,o,i))&&(rc(t,e,i,r),Oo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=zo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Po(e,i,r))&&(rc(t,e,r,n),Oo(t,e,r))}};function Wo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,o))}function qo(e,t,n){var r=!1,i=Mi,o=t.contextType;return"object"===typeof o&&null!==o?o=Co(o):(i=Ni(t)?Di:Ti.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Fi(e,i):Mi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ko,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ho(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ko.enqueueReplaceState(t,t.state,null)}function Vo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=jo,No(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Co(o):(o=Ni(t)?Di:Ti.current,i.context=Fi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Uo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ko.enqueueReplaceState(i,i.state,null),Lo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Go(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===jo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Yo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qo(e){return(0,e._init)(e._payload)}function Xo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=zc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function l(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===N&&Qo(o)===t.type)?((r=i(t,n.props)).ref=Go(e,t,n),r.return=e,r):((r=Pc(n.type,n.key,n.props,null,e.mode,r)).ref=Go(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Oc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Pc(t.type,t.key,t.props,null,e.mode,n)).ref=Go(e,null,t),n.return=e,n;case _:return(t=Bc(t,e.mode,n)).return=e,t;case N:return f(e,(0,t._init)(t._payload),n)}if(te(t)||P(t))return(t=Oc(t,e.mode,n,null)).return=e,t;Yo(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?u(e,t,n,r):null;case N:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||P(n))return null!==i?null:d(e,t,n,r,null);Yo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||P(r))return d(t,e=e.get(n)||null,r,i,null);Yo(t,r)}return null}function m(i,o,l,s){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<l.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=h(i,d,l[m],s);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),o=a(v,o,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===l.length)return n(i,d),io&&Zi(i,m),c;if(null===d){for(;m<l.length;m++)null!==(d=f(i,l[m],s))&&(o=a(d,o,m),null===u?c=d:u.sibling=d,u=d);return io&&Zi(i,m),c}for(d=r(i,d);m<l.length;m++)null!==(g=p(d,i,m,l[m],s))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=a(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),io&&Zi(i,m),c}function g(i,l,s,c){var u=P(s);if("function"!==typeof u)throw Error(o(150));if(null==(s=u.call(s)))throw Error(o(151));for(var d=u=null,m=l,g=l=0,v=null,y=s.next();null!==m&&!y.done;g++,y=s.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=h(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),l=a(b,l,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),io&&Zi(i,g),u;if(null===m){for(;!y.done;g++,y=s.next())null!==(y=f(i,y.value,c))&&(l=a(y,l,g),null===d?u=y:d.sibling=y,d=y);return io&&Zi(i,g),u}for(m=r(i,m);!y.done;g++,y=s.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),l=a(y,l,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),io&&Zi(i,g),u}return function e(r,o,a,s){if("object"===typeof a&&null!==a&&a.type===k&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,u=o;null!==u;){if(u.key===c){if((c=a.type)===k){if(7===u.tag){n(r,u.sibling),(o=i(u,a.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===N&&Qo(c)===u.type){n(r,u.sibling),(o=i(u,a.props)).ref=Go(r,u,a),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===k?((o=Oc(a.props.children,r.mode,s,a.key)).return=r,r=o):((s=Pc(a.type,a.key,a.props,null,r.mode,s)).ref=Go(r,o,a),s.return=r,r=s)}return l(r);case _:e:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Bc(a,r.mode,s)).return=r,r=o}return l(r);case N:return e(r,o,(u=a._init)(a._payload),s)}if(te(a))return m(r,o,a,s);if(P(a))return g(r,o,a,s);Yo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Lc(a,r.mode,s)).return=r,r=o),l(r)):n(r,o)}}var $o=Xo(!0),Zo=Xo(!1),Jo={},ea=Ei(Jo),ta=Ei(Jo),na=Ei(Jo);function ra(e){if(e===Jo)throw Error(o(174));return e}function ia(e,t){switch(Ci(na,t),Ci(ta,e),Ci(ea,Jo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(ea),Ci(ea,t)}function oa(){Si(ea),Si(ta),Si(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=se(t,e.type);t!==n&&(Ci(ta,e),Ci(ea,n))}function la(e){ta.current===e&&(Si(ea),Si(ta))}var sa=Ei(0);function ca(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ua=[];function da(){for(var e=0;e<ua.length;e++)ua[e]._workInProgressVersionPrimary=null;ua.length=0}var fa=x.ReactCurrentDispatcher,ha=x.ReactCurrentBatchConfig,pa=0,ma=null,ga=null,va=null,ya=!1,ba=!1,xa=0,wa=0;function _a(){throw Error(o(321))}function ka(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function Ea(e,t,n,r,i,a){if(pa=a,ma=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fa.current=null===e||null===e.memoizedState?ll:sl,e=n(r,i),ba){a=0;do{if(ba=!1,xa=0,25<=a)throw Error(o(301));a+=1,va=ga=null,t.updateQueue=null,fa.current=cl,e=n(r,i)}while(ba)}if(fa.current=al,t=null!==ga&&null!==ga.next,pa=0,va=ga=ma=null,ya=!1,t)throw Error(o(300));return e}function Sa(){var e=0!==xa;return xa=0,e}function Ca(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===va?ma.memoizedState=va=e:va=va.next=e,va}function Ma(){if(null===ga){var e=ma.alternate;e=null!==e?e.memoizedState:null}else e=ga.next;var t=null===va?ma.memoizedState:va.next;if(null!==t)va=t,ga=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ga=e).memoizedState,baseState:ga.baseState,baseQueue:ga.baseQueue,queue:ga.queue,next:null},null===va?ma.memoizedState=va=e:va=va.next=e}return va}function Ta(e,t){return"function"===typeof t?t(e):t}function Aa(e){var t=Ma(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ga,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var l=i.next;i.next=a.next,a.next=l}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var s=l=null,c=null,u=a;do{var d=u.lane;if((pa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(s=c=f,l=r):c=c.next=f,ma.lanes|=d,Is|=d}u=u.next}while(null!==u&&u!==a);null===c?l=r:c.next=s,lr(r,t.memoizedState)||(xl=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ma.lanes|=a,Is|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Da(e){var t=Ma(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var l=i=i.next;do{a=e(a,l.action),l=l.next}while(l!==i);lr(a,t.memoizedState)||(xl=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Fa(){}function Na(e,t){var n=ma,r=Ma(),i=t(),a=!lr(r.memoizedState,i);if(a&&(r.memoizedState=i,xl=!0),r=r.queue,qa(Pa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==va&&1&va.memoizedState.tag){if(n.flags|=2048,Ba(9,za.bind(null,n,r,i,t),void 0,null),null===Ds)throw Error(o(349));0!==(30&pa)||Ra(n,t,i)}return i}function Ra(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function za(e,t,n,r){t.value=n,t.getSnapshot=r,Oa(t)&&Ia(e)}function Pa(e,t,n){return n((function(){Oa(t)&&Ia(e)}))}function Oa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lr(e,n)}catch(r){return!0}}function Ia(e){var t=Do(e,1);null!==t&&rc(t,e,1,-1)}function La(e){var t=Ca();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:e},t.queue=e,e=e.dispatch=nl.bind(null,ma,e),[t.memoizedState,e]}function Ba(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ja(){return Ma().memoizedState}function Ua(e,t,n,r){var i=Ca();ma.flags|=e,i.memoizedState=Ba(1|t,n,void 0,void 0===r?null:r)}function Ka(e,t,n,r){var i=Ma();r=void 0===r?null:r;var o=void 0;if(null!==ga){var a=ga.memoizedState;if(o=a.destroy,null!==r&&ka(r,a.deps))return void(i.memoizedState=Ba(t,n,o,r))}ma.flags|=e,i.memoizedState=Ba(1|t,n,o,r)}function Wa(e,t){return Ua(8390656,8,e,t)}function qa(e,t){return Ka(2048,8,e,t)}function Ha(e,t){return Ka(4,2,e,t)}function Va(e,t){return Ka(4,4,e,t)}function Ga(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ya(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ka(4,4,Ga.bind(null,t,e),n)}function Qa(){}function Xa(e,t){var n=Ma();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ka(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $a(e,t){var n=Ma();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ka(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Za(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,xl=!0),e.memoizedState=n):(lr(n,t)||(n=mt(),ma.lanes|=n,Is|=n,e.baseState=!0),t)}function Ja(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ha.transition;ha.transition={};try{e(!1),t()}finally{bt=n,ha.transition=r}}function el(){return Ma().memoizedState}function tl(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rl(e))il(t,n);else if(null!==(n=Ao(e,t,n,r))){rc(n,e,r,tc()),ol(n,t,r)}}function nl(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rl(e))il(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,l=o(a,n);if(i.hasEagerState=!0,i.eagerState=l,lr(l,a)){var s=t.interleaved;return null===s?(i.next=i,To(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ao(e,t,i,r))&&(rc(n,e,r,i=tc()),ol(n,t,r))}}function rl(e){var t=e.alternate;return e===ma||null!==t&&t===ma}function il(e,t){ba=ya=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ol(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var al={readContext:Co,useCallback:_a,useContext:_a,useEffect:_a,useImperativeHandle:_a,useInsertionEffect:_a,useLayoutEffect:_a,useMemo:_a,useReducer:_a,useRef:_a,useState:_a,useDebugValue:_a,useDeferredValue:_a,useTransition:_a,useMutableSource:_a,useSyncExternalStore:_a,useId:_a,unstable_isNewReconciler:!1},ll={readContext:Co,useCallback:function(e,t){return Ca().memoizedState=[e,void 0===t?null:t],e},useContext:Co,useEffect:Wa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ua(4194308,4,Ga.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ua(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ua(4,2,e,t)},useMemo:function(e,t){var n=Ca();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ca();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tl.bind(null,ma,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ca().memoizedState=e},useState:La,useDebugValue:Qa,useDeferredValue:function(e){return Ca().memoizedState=e},useTransition:function(){var e=La(!1),t=e[0];return e=Ja.bind(null,e[1]),Ca().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ma,i=Ca();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Ds)throw Error(o(349));0!==(30&pa)||Ra(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Wa(Pa.bind(null,r,a,e),[e]),r.flags|=2048,Ba(9,za.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ca(),t=Ds.identifierPrefix;if(io){var n=$i;t=":"+t+"R"+(n=(Xi&~(1<<32-at(Xi)-1)).toString(32)+n),0<(n=xa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sl={readContext:Co,useCallback:Xa,useContext:Co,useEffect:qa,useImperativeHandle:Ya,useInsertionEffect:Ha,useLayoutEffect:Va,useMemo:$a,useReducer:Aa,useRef:ja,useState:function(){return Aa(Ta)},useDebugValue:Qa,useDeferredValue:function(e){return Za(Ma(),ga.memoizedState,e)},useTransition:function(){return[Aa(Ta)[0],Ma().memoizedState]},useMutableSource:Fa,useSyncExternalStore:Na,useId:el,unstable_isNewReconciler:!1},cl={readContext:Co,useCallback:Xa,useContext:Co,useEffect:qa,useImperativeHandle:Ya,useInsertionEffect:Ha,useLayoutEffect:Va,useMemo:$a,useReducer:Da,useRef:ja,useState:function(){return Da(Ta)},useDebugValue:Qa,useDeferredValue:function(e){var t=Ma();return null===ga?t.memoizedState=e:Za(t,ga.memoizedState,e)},useTransition:function(){return[Da(Ta)[0],Ma().memoizedState]},useMutableSource:Fa,useSyncExternalStore:Na,useId:el,unstable_isNewReconciler:!1};function ul(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function dl(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fl(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hl="function"===typeof WeakMap?WeakMap:Map;function pl(e,t,n){(n=zo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hs||(Hs=!0,Vs=r),fl(0,t)},n}function ml(e,t,n){(n=zo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fl(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){fl(0,t),"function"!==typeof r&&(null===Gs?Gs=new Set([this]):Gs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gl(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hl;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function vl(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yl(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=zo(-1,1)).tag=2,Po(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bl=x.ReactCurrentOwner,xl=!1;function wl(e,t,n,r){t.child=null===e?Zo(t,null,n,r):$o(t,e.child,n,r)}function _l(e,t,n,r,i){n=n.render;var o=t.ref;return So(t,i),r=Ea(e,t,n,r,o,i),n=Sa(),null===e||xl?(io&&n&&eo(t),t.flags|=1,wl(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hl(e,t,i))}function kl(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Rc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,El(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(a,r)&&e.ref===t.ref)return Hl(e,t,i)}return t.flags|=1,(e=zc(o,r)).ref=t.ref,e.return=t,t.child=e}function El(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(sr(o,r)&&e.ref===t.ref){if(xl=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Hl(e,t,i);0!==(131072&e.flags)&&(xl=!0)}}return Ml(e,t,n,r,i)}function Sl(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(zs,Rs),Rs|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(zs,Rs),Rs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ci(zs,Rs),Rs|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ci(zs,Rs),Rs|=r;return wl(e,t,i,n),t.child}function Cl(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ml(e,t,n,r,i){var o=Ni(n)?Di:Ti.current;return o=Fi(t,o),So(t,i),n=Ea(e,t,n,r,o,i),r=Sa(),null===e||xl?(io&&r&&eo(t),t.flags|=1,wl(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hl(e,t,i))}function Tl(e,t,n,r,i){if(Ni(n)){var o=!0;Oi(t)}else o=!1;if(So(t,i),null===t.stateNode)ql(e,t),qo(t,n,r),Vo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,l=t.memoizedProps;a.props=l;var s=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Co(c):c=Fi(t,c=Ni(n)?Di:Ti.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(l!==r||s!==c)&&Ho(t,a,r,c),Fo=!1;var f=t.memoizedState;a.state=f,Lo(t,r,a,i),s=t.memoizedState,l!==r||f!==s||Ai.current||Fo?("function"===typeof u&&(Uo(t,n,u,r),s=t.memoizedState),(l=Fo||Wo(t,n,l,r,f,s,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),a.props=r,a.state=s,a.context=c,r=l):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ro(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:vo(t.type,l),a.props=c,d=t.pendingProps,f=a.context,"object"===typeof(s=n.contextType)&&null!==s?s=Co(s):s=Fi(t,s=Ni(n)?Di:Ti.current);var h=n.getDerivedStateFromProps;(u="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(l!==d||f!==s)&&Ho(t,a,r,s),Fo=!1,f=t.memoizedState,a.state=f,Lo(t,r,a,i);var p=t.memoizedState;l!==d||f!==p||Ai.current||Fo?("function"===typeof h&&(Uo(t,n,h,r),p=t.memoizedState),(c=Fo||Wo(t,n,c,r,f,p,s)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,s),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=s,r=c):("function"!==typeof a.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Al(e,t,n,r,o,i)}function Al(e,t,n,r,i,o){Cl(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Ii(t,n,!1),Hl(e,t,o);r=t.stateNode,bl.current=t;var l=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=$o(t,e.child,null,o),t.child=$o(t,null,l,o)):wl(e,t,l,o),t.memoizedState=r.state,i&&Ii(t,n,!0),t.child}function Dl(e){var t=e.stateNode;t.pendingContext?zi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&zi(0,t.context,!1),ia(e,t.containerInfo)}function Fl(e,t,n,r,i){return po(),mo(i),t.flags|=256,wl(e,t,n,r),t.child}var Nl,Rl,zl,Pl,Ol={dehydrated:null,treeContext:null,retryLane:0};function Il(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ll(e,t,n){var r,i=t.pendingProps,a=sa.current,l=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(l=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ci(sa,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,l?(i=t.mode,l=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==l?(l.childLanes=0,l.pendingProps=s):l=Ic(s,i,0,null),e=Oc(e,i,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Il(n),t.memoizedState=Ol,e):Bl(t,s));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,l){if(n)return 256&t.flags?(t.flags&=-257,jl(e,t,l,r=dl(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Ic({mode:"visible",children:r.children},i,0,null),(a=Oc(a,i,l,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&$o(t,e.child,null,l),t.child.memoizedState=Il(l),t.memoizedState=Ol,a);if(0===(1&t.mode))return jl(e,t,l,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,jl(e,t,l,r=dl(a=Error(o(419)),r,void 0))}if(s=0!==(l&e.childLanes),xl||s){if(null!==(r=Ds)){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|l))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Do(e,i),rc(r,e,i,-1))}return gc(),jl(e,t,l,r=dl(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Gi[Yi++]=Xi,Gi[Yi++]=$i,Gi[Yi++]=Qi,Xi=e.id,$i=e.overflow,Qi=t),t=Bl(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,a,n);if(l){l=i.fallback,s=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=zc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?l=zc(r,l):(l=Oc(l,s,n,null)).flags|=2,l.return=t,i.return=t,i.sibling=l,t.child=i,i=l,l=t.child,s=null===(s=e.child.memoizedState)?Il(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},l.memoizedState=s,l.childLanes=e.childLanes&~n,t.memoizedState=Ol,i}return e=(l=e.child).sibling,i=zc(l,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Bl(e,t){return(t=Ic({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function jl(e,t,n,r){return null!==r&&mo(r),$o(t,e.child,null,n),(e=Bl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ul(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Eo(e.return,t,n)}function Kl(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Wl(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(wl(e,t,r.children,n),0!==(2&(r=sa.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ul(e,n,t);else if(19===e.tag)Ul(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(sa,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ca(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Kl(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ca(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Kl(t,!0,n,null,o);break;case"together":Kl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ql(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Is|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=zc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=zc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vl(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Yl(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gl(t),null;case 1:case 17:return Ni(t.type)&&Ri(),Gl(t),null;case 3:return r=t.stateNode,oa(),Si(Ai),Si(Ti),da(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(lc(oo),oo=null))),Rl(e,t),Gl(t),null;case 5:la(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)zl(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Gl(t),null}if(e=ra(ea.current),fo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[fi]=t,r[hi]=a,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(i=0;i<Pr.length;i++)Br(Pr[i],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":X(r,a),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Br("invalid",r);break;case"textarea":ie(r,a),Br("invalid",r)}for(var s in ye(n,a),i=null,a)if(a.hasOwnProperty(s)){var c=a[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):l.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Br("scroll",r)}switch(n){case"input":V(r),J(r,a,!0);break;case"textarea":V(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=le(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[fi]=t,e[hi]=r,Nl(e,t,!1,!1),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":Br("cancel",e),Br("close",e),i=r;break;case"iframe":case"object":case"embed":Br("load",e),i=r;break;case"video":case"audio":for(i=0;i<Pr.length;i++)Br(Pr[i],e);i=r;break;case"source":Br("error",e),i=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),i=r;break;case"details":Br("toggle",e),i=r;break;case"input":X(e,r),i=Q(e,r),Br("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=I({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Br("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&fe(e,u):"number"===typeof u&&fe(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(l.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Br("scroll",e):null!=u&&b(e,a,u,s))}switch(n){case"input":V(e),J(e,r,!1);break;case"textarea":V(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gl(t),null;case 6:if(e&&null!=t.stateNode)Pl(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Gl(t),null;case 13:if(Si(sa),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))ho(),po(),t.flags|=98560,a=!1;else if(a=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[fi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gl(t),a=!1}else null!==oo&&(lc(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&sa.current)?0===Ps&&(Ps=3):gc())),null!==t.updateQueue&&(t.flags|=4),Gl(t),null);case 4:return oa(),Rl(e,t),null===e&&Kr(t.stateNode.containerInfo),Gl(t),null;case 10:return ko(t.type._context),Gl(t),null;case 19:if(Si(sa),null===(a=t.memoizedState))return Gl(t),null;if(r=0!==(128&t.flags),null===(s=a.rendering))if(r)Vl(a,!1);else{if(0!==Ps||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=ca(e))){for(t.flags|=128,Vl(a,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(s=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(sa,1&sa.current|2),t.child}e=e.sibling}null!==a.tail&&$e()>Ws&&(t.flags|=128,r=!0,Vl(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ca(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vl(a,!0),null===a.tail&&"hidden"===a.tailMode&&!s.alternate&&!io)return Gl(t),null}else 2*$e()-a.renderingStartTime>Ws&&1073741824!==n&&(t.flags|=128,r=!0,Vl(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=a.last)?n.sibling=s:t.child=s,a.last=s)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=$e(),t.sibling=null,n=sa.current,Ci(sa,r?1&n|2:1&n),t):(Gl(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rs)&&(Gl(t),6&t.subtreeFlags&&(t.flags|=8192)):Gl(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ql(e,t){switch(to(t),t.tag){case 1:return Ni(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),Si(Ai),Si(Ti),da(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return la(t),null;case 13:if(Si(sa),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(sa),null;case 4:return oa(),null;case 10:return ko(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Nl=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Rl=function(){},zl=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),a=[];break;case"select":i=I({},i,{value:void 0}),r=I({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(l.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(s=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==s&&(null!=c||null!=s))if("style"===u)if(s){for(o in s)!s.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&s[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(l.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Br("scroll",e),a||s===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Pl=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xl=!1,$l=!1,Zl="function"===typeof WeakSet?WeakSet:Set,Jl=null;function es(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function ts(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&ts(t,n,o)}i=i.next}while(i!==r)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function os(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[hi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ls(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ls(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}function us(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(us(e,t,n),e=e.sibling;null!==e;)us(e,t,n),e=e.sibling}var ds=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(l){}switch(n.tag){case 5:$l||es(n,t);case 6:var r=ds,i=fs;ds=null,hs(e,t,n),fs=i,null!==(ds=r)&&(fs?(e=ds,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ds.removeChild(n.stateNode));break;case 18:null!==ds&&(fs?(e=ds,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Kt(e)):si(ds,n.stateNode));break;case 4:r=ds,i=fs,ds=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ds=r,fs=i;break;case 0:case 11:case 14:case 15:if(!$l&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&ts(n,t,a),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!$l&&(es(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Sc(n,t,l)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?($l=(r=$l)||null!==n.memoizedState,hs(e,t,n),$l=r):hs(e,t,n);break;default:hs(e,t,n)}}function ms(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zl),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,l=t,s=l;e:for(;null!==s;){switch(s.tag){case 5:ds=s.stateNode,fs=!1;break e;case 3:case 4:ds=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ds)throw Error(o(160));ps(a,l,i),ds=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Sc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vs(t,e),t=t.sibling}function vs(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gs(t,e),ys(e),4&r){try{rs(3,e,e.return),is(3,e)}catch(g){Sc(e,e.return,g)}try{rs(5,e,e.return)}catch(g){Sc(e,e.return,g)}}break;case 1:gs(t,e),ys(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(gs(t,e),ys(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(g){Sc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,l=null!==n?n.memoizedProps:a,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===a.type&&null!=a.name&&$(i,a),be(s,l);var u=be(s,a);for(l=0;l<c.length;l+=2){var d=c[l],f=c[l+1];"style"===d?ge(i,f):"dangerouslySetInnerHTML"===d?de(i,f):"children"===d?fe(i,f):b(i,d,f,u)}switch(s){case"input":Z(i,a);break;case"textarea":oe(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):h!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[hi]=a}catch(g){Sc(e,e.return,g)}}break;case 6:if(gs(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Sc(e,e.return,g)}}break;case 3:if(gs(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Kt(t.containerInfo)}catch(g){Sc(e,e.return,g)}break;case 4:default:gs(t,e),ys(e);break;case 13:gs(t,e),ys(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Ks=$e())),4&r&&ms(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?($l=(u=$l)||d,gs(t,e),$l=u):gs(t,e),ys(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Jl=e,d=e.child;null!==d;){for(f=Jl=d;null!==Jl;){switch(p=(h=Jl).child,h.tag){case 0:case 11:case 14:case 15:rs(4,h,h.return);break;case 1:es(h,h.return);var m=h.stateNode;if("function"===typeof m.componentWillUnmount){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Sc(r,n,g)}}break;case 5:es(h,h.return);break;case 22:if(null!==h.memoizedState){_s(f);continue}}null!==p?(p.return=h,Jl=p):_s(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{i=f.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(s=f.stateNode,l=void 0!==(c=f.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=me("display",l))}catch(g){Sc(e,e.return,g)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Sc(e,e.return,g)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gs(t,e),ys(e),4&r&&ms(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ls(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),us(e,ss(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;cs(e,ss(e),a);break;default:throw Error(o(161))}}catch(l){Sc(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bs(e,t,n){Jl=e,xs(e,t,n)}function xs(e,t,n){for(var r=0!==(1&e.mode);null!==Jl;){var i=Jl,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Xl;if(!a){var l=i.alternate,s=null!==l&&null!==l.memoizedState||$l;l=Xl;var c=$l;if(Xl=a,($l=s)&&!c)for(Jl=i;null!==Jl;)s=(a=Jl).child,22===a.tag&&null!==a.memoizedState?ks(i):null!==s?(s.return=a,Jl=s):ks(i);for(;null!==o;)Jl=o,xs(o,t,n),o=o.sibling;Jl=i,Xl=l,$l=c}ws(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Jl=o):ws(e)}}function ws(e){for(;null!==Jl;){var t=Jl;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$l||is(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$l)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:vo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Bo(t,a,r);break;case 3:var l=t.updateQueue;if(null!==l){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Bo(t,l,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Kt(f)}}}break;default:throw Error(o(163))}$l||512&t.flags&&os(t)}catch(h){Sc(t,t.return,h)}}if(t===e){Jl=null;break}if(null!==(n=t.sibling)){n.return=t.return,Jl=n;break}Jl=t.return}}function _s(e){for(;null!==Jl;){var t=Jl;if(t===e){Jl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Jl=n;break}Jl=t.return}}function ks(e){for(;null!==Jl;){var t=Jl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{is(4,t)}catch(s){Sc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Sc(t,i,s)}}var o=t.return;try{os(t)}catch(s){Sc(t,o,s)}break;case 5:var a=t.return;try{os(t)}catch(s){Sc(t,a,s)}}}catch(s){Sc(t,t.return,s)}if(t===e){Jl=null;break}var l=t.sibling;if(null!==l){l.return=t.return,Jl=l;break}Jl=t.return}}var Es,Ss=Math.ceil,Cs=x.ReactCurrentDispatcher,Ms=x.ReactCurrentOwner,Ts=x.ReactCurrentBatchConfig,As=0,Ds=null,Fs=null,Ns=0,Rs=0,zs=Ei(0),Ps=0,Os=null,Is=0,Ls=0,Bs=0,js=null,Us=null,Ks=0,Ws=1/0,qs=null,Hs=!1,Vs=null,Gs=null,Ys=!1,Qs=null,Xs=0,$s=0,Zs=null,Js=-1,ec=0;function tc(){return 0!==(6&As)?$e():-1!==Js?Js:Js=$e()}function nc(e){return 0===(1&e.mode)?1:0!==(2&As)&&0!==Ns?Ns&-Ns:null!==go.transition?(0===ec&&(ec=mt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function rc(e,t,n,r){if(50<$s)throw $s=0,Zs=null,Error(o(185));vt(e,n,r),0!==(2&As)&&e===Ds||(e===Ds&&(0===(2&As)&&(Ls|=n),4===Ps&&sc(e,Ns)),ic(e,r),1===n&&0===As&&0===(1&t.mode)&&(Ws=$e()+500,Bi&&Ki()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),l=1<<a,s=i[a];-1===s?0!==(l&n)&&0===(l&r)||(i[a]=ht(l,t)):s<=t&&(e.expiredLanes|=l),o&=~l}}(e,t);var r=ft(e,e===Ds?Ns:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Bi=!0,Ui(e)}(cc.bind(null,e)):Ui(cc.bind(null,e)),ai((function(){0===(6&As)&&Ki()})),n=null;else{switch(xt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Dc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Js=-1,ec=0,0!==(6&As))throw Error(o(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var r=ft(e,e===Ds?Ns:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=As;As|=2;var a=mc();for(Ds===e&&Ns===t||(qs=null,Ws=$e()+500,hc(e,t));;)try{bc();break}catch(s){pc(e,s)}_o(),Cs.current=a,As=i,null!==Fs?t=0:(Ds=null,Ns=0,t=Ps)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Os,hc(e,0),sc(e,r),ic(e,$e()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!lr(o(),i))return!1}catch(l){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(a=pt(e))&&(r=a,t=ac(e,a))),1===t))throw n=Os,hc(e,0),sc(e,r),ic(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:_c(e,Us,qs);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Ks+500-$e())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_c.bind(null,e,Us,qs),t);break}_c(e,Us,qs);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var l=31-at(r);a=1<<l,(l=t[l])>i&&(i=l),r&=~a}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ss(r/1960))-r)){e.timeoutHandle=ri(_c.bind(null,e,Us,qs),r);break}_c(e,Us,qs);break;default:throw Error(o(329))}}}return ic(e,$e()),e.callbackNode===n?oc.bind(null,e):null}function ac(e,t){var n=js;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Us,Us=n,null!==t&&lc(t)),e}function lc(e){null===Us?Us=e:Us.push.apply(Us,e)}function sc(e,t){for(t&=~Bs,t&=~Ls,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&As))throw Error(o(327));kc();var t=ft(e,0);if(0===(1&t))return ic(e,$e()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Os,hc(e,0),sc(e,t),ic(e,$e()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,Us,qs),ic(e,$e()),null}function uc(e,t){var n=As;As|=1;try{return e(t)}finally{0===(As=n)&&(Ws=$e()+500,Bi&&Ki())}}function dc(e){null!==Qs&&0===Qs.tag&&0===(6&As)&&kc();var t=As;As|=1;var n=Ts.transition,r=bt;try{if(Ts.transition=null,bt=1,e)return e()}finally{bt=r,Ts.transition=n,0===(6&(As=t))&&Ki()}}function fc(){Rs=zs.current,Si(zs)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Fs)for(n=Fs.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:oa(),Si(Ai),Si(Ti),da();break;case 5:la(r);break;case 4:oa();break;case 13:case 19:Si(sa);break;case 10:ko(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Ds=e,Fs=e=zc(e.current,null),Ns=Rs=t,Ps=0,Os=null,Bs=Ls=Is=0,Us=js=null,null!==Mo){for(t=0;t<Mo.length;t++)if(null!==(r=(n=Mo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Mo=null}return e}function pc(e,t){for(;;){var n=Fs;try{if(_o(),fa.current=al,ya){for(var r=ma.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ya=!1}if(pa=0,va=ga=ma=null,ba=!1,xa=0,Ms.current=null,null===n||null===n.return){Ps=1,Os=t,Fs=null;break}e:{var a=e,l=n.return,s=n,c=t;if(t=Ns,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=s,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=vl(l);if(null!==p){p.flags&=-257,yl(p,l,s,0,t),1&p.mode&&gl(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){gl(a,u,t),gc();break e}c=Error(o(426))}else if(io&&1&s.mode){var v=vl(l);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),yl(v,l,s,0,t),mo(ul(c,s));break e}}a=c=ul(c,s),4!==Ps&&(Ps=2),null===js?js=[a]:js.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Io(a,pl(0,c,t));break e;case 1:s=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gs||!Gs.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Io(a,ml(a,s,t));break e}}a=a.return}while(null!==a)}wc(n)}catch(x){t=x,Fs===n&&null!==n&&(Fs=n=n.return);continue}break}}function mc(){var e=Cs.current;return Cs.current=al,null===e?al:e}function gc(){0!==Ps&&3!==Ps&&2!==Ps||(Ps=4),null===Ds||0===(268435455&Is)&&0===(268435455&Ls)||sc(Ds,Ns)}function vc(e,t){var n=As;As|=2;var r=mc();for(Ds===e&&Ns===t||(qs=null,hc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(_o(),As=n,Cs.current=r,null!==Fs)throw Error(o(261));return Ds=null,Ns=0,Ps}function yc(){for(;null!==Fs;)xc(Fs)}function bc(){for(;null!==Fs&&!Qe();)xc(Fs)}function xc(e){var t=Es(e.alternate,e,Rs);e.memoizedProps=e.pendingProps,null===t?wc(e):Fs=t,Ms.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Yl(n,t,Rs)))return void(Fs=n)}else{if(null!==(n=Ql(n,t)))return n.flags&=32767,void(Fs=n);if(null===e)return Ps=6,void(Fs=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Fs=t);Fs=t=e}while(null!==t);0===Ps&&(Ps=5)}function _c(e,t,n){var r=bt,i=Ts.transition;try{Ts.transition=null,bt=1,function(e,t,n,r){do{kc()}while(null!==Qs);if(0!==(6&As))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Ds&&(Fs=Ds=null,Ns=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ys||(Ys=!0,Dc(tt,(function(){return kc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Ts.transition,Ts.transition=null;var l=bt;bt=1;var s=As;As|=4,Ms.current=null,function(e,t){if(ei=qt,hr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var l=0,s=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(s=l+i),f!==a||0!==r&&3!==f.nodeType||(c=l+r),3===f.nodeType&&(l+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===i&&(s=l),h===a&&++d===r&&(c=l),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Jl=t;null!==Jl;)if(e=(t=Jl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Jl=e;else for(;null!==Jl;){t=Jl;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:vo(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(o(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Jl=e;break}Jl=t.return}m=ns,ns=!1}(e,n),vs(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,bs(n,e,i),Xe(),As=s,bt=l,Ts.transition=a}else e.current=n;if(Ys&&(Ys=!1,Qs=e,Xs=i),a=e.pendingLanes,0===a&&(Gs=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hs)throw Hs=!1,e=Vs,Vs=null,e;0!==(1&Xs)&&0!==e.tag&&kc(),a=e.pendingLanes,0!==(1&a)?e===Zs?$s++:($s=0,Zs=e):$s=0,Ki()}(e,t,n,r)}finally{Ts.transition=i,bt=r}return null}function kc(){if(null!==Qs){var e=xt(Xs),t=Ts.transition,n=bt;try{if(Ts.transition=null,bt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,Xs=0,0!==(6&As))throw Error(o(331));var i=As;for(As|=4,Jl=e.current;null!==Jl;){var a=Jl,l=a.child;if(0!==(16&Jl.flags)){var s=a.deletions;if(null!==s){for(var c=0;c<s.length;c++){var u=s[c];for(Jl=u;null!==Jl;){var d=Jl;switch(d.tag){case 0:case 11:case 15:rs(8,d,a)}var f=d.child;if(null!==f)f.return=d,Jl=f;else for(;null!==Jl;){var h=(d=Jl).sibling,p=d.return;if(as(d),d===u){Jl=null;break}if(null!==h){h.return=p,Jl=h;break}Jl=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Jl=a}}if(0!==(2064&a.subtreeFlags)&&null!==l)l.return=a,Jl=l;else e:for(;null!==Jl;){if(0!==(2048&(a=Jl).flags))switch(a.tag){case 0:case 11:case 15:rs(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Jl=y;break e}Jl=a.return}}var b=e.current;for(Jl=b;null!==Jl;){var x=(l=Jl).child;if(0!==(2064&l.subtreeFlags)&&null!==x)x.return=l,Jl=x;else e:for(l=b;null!==Jl;){if(0!==(2048&(s=Jl).flags))try{switch(s.tag){case 0:case 11:case 15:is(9,s)}}catch(_){Sc(s,s.return,_)}if(s===l){Jl=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Jl=w;break e}Jl=s.return}}if(As=i,Ki(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{bt=n,Ts.transition=t}}return!1}function Ec(e,t,n){e=Po(e,t=pl(0,t=ul(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),ic(e,t))}function Sc(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gs||!Gs.has(r))){t=Po(t,e=ml(t,e=ul(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),ic(t,e));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Ds===e&&(Ns&n)===n&&(4===Ps||3===Ps&&(130023424&Ns)===Ns&&500>$e()-Ks?hc(e,0):Bs|=n),ic(e,t)}function Mc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Do(e,t))&&(vt(e,t,n),ic(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Mc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Mc(e,n)}function Dc(e,t){return Ge(e,t)}function Fc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new Fc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pc(e,t,n,r,i,a){var l=2;if(r=e,"function"===typeof e)Rc(e)&&(l=1);else if("string"===typeof e)l=5;else e:switch(e){case k:return Oc(n.children,i,a,t);case E:l=8,i|=8;break;case S:return(e=Nc(12,n,t,2|i)).elementType=S,e.lanes=a,e;case A:return(e=Nc(13,n,t,i)).elementType=A,e.lanes=a,e;case D:return(e=Nc(19,n,t,i)).elementType=D,e.lanes=a,e;case R:return Ic(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:l=10;break e;case M:l=9;break e;case T:l=11;break e;case F:l=14;break e;case N:l=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Nc(l,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Oc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function Ic(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function Bc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,o,a,l,s){return e=new jc(e,t,n,l,s),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Nc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},No(o),e}function Kc(e){if(!e)return Mi;e:{if(Ke(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ni(n))return Pi(e,n,t)}return t}function Wc(e,t,n,r,i,o,a,l,s){return(e=Uc(n,r,!0,e,0,o,0,l,s)).context=Kc(null),n=e.current,(o=zo(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Po(n,o,i),e.current.lanes=i,vt(e,i,r),ic(e,r),e}function qc(e,t,n,r){var i=t.current,o=tc(),a=nc(i);return n=Kc(n),null===t.context?t.context=n:t.pendingContext=n,(t=zo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Po(i,t,a))&&(rc(e,i,a,o),Oo(e,i,a)),a}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Vc(e,t),(e=e.alternate)&&Vc(e,t)}Es=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)xl=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xl=!1,function(e,t,n){switch(t.tag){case 3:Dl(t),po();break;case 5:aa(t);break;case 1:Ni(t.type)&&Oi(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(yo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(sa,1&sa.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ll(e,t,n):(Ci(sa,1&sa.current),null!==(e=Hl(e,t,n))?e.sibling:null);Ci(sa,1&sa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Wl(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(sa,sa.current),r)break;return null;case 22:case 23:return t.lanes=0,Sl(e,t,n)}return Hl(e,t,n)}(e,t,n);xl=0!==(131072&e.flags)}else xl=!1,io&&0!==(1048576&t.flags)&&Ji(t,Vi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ql(e,t),e=t.pendingProps;var i=Fi(t,Ti.current);So(t,n),i=Ea(null,t,r,e,i,n);var a=Sa();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(r)?(a=!0,Oi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,No(t),i.updater=Ko,t.stateNode=i,i._reactInternals=t,Vo(t,r,e,n),t=Al(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),wl(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ql(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===F)return 14}return 2}(r),e=vo(r,e),i){case 0:t=Ml(null,t,r,e,n);break e;case 1:t=Tl(null,t,r,e,n);break e;case 11:t=_l(null,t,r,e,n);break e;case 14:t=kl(null,t,r,vo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ml(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Tl(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 3:e:{if(Dl(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ro(e,t),Lo(t,r,null,n);var l=t.memoizedState;if(r=l.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Fl(e,t,r,n,i=ul(Error(o(423)),t));break e}if(r!==i){t=Fl(e,t,r,n,i=ul(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Zo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Hl(e,t,n);break e}wl(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,l=i.children,ni(r,i)?l=null:null!==a&&ni(r,a)&&(t.flags|=32),Cl(e,t),wl(e,t,l,n),t.child;case 6:return null===e&&co(t),null;case 13:return Ll(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$o(t,null,r,n):wl(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_l(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 7:return wl(e,t,t.pendingProps,n),t.child;case 8:case 12:return wl(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,l=i.value,Ci(yo,r._currentValue),r._currentValue=l,null!==a)if(lr(a.value,l)){if(a.children===i.children&&!Ai.current){t=Hl(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var s=a.dependencies;if(null!==s){l=a.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=zo(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Eo(a.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===a.tag)l=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(l=a.return))throw Error(o(341));l.lanes|=n,null!==(s=l.alternate)&&(s.lanes|=n),Eo(l,n,t),l=a.sibling}else l=a.child;if(null!==l)l.return=a;else for(l=a;null!==l;){if(l===t){l=null;break}if(null!==(a=l.sibling)){a.return=l.return,l=a;break}l=l.return}a=l}wl(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,So(t,n),r=r(i=Co(i)),t.flags|=1,wl(e,t,r,n),t.child;case 14:return i=vo(r=t.type,t.pendingProps),kl(e,t,r,i=vo(r.type,i),n);case 15:return El(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vo(r,i),ql(e,t),t.tag=1,Ni(r)?(e=!0,Oi(t)):e=!1,So(t,n),qo(t,r,i),Vo(t,r,i,n),Al(null,t,r,!0,e,n);case 19:return Wl(e,t,n);case 22:return Sl(e,t,n)}throw Error(o(156,t.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function eu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var l=i;i=function(){var e=Hc(a);l.call(e)}}qc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Hc(a);o.call(e)}}var a=Wc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=a,e[pi]=a.current,Kr(8===e.nodeType?e.parentNode:e),dc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var l=r;r=function(){var e=Hc(s);l.call(e)}}var s=Uc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=s,e[pi]=s.current,Kr(8===e.nodeType?e.parentNode:e),dc((function(){qc(t,s,n,r)})),s}(n,t,e,i,r);return Hc(a)}Xc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));qc(e,t,null,null)},Xc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){qc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&It(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,$e()),0===(6&As)&&(Ws=$e()+500,Ki()))}break;case 13:dc((function(){var t=Do(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},_t=function(e){if(13===e.tag){var t=Do(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},kt=function(e){if(13===e.tag){var t=nc(e),n=Do(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},Et=function(){return bt},St=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(o(90));G(r),Z(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=uc,Ae=dc;var tu={usingClientEntryPoint:!1,Events:[bi,xi,wi,Ce,Me,uc]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),ot=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(o(299));var n=!1,r="",i=Yc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Kr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(o(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",l=Yc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(l=n.onRecoverableError)),t=Wc(t,null,e,1,null!=n?n:null,i,0,a,l),e[pi]=t.current,Kr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(o(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(o(40));return!!e._reactRootContainer&&(dc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:(e,t,n)=>{"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:(e,t,n)=>{"use strict";var r=n(791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!s.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:l.current}}t.jsx=c,t.jsxs=c},117:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,m(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,k={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,o={},a=null,l=null;if(null!=t)for(i in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,i)&&!E.hasOwnProperty(i)&&(o[i]=t[i]);var s=arguments.length-2;if(1===s)o.children=r;else if(1<s){for(var c=Array(s),u=0;u<s;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===o[i]&&(o[i]=s[i]);return{$$typeof:n,type:e,key:a,ref:l,props:o,_owner:k.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var M=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,o,a){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var s=!1;if(null===e)s=!0;else switch(l){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return a=a(s=e),e=""===o?"."+T(s,0):o,w(a)?(i="",null!=e&&(i=e.replace(M,"$&/")+"/"),A(a,t,i,"",(function(e){return e}))):null!=a&&(C(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(M,"$&/")+"/")+e)),t.push(a)),1;if(s=0,o=""===o?".":o+":",w(e))for(var c=0;c<e.length;c++){var u=o+T(l=e[c],c);s+=A(l,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(l=e.next()).done;)s+=A(l=l.value,t,i,u=o+T(l,c++),a);else if("object"===l)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function D(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function F(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},R={transition:null},z={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:R,ReactCurrentOwner:k};t.Children={map:D,forEach:function(e,t,n){D(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return D(e,(function(){t++})),t},toArray:function(e){return D(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,a=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,l=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)_.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var u=0;u<c;u++)s[u]=arguments[u+2];i.children=s}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:l}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:F}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.2.0"},791:(e,t,n)=>{"use strict";e.exports=n(117)},184:(e,t,n)=>{"use strict";e.exports=n(374)},813:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var l=2*(r+1)-1,s=e[l],c=l+1,u=e[c];if(0>o(s,n))c<i&&0>o(u,s)?(e[r]=u,e[c]=n,r=c):(e[r]=s,e[l]=n,r=l);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,s=l.now();t.unstable_now=function(){return l.now()-s}}var c=[],u=[],d=1,f=null,h=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,R(_);else{var t=r(u);null!==t&&z(w,t.startTime-e)}}function _(e,n){m=!1,g&&(g=!1,y(C),C=-1),p=!0;var o=h;try{for(x(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!A());){var a=f.callback;if("function"===typeof a){f.callback=null,h=f.priorityLevel;var l=a(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof l?f.callback=l:f===r(c)&&i(c),x(n)}else i(c);f=r(c)}if(null!==f)var s=!0;else{var d=r(u);null!==d&&z(w,d.startTime-n),s=!1}return s}finally{f=null,h=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,E=!1,S=null,C=-1,M=5,T=-1;function A(){return!(t.unstable_now()-T<M)}function D(){if(null!==S){var e=t.unstable_now();T=e;var n=!0;try{n=S(!0,e)}finally{n?k():(E=!1,S=null)}}else E=!1}if("function"===typeof b)k=function(){b(D)};else if("undefined"!==typeof MessageChannel){var F=new MessageChannel,N=F.port2;F.port1.onmessage=D,k=function(){N.postMessage(null)}}else k=function(){v(D,0)};function R(e){S=e,E||(E=!0,k())}function z(e,n){C=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:l=o+l,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(y(C),C=-1):g=!0,z(w,o-a))):(e.sortIndex=l,n(c,e),m||p||(m=!0,R(_))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},296:(e,t,n)=>{"use strict";e.exports=n(813)},662:e=>{"use strict";var t=/("(?:[^\\"]|\\.)*")|[:,]/g;e.exports=function(e,n){var r,i,o;return n=n||{},r=JSON.stringify([1],void 0,void 0===n.indent?2:n.indent).slice(2,-3),i=""===r?1/0:void 0===n.maxLength?80:n.maxLength,o=n.replacer,function e(n,a,l){var s,c,u,d,f,h,p,m,g,v,y,b;if(n&&"function"===typeof n.toJSON&&(n=n.toJSON()),void 0===(y=JSON.stringify(n,o)))return y;if(p=i-a.length-l,y.length<=p&&(g=y.replace(t,(function(e,t){return t||e+" "}))).length<=p)return g;if(null!=o&&(n=JSON.parse(y),o=void 0),"object"===typeof n&&null!==n){if(m=a+r,u=[],c=0,Array.isArray(n))for(v="[",s="]",p=n.length;c<p;c++)u.push(e(n[c],m,c===p-1?0:1)||"null");else for(v="{",s="}",p=(h=Object.keys(n)).length;c<p;c++)d=h[c],f=JSON.stringify(d)+": ",void 0!==(b=e(n[d],m,f.length+(c===p-1?0:1)))&&u.push(f+b);if(u.length>0)return[v,r+u.join(",\n"+m),s].join("\n"+a)}return y}(e,"",0)}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".96267377.chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="playlist-anaylzer:";n.l=(r,i,o,a)=>{if(e[r])e[r].push(i);else{var l,s;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){l=d;break}}l||(s=!0,(l=document.createElement("script")).charset="utf-8",l.timeout=120,n.nc&&l.setAttribute("nonce",n.nc),l.setAttribute("data-webpack",t+o),l.src=r),e[r]=[i];var f=(t,n)=>{l.onerror=l.onload=null,clearTimeout(h);var i=e[r];if(delete e[r],l.parentNode&&l.parentNode.removeChild(l),i&&i.forEach((e=>e(n))),t)return t(n)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=f.bind(null,l.onerror),l.onload=f.bind(null,l.onload),s&&document.head.appendChild(l)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/SpotiFylter/",(()=>{var e={179:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=o);var a=n.p+n.u(t),l=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;l.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",l.name="ChunkLoadError",l.type=o,l.request=a,i[1](l)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,o,a=r[0],l=r[1],s=r[2],c=0;if(a.some((t=>0!==e[t]))){for(i in l)n.o(l,i)&&(n.m[i]=l[i]);if(s)s(n)}for(t&&t(r);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkplaylist_anaylzer=self.webpackChunkplaylist_anaylzer||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{JsonPatchError:()=>zA,_areEquals:()=>qA,applyOperation:()=>BA,applyPatch:()=>jA,applyReducer:()=>UA,deepClone:()=>PA,getValueByPointer:()=>LA,validate:()=>WA,validator:()=>KA});var t={};n.r(t),n.d(t,{compare:()=>ZA,generate:()=>XA,observe:()=>QA,unobserve:()=>YA});var r={};n.r(r),n.d(r,{aggregate:()=>QL,bin:()=>XL,collect:()=>ZL,compare:()=>JL,countpattern:()=>tB,cross:()=>nB,density:()=>aB,dotbin:()=>dB,expression:()=>fB,extent:()=>pB,facet:()=>gB,field:()=>vB,filter:()=>bB,flatten:()=>xB,fold:()=>wB,formula:()=>_B,generate:()=>kB,impute:()=>CB,joinaggregate:()=>MB,kde:()=>TB,key:()=>AB,load:()=>FB,lookup:()=>RB,multiextent:()=>zB,multivalues:()=>OB,params:()=>LB,pivot:()=>BB,prefacet:()=>jB,project:()=>UB,proxy:()=>KB,quantile:()=>WB,relay:()=>qB,sample:()=>HB,sequence:()=>VB,sieve:()=>GB,subflow:()=>mB,timeunit:()=>YB,tupleindex:()=>XB,values:()=>$B,window:()=>nj});var i={};n.r(i),n.d(i,{interpolate:()=>HK,interpolateArray:()=>IK,interpolateBasis:()=>EK,interpolateBasisClosed:()=>SK,interpolateCubehelix:()=>jq,interpolateCubehelixLong:()=>Uq,interpolateDate:()=>BK,interpolateDiscrete:()=>HW,interpolateHcl:()=>Mq,interpolateHclLong:()=>Tq,interpolateHsl:()=>rq,interpolateHslLong:()=>iq,interpolateHue:()=>VW,interpolateLab:()=>Sq,interpolateNumber:()=>jK,interpolateNumberArray:()=>PK,interpolateObject:()=>UK,interpolateRgb:()=>FK,interpolateRgbBasis:()=>RK,interpolateRgbBasisClosed:()=>zK,interpolateRound:()=>VK,interpolateString:()=>qK,interpolateTransformCss:()=>ZW,interpolateTransformSvg:()=>JW,interpolateZoom:()=>tq,piecewise:()=>zW,quantize:()=>Kq});var o={};n.r(o),n.d(o,{bound:()=>j$,identifier:()=>W$,mark:()=>q$,overlap:()=>H$,render:()=>Z$,viewlayout:()=>xZ});var a={};n.r(a),n.d(a,{axisticks:()=>_Z,datajoin:()=>kZ,encode:()=>SZ,legendentries:()=>CZ,linkpath:()=>FZ,pie:()=>OZ,scale:()=>jZ,sortitems:()=>qZ,stack:()=>QZ});var l={};n.r(l),n.d(l,{contour:()=>I2,geojson:()=>j2,geopath:()=>U2,geopoint:()=>K2,geoshape:()=>W2,graticule:()=>q2,heatmap:()=>H2,isocontour:()=>M2,kde2d:()=>z2,projection:()=>G2});var s={};n.r(s),n.d(s,{force:()=>V5});var c={};n.r(c),n.d(c,{nest:()=>J3,pack:()=>o4,partition:()=>l4,stratify:()=>s4,tree:()=>d4,treelinks:()=>f4,treemap:()=>m4});var u={};n.r(u),n.d(u,{label:()=>L4});var d={};n.r(d),n.d(d,{loess:()=>j4,regression:()=>K4});var f={};n.r(f),n.d(f,{voronoi:()=>w6});var h={};n.r(h),n.d(h,{wordcloud:()=>I6});var p={};n.r(p),n.d(p,{crossfilter:()=>q6,resolvefilter:()=>H6});var m={};n.r(m),n.d(m,{Bounds:()=>aG,CanvasHandler:()=>UQ,CanvasRenderer:()=>GQ,DATE:()=>yR,DAY:()=>bR,DAYOFYEAR:()=>xR,Dataflow:()=>xI,Debug:()=>wD,Error:()=>yD,EventStream:()=>oI,Gradient:()=>uV,GroupItem:()=>sG,HOURS:()=>wR,Handler:()=>bQ,HybridHandler:()=>jX,HybridRenderer:()=>LX,Info:()=>xD,Item:()=>lG,MILLISECONDS:()=>ER,MINUTES:()=>_R,MONTH:()=>gR,Marks:()=>rQ,MultiPulse:()=>mI,None:()=>vD,Operator:()=>nI,Parameters:()=>JO,Pulse:()=>dI,QUARTER:()=>mR,RenderType:()=>qX,Renderer:()=>wQ,ResourceLoader:()=>cG,SECONDS:()=>kR,SVGHandler:()=>QQ,SVGRenderer:()=>wX,SVGStringRenderer:()=>PX,Scenegraph:()=>dQ,TIME_UNITS:()=>SR,Transform:()=>_I,View:()=>$te,WEEK:()=>vR,Warn:()=>bD,YEAR:()=>pR,accessor:()=>tD,accessorFields:()=>rD,accessorName:()=>nD,array:()=>YD,ascending:()=>JD,bandwidthNRD:()=>BI,bin:()=>jI,bootstrapCI:()=>WI,boundClip:()=>ZX,boundContext:()=>DG,boundItem:()=>iQ,boundMark:()=>aQ,boundStroke:()=>fG,changeset:()=>$O,clampRange:()=>QD,codegenExpression:()=>P7,compare:()=>ZD,constant:()=>rF,cumulativeLogNormal:()=>iL,cumulativeNormal:()=>ZI,cumulativeUniform:()=>uL,dayofyear:()=>NR,debounce:()=>iF,defaultLocale:()=>cO,definition:()=>EI,densityLogNormal:()=>rL,densityNormal:()=>$I,densityUniform:()=>cL,domChild:()=>mQ,domClear:()=>gQ,domCreate:()=>hQ,domFind:()=>pQ,dotbin:()=>qI,error:()=>lD,expressionFunction:()=>Gee,extend:()=>oF,extent:()=>aF,extentIndex:()=>lF,falsy:()=>mD,fastmap:()=>dF,field:()=>cD,flush:()=>fF,font:()=>QY,fontFamily:()=>YY,fontSize:()=>WY,format:()=>RO,formatLocale:()=>tO,formats:()=>zO,hasOwnProperty:()=>cF,id:()=>uD,identity:()=>dD,inferType:()=>CO,inferTypes:()=>MO,ingest:()=>HO,inherits:()=>hF,inrange:()=>pF,interpolate:()=>NH,interpolateColors:()=>AH,interpolateRange:()=>TH,intersect:()=>GX,intersectBoxLine:()=>UG,intersectPath:()=>IG,intersectPoint:()=>LG,intersectRule:()=>jG,isArray:()=>kD,isBoolean:()=>mF,isDate:()=>gF,isFunction:()=>XD,isIterable:()=>vF,isNumber:()=>yF,isObject:()=>ED,isRegExp:()=>bF,isString:()=>xF,isTuple:()=>KO,key:()=>wF,lerp:()=>_F,lineHeight:()=>qY,loader:()=>IO,locale:()=>sO,logger:()=>_D,lruCache:()=>EF,markup:()=>hX,merge:()=>SF,mergeConfig:()=>CD,multiLineOffset:()=>VY,one:()=>hD,pad:()=>MF,panLinear:()=>ID,panLog:()=>LD,panPow:()=>BD,panSymlog:()=>jD,parse:()=>Pae,parseExpression:()=>N7,parseSelector:()=>mne,path:()=>xU,pathCurves:()=>fV,pathEqual:()=>t$,pathParse:()=>yV,pathRectangle:()=>KV,pathRender:()=>AV,pathSymbols:()=>RV,pathTrail:()=>WV,peek:()=>AD,point:()=>yQ,projection:()=>p2,quantileLogNormal:()=>oL,quantileNormal:()=>JI,quantileUniform:()=>dL,quantiles:()=>II,quantizeInterpolator:()=>DH,quarter:()=>VD,quartiles:()=>LI,random:()=>UI,randomInteger:()=>VI,randomKDE:()=>tL,randomLCG:()=>HI,randomLogNormal:()=>aL,randomMixture:()=>lL,randomNormal:()=>eL,randomUniform:()=>fL,read:()=>OO,regressionConstant:()=>hL,regressionExp:()=>xL,regressionLinear:()=>yL,regressionLoess:()=>ML,regressionLog:()=>bL,regressionPoly:()=>kL,regressionPow:()=>wL,regressionQuad:()=>_L,renderModule:()=>VX,repeat:()=>CF,resetDefaultLocale:()=>uO,resetSVGClipId:()=>iG,resetSVGDefIds:()=>n$,responseType:()=>PO,runtimeContext:()=>rte,sampleCurve:()=>FL,sampleLogNormal:()=>nL,sampleNormal:()=>XI,sampleUniform:()=>sL,scale:()=>yH,sceneEqual:()=>e$,sceneFromJSON:()=>cQ,scenePickVisit:()=>ZG,sceneToJSON:()=>sQ,sceneVisit:()=>$G,sceneZOrder:()=>XG,scheme:()=>OH,serializeXML:()=>pX,setHybridRendererOptions:()=>IX,setRandom:()=>KI,span:()=>TF,splitAccessPath:()=>sD,stringValue:()=>AF,textMetrics:()=>IY,timeBin:()=>_z,timeFloor:()=>YR,timeFormatLocale:()=>aO,timeInterval:()=>ez,timeOffset:()=>rz,timeSequence:()=>az,timeUnitSpecifier:()=>AR,timeUnits:()=>MR,toBoolean:()=>DF,toDate:()=>NF,toNumber:()=>DD,toSet:()=>zF,toString:()=>RF,transform:()=>SI,transforms:()=>kI,truncate:()=>PF,truthy:()=>pD,tupleid:()=>WO,typeParsers:()=>kO,utcFloor:()=>$R,utcInterval:()=>tz,utcOffset:()=>iz,utcSequence:()=>lz,utcdayofyear:()=>LR,utcquarter:()=>GD,utcweek:()=>BR,version:()=>Oae,visitArray:()=>OF,week:()=>RR,writeConfig:()=>MD,zero:()=>fD,zoomLinear:()=>KD,zoomLog:()=>WD,zoomPow:()=>qD,zoomSymlog:()=>HD});var g={};n.r(g),n.d(g,{accessPathDepth:()=>Fle,accessPathWithDatum:()=>Sle,compile:()=>C_e,contains:()=>ole,deepEqual:()=>Ule,deleteNestedProperty:()=>kle,duplicate:()=>Jae,entries:()=>ble,every:()=>lle,fieldIntersection:()=>mle,flatAccessWithDatum:()=>Cle,getFirstDefined:()=>Nle,hasIntersection:()=>hle,hash:()=>rle,internalField:()=>Ole,isBoolean:()=>xle,isEmpty:()=>gle,isEqual:()=>dle,isInternalField:()=>Ile,isNullOrFalse:()=>ile,isNumeric:()=>Ble,keys:()=>vle,logicalExpr:()=>_le,mergeDeep:()=>sle,never:()=>ele,normalize:()=>Lge,normalizeAngle:()=>Lle,omit:()=>nle,pick:()=>tle,prefixGenerator:()=>ple,removePathFromField:()=>Dle,replaceAll:()=>Ale,replacePathInField:()=>Tle,resetIdCounter:()=>Ple,setEqual:()=>fle,some:()=>ale,stringify:()=>Kle,titleCase:()=>Ele,unique:()=>ule,uniqueId:()=>zle,vals:()=>yle,varName:()=>wle,version:()=>M_e});var v={};n.r(v),n.d(v,{carbong10:()=>Mke,carbong100:()=>Ake,carbong90:()=>Tke,carbonwhite:()=>Cke,dark:()=>N_e,excel:()=>z_e,fivethirtyeight:()=>B_e,ggplot2:()=>U_e,googlecharts:()=>ske,latimes:()=>G_e,powerbi:()=>wke,quartz:()=>X_e,urbaninstitute:()=>ike,version:()=>Dke,vox:()=>Z_e});var y=n(791),b=n(250);const x={prefix:String(Math.round(1e10*Math.random())),current:0},w=y.createContext(x),_=y.createContext(!1);let k=Boolean("undefined"!==typeof window&&window.document&&window.document.createElement),E=new WeakMap;function S(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,y.useContext)(w),n=(0,y.useRef)(null);if(null===n.current&&!e){var r,i;let e=null===(i=y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)||void 0===i||null===(r=i.ReactCurrentOwner)||void 0===r?void 0:r.current;if(e){let n=E.get(e);null==n?E.set(e,{id:t.current,state:e.memoizedState}):e.memoizedState!==n.state&&(t.current=n.id,E.delete(e))}n.current=++t.current}return n.current}const C="function"===typeof y.useId?function(e){let t=y.useId(),[n]=(0,y.useState)(D()),r=n?"react-aria":"react-aria".concat(x.prefix);return e||"".concat(r,"-").concat(t)}:function(e){let t=(0,y.useContext)(w);t!==x||k||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let n=S(!!e),r="react-aria".concat(t.prefix);return e||"".concat(r,"-").concat(n)};function M(){return!1}function T(){return!0}function A(e){return()=>{}}function D(){return"function"===typeof y.useSyncExternalStore?y.useSyncExternalStore(A,M,T):(0,y.useContext)(_)}function F(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=F(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const N=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=F(e))&&(r&&(r+=" "),r+=t);return r},R="undefined"!==typeof document?y.useLayoutEffect:()=>{};function z(e){const t=(0,y.useRef)(null);return R((()=>{t.current=e}),[e]),(0,y.useCallback)((function(){return(0,t.current)(...arguments)}),[])}function P(e){let[t,n]=(0,y.useState)(e),r=(0,y.useRef)(null),i=z((()=>{let e=r.current.next();e.done?r.current=null:t===e.value?i():n(e.value)}));R((()=>{r.current&&i()}));let o=z((e=>{r.current=e(t),i()}));return[t,o]}let O=Boolean("undefined"!==typeof window&&window.document&&window.document.createElement),I=new Map;function L(e){let[t,n]=(0,y.useState)(e),r=(0,y.useRef)(null),i=C(t),o=(0,y.useCallback)((e=>{r.current=e}),[]);return O&&I.set(i,o),R((()=>{let e=i;return()=>{I.delete(e)}}),[i]),(0,y.useEffect)((()=>{let e=r.current;e&&(r.current=null,n(e))})),i}function B(e,t){if(e===t)return e;let n=I.get(e);if(n)return n(t),t;let r=I.get(t);return r?(r(e),e):t}function j(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=L(),[n,r]=P(t),i=(0,y.useCallback)((()=>{r((function*(){yield t,yield document.getElementById(t)?t:void 0}))}),[t,r]);return R(i,[t,i,...e]),n}function U(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){for(let e of t)"function"===typeof e&&e(...arguments)}}const K=e=>{var t;return null!==(t=null===e||void 0===e?void 0:e.ownerDocument)&&void 0!==t?t:document},W=e=>{if(e&&"window"in e&&e.window===e)return e;return K(e).defaultView||window};function q(){let e={...arguments.length<=0?void 0:arguments[0]};for(let t=1;t<arguments.length;t++){let n=t<0||arguments.length<=t?void 0:arguments[t];for(let t in n){let r=e[t],i=n[t];"function"===typeof r&&"function"===typeof i&&"o"===t[0]&&"n"===t[1]&&t.charCodeAt(2)>=65&&t.charCodeAt(2)<=90?e[t]=U(r,i):"className"!==t&&"UNSAFE_className"!==t||"string"!==typeof r||"string"!==typeof i?"id"===t&&r&&i?e.id=B(r,i):e[t]=void 0!==i?i:r:e[t]=N(r,i)}}return e}function H(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 1===t.length?t[0]:e=>{for(let n of t)"function"===typeof n?n(e):null!=n&&(n.current=e)}}const V=new Set(["id"]),G=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),Y=new Set(["href","target","rel","download","ping","referrerPolicy"]),Q=/^(data-.*)$/;function X(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{labelable:n,isLink:r,propNames:i}=t,o={};for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(V.has(a)||n&&G.has(a)||r&&Y.has(a)||(null===i||void 0===i?void 0:i.has(a))||Q.test(a))&&(o[a]=e[a]);return o}function $(e){if(function(){if(null==Z){Z=!1;try{document.createElement("div").focus({get preventScroll(){return Z=!0,!0}})}catch(e){}}return Z}())e.focus({preventScroll:!0});else{let t=function(e){var t=e.parentNode,n=[],r=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==r;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&n.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;r instanceof HTMLElement&&n.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft});return n}(e);e.focus(),function(e){for(let{element:t,scrollTop:n,scrollLeft:r}of e)t.scrollTop=n,t.scrollLeft=r}(t)}}let Z=null;function J(e){var t;return"undefined"!==typeof window&&null!=window.navigator&&((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.brands.some((t=>e.test(t.brand))))||e.test(window.navigator.userAgent))}function ee(e){var t;return"undefined"!==typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function te(){return ee(/^Mac/i)}function ne(){return ee(/^iPad/i)||te()&&navigator.maxTouchPoints>1}function re(){return ee(/^iPhone/i)||ne()}function ie(){return J(/AppleWebKit/i)&&!J(/Chrome/i)}function oe(){return J(/Android/i)}const ae=(0,y.createContext)({isNative:!0,open:function(e,t){ue(e,(e=>ce(e,t)))}});function le(e){let{children:t,navigate:n}=e,r=(0,y.useMemo)((()=>({isNative:!1,open:(e,t)=>{ue(e,(e=>{!function(e,t){let n=e.getAttribute("target");return(!n||"_self"===n)&&e.origin===location.origin&&!e.hasAttribute("download")&&!t.metaKey&&!t.ctrlKey&&!t.altKey&&!t.shiftKey}(e,t)?ce(e,t):n(e.pathname+e.search+e.hash)}))}})),[n]);return y.createElement(ae.Provider,{value:r},t)}function se(){return(0,y.useContext)(ae)}function ce(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];var r,i;let{metaKey:o,ctrlKey:a,altKey:l,shiftKey:s}=t;J(/Firefox/i)&&(null===(i=window.event)||void 0===i||null===(r=i.type)||void 0===r?void 0:r.startsWith("key"))&&"_blank"===e.target&&(te()?o=!0:a=!0);let c=ie()&&te()&&!ne()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:o,ctrlKey:a,altKey:l,shiftKey:s}):new MouseEvent("click",{metaKey:o,ctrlKey:a,altKey:l,shiftKey:s,bubbles:!0,cancelable:!0});ce.isOpening=n,$(e),e.dispatchEvent(c),ce.isOpening=!1}function ue(e,t){if(e instanceof HTMLAnchorElement)t(e);else if(e.hasAttribute("data-href")){let n=document.createElement("a");n.href=e.getAttribute("data-href"),e.hasAttribute("data-target")&&(n.target=e.getAttribute("data-target")),e.hasAttribute("data-rel")&&(n.rel=e.getAttribute("data-rel")),e.hasAttribute("data-download")&&(n.download=e.getAttribute("data-download")),e.hasAttribute("data-ping")&&(n.ping=e.getAttribute("data-ping")),e.hasAttribute("data-referrer-policy")&&(n.referrerPolicy=e.getAttribute("data-referrer-policy")),e.appendChild(n),t(n),e.removeChild(n)}}function de(e){return{"data-href":e.href,"data-target":e.target,"data-rel":e.rel,"data-download":e.download,"data-ping":e.ping,"data-referrer-policy":e.referrerPolicy}}ce.isOpening=!1;let fe=new Map,he=new Set;function pe(){if("undefined"===typeof window)return;let e=t=>{let n=fe.get(t.target);if(n&&(n.delete(t.propertyName),0===n.size&&(t.target.removeEventListener("transitioncancel",e),fe.delete(t.target)),0===fe.size)){for(let e of he)e();he.clear()}};document.body.addEventListener("transitionrun",(t=>{let n=fe.get(t.target);n||(n=new Set,fe.set(t.target,n),t.target.addEventListener("transitioncancel",e)),n.add(t.propertyName)})),document.body.addEventListener("transitionend",e)}function me(e){requestAnimationFrame((()=>{0===fe.size?e():he.add(e)}))}"undefined"!==typeof document&&("loading"!==document.readyState?pe():document.addEventListener("DOMContentLoaded",pe));function ge(){let e=(0,y.useRef)(new Map),t=(0,y.useCallback)(((t,n,r,i)=>{let o=(null===i||void 0===i?void 0:i.once)?function(){e.current.delete(r),r(...arguments)}:r;e.current.set(r,{type:n,eventTarget:t,fn:o,options:i}),t.addEventListener(n,r,i)}),[]),n=(0,y.useCallback)(((t,n,r,i)=>{var o;let a=(null===(o=e.current.get(r))||void 0===o?void 0:o.fn)||r;t.removeEventListener(n,a,i),e.current.delete(r)}),[]),r=(0,y.useCallback)((()=>{e.current.forEach(((e,t)=>{n(e.eventTarget,e.type,t,e.options)}))}),[n]);return(0,y.useEffect)((()=>r),[r]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:r}}function ve(e,t){let{id:n,"aria-label":r,"aria-labelledby":i}=e;if(n=L(n),i&&r){let e=new Set([n,...i.trim().split(/\s+/)]);i=[...e].join(" ")}else i&&(i=i.trim().split(/\s+/).join(" "));return r||i||!t||(r=t),{id:n,"aria-label":r,"aria-labelledby":i}}function ye(e){const t=(0,y.useRef)();return(0,y.useMemo)((()=>({get current(){return t.current},set current(n){t.current=n,"function"===typeof e?e(n):e&&(e.current=n)}})),[e])}function be(e,t){const n=(0,y.useRef)(!0),r=(0,y.useRef)(null);(0,y.useEffect)((()=>(n.current=!0,()=>{n.current=!1})),[]),(0,y.useEffect)((()=>{n.current?n.current=!1:r.current&&!t.some(((e,t)=>!Object.is(e,r[t])))||e(),r.current=t}),t)}function xe(e){const{ref:t,onResize:n}=e;(0,y.useEffect)((()=>{let e=null===t||void 0===t?void 0:t.current;if(e){if("undefined"===typeof window.ResizeObserver)return window.addEventListener("resize",n,!1),()=>{window.removeEventListener("resize",n,!1)};{const t=new window.ResizeObserver((e=>{e.length&&n()}));return t.observe(e),()=>{e&&t.unobserve(e)}}}}),[n,t])}function we(e,t){R((()=>{if(e&&e.ref&&t)return e.ref.current=t.current,()=>{e.ref.current=null}}))}function _e(e,t){for(ke(e,t)&&(e=e.parentElement);e&&!ke(e,t);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}function ke(e,t){let n=window.getComputedStyle(e),r=/(auto|scroll)/.test(n.overflow+n.overflowX+n.overflowY);return r&&t&&(r=e.scrollHeight!==e.clientHeight||e.scrollWidth!==e.clientWidth),r}let Ee="undefined"!==typeof document&&window.visualViewport;function Se(){let e=D(),[t,n]=(0,y.useState)((()=>e?{width:0,height:0}:Ce()));return(0,y.useEffect)((()=>{let e=()=>{n((e=>{let t=Ce();return t.width===e.width&&t.height===e.height?e:t}))};return Ee?Ee.addEventListener("resize",e):window.addEventListener("resize",e),()=>{Ee?Ee.removeEventListener("resize",e):window.removeEventListener("resize",e)}}),[]),t}function Ce(){return{width:(null===Ee||void 0===Ee?void 0:Ee.width)||window.innerWidth,height:(null===Ee||void 0===Ee?void 0:Ee.height)||window.innerHeight}}let Me=0;const Te=new Map;function Ae(e){let[t,n]=(0,y.useState)(void 0);return R((()=>{if(!e)return;let t=Te.get(e);if(t)n(t.element.id);else{let r="react-aria-description-".concat(Me++);n(r);let i=document.createElement("div");i.id=r,i.style.display="none",i.textContent=e,document.body.appendChild(i),t={refCount:0,element:i},Te.set(e,t)}return t.refCount++,()=>{0===--t.refCount&&(t.element.remove(),Te.delete(e))}}),[e]),{"aria-describedby":e?t:void 0}}function De(e,t,n,r){let i=z(n),o=null==n;(0,y.useEffect)((()=>{if(o)return;let n=e.current;return n.addEventListener(t,i,r),()=>{n.removeEventListener(t,i,r)}}),[e,t,r,o,i])}function Fe(e,t){let n=Ne(e,t,"left"),r=Ne(e,t,"top"),i=t.offsetWidth,o=t.offsetHeight,a=e.scrollLeft,l=e.scrollTop,{borderTopWidth:s,borderLeftWidth:c}=getComputedStyle(e),u=e.scrollLeft+parseInt(c,10),d=e.scrollTop+parseInt(s,10),f=u+e.clientWidth,h=d+e.clientHeight;n<=a?a=n-parseInt(c,10):n+i>f&&(a+=n+i-f),r<=d?l=r-parseInt(s,10):r+o>h&&(l+=r+o-h),e.scrollLeft=a,e.scrollTop=l}function Ne(e,t,n){const r="left"===n?"offsetLeft":"offsetTop";let i=0;for(;t.offsetParent&&(i+=t[r],t.offsetParent!==e);){if(t.offsetParent.contains(e)){i-=e[r];break}t=t.offsetParent}return i}function Re(e,t){if(document.contains(e)){let a=document.scrollingElement||document.documentElement;if("hidden"===window.getComputedStyle(a).overflow){let t=_e(e);for(;e&&t&&e!==a&&t!==a;)Fe(t,e),t=_e(e=t)}else{var n;let{left:a,top:l}=e.getBoundingClientRect();null===e||void 0===e||null===(n=e.scrollIntoView)||void 0===n||n.call(e,{block:"nearest"});let{left:s,top:c}=e.getBoundingClientRect();var r,i,o;if(Math.abs(a-s)>1||Math.abs(l-c)>1)null===t||void 0===t||null===(i=t.containingElement)||void 0===i||null===(r=i.scrollIntoView)||void 0===r||r.call(i,{block:"center",inline:"center"}),null===(o=e.scrollIntoView)||void 0===o||o.call(e,{block:"nearest"})}}}function ze(e){return!(0!==e.mozInputSource||!e.isTrusted)||(oe()&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType)}function Pe(e,t,n){let r=(0,y.useRef)(t),i=z((()=>{n&&n(r.current)}));(0,y.useEffect)((()=>{var t;let n=null===e||void 0===e||null===(t=e.current)||void 0===t?void 0:t.form;return null===n||void 0===n||n.addEventListener("reset",i),()=>{null===n||void 0===n||n.removeEventListener("reset",i)}}),[e,i])}const Oe=Symbol.for("react-aria.i18n.locale"),Ie=Symbol.for("react-aria.i18n.strings");let Le;class Be{getStringForLocale(e,t){let n=this.getStringsForLocale(t)[e];if(!n)throw new Error("Could not find intl message ".concat(e," in ").concat(t," locale"));return n}getStringsForLocale(e){let t=this.strings[e];return t||(t=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en-US";if(t[e])return t[e];let r=function(e){return Intl.Locale?new Intl.Locale(e).language:e.split("-")[0]}(e);if(t[r])return t[r];for(let i in t)if(i.startsWith(r+"-"))return t[i];return t[n]}(e,this.strings,this.defaultLocale),this.strings[e]=t),t}static getGlobalDictionaryForPackage(e){if("undefined"===typeof window)return null;let t=window[Oe];if(void 0===Le){let e=window[Ie];if(!e)return null;Le={};for(let n in e)Le[n]=new Be({[t]:e[n]},t)}let n=null===Le||void 0===Le?void 0:Le[e];if(!n)throw new Error('Strings for package "'.concat(e,'" were not included by LocalizedStringProvider. Please add it to the list passed to createLocalizedStringDictionary.'));return n}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";this.strings={...e},this.defaultLocale=t}}const je=new Map,Ue=new Map;class Ke{format(e,t){let n=this.strings.getStringForLocale(e,this.locale);return"function"===typeof n?n(t,this):n}plural(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"cardinal",r=t["="+e];if(r)return"function"===typeof r?r():r;let i=this.locale+":"+n,o=je.get(i);return o||(o=new Intl.PluralRules(this.locale,{type:n}),je.set(i,o)),r=t[o.select(e)]||t.other,"function"===typeof r?r():r}number(e){let t=Ue.get(this.locale);return t||(t=new Intl.NumberFormat(this.locale),Ue.set(this.locale,t)),t.format(e)}select(e,t){let n=e[t]||e.other;return"function"===typeof n?n():n}constructor(e,t){this.locale=e,this.strings=t}}let We=new Map,qe=!1;try{qe="exceptZero"===new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay}catch(BMe){}let He=!1;try{He="unit"===new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style}catch(BMe){}const Ve={degree:{narrow:{default:"\xb0","ja-JP":" \u5ea6","zh-TW":"\u5ea6","sl-SI":" \xb0"}}};class Ge{format(e){let t="";if(t=qe||null==this.options.signDisplay?this.numberFormatter.format(e):function(e,t,n){if("auto"===t)return e.format(n);if("never"===t)return e.format(Math.abs(n));{let r=!1;if("always"===t?r=n>0||Object.is(n,0):"exceptZero"===t&&(Object.is(n,-0)||Object.is(n,0)?n=Math.abs(n):r=n>0),r){let t=e.format(-n),r=e.format(n),i=t.replace(r,"").replace(/\u200e|\u061C/,"");return 1!==[...i].length&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),t.replace(r,"!!!").replace(i,"+").replace("!!!",r)}return e.format(n)}}(this.numberFormatter,this.options.signDisplay,e),"unit"===this.options.style&&!He){var n;let{unit:e,unitDisplay:r="short",locale:i}=this.resolvedOptions();if(!e)return t;let o=null===(n=Ve[e])||void 0===n?void 0:n[r];t+=o[i]||o.default}return t}formatToParts(e){return this.numberFormatter.formatToParts(e)}formatRange(e,t){if("function"===typeof this.numberFormatter.formatRange)return this.numberFormatter.formatRange(e,t);if(t<e)throw new RangeError("End date must be >= start date");return"".concat(this.format(e)," \u2013 ").concat(this.format(t))}formatRangeToParts(e,t){if("function"===typeof this.numberFormatter.formatRangeToParts)return this.numberFormatter.formatRangeToParts(e,t);if(t<e)throw new RangeError("End date must be >= start date");let n=this.numberFormatter.formatToParts(e),r=this.numberFormatter.formatToParts(t);return[...n.map((e=>({...e,source:"startRange"}))),{type:"literal",value:" \u2013 ",source:"shared"},...r.map((e=>({...e,source:"endRange"})))]}resolvedOptions(){let e=this.numberFormatter.resolvedOptions();return qe||null==this.options.signDisplay||(e={...e,signDisplay:this.options.signDisplay}),He||"unit"!==this.options.style||(e={...e,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),e}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.numberFormatter=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{numberingSystem:n}=t;n&&e.includes("-nu-")&&(e.includes("-u-")||(e+="-u-"),e+="-nu-".concat(n));if("unit"===t.style&&!He){var r;let{unit:e,unitDisplay:n="short"}=t;if(!e)throw new Error('unit option must be provided with style: "unit"');if(!(null===(r=Ve[e])||void 0===r?void 0:r[n]))throw new Error("Unsupported unit ".concat(e," with unitDisplay = ").concat(n));t={...t,style:"decimal"}}let i=e+(t?Object.entries(t).sort(((e,t)=>e[0]<t[0]?-1:1)).join():"");if(We.has(i))return We.get(i);let o=new Intl.NumberFormat(e,t);return We.set(i,o),o}(e,t),this.options=t}}new Map;new Set(["decimal","fraction","integer","minusSign","plusSign","group"]);const Ye=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),Qe=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function Xe(e){if(Intl.Locale){let t=new Intl.Locale(e).maximize(),n="function"===typeof t.getTextInfo?t.getTextInfo():t.textInfo;if(n)return"rtl"===n.direction;if(t.script)return Ye.has(t.script)}let t=e.split("-")[0];return Qe.has(t)}const $e=Symbol.for("react-aria.i18n.locale");function Ze(){let e="undefined"!==typeof window&&window[$e]||"undefined"!==typeof navigator&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([e])}catch(t){e="en-US"}return{locale:e,direction:Xe(e)?"rtl":"ltr"}}let Je=Ze(),et=new Set;function tt(){Je=Ze();for(let e of et)e(Je)}function nt(){let e=D(),[t,n]=(0,y.useState)(Je);return(0,y.useEffect)((()=>(0===et.size&&window.addEventListener("languagechange",tt),et.add(n),()=>{et.delete(n),0===et.size&&window.removeEventListener("languagechange",tt)})),[]),e?{locale:"en-US",direction:"ltr"}:t}const rt=y.createContext(null);function it(e){let{locale:t,children:n}=e,r=nt(),i=t?{locale:t,direction:Xe(t)?"rtl":"ltr"}:r;return y.createElement(rt.Provider,{value:i},n)}function ot(){let e=nt();return(0,y.useContext)(rt)||e}const at=new WeakMap;function lt(e,t){return t&&Be.getGlobalDictionaryForPackage(t)||function(e){let t=at.get(e);return t||(t=new Be(e),at.set(e,t)),t}(e)}function st(e,t){let{locale:n}=ot(),r=lt(e,t);return(0,y.useMemo)((()=>new Ke(n,r)),[n,r])}function ct(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{locale:t}=ot();return(0,y.useMemo)((()=>new Ge(t,e)),[t,e])}let ut=new Map;function dt(e){let{locale:t}=ot(),n=t+(e?Object.entries(e).sort(((e,t)=>e[0]<t[0]?-1:1)).join():"");if(ut.has(n))return ut.get(n);let r=new Intl.Collator(t,e);return ut.set(n,r),r}let ft=!1;function ht(e){let t=[];for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(let o of r)if("object"===typeof o&&o){let n={};for(let t in o)e[t]&&(n[e[t]]=o[t]),!ft&&e[t]||(n[t]=o[t]);t.push(n)}else"string"===typeof o?(e[o]&&t.push(e[o]),!ft&&e[o]||t.push(o)):t.push(o);return N(...t)}function pt(e){let t="undefined"!==typeof window&&"function"===typeof window.matchMedia,[n,r]=(0,y.useState)((()=>!!t&&window.matchMedia(e).matches));return(0,y.useEffect)((()=>{if(!t)return;let n=window.matchMedia(e),i=e=>{r(e.matches)};return n.addListener(i),()=>{n.removeListener(i)}}),[t,e]),!D()&&n}function mt(e){return{UNSAFE_getDOMNode:()=>e.current}}function gt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return{...mt(e),focus(){t.current&&t.current.focus()}}}function vt(e){let t=(0,y.useRef)(null);return(0,y.useImperativeHandle)(e,(()=>mt(t))),t}function yt(e,t){let n=(0,y.useRef)(null);return(0,y.useImperativeHandle)(e,(()=>gt(n,t))),n}function bt(e){return{get current(){return e.current&&e.current.UNSAFE_getDOMNode()}}}function xt(e){return(0,y.useMemo)((()=>bt(e)),[e])}const wt=y.createContext(null);function _t(e){let{children:t,matchedBreakpoints:n}=e;return y.createElement(wt.Provider,{value:{matchedBreakpoints:n}},t)}function kt(e){let t=Object.entries(e).sort(((e,t)=>{let[,n]=e,[,r]=t;return r-n})),n=t.map((e=>{let[,t]=e;return"(min-width: ".concat(t,"px)")})),r="undefined"!==typeof window&&"function"===typeof window.matchMedia,i=()=>{let e=[];for(let r in n){let i=n[r];window.matchMedia(i).matches&&e.push(t[r][0])}return e.push("base"),e},[o,a]=(0,y.useState)((()=>r?i():["base"]));return(0,y.useEffect)((()=>{if(!r)return;let e=()=>{const e=i();a((t=>t.length!==e.length||t.some(((t,n)=>t!==e[n]))?[...e]:t))};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[r]),D()?["base"]:o}function Et(){return(0,y.useContext)(wt)}wt.displayName="BreakpointContext";const St={margin:["margin",Ft],marginStart:[Mt("marginLeft","marginRight"),Ft],marginEnd:[Mt("marginRight","marginLeft"),Ft],marginTop:["marginTop",Ft],marginBottom:["marginBottom",Ft],marginX:[["marginLeft","marginRight"],Ft],marginY:[["marginTop","marginBottom"],Ft],width:["width",Ft],height:["height",Ft],minWidth:["minWidth",Ft],minHeight:["minHeight",Ft],maxWidth:["maxWidth",Ft],maxHeight:["maxHeight",Ft],isHidden:["display",function(e){return e?"none":void 0}],alignSelf:["alignSelf",Bt],justifySelf:["justifySelf",Bt],position:["position",It],zIndex:["zIndex",It],top:["top",Ft],bottom:["bottom",Ft],start:[Mt("left","right"),Ft],end:[Mt("right","left"),Ft],left:["left",Ft],right:["right",Ft],order:["order",It],flex:["flex",function(e){return"boolean"===typeof e?e?"1":void 0:""+e}],flexGrow:["flexGrow",Bt],flexShrink:["flexShrink",Bt],flexBasis:["flexBasis",Bt],gridArea:["gridArea",Bt],gridColumn:["gridColumn",Bt],gridColumnEnd:["gridColumnEnd",Bt],gridColumnStart:["gridColumnStart",Bt],gridRow:["gridRow",Bt],gridRowEnd:["gridRowEnd",Bt],gridRowStart:["gridRowStart",Bt]},Ct=(Mt("borderLeftWidth","borderRightWidth"),Mt("borderRightWidth","borderLeftWidth"),Mt("borderLeftColor","borderRightColor"),Mt("borderRightColor","borderLeftColor"),Mt("borderTopLeftRadius","borderTopRightRadius"),Mt("borderTopRightRadius","borderTopLeftRadius"),Mt("borderBottomLeftRadius","borderBottomRightRadius"),Mt("borderBottomRightRadius","borderBottomLeftRadius"),Mt("paddingLeft","paddingRight"),Mt("paddingRight","paddingLeft"),{borderWidth:"borderStyle",borderLeftWidth:"borderLeftStyle",borderRightWidth:"borderRightStyle",borderTopWidth:"borderTopStyle",borderBottomWidth:"borderBottomStyle"});function Mt(e,t){return n=>"rtl"===n?t:e}const Tt=/(%|px|em|rem|vw|vh|auto|cm|mm|in|pt|pc|ex|ch|rem|vmin|vmax|fr)$/,At=/^\s*\w+\(/,Dt=/(static-)?size-\d+|single-line-(height|width)/g;function Ft(e){return"number"===typeof e?e+"px":Tt.test(e)?e:At.test(e)?e.replace(Dt,"var(--spectrum-global-dimension-$&, var(--spectrum-alias-$&))"):"var(--spectrum-global-dimension-".concat(e,", var(--spectrum-alias-").concat(e,"))")}function Nt(e,t){return Ft(e=jt(e,t))}function Rt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:5)>5?"var(--spectrum-".concat(e,", var(--spectrum-semantic-").concat(e,"-color-").concat(t,"))"):"var(--spectrum-legacy-color-".concat(e,", var(--spectrum-global-color-").concat(e,", var(--spectrum-semantic-").concat(e,"-color-").concat(t,")))")}function zt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return"default"===e?"var(--spectrum-alias-border-color)":"var(--spectrum-alias-border-color-".concat(e,", ").concat(Rt(e,"border",t),")")}function Pt(e){return e&&"none"!==e?"var(--spectrum-alias-border-size-".concat(e,")"):"0"}function Ot(e){return"var(--spectrum-alias-border-radius-".concat(e,")")}function It(e){return e}function Lt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:St,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{UNSAFE_className:r,UNSAFE_style:i,...o}=e,a=Et(),{direction:l}=ot(),{matchedBreakpoints:s=(null===a||void 0===a?void 0:a.matchedBreakpoints)||["base"]}=n,c=function(e,t,n,r){let i={};for(let o in e){let a=t[o];if(!a||null==e[o])continue;let[l,s]=a;"function"===typeof l&&(l=l(n));let c=s(jt(e[o],r),e.colorVersion);if(Array.isArray(l))for(let e of l)i[e]=c;else i[l]=c}for(let o in Ct)i[o]&&(i[Ct[o]]="solid",i.boxSizing="border-box");return i}(e,t,l,s),u={...i,...c};o.className&&console.warn("The className prop is unsafe and is unsupported in React Spectrum v3. Please use style props with Spectrum variables, or UNSAFE_className if you absolutely must do something custom. Note that this may break in future versions due to DOM structure changes."),o.style&&console.warn("The style prop is unsafe and is unsupported in React Spectrum v3. Please use style props with Spectrum variables, or UNSAFE_style if you absolutely must do something custom. Note that this may break in future versions due to DOM structure changes.");let d={style:u,className:r};return jt(e.isHidden,s)&&(d.hidden=!0),{styleProps:d}}function Bt(e){return e}function jt(e,t){if(e&&"object"===typeof e&&!Array.isArray(e)){for(let n=0;n<t.length;n++){let r=t[n];if(null!=e[r])return e[r]}return e.base}return e}let Ut=y.createContext(null);function Kt(e,t){let n=e.slot||t,{[n]:r={}}=(0,y.useContext)(Ut)||{};return q(e,q(r,{id:e.id}))}function Wt(e){let t=(0,y.useContext)(Ut)||{},{slots:n={},children:r}=e,i=(0,y.useMemo)((()=>Object.keys(t).concat(Object.keys(n)).reduce(((e,r)=>({...e,[r]:q(t[r]||{},n[r]||{})})),{})),[t,n]);return y.createElement(Ut.Provider,{value:i},r)}function qt(e){let{children:t,...n}=e,r=t;return y.Children.toArray(t).length<=1&&"function"===typeof t&&(r=y.cloneElement(y.Children.only(t),n)),y.createElement(Ut.Provider,{value:{}},r)}function Ht(e,t){let[n,r]=(0,y.useState)(!0);return R((()=>{r(!(!t.current||!t.current.querySelector(e)))}),[r,e,t]),n}const Vt=700;function Gt(){return!D()&&"undefined"!==typeof window&&window.screen.width<=Vt}var Yt;Yt={dismiss:"\u062a\u062c\u0627\u0647\u0644"};var Qt;Qt={dismiss:"\u041e\u0442\u0445\u0432\u044a\u0440\u043b\u044f\u043d\u0435"};var Xt;Xt={dismiss:"Odstranit"};var $t;$t={dismiss:"Luk"};var Zt;Zt={dismiss:"Schlie\xdfen"};var Jt;Jt={dismiss:"\u0391\u03c0\u03cc\u03c1\u03c1\u03b9\u03c8\u03b7"};var en;en={dismiss:"Dismiss"};var tn;tn={dismiss:"Descartar"};var nn;nn={dismiss:"L\xf5peta"};var rn;rn={dismiss:"Hylk\xe4\xe4"};var on;on={dismiss:"Rejeter"};var an;an={dismiss:"\u05d4\u05ea\u05e2\u05dc\u05dd"};var ln;ln={dismiss:"Odbaci"};var sn;sn={dismiss:"Elutas\xedt\xe1s"};var cn;cn={dismiss:"Ignora"};var un;un={dismiss:"\u9589\u3058\u308b"};var dn;dn={dismiss:"\ubb34\uc2dc"};var fn;fn={dismiss:"Atmesti"};var hn;hn={dismiss:"Ner\u0101d\u012bt"};var pn;pn={dismiss:"Lukk"};var mn;mn={dismiss:"Negeren"};var gn;gn={dismiss:"Zignoruj"};var vn;vn={dismiss:"Descartar"};var yn;yn={dismiss:"Dispensar"};var bn;bn={dismiss:"Revocare"};var xn;xn={dismiss:"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c"};var wn;wn={dismiss:"Zru\u0161i\u0165"};var _n;_n={dismiss:"Opusti"};var kn;kn={dismiss:"Odbaci"};var En;En={dismiss:"Avvisa"};var Sn;Sn={dismiss:"Kapat"};var Cn;Cn={dismiss:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"};var Mn;Mn={dismiss:"\u53d6\u6d88"};var Tn;function An(e,t,n){let[r,i]=(0,y.useState)(e||t),o=(0,y.useRef)(void 0!==e),a=void 0!==e;(0,y.useEffect)((()=>{let e=o.current;e!==a&&console.warn("WARN: A component changed from ".concat(e?"controlled":"uncontrolled"," to ").concat(a?"controlled":"uncontrolled",".")),o.current=a}),[a]);let l=a?e:r,s=(0,y.useCallback)((function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];let s=function(e){if(n){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];Object.is(l,e)||n(e,...r)}a||(l=e)};if("function"===typeof e){console.warn("We can not support a function callback. See Github Issues for details https://github.com/adobe/react-spectrum/issues/2320");let t=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];let c=e(a?l:t,...i);return s(c,...r),a?t:c};i(t)}else a||i(e),s(e,...r)}),[a,l,n]);return[l,s]}function Dn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1/0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;return Math.min(Math.max(e,t),n)}function Fn(e,t,n,r){t=Number(t),n=Number(n);let i=(e-(isNaN(t)?0:t))%r,o=2*Math.abs(i)>=r?e+Math.sign(i)*(r-Math.abs(i)):e-i;isNaN(t)?!isNaN(n)&&o>n&&(o=Math.floor(n/r)*r):o<t?o=t:!isNaN(n)&&o>n&&(o=t+Math.floor((n-t)/r)*r);let a=r.toString(),l=a.indexOf("."),s=l>=0?a.length-l:0;if(s>0){let e=Math.pow(10,s);o=Math.round(o*e)/e}return o}function Nn(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function Rn(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function zn(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,Nn(e,t,"set"),n),n}Tn={dismiss:"\u95dc\u9589"};let Pn="default",On="",In=new WeakMap;function Ln(e){if(re()){if("default"===Pn){const t=K(e);On=t.documentElement.style.webkitUserSelect,t.documentElement.style.webkitUserSelect="none"}Pn="disabled"}else(e instanceof HTMLElement||e instanceof SVGElement)&&(In.set(e,e.style.userSelect),e.style.userSelect="none")}function Bn(e){if(re()){if("disabled"!==Pn)return;Pn="restoring",setTimeout((()=>{me((()=>{if("restoring"===Pn){const t=K(e);"none"===t.documentElement.style.webkitUserSelect&&(t.documentElement.style.webkitUserSelect=On||""),On="",Pn="default"}}))}),300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&In.has(e)){let t=In.get(e);"none"===e.style.userSelect&&(e.style.userSelect=t),""===e.getAttribute("style")&&e.removeAttribute("style"),In.delete(e)}}const jn=y.createContext({register:()=>{}});jn.displayName="PressResponderContext";var Un=new WeakMap;class Kn{continuePropagation(){zn(this,Un,!1)}get shouldStopPropagation(){return function(e,t){return t.get?t.get.call(e):t.value}(e=this,Nn(e,Un,"get"));var e}constructor(e,t,n){Rn(this,Un,{writable:!0,value:void 0}),zn(this,Un,!0),this.type=e,this.pointerType=t,this.target=n.currentTarget,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.ctrlKey=n.ctrlKey,this.altKey=n.altKey}}const Wn=Symbol("linkClicked");function qn(e){let{onPress:t,onPressChange:n,onPressStart:r,onPressEnd:i,onPressUp:o,isDisabled:a,isPressed:l,preventFocusOnPress:s,shouldCancelOnPointerExit:c,allowTextSelectionOnPress:u,ref:d,...f}=function(e){let t=(0,y.useContext)(jn);if(t){let{register:n,...r}=t;e=q(r,e),n()}return we(t,e.ref),e}(e),[h,p]=(0,y.useState)(!1),m=(0,y.useRef)({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null}),{addGlobalListener:g,removeAllGlobalListeners:v}=ge(),b=z(((e,t)=>{let i=m.current;if(a||i.didFirePressStart)return!1;let o=!0;if(i.isTriggeringEvent=!0,r){let n=new Kn("pressstart",t,e);r(n),o=n.shouldStopPropagation}return n&&n(!0),i.isTriggeringEvent=!1,i.didFirePressStart=!0,p(!0),o})),x=z((function(e,r){let o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],l=m.current;if(!l.didFirePressStart)return!1;l.ignoreClickAfterPress=!0,l.didFirePressStart=!1,l.isTriggeringEvent=!0;let s=!0;if(i){let t=new Kn("pressend",r,e);i(t),s=t.shouldStopPropagation}if(n&&n(!1),p(!1),t&&o&&!a){let n=new Kn("press",r,e);t(n),s&&(s=n.shouldStopPropagation)}return l.isTriggeringEvent=!1,s})),w=z(((e,t)=>{let n=m.current;if(a)return!1;if(o){n.isTriggeringEvent=!0;let r=new Kn("pressup",t,e);return o(r),n.isTriggeringEvent=!1,r.shouldStopPropagation}return!0})),_=z((e=>{let t=m.current;t.isPressed&&t.target&&(t.isOverTarget&&null!=t.pointerType&&x(Yn(t.target,e),t.pointerType,!1),t.isPressed=!1,t.isOverTarget=!1,t.activePointerId=null,t.pointerType=null,v(),u||Bn(t.target))})),k=z((e=>{c&&_(e)})),E=(0,y.useMemo)((()=>{let e=m.current,t={onKeyDown(t){if(Vn(t.nativeEvent,t.currentTarget)&&t.currentTarget.contains(t.target)){var r;$n(t.target,t.key)&&t.preventDefault();let i=!0;e.isPressed||t.repeat||(e.target=t.currentTarget,e.isPressed=!0,i=b(t,"keyboard"),g(K(t.currentTarget),"keyup",n,!1)),i&&t.stopPropagation(),t.metaKey&&te()&&(null===(r=e.metaKeyEvents)||void 0===r||r.set(t.key,t.nativeEvent))}else"Meta"===t.key&&(e.metaKeyEvents=new Map)},onKeyUp(t){Vn(t.nativeEvent,t.currentTarget)&&!t.repeat&&t.currentTarget.contains(t.target)&&e.target&&w(Yn(e.target,t),"keyboard")},onClick(t){if((!t||t.currentTarget.contains(t.target))&&t&&0===t.button&&!e.isTriggeringEvent&&!ce.isOpening){let n=!0;if(a&&t.preventDefault(),!e.ignoreClickAfterPress&&!e.ignoreEmulatedMouseEvents&&!e.isPressed&&("virtual"===e.pointerType||ze(t.nativeEvent))){a||s||$(t.currentTarget);let e=b(t,"virtual"),r=w(t,"virtual"),i=x(t,"virtual");n=e&&r&&i}e.ignoreEmulatedMouseEvents=!1,e.ignoreClickAfterPress=!1,n&&t.stopPropagation()}}},n=t=>{var n;if(e.isPressed&&e.target&&Vn(t,e.target)){var r;$n(t.target,t.key)&&t.preventDefault();let n=t.target,i=x(Yn(e.target,t),"keyboard",e.target.contains(n));v(),i&&t.stopPropagation(),"Enter"!==t.key&&Hn(e.target)&&e.target.contains(n)&&!t[Wn]&&(t[Wn]=!0,ce(e.target,t,!1)),e.isPressed=!1,null===(r=e.metaKeyEvents)||void 0===r||r.delete(t.key)}else if("Meta"===t.key&&(null===(n=e.metaKeyEvents)||void 0===n?void 0:n.size)){var i;let t=e.metaKeyEvents;e.metaKeyEvents=void 0;for(let n of t.values())null===(i=e.target)||void 0===i||i.dispatchEvent(new KeyboardEvent("keyup",n))}};if("undefined"!==typeof PointerEvent){t.onPointerDown=t=>{if(0!==t.button||!t.currentTarget.contains(t.target))return;if(o=t.nativeEvent,!oe()&&0===o.width&&0===o.height||1===o.width&&1===o.height&&0===o.pressure&&0===o.detail&&"mouse"===o.pointerType)return void(e.pointerType="virtual");var o;Xn(t.currentTarget)&&t.preventDefault(),e.pointerType=t.pointerType;let l=!0;e.isPressed||(e.isPressed=!0,e.isOverTarget=!0,e.activePointerId=t.pointerId,e.target=t.currentTarget,a||s||$(t.currentTarget),u||Ln(e.target),l=b(t,e.pointerType),g(K(t.currentTarget),"pointermove",n,!1),g(K(t.currentTarget),"pointerup",r,!1),g(K(t.currentTarget),"pointercancel",i,!1)),l&&t.stopPropagation()},t.onMouseDown=e=>{e.currentTarget.contains(e.target)&&0===e.button&&(Xn(e.currentTarget)&&e.preventDefault(),e.stopPropagation())},t.onPointerUp=t=>{t.currentTarget.contains(t.target)&&"virtual"!==e.pointerType&&0===t.button&&Qn(t,t.currentTarget)&&w(t,e.pointerType||t.pointerType)};let n=t=>{t.pointerId===e.activePointerId&&(e.target&&Qn(t,e.target)?e.isOverTarget||null==e.pointerType||(e.isOverTarget=!0,b(Yn(e.target,t),e.pointerType)):e.target&&e.isOverTarget&&null!=e.pointerType&&(e.isOverTarget=!1,x(Yn(e.target,t),e.pointerType,!1),k(t)))},r=t=>{t.pointerId===e.activePointerId&&e.isPressed&&0===t.button&&e.target&&(Qn(t,e.target)&&null!=e.pointerType?x(Yn(e.target,t),e.pointerType):e.isOverTarget&&null!=e.pointerType&&x(Yn(e.target,t),e.pointerType,!1),e.isPressed=!1,e.isOverTarget=!1,e.activePointerId=null,e.pointerType=null,v(),u||Bn(e.target))},i=e=>{_(e)};t.onDragStart=e=>{e.currentTarget.contains(e.target)&&_(e)}}else{t.onMouseDown=t=>{if(0!==t.button||!t.currentTarget.contains(t.target))return;if(Xn(t.currentTarget)&&t.preventDefault(),e.ignoreEmulatedMouseEvents)return void t.stopPropagation();e.isPressed=!0,e.isOverTarget=!0,e.target=t.currentTarget,e.pointerType=ze(t.nativeEvent)?"virtual":"mouse",a||s||$(t.currentTarget),b(t,e.pointerType)&&t.stopPropagation(),g(K(t.currentTarget),"mouseup",n,!1)},t.onMouseEnter=t=>{if(!t.currentTarget.contains(t.target))return;let n=!0;e.isPressed&&!e.ignoreEmulatedMouseEvents&&null!=e.pointerType&&(e.isOverTarget=!0,n=b(t,e.pointerType)),n&&t.stopPropagation()},t.onMouseLeave=t=>{if(!t.currentTarget.contains(t.target))return;let n=!0;e.isPressed&&!e.ignoreEmulatedMouseEvents&&null!=e.pointerType&&(e.isOverTarget=!1,n=x(t,e.pointerType,!1),k(t)),n&&t.stopPropagation()},t.onMouseUp=t=>{t.currentTarget.contains(t.target)&&(e.ignoreEmulatedMouseEvents||0!==t.button||w(t,e.pointerType||"mouse"))};let n=t=>{0===t.button&&(e.isPressed=!1,v(),e.ignoreEmulatedMouseEvents?e.ignoreEmulatedMouseEvents=!1:(e.target&&Qn(t,e.target)&&null!=e.pointerType?x(Yn(e.target,t),e.pointerType):e.target&&e.isOverTarget&&null!=e.pointerType&&x(Yn(e.target,t),e.pointerType,!1),e.isOverTarget=!1))};t.onTouchStart=t=>{if(!t.currentTarget.contains(t.target))return;let n=function(e){const{targetTouches:t}=e;return t.length>0?t[0]:null}(t.nativeEvent);n&&(e.activePointerId=n.identifier,e.ignoreEmulatedMouseEvents=!0,e.isOverTarget=!0,e.isPressed=!0,e.target=t.currentTarget,e.pointerType="touch",a||s||$(t.currentTarget),u||Ln(e.target),b(t,e.pointerType)&&t.stopPropagation(),g(W(t.currentTarget),"scroll",r,!0))},t.onTouchMove=t=>{if(!t.currentTarget.contains(t.target))return;if(!e.isPressed)return void t.stopPropagation();let n=Gn(t.nativeEvent,e.activePointerId),r=!0;n&&Qn(n,t.currentTarget)?e.isOverTarget||null==e.pointerType||(e.isOverTarget=!0,r=b(t,e.pointerType)):e.isOverTarget&&null!=e.pointerType&&(e.isOverTarget=!1,r=x(t,e.pointerType,!1),k(t)),r&&t.stopPropagation()},t.onTouchEnd=t=>{if(!t.currentTarget.contains(t.target))return;if(!e.isPressed)return void t.stopPropagation();let n=Gn(t.nativeEvent,e.activePointerId),r=!0;n&&Qn(n,t.currentTarget)&&null!=e.pointerType?(w(t,e.pointerType),r=x(t,e.pointerType)):e.isOverTarget&&null!=e.pointerType&&(r=x(t,e.pointerType,!1)),r&&t.stopPropagation(),e.isPressed=!1,e.activePointerId=null,e.isOverTarget=!1,e.ignoreEmulatedMouseEvents=!0,e.target&&!u&&Bn(e.target),v()},t.onTouchCancel=t=>{t.currentTarget.contains(t.target)&&(t.stopPropagation(),e.isPressed&&_(t))};let r=t=>{e.isPressed&&t.target.contains(e.target)&&_({currentTarget:e.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};t.onDragStart=e=>{e.currentTarget.contains(e.target)&&_(e)}}return t}),[g,a,s,v,u,_,k,x,b,w]);return(0,y.useEffect)((()=>()=>{var e;u||Bn(null!==(e=m.current.target)&&void 0!==e?e:void 0)}),[u]),{isPressed:l||h,pressProps:q(f,E)}}function Hn(e){return"A"===e.tagName&&e.hasAttribute("href")}function Vn(e,t){const{key:n,code:r}=e,i=t,o=i.getAttribute("role");return("Enter"===n||" "===n||"Spacebar"===n||"Space"===r)&&!(i instanceof W(i).HTMLInputElement&&!Jn(i,n)||i instanceof W(i).HTMLTextAreaElement||i.isContentEditable)&&!(("link"===o||!o&&Hn(i))&&"Enter"!==n)}function Gn(e,t){const n=e.changedTouches;for(let r=0;r<n.length;r++){const e=n[r];if(e.identifier===t)return e}return null}function Yn(e,t){return{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey}}function Qn(e,t){let n=t.getBoundingClientRect(),r=function(e){let t=0,n=0;return void 0!==e.width?t=e.width/2:void 0!==e.radiusX&&(t=e.radiusX),void 0!==e.height?n=e.height/2:void 0!==e.radiusY&&(n=e.radiusY),{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}(e);return function(e,t){return!(e.left>t.right||t.left>e.right)&&!(e.top>t.bottom||t.top>e.bottom)}(n,r)}function Xn(e){return!(e instanceof HTMLElement)||!e.hasAttribute("draggable")}function $n(e,t){return e instanceof HTMLInputElement?!Jn(e,t):e instanceof HTMLButtonElement?"submit"!==e.type&&"reset"!==e.type:!Hn(e)}const Zn=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Jn(e,t){return"checkbox"===e.type||"radio"===e.type?" "===t:Zn.has(e.type)}const er=y.forwardRef(((e,t)=>{let{children:n,...r}=e,i=(0,y.useRef)(!1),o=(0,y.useContext)(jn);t=ye(t||(null===o||void 0===o?void 0:o.ref));let a=q(o||{},{...r,ref:t,register(){i.current=!0,o&&o.register()}});return we(o,t),(0,y.useEffect)((()=>{i.current||(console.warn("A PressResponder was rendered without a pressable child. Either call the usePress hook, or wrap your DOM node with <Pressable> component."),i.current=!0)}),[]),y.createElement(jn.Provider,{value:a},n)}));function tr(e){let{children:t}=e,n=(0,y.useMemo)((()=>({register:()=>{}})),[]);return y.createElement(jn.Provider,{value:n},t)}class nr{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(e,t){this.nativeEvent=t,this.target=t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget,this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.defaultPrevented=t.defaultPrevented,this.eventPhase=t.eventPhase,this.isTrusted=t.isTrusted,this.timeStamp=t.timeStamp,this.type=e}}function rr(e){let t=(0,y.useRef)({isFocused:!1,observer:null});R((()=>{const e=t.current;return()=>{e.observer&&(e.observer.disconnect(),e.observer=null)}}),[]);let n=z((t=>{null===e||void 0===e||e(t)}));return(0,y.useCallback)((e=>{if(e.target instanceof HTMLButtonElement||e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement||e.target instanceof HTMLSelectElement){t.current.isFocused=!0;let r=e.target,i=e=>{t.current.isFocused=!1,r.disabled&&n(new nr("blur",e)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};r.addEventListener("focusout",i,{once:!0}),t.current.observer=new MutationObserver((()=>{if(t.current.isFocused&&r.disabled){var e;null===(e=t.current.observer)||void 0===e||e.disconnect();let n=r===document.activeElement?null:document.activeElement;r.dispatchEvent(new FocusEvent("blur",{relatedTarget:n})),r.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:n}))}})),t.current.observer.observe(r,{attributes:!0,attributeFilter:["disabled"]})}}),[n])}function ir(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:i}=e;const o=(0,y.useCallback)((e=>{if(e.target===e.currentTarget)return r&&r(e),i&&i(!1),!0}),[r,i]),a=rr(o),l=(0,y.useCallback)((e=>{e.target===e.currentTarget&&document.activeElement===e.target&&(n&&n(e),i&&i(!0),a(e))}),[i,n,a]);return{focusProps:{onFocus:!t&&(n||i||r)?l:void 0,onBlur:t||!r&&!i?void 0:o}}}let or=null,ar=new Set,lr=!1,sr=!1,cr=!1;const ur={Tab:!0,Escape:!0};function dr(e,t){for(let n of ar)n(e,t)}function fr(e){sr=!0,function(e){return!(e.metaKey||!te()&&e.altKey||e.ctrlKey||"Control"===e.key||"Shift"===e.key||"Meta"===e.key)}(e)&&(or="keyboard",dr("keyboard",e))}function hr(e){or="pointer","mousedown"!==e.type&&"pointerdown"!==e.type||(sr=!0,dr("pointer",e))}function pr(e){ze(e)&&(sr=!0,or="virtual")}function mr(e){e.target!==window&&e.target!==document&&(sr||cr||(or="virtual",dr("virtual",e)),sr=!1,cr=!1)}function gr(){sr=!1,cr=!0}function vr(){if("undefined"===typeof window||lr)return;let e=HTMLElement.prototype.focus;HTMLElement.prototype.focus=function(){sr=!0,e.apply(this,arguments)},document.addEventListener("keydown",fr,!0),document.addEventListener("keyup",fr,!0),document.addEventListener("click",pr,!0),window.addEventListener("focus",mr,!0),window.addEventListener("blur",gr,!1),"undefined"!==typeof PointerEvent?(document.addEventListener("pointerdown",hr,!0),document.addEventListener("pointermove",hr,!0),document.addEventListener("pointerup",hr,!0)):(document.addEventListener("mousedown",hr,!0),document.addEventListener("mousemove",hr,!0),document.addEventListener("mouseup",hr,!0)),lr=!0}function yr(){return"pointer"!==or}function br(){return or}function xr(e){or=e,dr(e,null)}function wr(){vr();let[e,t]=(0,y.useState)(or);return(0,y.useEffect)((()=>{let e=()=>{t(or)};return ar.add(e),()=>{ar.delete(e)}}),[]),D()?null:e}"undefined"!==typeof document&&("loading"!==document.readyState?vr():document.addEventListener("DOMContentLoaded",vr));const _r=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function kr(e,t,n){vr(),(0,y.useEffect)((()=>{let t=(t,r)=>{(function(e,t,n){var r;return!((e=e||(null===n||void 0===n?void 0:n.target)instanceof HTMLInputElement&&!_r.has(null===n||void 0===n||null===(r=n.target)||void 0===r?void 0:r.type)||(null===n||void 0===n?void 0:n.target)instanceof HTMLTextAreaElement||(null===n||void 0===n?void 0:n.target)instanceof HTMLElement&&(null===n||void 0===n?void 0:n.target.isContentEditable))&&"keyboard"===t&&n instanceof KeyboardEvent&&!ur[n.key])})(!!(null===n||void 0===n?void 0:n.isTextInput),t,r)&&e(yr())};return ar.add(t),()=>{ar.delete(t)}}),t)}function Er(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:i}=e,o=(0,y.useRef)({isFocusWithin:!1}),a=(0,y.useCallback)((e=>{o.current.isFocusWithin&&!e.currentTarget.contains(e.relatedTarget)&&(o.current.isFocusWithin=!1,n&&n(e),i&&i(!1))}),[n,i,o]),l=rr(a),s=(0,y.useCallback)((e=>{o.current.isFocusWithin||document.activeElement!==e.target||(r&&r(e),i&&i(!0),o.current.isFocusWithin=!0,l(e))}),[r,i,l]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:s,onBlur:a}}}let Sr=!1,Cr=0;function Mr(){Sr=!0,setTimeout((()=>{Sr=!1}),50)}function Tr(e){"touch"===e.pointerType&&Mr()}function Ar(){if("undefined"!==typeof document)return"undefined"!==typeof PointerEvent?document.addEventListener("pointerup",Tr):document.addEventListener("touchend",Mr),Cr++,()=>{Cr--,Cr>0||("undefined"!==typeof PointerEvent?document.removeEventListener("pointerup",Tr):document.removeEventListener("touchend",Mr))}}function Dr(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:i}=e,[o,a]=(0,y.useState)(!1),l=(0,y.useRef)({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;(0,y.useEffect)(Ar,[]);let{hoverProps:s,triggerHoverEnd:c}=(0,y.useMemo)((()=>{let e=(e,r)=>{if(l.pointerType=r,i||"touch"===r||l.isHovered||!e.currentTarget.contains(e.target))return;l.isHovered=!0;let o=e.currentTarget;l.target=o,t&&t({type:"hoverstart",target:o,pointerType:r}),n&&n(!0),a(!0)},o=(e,t)=>{if(l.pointerType="",l.target=null,"touch"===t||!l.isHovered)return;l.isHovered=!1;let i=e.currentTarget;r&&r({type:"hoverend",target:i,pointerType:t}),n&&n(!1),a(!1)},s={};return"undefined"!==typeof PointerEvent?(s.onPointerEnter=t=>{Sr&&"mouse"===t.pointerType||e(t,t.pointerType)},s.onPointerLeave=e=>{!i&&e.currentTarget.contains(e.target)&&o(e,e.pointerType)}):(s.onTouchStart=()=>{l.ignoreEmulatedMouseEvents=!0},s.onMouseEnter=t=>{l.ignoreEmulatedMouseEvents||Sr||e(t,"mouse"),l.ignoreEmulatedMouseEvents=!1},s.onMouseLeave=e=>{!i&&e.currentTarget.contains(e.target)&&o(e,"mouse")}),{hoverProps:s,triggerHoverEnd:o}}),[t,n,r,i,l]);return(0,y.useEffect)((()=>{i&&c({currentTarget:l.target},l.pointerType)}),[i]),{hoverProps:s,isHovered:o}}function Fr(e){let{ref:t,onInteractOutside:n,isDisabled:r,onInteractOutsideStart:i}=e,o=(0,y.useRef)({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),a=z((e=>{n&&Nr(e,t)&&(i&&i(e),o.current.isPointerDown=!0)})),l=z((e=>{n&&n(e)}));(0,y.useEffect)((()=>{let e=o.current;if(r)return;const n=t.current,i=K(n);if("undefined"!==typeof PointerEvent){let n=n=>{e.isPointerDown&&Nr(n,t)&&l(n),e.isPointerDown=!1};return i.addEventListener("pointerdown",a,!0),i.addEventListener("pointerup",n,!0),()=>{i.removeEventListener("pointerdown",a,!0),i.removeEventListener("pointerup",n,!0)}}{let n=n=>{e.ignoreEmulatedMouseEvents?e.ignoreEmulatedMouseEvents=!1:e.isPointerDown&&Nr(n,t)&&l(n),e.isPointerDown=!1},r=n=>{e.ignoreEmulatedMouseEvents=!0,e.isPointerDown&&Nr(n,t)&&l(n),e.isPointerDown=!1};return i.addEventListener("mousedown",a,!0),i.addEventListener("mouseup",n,!0),i.addEventListener("touchstart",a,!0),i.addEventListener("touchend",r,!0),()=>{i.removeEventListener("mousedown",a,!0),i.removeEventListener("mouseup",n,!0),i.removeEventListener("touchstart",a,!0),i.removeEventListener("touchend",r,!0)}}}),[t,r,a,l])}function Nr(e,t){if(e.button>0)return!1;if(e.target){const t=e.target.ownerDocument;if(!t||!t.documentElement.contains(e.target))return!1;if(e.target.closest("[data-react-aria-top-layer]"))return!1}return t.current&&!t.current.contains(e.target)}function Rr(e){if(!e)return;let t=!0;return n=>{let r={...n,preventDefault(){n.preventDefault()},isDefaultPrevented:()=>n.isDefaultPrevented(),stopPropagation(){console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.")},continuePropagation(){t=!1}};e(r),t&&n.stopPropagation()}}function zr(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:Rr(e.onKeyDown),onKeyUp:Rr(e.onKeyUp)}}}function Pr(e){let{onMoveStart:t,onMove:n,onMoveEnd:r}=e,i=(0,y.useRef)({didMove:!1,lastPosition:null,id:null}),{addGlobalListener:o,removeGlobalListener:a}=ge(),l=z(((e,r,o,a)=>{0===o&&0===a||(i.current.didMove||(i.current.didMove=!0,null===t||void 0===t||t({type:"movestart",pointerType:r,shiftKey:e.shiftKey,metaKey:e.metaKey,ctrlKey:e.ctrlKey,altKey:e.altKey})),null===n||void 0===n||n({type:"move",pointerType:r,deltaX:o,deltaY:a,shiftKey:e.shiftKey,metaKey:e.metaKey,ctrlKey:e.ctrlKey,altKey:e.altKey}))})),s=z(((e,t)=>{Bn(),i.current.didMove&&(null===r||void 0===r||r({type:"moveend",pointerType:t,shiftKey:e.shiftKey,metaKey:e.metaKey,ctrlKey:e.ctrlKey,altKey:e.altKey}))})),c=(0,y.useMemo)((()=>{let e={},t=()=>{Ln(),i.current.didMove=!1};if("undefined"===typeof PointerEvent){let n=e=>{var t,n,r,o;0===e.button&&(l(e,"mouse",e.pageX-(null!==(r=null===(t=i.current.lastPosition)||void 0===t?void 0:t.pageX)&&void 0!==r?r:0),e.pageY-(null!==(o=null===(n=i.current.lastPosition)||void 0===n?void 0:n.pageY)&&void 0!==o?o:0)),i.current.lastPosition={pageX:e.pageX,pageY:e.pageY})},r=e=>{0===e.button&&(s(e,"mouse"),a(window,"mousemove",n,!1),a(window,"mouseup",r,!1))};e.onMouseDown=e=>{0===e.button&&(t(),e.stopPropagation(),e.preventDefault(),i.current.lastPosition={pageX:e.pageX,pageY:e.pageY},o(window,"mousemove",n,!1),o(window,"mouseup",r,!1))};let c=e=>{let t=[...e.changedTouches].findIndex((e=>{let{identifier:t}=e;return t===i.current.id}));if(t>=0){var n,r;let{pageX:s,pageY:c}=e.changedTouches[t];var o,a;l(e,"touch",s-(null!==(o=null===(n=i.current.lastPosition)||void 0===n?void 0:n.pageX)&&void 0!==o?o:0),c-(null!==(a=null===(r=i.current.lastPosition)||void 0===r?void 0:r.pageY)&&void 0!==a?a:0)),i.current.lastPosition={pageX:s,pageY:c}}},u=e=>{[...e.changedTouches].findIndex((e=>{let{identifier:t}=e;return t===i.current.id}))>=0&&(s(e,"touch"),i.current.id=null,a(window,"touchmove",c),a(window,"touchend",u),a(window,"touchcancel",u))};e.onTouchStart=e=>{if(0===e.changedTouches.length||null!=i.current.id)return;let{pageX:n,pageY:r,identifier:a}=e.changedTouches[0];t(),e.stopPropagation(),e.preventDefault(),i.current.lastPosition={pageX:n,pageY:r},i.current.id=a,o(window,"touchmove",c,!1),o(window,"touchend",u,!1),o(window,"touchcancel",u,!1)}}else{let n=e=>{if(e.pointerId===i.current.id){var t,n;let a=e.pointerType||"mouse";var r,o;l(e,a,e.pageX-(null!==(r=null===(t=i.current.lastPosition)||void 0===t?void 0:t.pageX)&&void 0!==r?r:0),e.pageY-(null!==(o=null===(n=i.current.lastPosition)||void 0===n?void 0:n.pageY)&&void 0!==o?o:0)),i.current.lastPosition={pageX:e.pageX,pageY:e.pageY}}},r=e=>{if(e.pointerId===i.current.id){let t=e.pointerType||"mouse";s(e,t),i.current.id=null,a(window,"pointermove",n,!1),a(window,"pointerup",r,!1),a(window,"pointercancel",r,!1)}};e.onPointerDown=e=>{0===e.button&&null==i.current.id&&(t(),e.stopPropagation(),e.preventDefault(),i.current.lastPosition={pageX:e.pageX,pageY:e.pageY},i.current.id=e.pointerId,o(window,"pointermove",n,!1),o(window,"pointerup",r,!1),o(window,"pointercancel",r,!1))}}let n=(e,n,r)=>{t(),l(e,"keyboard",n,r),s(e,"keyboard")};return e.onKeyDown=e=>{switch(e.key){case"Left":case"ArrowLeft":e.preventDefault(),e.stopPropagation(),n(e,-1,0);break;case"Right":case"ArrowRight":e.preventDefault(),e.stopPropagation(),n(e,1,0);break;case"Up":case"ArrowUp":e.preventDefault(),e.stopPropagation(),n(e,0,-1);break;case"Down":case"ArrowDown":e.preventDefault(),e.stopPropagation(),n(e,0,1)}},e}),[i,o,a,l,s]);return{moveProps:c}}const Or=500;function Ir(e){let{isDisabled:t,onLongPressStart:n,onLongPressEnd:r,onLongPress:i,threshold:o=Or,accessibilityDescription:a}=e;const l=(0,y.useRef)();let{addGlobalListener:s,removeGlobalListener:c}=ge(),{pressProps:u}=qn({isDisabled:t,onPressStart(e){if(e.continuePropagation(),("mouse"===e.pointerType||"touch"===e.pointerType)&&(n&&n({...e,type:"longpressstart"}),l.current=setTimeout((()=>{e.target.dispatchEvent(new PointerEvent("pointercancel",{bubbles:!0})),i&&i({...e,type:"longpress"}),l.current=void 0}),o),"touch"===e.pointerType)){let t=e=>{e.preventDefault()};s(e.target,"contextmenu",t,{once:!0}),s(window,"pointerup",(()=>{setTimeout((()=>{c(e.target,"contextmenu",t)}),30)}),{once:!0})}},onPressEnd(e){l.current&&clearTimeout(l.current),!r||"mouse"!==e.pointerType&&"touch"!==e.pointerType||r({...e,type:"longpressend"})}});return{longPressProps:q(u,Ae(i&&!t?a:void 0))}}function Lr(e){const t=K(e);if("virtual"===br()){let n=t.activeElement;me((()=>{t.activeElement===n&&e.isConnected&&$(e)}))}else $(e)}function Br(e,t){return"#comment"!==e.nodeName&&function(e){const t=W(e);if(!(e instanceof t.HTMLElement)&&!(e instanceof t.SVGElement))return!1;let{display:n,visibility:r}=e.style,i="none"!==n&&"hidden"!==r&&"collapse"!==r;if(i){const{getComputedStyle:t}=e.ownerDocument.defaultView;let{display:n,visibility:r}=t(e);i="none"!==n&&"hidden"!==r&&"collapse"!==r}return i}(e)&&function(e,t){return!e.hasAttribute("hidden")&&("DETAILS"!==e.nodeName||!t||"SUMMARY"===t.nodeName||e.hasAttribute("open"))}(e,t)&&(!e.parentElement||Br(e.parentElement,e))}const jr=y.createContext(null);let Ur=null;function Kr(e){let{children:t,contain:n,restoreFocus:r,autoFocus:i}=e,o=(0,y.useRef)(null),a=(0,y.useRef)(null),l=(0,y.useRef)([]),{parentNode:s}=(0,y.useContext)(jr)||{},c=(0,y.useMemo)((()=>new ni({scopeRef:l})),[l]);R((()=>{let e=s||ri.root;if(ri.getTreeNode(e.scopeRef)&&Ur&&!$r(Ur,e.scopeRef)){let t=ri.getTreeNode(Ur);t&&(e=t)}e.addChild(c),ri.addNode(c)}),[c,s]),R((()=>{let e=ri.getTreeNode(l);e&&(e.contain=!!n)}),[n]),R((()=>{var e;let t=null===(e=o.current)||void 0===e?void 0:e.nextSibling,n=[];for(;t&&t!==a.current;)n.push(t),t=t.nextSibling;l.current=n}),[t]),function(e,t,n){R((()=>{if(t||n)return;let r=e.current;const i=K(r?r[0]:void 0);let o=t=>{let n=t.target;Qr(n,e.current)?Ur=e:Yr(n)||(Ur=null)};return i.addEventListener("focusin",o,!1),null===r||void 0===r||r.forEach((e=>e.addEventListener("focusin",o,!1))),()=>{i.removeEventListener("focusin",o,!1),null===r||void 0===r||r.forEach((e=>e.removeEventListener("focusin",o,!1)))}}),[e,t,n])}(l,r,n),function(e,t){let n=(0,y.useRef)(),r=(0,y.useRef)();R((()=>{let i=e.current;if(!t)return void(r.current&&(cancelAnimationFrame(r.current),r.current=void 0));const o=K(i?i[0]:void 0);let a=t=>{if("Tab"!==t.key||t.altKey||t.ctrlKey||t.metaKey||!Gr(e))return;let n=o.activeElement,r=e.current;if(!r||!Qr(n,r))return;let i=ei(Vr(r),{tabbable:!0},r);if(!n)return;i.currentNode=n;let a=t.shiftKey?i.previousNode():i.nextNode();a||(i.currentNode=t.shiftKey?r[r.length-1].nextElementSibling:r[0].previousElementSibling,a=t.shiftKey?i.previousNode():i.nextNode()),t.preventDefault(),a&&Zr(a,!0)},l=t=>{Ur&&!$r(Ur,e)||!Qr(t.target,e.current)?Gr(e)&&!Xr(t.target,e)?n.current?n.current.focus():Ur&&Ur.current&&Jr(Ur.current):Gr(e)&&(n.current=t.target):(Ur=e,n.current=t.target)},s=t=>{r.current&&cancelAnimationFrame(r.current),r.current=requestAnimationFrame((()=>{var r;o.activeElement&&Gr(e)&&!Xr(o.activeElement,e)&&(Ur=e,o.body.contains(t.target)?(n.current=t.target,null===(r=n.current)||void 0===r||r.focus()):Ur.current&&Jr(Ur.current))}))};return o.addEventListener("keydown",a,!1),o.addEventListener("focusin",l,!1),null===i||void 0===i||i.forEach((e=>e.addEventListener("focusin",l,!1))),null===i||void 0===i||i.forEach((e=>e.addEventListener("focusout",s,!1))),()=>{o.removeEventListener("keydown",a,!1),o.removeEventListener("focusin",l,!1),null===i||void 0===i||i.forEach((e=>e.removeEventListener("focusin",l,!1))),null===i||void 0===i||i.forEach((e=>e.removeEventListener("focusout",s,!1)))}}),[e,t]),R((()=>()=>{r.current&&cancelAnimationFrame(r.current)}),[r])}(l,n),function(e,t,n){const r=(0,y.useRef)("undefined"!==typeof document?K(e.current?e.current[0]:void 0).activeElement:null);R((()=>{let r=e.current;const i=K(r?r[0]:void 0);if(!t||n)return;let o=()=>{Ur&&!$r(Ur,e)||!Qr(i.activeElement,e.current)||(Ur=e)};return i.addEventListener("focusin",o,!1),null===r||void 0===r||r.forEach((e=>e.addEventListener("focusin",o,!1))),()=>{i.removeEventListener("focusin",o,!1),null===r||void 0===r||r.forEach((e=>e.removeEventListener("focusin",o,!1)))}}),[e,n]),R((()=>{const r=K(e.current?e.current[0]:void 0);if(!t)return;let i=t=>{if("Tab"!==t.key||t.altKey||t.ctrlKey||t.metaKey||!Gr(e))return;let n=r.activeElement;if(!Qr(n,e.current))return;let i=ri.getTreeNode(e);if(!i)return;let o=i.nodeToRestore,a=ei(r.body,{tabbable:!0});a.currentNode=n;let l=t.shiftKey?a.previousNode():a.nextNode();if(o&&r.body.contains(o)&&o!==r.body||(o=void 0,i.nodeToRestore=void 0),(!l||!Qr(l,e.current))&&o){a.currentNode=o;do{l=t.shiftKey?a.previousNode():a.nextNode()}while(Qr(l,e.current));t.preventDefault(),t.stopPropagation(),l?Zr(l,!0):Yr(o)?Zr(o,!0):n.blur()}};return n||r.addEventListener("keydown",i,!0),()=>{n||r.removeEventListener("keydown",i,!0)}}),[e,t,n]),R((()=>{const n=K(e.current?e.current[0]:void 0);if(!t)return;let i=ri.getTreeNode(e);var o;return i?(i.nodeToRestore=null!==(o=r.current)&&void 0!==o?o:void 0,()=>{let r=ri.getTreeNode(e);if(!r)return;let i=r.nodeToRestore;if(t&&i&&(Qr(n.activeElement,e.current)||n.activeElement===n.body&&function(e){let t=ri.getTreeNode(Ur);for(;t&&t.scopeRef!==e;){if(t.nodeToRestore)return!1;t=t.parent}return(null===t||void 0===t?void 0:t.scopeRef)===e}(e))){let t=ri.clone();requestAnimationFrame((()=>{if(n.activeElement===n.body){let n=t.getTreeNode(e);for(;n;){if(n.nodeToRestore&&n.nodeToRestore.isConnected)return void Zr(n.nodeToRestore);n=n.parent}for(n=t.getTreeNode(e);n;){if(n.scopeRef&&n.scopeRef.current&&ri.getTreeNode(n.scopeRef))return void Jr(n.scopeRef.current,!0);n=n.parent}}}))}}):void 0}),[e,t])}(l,r,n),function(e,t){const n=y.useRef(t);(0,y.useEffect)((()=>{if(n.current){Ur=e;!Qr(K(e.current?e.current[0]:void 0).activeElement,Ur.current)&&e.current&&Jr(e.current)}n.current=!1}),[e])}(l,i),(0,y.useEffect)((()=>{const e=K(l.current?l.current[0]:void 0).activeElement;let t=null;if(Qr(e,l.current)){for(let n of ri.traverse())n.scopeRef&&Qr(e,n.scopeRef.current)&&(t=n);t===ri.getTreeNode(l)&&(Ur=t.scopeRef)}}),[l]),R((()=>()=>{var e,t,n;let r=null!==(n=null===(t=ri.getTreeNode(l))||void 0===t||null===(e=t.parent)||void 0===e?void 0:e.scopeRef)&&void 0!==n?n:null;l!==Ur&&!$r(l,Ur)||r&&!ri.getTreeNode(r)||(Ur=r),ri.removeTreeNode(l)}),[l]);let u=(0,y.useMemo)((()=>function(e){return{focusNext(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.current,{from:r,tabbable:i,wrap:o,accept:a}=t,l=r||K(n[0]).activeElement,s=n[0].previousElementSibling,c=ei(Vr(n),{tabbable:i,accept:a},n);c.currentNode=Qr(l,n)?l:s;let u=c.nextNode();return!u&&o&&(c.currentNode=s,u=c.nextNode()),u&&Zr(u,!0),u},focusPrevious(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.current,{from:r,tabbable:i,wrap:o,accept:a}=t,l=r||K(n[0]).activeElement,s=n[n.length-1].nextElementSibling,c=ei(Vr(n),{tabbable:i,accept:a},n);c.currentNode=Qr(l,n)?l:s;let u=c.previousNode();return!u&&o&&(c.currentNode=s,u=c.previousNode()),u&&Zr(u,!0),u},focusFirst(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.current,{tabbable:r,accept:i}=t,o=ei(Vr(n),{tabbable:r,accept:i},n);o.currentNode=n[0].previousElementSibling;let a=o.nextNode();return a&&Zr(a,!0),a},focusLast(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.current,{tabbable:r,accept:i}=t,o=ei(Vr(n),{tabbable:r,accept:i},n);o.currentNode=n[n.length-1].nextElementSibling;let a=o.previousNode();return a&&Zr(a,!0),a}}}(l)),[]),d=(0,y.useMemo)((()=>({focusManager:u,parentNode:c})),[c,u]);return y.createElement(jr.Provider,{value:d},y.createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:o}),t,y.createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:a}))}const Wr=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],qr=Wr.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";Wr.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const Hr=Wr.join(':not([hidden]):not([tabindex="-1"]),');function Vr(e){return e[0].parentElement}function Gr(e){let t=ri.getTreeNode(Ur);for(;t&&t.scopeRef!==e;){if(t.contain)return!1;t=t.parent}return!0}function Yr(e){return Xr(e)}function Qr(e,t){return!!e&&(!!t&&t.some((t=>t.contains(e))))}function Xr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e instanceof Element&&e.closest("[data-react-aria-top-layer]"))return!0;for(let{scopeRef:n}of ri.traverse(ri.getTreeNode(t)))if(n&&Qr(e,n.current))return!0;return!1}function $r(e,t){var n;let r=null===(n=ri.getTreeNode(t))||void 0===n?void 0:n.parent;for(;r;){if(r.scopeRef===e)return!0;r=r.parent}return!1}function Zr(e){if(null==e||arguments.length>1&&void 0!==arguments[1]&&arguments[1]){if(null!=e)try{e.focus()}catch(t){}}else try{Lr(e)}catch(t){}}function Jr(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e[0].previousElementSibling,r=Vr(e),i=ei(r,{tabbable:t},e);i.currentNode=n;let o=i.nextNode();t&&!o&&(r=Vr(e),i=ei(r,{tabbable:!1},e),i.currentNode=n,o=i.nextNode()),Zr(o)}function ei(e,t,n){let r=(null===t||void 0===t?void 0:t.tabbable)?Hr:qr,i=K(e).createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode(e){var i;return(null===t||void 0===t||null===(i=t.from)||void 0===i?void 0:i.contains(e))?NodeFilter.FILTER_REJECT:!e.matches(r)||!Br(e)||n&&!Qr(e,n)||(null===t||void 0===t?void 0:t.accept)&&!t.accept(e)?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT}});return(null===t||void 0===t?void 0:t.from)&&(i.currentNode=t.from),i}class ti{get size(){return this.fastMap.size}getTreeNode(e){return this.fastMap.get(e)}addTreeNode(e,t,n){let r=this.fastMap.get(null!==t&&void 0!==t?t:null);if(!r)return;let i=new ni({scopeRef:e});r.addChild(i),i.parent=r,this.fastMap.set(e,i),n&&(i.nodeToRestore=n)}addNode(e){this.fastMap.set(e.scopeRef,e)}removeTreeNode(e){if(null===e)return;let t=this.fastMap.get(e);if(!t)return;let n=t.parent;for(let i of this.traverse())i!==t&&t.nodeToRestore&&i.nodeToRestore&&t.scopeRef&&t.scopeRef.current&&Qr(i.nodeToRestore,t.scopeRef.current)&&(i.nodeToRestore=t.nodeToRestore);let r=t.children;n&&(n.removeChild(t),r.size>0&&r.forEach((e=>n&&n.addChild(e)))),this.fastMap.delete(t.scopeRef)}traverse(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.root;return function*(){if(null!=t.scopeRef&&(yield t),t.children.size>0)for(let n of t.children)yield*e.traverse(n)}()}clone(){var e;let t=new ti;var n;for(let r of this.traverse())t.addTreeNode(r.scopeRef,null!==(n=null===(e=r.parent)||void 0===e?void 0:e.scopeRef)&&void 0!==n?n:null,r.nodeToRestore);return t}constructor(){this.fastMap=new Map,this.root=new ni({scopeRef:null}),this.fastMap.set(null,this.root)}}class ni{addChild(e){this.children.add(e),e.parent=this}removeChild(e){this.children.delete(e),e.parent=void 0}constructor(e){this.children=new Set,this.contain=!1,this.scopeRef=e.scopeRef}}let ri=new ti;function ii(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{autoFocus:t=!1,isTextInput:n,within:r}=e,i=(0,y.useRef)({isFocused:!1,isFocusVisible:t||yr()}),[o,a]=(0,y.useState)(!1),[l,s]=(0,y.useState)((()=>i.current.isFocused&&i.current.isFocusVisible)),c=(0,y.useCallback)((()=>s(i.current.isFocused&&i.current.isFocusVisible)),[]),u=(0,y.useCallback)((e=>{i.current.isFocused=e,a(e),c()}),[c]);kr((e=>{i.current.isFocusVisible=e,c()}),[],{isTextInput:n});let{focusProps:d}=ir({isDisabled:r,onFocusChange:u}),{focusWithinProps:f}=Er({isDisabled:!r,onFocusWithinChange:u});return{isFocused:o,isFocusVisible:l,focusProps:r?f:d}}function oi(e){let{children:t,focusClass:n,focusRingClass:r}=e,{isFocused:i,isFocusVisible:o,focusProps:a}=ii(e),l=y.Children.only(t);return y.cloneElement(l,q(l.props,{...a,className:N({[n||""]:i,[r||""]:o})}))}let ai=y.createContext(null);function li(e,t){let{children:n,...r}=e,i={...r,ref:ye(t)};return y.createElement(ai.Provider,{value:i},n)}let si=y.forwardRef(li);function ci(e,t){let{focusProps:n}=ir(e),{keyboardProps:r}=zr(e),i=q(n,r),o=function(e){let t=(0,y.useContext)(ai)||{};we(t,e);let{ref:n,...r}=t;return r}(t),a=e.isDisabled?{}:o,l=(0,y.useRef)(e.autoFocus);return(0,y.useEffect)((()=>{l.current&&t.current&&Lr(t.current),l.current=!1}),[t]),{focusableProps:q({...i,tabIndex:e.excludeFromTabOrder&&!e.isDisabled?-1:void 0},a)}}function ui(e,t){let n=null===t||void 0===t?void 0:t.isDisabled,[r,i]=(0,y.useState)(!1);return R((()=>{if((null===e||void 0===e?void 0:e.current)&&!n){let t=()=>{if(e.current){let t=ei(e.current,{tabbable:!0});i(!!t.nextNode())}};t();let n=new MutationObserver(t);return n.observe(e.current,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["tabIndex","disabled"]}),()=>{n.disconnect()}}})),!n&&r}var di=n(164);const fi={border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"};function hi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{style:t,isFocusable:n}=e,[r,i]=(0,y.useState)(!1),{focusWithinProps:o}=Er({isDisabled:!n,onFocusWithinChange:e=>i(e)});return{visuallyHiddenProps:{...o,style:(0,y.useMemo)((()=>r?t:t?{...fi,...t}:fi),[r])}}}function pi(e){let{children:t,elementType:n="div",isFocusable:r,style:i,...o}=e,{visuallyHiddenProps:a}=hi(e);return y.createElement(n,q(o,a),t)}function mi(e){return e&&e.__esModule?e.default:e}const gi={top:"top",bottom:"top",left:"left",right:"left"},vi={top:"bottom",bottom:"top",left:"right",right:"left"},yi={top:"left",left:"top"},bi={top:"height",left:"width"},xi={width:"totalWidth",height:"totalHeight"},wi={};let _i="undefined"!==typeof document&&window.visualViewport;function ki(e){let t=0,n=0,r=0,i=0,o=0,a=0,l={};if("BODY"===e.tagName){let o=document.documentElement;var s,c;r=o.clientWidth,i=o.clientHeight,t=null!==(s=null===_i||void 0===_i?void 0:_i.width)&&void 0!==s?s:r,n=null!==(c=null===_i||void 0===_i?void 0:_i.height)&&void 0!==c?c:i,l.top=o.scrollTop||e.scrollTop,l.left=o.scrollLeft||e.scrollLeft}else({width:t,height:n,top:o,left:a}=Di(e)),l.top=e.scrollTop,l.left=e.scrollLeft,r=t,i=n;return{width:t,height:n,totalWidth:r,totalHeight:i,scroll:l,top:o,left:a}}function Ei(e,t,n,r,i,o){let a=i.scroll[e],l=r[bi[e]],s=t-o-a,c=t+o-a+n;return s<0?-s:c>l?Math.max(l-c,-s):0}function Si(e){if(wi[e])return wi[e];let[t,n]=e.split(" "),r=gi[t]||"right",i=yi[r];gi[n]||(n="center");let o=bi[r],a=bi[i];return wi[e]={placement:t,crossPlacement:n,axis:r,crossAxis:i,size:o,crossSize:a},wi[e]}function Ci(e,t,n,r,i,o,a,l,s,c){let{placement:u,crossPlacement:d,axis:f,crossAxis:h,size:p,crossSize:m}=r,g={};g[h]=e[h],"center"===d?g[h]+=(e[m]-n[m])/2:d!==h&&(g[h]+=e[m]-n[m]),g[h]+=o;const v=e[h]-n[m]+s+c,y=e[h]+e[m]-s-c;if(g[h]=Dn(g[h],v,y),u===f){const n=l?a[p]:t[xi[p]];g[vi[f]]=Math.floor(n-e[f]+i)}else g[f]=Math.floor(e[f]+e[p]+i);return g}function Mi(e,t,n,r,i,o){let{placement:a,axis:l,size:s}=o;return a===l?Math.max(0,n[l]-e[l]-e.scroll[l]+t[l]-r[l]-r[vi[l]]-i):Math.max(0,e[s]+e[l]+e.scroll[l]-t[l]-n[l]-n[s]-r[l]-r[vi[l]]-i)}function Ti(e,t,n,r,i,o,a,l,s,c,u,d,f,h,p,m){let g=Si(e),{size:v,crossAxis:y,crossSize:b,placement:x,crossPlacement:w}=g,_=Ci(t,l,n,g,u,d,c,f,p,m),k=u,E=Mi(l,c,t,i,o+u,g);if(a&&r[v]>E){let e=Si("".concat(vi[x]," ").concat(w)),r=Ci(t,l,n,e,u,d,c,f,p,m);Mi(l,c,t,i,o+u,e)>E&&(g=e,_=r,k=u)}let S=Ei(y,_[y],n[b],l,s,o);_[y]+=S;let C=function(e,t,n,r,i,o){return null!=e.top?Math.max(0,t.height+t.top+t.scroll.top-(n.top+e.top)-(i.top+i.bottom+o)):Math.max(0,r.top+n.top-(t.top+t.scroll.top)-(i.top+i.bottom+o))}(_,l,c,t,i,o);h&&h<C&&(C=h),n.height=Math.min(n.height,C),_=Ci(t,l,n,g,k,d,c,f,p,m),S=Ei(y,_[y],n[b],l,s,o),_[y]+=S;let M={},T=t[y]+.5*t[b]-n[y];const A=p/2+m,D=n[b]-p/2-m,F=Dn(T,t[y]-n[y]+p/2,t[y]+t[b]-n[y]-p/2);return M[y]=Dn(F,A,D),{position:_,maxHeight:C,arrowOffsetLeft:M.left,arrowOffsetTop:M.top,placement:g.placement}}function Ai(e){let{placement:t,targetNode:n,overlayNode:r,scrollNode:i,padding:o,shouldFlip:a,boundaryElement:l,offset:s,crossOffset:c,maxHeight:u,arrowSize:d=0,arrowBoundaryOffset:f=0}=e,h=r instanceof HTMLElement?function(e){let t=e.offsetParent;t&&t===document.body&&"static"===window.getComputedStyle(t).position&&!Ni(t)&&(t=document.documentElement);if(null==t)for(t=e.parentElement;t&&!Ni(t);)t=t.parentElement;return t||document.documentElement}(r):document.documentElement,p=h===document.documentElement;const m=window.getComputedStyle(h).position;let g=!!m&&"static"!==m,v=p?Di(n):Fi(n,h);if(!p){let{marginTop:e,marginLeft:t}=window.getComputedStyle(n);v.top+=parseInt(e,10)||0,v.left+=parseInt(t,10)||0}let y=Di(r),b=function(e){let t=window.getComputedStyle(e);return{top:parseInt(t.marginTop,10)||0,bottom:parseInt(t.marginBottom,10)||0,left:parseInt(t.marginLeft,10)||0,right:parseInt(t.marginRight,10)||0}}(r);var x;return y.width+=b.left+b.right,y.height+=b.top+b.bottom,Ti(t,v,y,{top:(x=i).scrollTop,left:x.scrollLeft,width:x.scrollWidth,height:x.scrollHeight},b,o,a,ki(l),ki(h),"BODY"===l.tagName?Di(h):Fi(h,l),s,c,g,u,d,f)}function Di(e){let{top:t,left:n,width:r,height:i}=e.getBoundingClientRect(),{scrollTop:o,scrollLeft:a,clientTop:l,clientLeft:s}=document.documentElement;return{top:t+o-l,left:n+a-s,width:r,height:i}}function Fi(e,t){let n,r=window.getComputedStyle(e);if("fixed"===r.position){let{top:t,left:r,width:i,height:o}=e.getBoundingClientRect();n={top:t,left:r,width:i,height:o}}else{n=Di(e);let r=Di(t),i=window.getComputedStyle(t);r.top+=(parseInt(i.borderTopWidth,10)||0)-t.scrollTop,r.left+=(parseInt(i.borderLeftWidth,10)||0)-t.scrollLeft,n.top-=r.top,n.left-=r.left}return n.top-=parseInt(r.marginTop,10)||0,n.left-=parseInt(r.marginLeft,10)||0,n}function Ni(e){let t=window.getComputedStyle(e);return"none"!==t.transform||/transform|perspective/.test(t.willChange)||"none"!==t.filter||"paint"===t.contain||"backdropFilter"in t&&"none"!==t.backdropFilter||"WebkitBackdropFilter"in t&&"none"!==t.WebkitBackdropFilter}const Ri=new WeakMap;function zi(e){let{triggerRef:t,isOpen:n,onClose:r}=e;(0,y.useEffect)((()=>{if(!n||null===r)return;let e=e=>{let n=e.target;if(!t.current||n instanceof Node&&!n.contains(t.current))return;let i=r||Ri.get(t.current);i&&i()};return window.addEventListener("scroll",e,!0),()=>{window.removeEventListener("scroll",e,!0)}}),[n,r,t])}let Pi="undefined"!==typeof document&&window.visualViewport;function Oi(e){let{direction:t}=ot(),{arrowSize:n=0,targetRef:r,overlayRef:i,scrollRef:o=i,placement:a="bottom",containerPadding:l=12,shouldFlip:s=!0,boundaryElement:c=("undefined"!==typeof document?document.body:null),offset:u=0,crossOffset:d=0,shouldUpdatePosition:f=!0,isOpen:h=!0,onClose:p,maxHeight:m,arrowBoundaryOffset:g=0}=e,[v,b]=(0,y.useState)({position:{},arrowOffsetLeft:void 0,arrowOffsetTop:void 0,maxHeight:void 0,placement:void 0}),x=[f,a,i.current,r.current,o.current,l,s,c,u,d,h,t,m,g,n],w=(0,y.useCallback)((()=>{if(!1===f||!h||!i.current||!r.current||!o.current||!c)return;let e=Ai({placement:Ii(a,t),overlayNode:i.current,targetNode:r.current,scrollNode:o.current,padding:l,shouldFlip:s,boundaryElement:c,offset:u,crossOffset:d,maxHeight:m,arrowSize:n,arrowBoundaryOffset:g});Object.keys(e.position).forEach((t=>i.current.style[t]=e.position[t]+"px")),i.current.style.maxHeight=null!=e.maxHeight?e.maxHeight+"px":void 0,b(e)}),x);var _;R(w,x),R((()=>(window.addEventListener("resize",_,!1),()=>{window.removeEventListener("resize",_,!1)})),[_=w]),xe({ref:i,onResize:w});let k=(0,y.useRef)(!1);R((()=>{let e,t=()=>{k.current=!0,clearTimeout(e),e=setTimeout((()=>{k.current=!1}),500),w()};return null===Pi||void 0===Pi||Pi.addEventListener("resize",t),null===Pi||void 0===Pi||Pi.addEventListener("scroll",t),()=>{null===Pi||void 0===Pi||Pi.removeEventListener("resize",t),null===Pi||void 0===Pi||Pi.removeEventListener("scroll",t)}}),[w]);let E=(0,y.useCallback)((()=>{k.current||p()}),[p,k]);return zi({triggerRef:r,isOpen:h,onClose:p&&E}),{overlayProps:{style:{position:"absolute",zIndex:1e5,...v.position,maxHeight:v.maxHeight}},placement:v.placement,arrowProps:{"aria-hidden":"true",role:"presentation",style:{left:v.arrowOffsetLeft,top:v.arrowOffsetTop}},updatePosition:w}}function Ii(e,t){return"rtl"===t?e.replace("start","right").replace("end","left"):e.replace("start","left").replace("end","right")}const Li=[];function Bi(e,t){let{onClose:n,shouldCloseOnBlur:r,isOpen:i,isDismissable:o=!1,isKeyboardDismissDisabled:a=!1,shouldCloseOnInteractOutside:l}=e;(0,y.useEffect)((()=>(i&&Li.push(t),()=>{let e=Li.indexOf(t);e>=0&&Li.splice(e,1)})),[i,t]);let s=()=>{Li[Li.length-1]===t&&n&&n()};Fr({ref:t,onInteractOutside:o&&i?e=>{l&&!l(e.target)||(Li[Li.length-1]===t&&(e.stopPropagation(),e.preventDefault()),s())}:null,onInteractOutsideStart:e=>{l&&!l(e.target)||Li[Li.length-1]===t&&(e.stopPropagation(),e.preventDefault())}});let{focusWithinProps:c}=Er({isDisabled:!r,onBlurWithin:e=>{e.relatedTarget&&!Xr(e.relatedTarget,Ur)&&(l&&!l(e.relatedTarget)||n())}});return{overlayProps:{onKeyDown:e=>{"Escape"!==e.key||a||(e.stopPropagation(),e.preventDefault(),s())},...c},underlayProps:{onPointerDown:e=>{e.target===e.currentTarget&&e.preventDefault()}}}}function ji(e,t,n){let r,{type:i}=e,{isOpen:o}=t;(0,y.useEffect)((()=>{n&&n.current&&Ri.set(n.current,t.close)})),"menu"===i?r=!0:"listbox"===i&&(r="listbox");let a=L();return{triggerProps:{"aria-haspopup":r,"aria-expanded":o,"aria-controls":o?a:null,onPress:t.toggle},overlayProps:{id:a}}}const Ui="undefined"!==typeof document&&window.visualViewport,Ki=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Wi,qi=0;function Hi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{isDisabled:t}=e;R((()=>{if(!t)return qi++,1===qi&&(Wi=re()?function(){let e,t,n=n=>{e=_e(n.target,!0),e===document.documentElement&&e===document.body||e instanceof HTMLElement&&"auto"===window.getComputedStyle(e).overscrollBehavior&&(t=Vi(e,"overscrollBehavior","contain"))},r=t=>{e&&e!==document.documentElement&&e!==document.body?e.scrollHeight===e.clientHeight&&e.scrollWidth===e.clientWidth&&t.preventDefault():t.preventDefault()},i=e=>{let n=e.target;Qi(n)&&n!==document.activeElement&&(e.preventDefault(),l(),n.style.transform="translateY(-2000px)",n.focus(),requestAnimationFrame((()=>{n.style.transform=""}))),t&&t()},o=e=>{let t=e.target;Qi(t)&&(l(),t.style.transform="translateY(-2000px)",requestAnimationFrame((()=>{t.style.transform="",Ui&&(Ui.height<window.innerHeight?requestAnimationFrame((()=>{Yi(t)})):Ui.addEventListener("resize",(()=>Yi(t)),{once:!0}))})))},a=null,l=()=>{if(a)return;let e=()=>{window.scrollTo(0,0)},t=window.pageXOffset,n=window.pageYOffset;a=U(Gi(window,"scroll",e),Vi(document.documentElement,"paddingRight","".concat(window.innerWidth-document.documentElement.clientWidth,"px")),Vi(document.documentElement,"overflow","hidden"),Vi(document.body,"marginTop","-".concat(n,"px")),(()=>{window.scrollTo(t,n)})),window.scrollTo(0,0)},s=U(Gi(document,"touchstart",n,{passive:!1,capture:!0}),Gi(document,"touchmove",r,{passive:!1,capture:!0}),Gi(document,"touchend",i,{passive:!1,capture:!0}),Gi(document,"focus",o,!0));return()=>{null===t||void 0===t||t(),null===a||void 0===a||a(),s()}}():U(Vi(document.documentElement,"paddingRight","".concat(window.innerWidth-document.documentElement.clientWidth,"px")),Vi(document.documentElement,"overflow","hidden"))),()=>{qi--,0===qi&&Wi()}}),[t])}function Vi(e,t,n){let r=e.style[t];return e.style[t]=n,()=>{e.style[t]=r}}function Gi(e,t,n,r){return e.addEventListener(t,n,r),()=>{e.removeEventListener(t,n,r)}}function Yi(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let t=_e(e);if(t!==document.documentElement&&t!==document.body&&t!==e){let n=t.getBoundingClientRect().top,r=e.getBoundingClientRect().top;r>n+e.clientHeight&&(t.scrollTop+=r-n)}e=t.parentElement}}function Qi(e){return e instanceof HTMLInputElement&&!Ki.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}const Xi=y.createContext(null);function $i(e){let{children:t}=e,n=(0,y.useContext)(Xi),[r,i]=(0,y.useState)(0),o=(0,y.useMemo)((()=>({parent:n,modalCount:r,addModal(){i((e=>e+1)),n&&n.addModal()},removeModal(){i((e=>e-1)),n&&n.removeModal()}})),[n,r]);return y.createElement(Xi.Provider,{value:o},t)}function Zi(){let e=(0,y.useContext)(Xi);return{modalProviderProps:{"aria-hidden":!!(e&&e.modalCount>0)||null}}}var Ji;function eo(e){let{onDismiss:t,...n}=e,r=ve(n,st(mi(Ji),"@react-aria/overlays").format("dismiss"));return y.createElement(pi,null,y.createElement("button",{...r,tabIndex:-1,onClick:()=>{t&&t()},style:{width:1,height:1}}))}Ji={"ar-AE":Yt,"bg-BG":Qt,"cs-CZ":Xt,"da-DK":$t,"de-DE":Zt,"el-GR":Jt,"en-US":en,"es-ES":tn,"et-EE":nn,"fi-FI":rn,"fr-FR":on,"he-IL":an,"hr-HR":ln,"hu-HU":sn,"it-IT":cn,"ja-JP":un,"ko-KR":dn,"lt-LT":fn,"lv-LV":hn,"nb-NO":pn,"nl-NL":mn,"pl-PL":gn,"pt-BR":vn,"pt-PT":yn,"ro-RO":bn,"ru-RU":xn,"sk-SK":wn,"sl-SI":_n,"sr-SP":kn,"sv-SE":En,"tr-TR":Sn,"uk-UA":Cn,"zh-CN":Mn,"zh-TW":Tn};let to=new WeakMap,no=[];function ro(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body,n=new Set(e),r=new Set,i=e=>{for(let r of e.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))n.add(r);let t=e=>{if(n.has(e)||r.has(e.parentElement)&&"row"!==e.parentElement.getAttribute("role"))return NodeFilter.FILTER_REJECT;for(let t of n)if(e.contains(t))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},i=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:t}),a=t(e);if(a===NodeFilter.FILTER_ACCEPT&&o(e),a!==NodeFilter.FILTER_REJECT){let e=i.nextNode();for(;null!=e;)o(e),e=i.nextNode()}},o=e=>{var t;let n=null!==(t=to.get(e))&&void 0!==t?t:0;"true"===e.getAttribute("aria-hidden")&&0===n||(0===n&&e.setAttribute("aria-hidden","true"),r.add(e),to.set(e,n+1))};no.length&&no[no.length-1].disconnect(),i(t);let a=new MutationObserver((e=>{for(let t of e)if("childList"===t.type&&0!==t.addedNodes.length&&![...n,...r].some((e=>e.contains(t.target)))){for(let e of t.removedNodes)e instanceof Element&&(n.delete(e),r.delete(e));for(let e of t.addedNodes)!(e instanceof HTMLElement||e instanceof SVGElement)||"true"!==e.dataset.liveAnnouncer&&"true"!==e.dataset.reactAriaTopLayer?e instanceof Element&&i(e):n.add(e)}}));a.observe(t,{childList:!0,subtree:!0});let l={observe(){a.observe(t,{childList:!0,subtree:!0})},disconnect(){a.disconnect()}};return no.push(l),()=>{a.disconnect();for(let e of r){let t=to.get(e);1===t?(e.removeAttribute("aria-hidden"),to.delete(e)):to.set(e,t-1)}l===no[no.length-1]?(no.pop(),no.length&&no[no.length-1].observe()):no.splice(no.indexOf(l),1)}}function io(e,t){let{triggerRef:n,popoverRef:r,isNonModal:i,isKeyboardDismissDisabled:o,shouldCloseOnInteractOutside:a,...l}=e,{overlayProps:s,underlayProps:c}=Bi({isOpen:t.isOpen,onClose:t.close,shouldCloseOnBlur:!0,isDismissable:!i,isKeyboardDismissDisabled:o,shouldCloseOnInteractOutside:a},r),{overlayProps:u,arrowProps:d,placement:f}=Oi({...l,targetRef:n,overlayRef:r,isOpen:t.isOpen,onClose:i?t.close:null});return Hi({isDisabled:i||!t.isOpen}),R((()=>{if(t.isOpen&&!i&&r.current)return ro([r.current])}),[i,t.isOpen,r]),{popoverProps:q(s,u),arrowProps:d,underlayProps:c,placement:f}}const oo=y.createContext(null);function ao(e){let t=D(),{portalContainer:n=(t?null:document.body),isExiting:r}=e,[i,o]=(0,y.useState)(!1),a=(0,y.useMemo)((()=>({contain:i,setContain:o})),[i,o]);if(!n)return null;let l=e.children;return e.disableFocusManagement||(l=y.createElement(Kr,{restoreFocus:!0,contain:i&&!r},l)),l=y.createElement(oo.Provider,{value:a},y.createElement(tr,null,l)),di.createPortal(l,n)}function lo(){let e=(0,y.useContext)(oo),t=null===e||void 0===e?void 0:e.setContain;R((()=>{null===t||void 0===t||t(!0)}),[t])}function so(e,t,n){let{overlayProps:r,underlayProps:i}=Bi({...e,isOpen:t.isOpen,onClose:t.close},n);return Hi({isDisabled:!t.isOpen}),lo(),(0,y.useEffect)((()=>{if(t.isOpen)return ro([n.current])}),[t.isOpen,n]),{modalProps:q(r),underlayProps:i}}function co(e){return e&&e.__esModule?e.default:e}function uo(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}const fo=y.createContext(null);fo.displayName="ProviderContext";var ho,po,mo,go,vo,yo,bo={};uo(bo,"focus-ring",(()=>ho),(e=>ho=e)),uo(bo,"i18nFontFamily",(()=>po),(e=>po=e)),uo(bo,"spectrum",(()=>mo),(e=>mo=e)),uo(bo,"spectrum-FocusRing-ring",(()=>go),(e=>go=e)),uo(bo,"spectrum-FocusRing",(()=>vo),(e=>vo=e)),uo(bo,"spectrum-FocusRing--quiet",(()=>yo),(e=>yo=e)),ho="JuTe6q_focus-ring",po="JuTe6q_i18nFontFamily",mo="JuTe6q_spectrum",vo="JuTe6q_spectrum-FocusRing ".concat(go="JuTe6q_spectrum-FocusRing-ring"),yo="JuTe6q_spectrum-FocusRing--quiet";var xo,wo,_o,ko,Eo,So,Co,Mo,To={};function Ao(e,t){let n=pt("(prefers-color-scheme: dark)"),r=pt("(prefers-color-scheme: light)");return e.dark&&n?"dark":e.light&&r?"light":e.dark&&"dark"===t?"dark":e.light&&"light"===t?"light":e.dark?e.light?"light":"dark":"light"}function Do(e){return pt("(any-pointer: fine)")&&e.medium?"medium":e.large?"large":"medium"}uo(To,"focus-ring",(()=>xo),(e=>xo=e)),uo(To,"i18nFontFamily",(()=>wo),(e=>wo=e)),uo(To,"spectrum",(()=>_o),(e=>_o=e)),uo(To,"spectrum-Body",(()=>ko),(e=>ko=e)),uo(To,"spectrum-Body--italic",(()=>Eo),(e=>Eo=e)),uo(To,"spectrum-FocusRing-ring",(()=>So),(e=>So=e)),uo(To,"spectrum-FocusRing",(()=>Co),(e=>Co=e)),uo(To,"spectrum-FocusRing--quiet",(()=>Mo),(e=>Mo=e)),xo="_5QszkG_focus-ring",_o="_5QszkG_spectrum ".concat(wo="_5QszkG_i18nFontFamily"),ko="_5QszkG_spectrum-Body",Eo="_5QszkG_spectrum-Body--italic",Co="_5QszkG_spectrum-FocusRing ".concat(So="_5QszkG_spectrum-FocusRing-ring"),Mo="_5QszkG_spectrum-FocusRing--quiet";var Fo;Fo=JSON.parse('{"name":"@react-spectrum/provider","version":"3.9.2","description":"Spectrum UI components in React","license":"Apache-2.0","main":"dist/main.js","module":"dist/module.js","exports":{"types":"./dist/types.d.ts","import":"./dist/import.mjs","require":"./dist/main.js"},"types":"dist/types.d.ts","source":"src/index.ts","files":["dist","src"],"sideEffects":["*.css"],"targets":{"main":{"includeNodeModules":["@adobe/spectrum-css-temp"]},"module":{"includeNodeModules":["@adobe/spectrum-css-temp"]}},"repository":{"type":"git","url":"https://github.com/adobe/react-spectrum"},"dependencies":{"@react-aria/i18n":"^3.9.0","@react-aria/overlays":"^3.19.0","@react-aria/utils":"^3.22.0","@react-spectrum/utils":"^3.11.2","@react-types/provider":"^3.7.1","@react-types/shared":"^3.22.0","@swc/helpers":"^0.5.0","clsx":"^2.0.0"},"devDependencies":{"@adobe/spectrum-css-temp":"3.0.0-alpha.1"},"peerDependencies":{"react":"^16.8.0 || ^17.0.0-rc.1 || ^18.0.0","react-dom":"^16.8.0 || ^17.0.0-rc.1 || ^18.0.0"},"publishConfig":{"access":"public"}}');const No={S:640,M:768,L:1024,XL:1280,XXL:1536};function Ro(e,t){let n=Oo(),r=n&&n.colorScheme,i=n&&n.breakpoints,{theme:o=n&&n.theme,defaultColorScheme:a}=e;if(!o)throw new Error("theme not found, the parent provider must have a theme provided");let l=Ao(o,a),s=Do(o),{locale:c}=ot(),u=!!o[r],{colorScheme:d=(u?r:l),scale:f=(n?n.scale:s),locale:h=(n?c:null),breakpoints:p=(n?i:No),children:m,isQuiet:g,isEmphasized:v,isDisabled:b,isRequired:x,isReadOnly:w,validationState:_,router:k,...E}=e,S={version:Fo.version,theme:o,breakpoints:p,colorScheme:d,scale:f,isQuiet:g,isEmphasized:v,isDisabled:b,isRequired:x,isReadOnly:w,validationState:_},C=kt(p),M={};Object.entries(S).forEach((e=>{let[t,n]=e;return void 0!==n&&(M[t]=n)}));let T=Object.assign({},n,M),A=m,D=X(E),{styleProps:F}=Lt(E,void 0,{matchedBreakpoints:C});return(!n||e.locale||o!==n.theme||d!==n.colorScheme||f!==n.scale||Object.keys(D).length>0||E.UNSAFE_className||Object.keys(F.style).length>0)&&(A=y.createElement(Po,{...e,UNSAFE_style:{isolation:n?void 0:"isolate",...F.style},ref:t},A)),k&&(A=y.createElement(le,k,A)),y.createElement(fo.Provider,{value:T},y.createElement(it,{locale:h},y.createElement(_t,{matchedBreakpoints:C},y.createElement($i,null,A))))}let zo=y.forwardRef(Ro);const Po=y.forwardRef((function(e,t){let{children:n,...r}=e,{locale:i,direction:o}=ot(),{theme:a,colorScheme:l,scale:s}=Oo(),{modalProviderProps:c}=Zi(),{styleProps:u}=Lt(r),d=vt(t),f=Object.keys(a[l])[0],h=Object.keys(a[s])[0],p=N(u.className,co(bo).spectrum,co(To).spectrum,Object.values(a[l]),Object.values(a[s]),a.global?Object.values(a.global):null,{"react-spectrum-provider":ft,spectrum:ft,[f]:ft,[h]:ft});var m,g;let v={...u.style,colorScheme:null!==(g=null!==(m=e.colorScheme)&&void 0!==m?m:l)&&void 0!==g?g:Object.keys(a).filter((e=>"light"===e||"dark"===e)).join(" ")},b=(0,y.useRef)(!1);return(0,y.useEffect)((()=>{if(o&&d.current){let e=d.current.parentElement.closest("[dir]"),t=e&&e.getAttribute("dir");t&&t!==o&&!b.current&&(console.warn("Language directions cannot be nested. ".concat(o," inside ").concat(t,".")),b.current=!0)}}),[o,d,b]),y.createElement("div",{...X(r),...u,...c,className:p,style:v,lang:i,dir:o,ref:d},n)}));function Oo(){return(0,y.useContext)(fo)}function Io(e){let t=Oo();return t?Object.assign({},{isQuiet:t.isQuiet,isEmphasized:t.isEmphasized,isDisabled:t.isDisabled,isRequired:t.isRequired,isReadOnly:t.isReadOnly,validationState:t.validationState},e):e}function Lo(e){return e&&e.__esModule?e.default:e}function Bo(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var jo,Uo={};Bo(Uo,"spectrum--darkest",(()=>jo),(e=>jo=e)),jo="gP7gvq_spectrum--darkest";var Ko,Wo,qo,Ho,Vo,Go,Yo,Qo={};Bo(Qo,"spectrum",(()=>Ko),(e=>Ko=e)),Bo(Qo,"spectrum--dark",(()=>Wo),(e=>Wo=e)),Bo(Qo,"spectrum--darkest",(()=>qo),(e=>qo=e)),Bo(Qo,"spectrum--large",(()=>Ho),(e=>Ho=e)),Bo(Qo,"spectrum--light",(()=>Vo),(e=>Vo=e)),Bo(Qo,"spectrum--lightest",(()=>Go),(e=>Go=e)),Bo(Qo,"spectrum--medium",(()=>Yo),(e=>Yo=e)),Ko="zA6MfG_spectrum",Wo="zA6MfG_spectrum--dark",qo="zA6MfG_spectrum--darkest",Ho="zA6MfG_spectrum--large",Vo="zA6MfG_spectrum--light",Go="zA6MfG_spectrum--lightest",Yo="zA6MfG_spectrum--medium";var Xo,$o={};Bo($o,"spectrum--large",(()=>Xo),(e=>Xo=e)),Xo="HAZavG_spectrum--large";var Zo,Jo={};Bo(Jo,"spectrum--light",(()=>Zo),(e=>Zo=e)),Zo="PFjRbG_spectrum--light";var ea,ta={};Bo(ta,"spectrum--medium",(()=>ea),(e=>ea=e)),ea="xSyFOq_spectrum--medium";let na={global:Lo(Qo),light:Lo(Jo),dark:Lo(Uo),medium:Lo(ta),large:Lo($o)};function ra(e){return e&&e.__esModule?e.default:e}function ia(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}const oa={...St,autoFlow:["gridAutoFlow",Bt],autoColumns:["gridAutoColumns",la],autoRows:["gridAutoRows",la],areas:["gridTemplateAreas",function(e){return e.map((e=>'"'.concat(e,'"'))).join("\n")}],columns:["gridTemplateColumns",sa],rows:["gridTemplateRows",sa],gap:["gap",Ft],rowGap:["rowGap",Ft],columnGap:["columnGap",Ft],justifyItems:["justifyItems",Bt],justifyContent:["justifyContent",Bt],alignItems:["alignItems",Bt],alignContent:["alignContent",Bt]};function aa(e,t){let{children:n,...r}=e,{styleProps:i}=Lt(r,oa);i.style.display="grid";let o=vt(t);return y.createElement("div",{...X(r),...i,ref:o},n)}function la(e){return/^max-content|min-content|minmax|auto|fit-content|repeat|subgrid/.test(e)?e:Ft(e)}function sa(e){return Array.isArray(e)?e.map(la).join(" "):la(e)}const ca=(0,y.forwardRef)(aa);var ua,da,fa,ha={};ia(ha,"flex",(()=>ua),(e=>ua=e)),ia(ha,"flex-container",(()=>da),(e=>da=e)),ia(ha,"flex-gap",(()=>fa),(e=>fa=e)),ua="NW91UW_flex",da="NW91UW_flex-container",fa="NW91UW_flex-gap";const pa={direction:["flexDirection",Bt],wrap:["flexWrap",function(e){return"boolean"===typeof e?e?"wrap":"nowrap":e}],justifyContent:["justifyContent",ga],alignItems:["alignItems",ga],alignContent:["alignContent",ga]};function ma(e,t){let{children:n,...r}=e,i=Et(),o=(null===i||void 0===i?void 0:i.matchedBreakpoints)||["base"],{styleProps:a}=Lt(r),{styleProps:l}=Lt(r,pa),s=vt(t),c={...a.style,...l.style};return null!=e.gap&&(c.gap=Nt(e.gap,o)),null!=e.columnGap&&(c.columnGap=Nt(e.columnGap,o)),null!=e.rowGap&&(c.rowGap=Nt(e.rowGap,o)),y.createElement("div",{...X(r),className:ht(ra(ha),"flex",a.className),style:c,ref:s},n)}function ga(e){return"start"===e?"flex-start":"end"===e?"flex-end":e}const va=(0,y.forwardRef)(ma);function ya(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var ba,xa,wa,_a,ka,Ea,Sa,Ca,Ma,Ta,Aa,Da,Fa,Na,Ra,za,Pa,Oa,Ia,La,Ba,ja,Ua,Ka,Wa,qa,Ha,Va,Ga,Ya={};ya(Ya,"contextualHelp",(()=>ba),(e=>ba=e)),ya(Ya,"field",(()=>xa),(e=>xa=e)),ya(Ya,"focus-ring",(()=>wa),(e=>wa=e)),ya(Ya,"helpText",(()=>_a),(e=>_a=e)),ya(Ya,"i18nFontFamily",(()=>ka),(e=>ka=e)),ya(Ya,"is-disabled",(()=>Ea),(e=>Ea=e)),ya(Ya,"label",(()=>Sa),(e=>Sa=e)),ya(Ya,"spectrum-Field",(()=>Ca),(e=>Ca=e)),ya(Ya,"spectrum-Field--alignEnd",(()=>Ma),(e=>Ma=e)),ya(Ya,"spectrum-Field--hasContextualHelp",(()=>Ta),(e=>Ta=e)),ya(Ya,"spectrum-Field--positionSide",(()=>Aa),(e=>Aa=e)),ya(Ya,"spectrum-Field--positionTop",(()=>Da),(e=>Da=e)),ya(Ya,"spectrum-Field-contextualHelp",(()=>Fa),(e=>Fa=e)),ya(Ya,"spectrum-Field-field",(()=>Na),(e=>Na=e)),ya(Ya,"spectrum-Field-labelCell",(()=>Ra),(e=>Ra=e)),ya(Ya,"spectrum-Field-labelWrapper",(()=>za),(e=>za=e)),ya(Ya,"spectrum-Field-wrapper",(()=>Pa),(e=>Pa=e)),ya(Ya,"spectrum-FieldLabel",(()=>Oa),(e=>Oa=e)),ya(Ya,"spectrum-FieldLabel--alignEnd",(()=>Ia),(e=>Ia=e)),ya(Ya,"spectrum-FieldLabel--positionSide",(()=>La),(e=>La=e)),ya(Ya,"spectrum-FieldLabel-requiredIcon",(()=>Ba),(e=>Ba=e)),ya(Ya,"spectrum-FocusRing-ring",(()=>ja),(e=>ja=e)),ya(Ya,"spectrum-FocusRing",(()=>Ua),(e=>Ua=e)),ya(Ya,"spectrum-FocusRing--quiet",(()=>Ka),(e=>Ka=e)),ya(Ya,"spectrum-Form",(()=>Wa),(e=>Wa=e)),ya(Ya,"spectrum-Form--positionSide",(()=>qa),(e=>qa=e)),ya(Ya,"spectrum-Form--positionTop",(()=>Ha),(e=>Ha=e)),ya(Ya,"spectrum-Form-itemLabel",(()=>Va),(e=>Va=e)),ya(Ya,"spectrum-LabeledValue",(()=>Ga),(e=>Ga=e)),ba="A-HlBa_contextualHelp",xa="A-HlBa_field",wa="A-HlBa_focus-ring",_a="A-HlBa_helpText",ka="A-HlBa_i18nFontFamily",Ea="A-HlBa_is-disabled",Sa="A-HlBa_label",Ca="A-HlBa_spectrum-Field",Ma="A-HlBa_spectrum-Field--alignEnd",Ta="A-HlBa_spectrum-Field--hasContextualHelp",Aa="A-HlBa_spectrum-Field--positionSide",Da="A-HlBa_spectrum-Field--positionTop",Fa="A-HlBa_spectrum-Field-contextualHelp",Na="A-HlBa_spectrum-Field-field",Ra="A-HlBa_spectrum-Field-labelCell",za="A-HlBa_spectrum-Field-labelWrapper",Pa="A-HlBa_spectrum-Field-wrapper",Oa="A-HlBa_spectrum-FieldLabel",Ia="A-HlBa_spectrum-FieldLabel--alignEnd",La="A-HlBa_spectrum-FieldLabel--positionSide",Ba="A-HlBa_spectrum-FieldLabel-requiredIcon",Ua="A-HlBa_spectrum-FocusRing ".concat(ja="A-HlBa_spectrum-FocusRing-ring"),Ka="A-HlBa_spectrum-FocusRing--quiet",Wa="A-HlBa_spectrum-Form",qa="A-HlBa_spectrum-Form--positionSide",Ha="A-HlBa_spectrum-Form--positionTop",Va="A-HlBa_spectrum-Form-itemLabel",Ga="A-HlBa_spectrum-LabeledValue";let Qa=y.createContext(null);function Xa(e){let t=(0,y.useContext)(Qa);return t?{...t,...e}:e}new Set(["action","autoComplete","encType","method","target","onSubmit","onReset","onInvalid"]);function $a(e){let{id:t,label:n,"aria-labelledby":r,"aria-label":i,labelElementType:o="label"}=e;t=L(t);let a=L(),l={};return n?(r=r?"".concat(a," ").concat(r):a,l={id:a,htmlFor:"label"===o?t:void 0}):r||i||console.warn("If you do not provide a visible label, you must specify an aria-label or aria-labelledby attribute for accessibility"),{labelProps:l,fieldProps:ve({id:t,"aria-label":i,"aria-labelledby":r})}}function Za(e){let{description:t,errorMessage:n,isInvalid:r,validationState:i}=e,{labelProps:o,fieldProps:a}=$a(e),l=j([Boolean(t),Boolean(n),r,i]),s=j([Boolean(t),Boolean(n),r,i]);return a=q(a,{"aria-describedby":[l,s,e["aria-describedby"]].filter(Boolean).join(" ")||void 0}),{labelProps:o,fieldProps:a,descriptionProps:{id:l},errorMessageProps:{id:s}}}function Ja(e,t,n){let{validationBehavior:r,focus:i}=e;R((()=>{if("native"===r&&(null===n||void 0===n?void 0:n.current)){let r=t.realtimeValidation.isInvalid?t.realtimeValidation.validationErrors.join(" ")||"Invalid value.":"";n.current.setCustomValidity(r),n.current.hasAttribute("title")||(n.current.title=""),t.realtimeValidation.isInvalid||t.updateValidation({isInvalid:!(e=n.current).validity.valid,validationDetails:el(e),validationErrors:e.validationMessage?[e.validationMessage]:[]})}var e}));let o=z((()=>{t.resetValidation()})),a=z((e=>{var r;t.displayValidation.isInvalid||t.commitValidation();let o=null===n||void 0===n||null===(r=n.current)||void 0===r?void 0:r.form;var a;!e.defaultPrevented&&n&&o&&function(e){for(let t=0;t<e.elements.length;t++){let n=e.elements[t];if(!n.validity.valid)return n}return null}(o)===n.current&&(i?i():null===(a=n.current)||void 0===a||a.focus(),xr("keyboard"));e.preventDefault()})),l=z((()=>{t.commitValidation()}));(0,y.useEffect)((()=>{let e=null===n||void 0===n?void 0:n.current;if(!e)return;let t=e.form;return e.addEventListener("invalid",a),e.addEventListener("change",l),null===t||void 0===t||t.addEventListener("reset",o),()=>{e.removeEventListener("invalid",a),e.removeEventListener("change",l),null===t||void 0===t||t.removeEventListener("reset",o)}}),[n,a,l,o,r])}function el(e){let t=e.validity;return{badInput:t.badInput,customError:t.customError,patternMismatch:t.patternMismatch,rangeOverflow:t.rangeOverflow,rangeUnderflow:t.rangeUnderflow,stepMismatch:t.stepMismatch,tooLong:t.tooLong,tooShort:t.tooShort,typeMismatch:t.typeMismatch,valueMissing:t.valueMissing,valid:t.valid}}const tl={badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valueMissing:!1,valid:!0},nl={...tl,customError:!0,valid:!1},rl={isInvalid:!1,validationDetails:tl,validationErrors:[]},il=(0,y.createContext)({}),ol="__formValidationState"+Date.now();function al(e){if(e[ol]){let{realtimeValidation:t,displayValidation:n,updateValidation:r,resetValidation:i,commitValidation:o}=e[ol];return{realtimeValidation:t,displayValidation:n,updateValidation:r,resetValidation:i,commitValidation:o}}return function(e){let{isInvalid:t,validationState:n,name:r,value:i,builtinValidation:o,validate:a,validationBehavior:l="aria"}=e;n&&(t||(t="invalid"===n));let s=t?{isInvalid:!0,validationErrors:[],validationDetails:nl}:null,c=(0,y.useMemo)((()=>sl(function(e,t){if("function"===typeof e){let n=e(t);if(n&&"boolean"!==typeof n)return ll(n)}return[]}(a,i))),[a,i]);(null===o||void 0===o?void 0:o.validationDetails.valid)&&(o=null);let u=(0,y.useContext)(il),d=(0,y.useMemo)((()=>r?Array.isArray(r)?r.flatMap((e=>ll(u[e]))):ll(u[r]):[]),[u,r]),[f,h]=(0,y.useState)(u),[p,m]=(0,y.useState)(!1);u!==f&&(h(u),m(!1));let g=(0,y.useMemo)((()=>sl(p?[]:d)),[p,d]),v=(0,y.useRef)(rl),[b,x]=(0,y.useState)(rl),w=(0,y.useRef)(rl),_=()=>{if(!k)return;E(!1);let e=c||o||v.current;cl(e,w.current)||(w.current=e,x(e))},[k,E]=(0,y.useState)(!1);return(0,y.useEffect)(_),{realtimeValidation:s||g||c||o||rl,displayValidation:"native"===l?s||g||b:s||g||c||o||b,updateValidation(e){"aria"!==l||cl(b,e)?v.current=e:x(e)},resetValidation(){let e=rl;cl(e,w.current)||(w.current=e,x(e)),"native"===l&&E(!1),m(!0)},commitValidation(){"native"===l&&E(!0),m(!0)}}}(e)}function ll(e){return e?Array.isArray(e)?e:[e]:[]}function sl(e){return e.length?{isInvalid:!0,validationErrors:e,validationDetails:nl}:null}function cl(e,t){return e===t||e&&t&&e.isInvalid===t.isInvalid&&e.validationErrors.length===t.validationErrors.length&&e.validationErrors.every(((e,n)=>e===t.validationErrors[n]))&&Object.entries(e.validationDetails).every((e=>{let[n,r]=e;return t.validationDetails[n]===r}))}function ul(e,t){let{inputElementType:n="input",isDisabled:r=!1,isRequired:i=!1,isReadOnly:o=!1,type:a="text",validationBehavior:l="aria"}=e,[s,c]=An(e.value,e.defaultValue||"",e.onChange),{focusableProps:u}=ci(e,t),d=al({...e,value:s}),{isInvalid:f,validationErrors:h,validationDetails:p}=d.displayValidation,{labelProps:m,fieldProps:g,descriptionProps:v,errorMessageProps:b}=Za({...e,isInvalid:f,errorMessage:e.errorMessage||h}),x=X(e,{labelable:!0});const w={type:a,pattern:e.pattern};return Pe(t,s,c),Ja(e,d,t),(0,y.useEffect)((()=>{if(t.current instanceof W(t.current).HTMLTextAreaElement){let e=t.current;Object.defineProperty(e,"defaultValue",{get:()=>e.value,set:()=>{},configurable:!0})}}),[t]),{labelProps:m,inputProps:q(x,"input"===n&&w,{disabled:r,readOnly:o,required:i&&"native"===l,"aria-required":i&&"aria"===l||void 0,"aria-invalid":f||void 0,"aria-errormessage":e["aria-errormessage"],"aria-activedescendant":e["aria-activedescendant"],"aria-autocomplete":e["aria-autocomplete"],"aria-haspopup":e["aria-haspopup"],value:s,onChange:e=>c(e.target.value),autoComplete:e.autoComplete,autoCapitalize:e.autoCapitalize,maxLength:e.maxLength,minLength:e.minLength,name:e.name,placeholder:e.placeholder,inputMode:e.inputMode,onCopy:e.onCopy,onCut:e.onCut,onPaste:e.onPaste,onCompositionEnd:e.onCompositionEnd,onCompositionStart:e.onCompositionStart,onCompositionUpdate:e.onCompositionUpdate,onSelect:e.onSelect,onBeforeInput:e.onBeforeInput,onInput:e.onInput,...u,...g}),descriptionProps:v,errorMessageProps:b,isInvalid:f,validationErrors:h,validationDetails:p}}function dl(){return dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dl.apply(this,arguments)}var fl=n(765);function hl(e){return e&&e.__esModule?e.default:e}function pl(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var ml,gl,vl,yl,bl,xl,wl,_l,kl,El,Sl,Cl,Ml,Tl,Al,Dl,Fl,Nl,Rl,zl,Pl,Ol,Il,Ll,Bl,jl,Ul,Kl,Wl,ql,Hl,Vl,Gl,Yl,Ql,Xl,$l,Zl,Jl,es,ts,ns,rs,is,os,as,ls,ss,cs={};pl(cs,"spectrum--large",(()=>ml),(e=>ml=e)),pl(cs,"spectrum--medium",(()=>gl),(e=>gl=e)),pl(cs,"spectrum-Icon",(()=>vl),(e=>vl=e)),pl(cs,"spectrum-Icon--sizeL",(()=>yl),(e=>yl=e)),pl(cs,"spectrum-Icon--sizeM",(()=>bl),(e=>bl=e)),pl(cs,"spectrum-Icon--sizeS",(()=>xl),(e=>xl=e)),pl(cs,"spectrum-Icon--sizeXL",(()=>wl),(e=>wl=e)),pl(cs,"spectrum-Icon--sizeXS",(()=>_l),(e=>_l=e)),pl(cs,"spectrum-Icon--sizeXXL",(()=>kl),(e=>kl=e)),pl(cs,"spectrum-Icon--sizeXXS",(()=>El),(e=>El=e)),pl(cs,"spectrum-UIIcon",(()=>Sl),(e=>Sl=e)),pl(cs,"spectrum-UIIcon--large",(()=>Cl),(e=>Cl=e)),pl(cs,"spectrum-UIIcon--medium",(()=>Ml),(e=>Ml=e)),pl(cs,"spectrum-UIIcon-AlertMedium",(()=>Tl),(e=>Tl=e)),pl(cs,"spectrum-UIIcon-AlertSmall",(()=>Al),(e=>Al=e)),pl(cs,"spectrum-UIIcon-ArrowDownSmall",(()=>Dl),(e=>Dl=e)),pl(cs,"spectrum-UIIcon-ArrowLeftMedium",(()=>Fl),(e=>Fl=e)),pl(cs,"spectrum-UIIcon-Asterisk",(()=>Nl),(e=>Nl=e)),pl(cs,"spectrum-UIIcon-CheckmarkMedium",(()=>Rl),(e=>Rl=e)),pl(cs,"spectrum-UIIcon-CheckmarkSmall",(()=>zl),(e=>zl=e)),pl(cs,"spectrum-UIIcon-ChevronDownMedium",(()=>Pl),(e=>Pl=e)),pl(cs,"spectrum-UIIcon-ChevronDownSmall",(()=>Ol),(e=>Ol=e)),pl(cs,"spectrum-UIIcon-ChevronLeftLarge",(()=>Il),(e=>Il=e)),pl(cs,"spectrum-UIIcon-ChevronLeftMedium",(()=>Ll),(e=>Ll=e)),pl(cs,"spectrum-UIIcon-ChevronRightLarge",(()=>Bl),(e=>Bl=e)),pl(cs,"spectrum-UIIcon-ChevronRightMedium",(()=>jl),(e=>jl=e)),pl(cs,"spectrum-UIIcon-ChevronRightSmall",(()=>Ul),(e=>Ul=e)),pl(cs,"spectrum-UIIcon-ChevronUpSmall",(()=>Kl),(e=>Kl=e)),pl(cs,"spectrum-UIIcon-CornerTriangle",(()=>Wl),(e=>Wl=e)),pl(cs,"spectrum-UIIcon-CrossLarge",(()=>ql),(e=>ql=e)),pl(cs,"spectrum-UIIcon-CrossMedium",(()=>Hl),(e=>Hl=e)),pl(cs,"spectrum-UIIcon-CrossSmall",(()=>Vl),(e=>Vl=e)),pl(cs,"spectrum-UIIcon-DashSmall",(()=>Gl),(e=>Gl=e)),pl(cs,"spectrum-UIIcon-DoubleGripper",(()=>Yl),(e=>Yl=e)),pl(cs,"spectrum-UIIcon-FolderBreadcrumb",(()=>Ql),(e=>Ql=e)),pl(cs,"spectrum-UIIcon-HelpMedium",(()=>Xl),(e=>Xl=e)),pl(cs,"spectrum-UIIcon-HelpSmall",(()=>$l),(e=>$l=e)),pl(cs,"spectrum-UIIcon-InfoMedium",(()=>Zl),(e=>Zl=e)),pl(cs,"spectrum-UIIcon-InfoSmall",(()=>Jl),(e=>Jl=e)),pl(cs,"spectrum-UIIcon-ListGripper",(()=>es),(e=>es=e)),pl(cs,"spectrum-UIIcon-Magnifier",(()=>ts),(e=>ts=e)),pl(cs,"spectrum-UIIcon-SkipLeft",(()=>ns),(e=>ns=e)),pl(cs,"spectrum-UIIcon-SkipRight",(()=>rs),(e=>rs=e)),pl(cs,"spectrum-UIIcon-Star",(()=>is),(e=>is=e)),pl(cs,"spectrum-UIIcon-StarOutline",(()=>os),(e=>os=e)),pl(cs,"spectrum-UIIcon-SuccessMedium",(()=>as),(e=>as=e)),pl(cs,"spectrum-UIIcon-SuccessSmall",(()=>ls),(e=>ls=e)),pl(cs,"spectrum-UIIcon-TripleGripper",(()=>ss),(e=>ss=e)),ml="yxBNXG_spectrum--large",gl="yxBNXG_spectrum--medium",vl="yxBNXG_spectrum-Icon",yl="yxBNXG_spectrum-Icon--sizeL",bl="yxBNXG_spectrum-Icon--sizeM",xl="yxBNXG_spectrum-Icon--sizeS",wl="yxBNXG_spectrum-Icon--sizeXL",_l="yxBNXG_spectrum-Icon--sizeXS",kl="yxBNXG_spectrum-Icon--sizeXXL",El="yxBNXG_spectrum-Icon--sizeXXS",Sl="yxBNXG_spectrum-UIIcon",Cl="yxBNXG_spectrum-UIIcon--large",Ml="yxBNXG_spectrum-UIIcon--medium",Tl="yxBNXG_spectrum-UIIcon-AlertMedium",Al="yxBNXG_spectrum-UIIcon-AlertSmall",Dl="yxBNXG_spectrum-UIIcon-ArrowDownSmall",Fl="yxBNXG_spectrum-UIIcon-ArrowLeftMedium",Nl="yxBNXG_spectrum-UIIcon-Asterisk",Rl="yxBNXG_spectrum-UIIcon-CheckmarkMedium",zl="yxBNXG_spectrum-UIIcon-CheckmarkSmall",Pl="yxBNXG_spectrum-UIIcon-ChevronDownMedium",Ol="yxBNXG_spectrum-UIIcon-ChevronDownSmall",Il="yxBNXG_spectrum-UIIcon-ChevronLeftLarge",Ll="yxBNXG_spectrum-UIIcon-ChevronLeftMedium",Bl="yxBNXG_spectrum-UIIcon-ChevronRightLarge",jl="yxBNXG_spectrum-UIIcon-ChevronRightMedium",Ul="yxBNXG_spectrum-UIIcon-ChevronRightSmall",Kl="yxBNXG_spectrum-UIIcon-ChevronUpSmall",Wl="yxBNXG_spectrum-UIIcon-CornerTriangle",ql="yxBNXG_spectrum-UIIcon-CrossLarge",Hl="yxBNXG_spectrum-UIIcon-CrossMedium",Vl="yxBNXG_spectrum-UIIcon-CrossSmall",Gl="yxBNXG_spectrum-UIIcon-DashSmall",Yl="yxBNXG_spectrum-UIIcon-DoubleGripper",Ql="yxBNXG_spectrum-UIIcon-FolderBreadcrumb",Xl="yxBNXG_spectrum-UIIcon-HelpMedium",$l="yxBNXG_spectrum-UIIcon-HelpSmall",Zl="yxBNXG_spectrum-UIIcon-InfoMedium",Jl="yxBNXG_spectrum-UIIcon-InfoSmall",es="yxBNXG_spectrum-UIIcon-ListGripper",ts="yxBNXG_spectrum-UIIcon-Magnifier",ns="yxBNXG_spectrum-UIIcon-SkipLeft",rs="yxBNXG_spectrum-UIIcon-SkipRight",is="yxBNXG_spectrum-UIIcon-Star",os="yxBNXG_spectrum-UIIcon-StarOutline",as="yxBNXG_spectrum-UIIcon-SuccessMedium",ls="yxBNXG_spectrum-UIIcon-SuccessSmall",ss="yxBNXG_spectrum-UIIcon-TripleGripper";const us={...St,color:["color",function(e){return"var(--spectrum-semantic-".concat(e,"-color-icon)")}]};function ds(e){e=Kt(e,"icon");let{children:t,size:n,"aria-label":r,"aria-hidden":i,...o}=e,{styleProps:a}=Lt(o,us),l=Oo(),s="M";null!==l&&(s="large"===l.scale?"L":"M"),i||(i=void 0);let c=n||s;return y.cloneElement(t,{...X(o),...a,focusable:"false","aria-label":r,"aria-hidden":!r||(i||void 0),role:"img",className:ht(hl(cs),t.props.className,"spectrum-Icon","spectrum-Icon--size".concat(c),a.className)})}function fs(e){e=Kt(e,"icon");let{children:t,"aria-label":n,"aria-hidden":r,...i}=e,{styleProps:o}=Lt(i),a=Oo(),l="M";return null!==a&&(l="large"===a.scale?"L":"M"),r||(r=void 0),y.cloneElement(t,{...X(i),...o,scale:l,focusable:"false","aria-label":n,"aria-hidden":!n||(r||void 0),role:"img",className:ht(hl(cs),t.props.className,"spectrum-Icon",{["spectrum-UIIcon-".concat(t.type.displayName)]:t.type.displayName},o.className)})}const hs=e=>y.createElement("svg",dl({viewBox:"0 0 18 18"},e),y.createElement("path",{d:"M9 10.5a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v4.5a1 1 0 0 1-1 1Zm0 1.25A1.25 1.25 0 1 0 10.25 13 1.25 1.25 0 0 0 9 11.75Zm8.497 3.589a3.49 3.49 0 0 0 .079-3.474L12 1.815a3.385 3.385 0 0 0-5.994-.007L.416 11.88a3.485 3.485 0 0 0 .089 3.459A3.375 3.375 0 0 0 3.416 17h11.169a3.375 3.375 0 0 0 2.912-1.661ZM10.244 2.77l5.575 10.05a1.497 1.497 0 0 1-.037 1.489 1.374 1.374 0 0 1-1.197.69H3.416a1.374 1.374 0 0 1-1.197-.69 1.493 1.493 0 0 1-.046-1.474l5.593-10.08a1.386 1.386 0 0 1 2.478.015Z"}));function ps(e){var t,n;let r=Oo();return y.createElement(fs,e,null!=r&&null!=(t=r.theme)&&null!=(n=t.global)&&n.express?y.createElement(hs,null):y.createElement(fl.R,null))}hs.displayName=fl.R.displayName;var ms=n(699);function gs(e){return y.createElement(fs,e,y.createElement(ms.p,null))}var vs;vs={"(optional)":"(\u0627\u062e\u062a\u064a\u0627\u0631\u064a)","(required)":"(\u0645\u0637\u0644\u0648\u0628)"};var ys;ys={"(optional)":"(\u043d\u0435\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e)","(required)":"(\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e)"};var bs;bs={"(optional)":"(voliteln\u011b)","(required)":"(po\u017eadov\xe1no)"};var xs;xs={"(optional)":"(valgfrit)","(required)":"(obligatorisk)"};var ws;ws={"(optional)":"(optional)","(required)":"(erforderlich)"};var _s;_s={"(optional)":"(\u03c0\u03c1\u03bf\u03b1\u03b9\u03c1\u03b5\u03c4\u03b9\u03ba\u03cc)","(required)":"(\u03b1\u03c0\u03b1\u03b9\u03c4\u03b5\u03af\u03c4\u03b1\u03b9)"};var ks;ks={"(required)":"(required)","(optional)":"(optional)"};var Es;Es={"(optional)":"(opcional)","(required)":"(obligatorio)"};var Ss;Ss={"(optional)":"(valikuline)","(required)":"(n\xf5utav)"};var Cs;Cs={"(optional)":"(valinnainen)","(required)":"(pakollinen)"};var Ms;Ms={"(optional)":"(facultatif)","(required)":"(requis)"};var Ts;Ts={"(optional)":"(\u05d0\u05d5\u05e4\u05e6\u05d9\u05d5\u05e0\u05dc\u05d9)","(required)":"(\u05e0\u05d3\u05e8\u05e9)"};var As;As={"(optional)":"(opcionalno)","(required)":"(obvezno)"};var Ds;Ds={"(optional)":"(opcion\xe1lis)","(required)":"(k\xf6telez\u0151)"};var Fs;Fs={"(optional)":"(facoltativo)","(required)":"(obbligatorio)"};var Ns;Ns={"(optional)":"\uff08\u30aa\u30d7\u30b7\u30e7\u30f3\uff09","(required)":"\uff08\u5fc5\u9808\uff09"};var Rs;Rs={"(optional)":"(\uc120\ud0dd \uc0ac\ud56d)","(required)":"(\ud544\uc218 \uc0ac\ud56d)"};var zs;zs={"(optional)":"(pasirenkama)","(required)":"(privaloma)"};var Ps;Ps={"(optional)":"(neoblig\u0101ti)","(required)":"(oblig\u0101ti)"};var Os;Os={"(optional)":"(valgfritt)","(required)":"(obligatorisk)"};var Is;Is={"(optional)":"(optioneel)","(required)":"(vereist)"};var Ls;Ls={"(optional)":"(opcjonalne)","(required)":"(wymagane)"};var Bs;Bs={"(optional)":"(opcional)","(required)":"(obrigat\xf3rio)"};var js;js={"(optional)":"(opcional)","(required)":"(obrigat\xf3rio)"};var Us;Us={"(optional)":"(op\u0163ional)","(required)":"(obligatoriu)"};var Ks;Ks={"(optional)":"(\u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e)","(required)":"(\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e)"};var Ws;Ws={"(optional)":"(nepovinn\xe9)","(required)":"(povinn\xe9)"};var qs;qs={"(optional)":"(opcijsko)","(required)":"(obvezno)"};var Hs;Hs={"(optional)":"(opciono)","(required)":"(obavezno)"};var Vs;Vs={"(optional)":"(valfritt)","(required)":"(kr\xe4vs)"};var Gs;Gs={"(optional)":"(iste\u011fe ba\u011fl\u0131)","(required)":"(gerekli)"};var Ys;Ys={"(optional)":"(\u043d\u0435\u043e\u0431\u043e\u0432\u2019\u044f\u0437\u043a\u043e\u0432\u043e)","(required)":"(\u043e\u0431\u043e\u0432\u2019\u044f\u0437\u043a\u043e\u0432\u043e)"};var Qs;Qs={"(optional)":"\uff08\u53ef\u9009\uff09","(required)":"\uff08\u5fc5\u586b\uff09"};var Xs;Xs={"(optional)":"(\u9078\u586b)","(required)":"(\u5fc5\u586b)"};var $s=n(738);function Zs(e){return y.createElement(fs,e,y.createElement($s.d,null))}function Js(e){return e&&e.__esModule?e.default:e}function ec(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var tc,nc,rc,ic,oc,ac,lc,sc,cc,uc,dc,fc={};function hc(e,t){let{description:n,errorMessage:r,validationState:i,isInvalid:o,isDisabled:a,showErrorIcon:l,descriptionProps:s,errorMessageProps:c}=e,u=vt(t),d=r&&(o||"invalid"===i),{styleProps:f}=Lt(e);return y.createElement("div",{...f,className:ht(Js(fc),"spectrum-HelpText","spectrum-HelpText--".concat(d?"negative":"neutral"),{"is-disabled":a},f.className),ref:u},d?y.createElement(y.Fragment,null,l&&y.createElement(ps,{UNSAFE_className:ht(Js(fc),"spectrum-HelpText-validationIcon")}),y.createElement("div",{...c,className:ht(Js(fc),"spectrum-HelpText-text")},r)):y.createElement("div",{...s,className:ht(Js(fc),"spectrum-HelpText-text")},n))}ec(fc,"focus-ring",(()=>tc),(e=>tc=e)),ec(fc,"i18nFontFamily",(()=>nc),(e=>nc=e)),ec(fc,"is-disabled",(()=>rc),(e=>rc=e)),ec(fc,"spectrum-FocusRing-ring",(()=>ic),(e=>ic=e)),ec(fc,"spectrum-FocusRing",(()=>oc),(e=>oc=e)),ec(fc,"spectrum-FocusRing--quiet",(()=>ac),(e=>ac=e)),ec(fc,"spectrum-HelpText",(()=>lc),(e=>lc=e)),ec(fc,"spectrum-HelpText--negative",(()=>sc),(e=>sc=e)),ec(fc,"spectrum-HelpText--neutral",(()=>cc),(e=>cc=e)),ec(fc,"spectrum-HelpText-text",(()=>uc),(e=>uc=e)),ec(fc,"spectrum-HelpText-validationIcon",(()=>dc),(e=>dc=e)),tc="a1Qy2q_focus-ring",nc="a1Qy2q_i18nFontFamily",rc="a1Qy2q_is-disabled",oc="a1Qy2q_spectrum-FocusRing ".concat(ic="a1Qy2q_spectrum-FocusRing-ring"),ac="a1Qy2q_spectrum-FocusRing--quiet",lc="a1Qy2q_spectrum-HelpText",sc="a1Qy2q_spectrum-HelpText--negative",cc="a1Qy2q_spectrum-HelpText--neutral",uc="a1Qy2q_spectrum-HelpText-text",dc="a1Qy2q_spectrum-HelpText-validationIcon";const pc=y.forwardRef(hc);var mc;mc={"ar-AE":vs,"bg-BG":ys,"cs-CZ":bs,"da-DK":xs,"de-DE":ws,"el-GR":_s,"en-US":ks,"es-ES":Es,"et-EE":Ss,"fi-FI":Cs,"fr-FR":Ms,"he-IL":Ts,"hr-HR":As,"hu-HU":Ds,"it-IT":Fs,"ja-JP":Ns,"ko-KR":Rs,"lt-LT":zs,"lv-LV":Ps,"nb-NO":Os,"nl-NL":Is,"pl-PL":Ls,"pt-BR":Bs,"pt-PT":js,"ro-RO":Us,"ru-RU":Ks,"sk-SK":Ws,"sl-SI":qs,"sr-SP":Hs,"sv-SE":Vs,"tr-TR":Gs,"uk-UA":Ys,"zh-CN":Qs,"zh-TW":Xs};var gc,vc,yc,bc,xc,wc,_c,kc,Ec,Sc,Cc,Mc,Tc,Ac,Dc,Fc,Nc,Rc,zc,Pc,Oc,Ic,Lc,Bc,jc,Uc,Kc,Wc,qc,Hc={};function Vc(e,t){e=Io(e);let{children:n,labelPosition:r="top",labelAlign:i=("side"===r?"start":null),isRequired:o,necessityIndicator:a=(null!=o?"icon":null),includeNecessityIndicatorInAccessibilityName:l=!1,htmlFor:s,for:c,elementType:u="label",onClick:d,...f}=e,h=vt(t),{styleProps:p}=Lt(f),m=st(Js(mc),"@react-spectrum/label"),g=o?m.format("(required)"):m.format("(optional)"),v=y.createElement(Zs,{UNSAFE_className:ht(Js(Hc),"spectrum-FieldLabel-requiredIcon"),"aria-label":l?m.format("(required)"):void 0}),b=ht(Js(Hc),"spectrum-FieldLabel",{"spectrum-FieldLabel--positionSide":"side"===r,"spectrum-FieldLabel--alignEnd":"end"===i},p.className);return y.createElement(u,{...X(f),...p,onClick:d,ref:h,className:b,htmlFor:"label"===u?c||s:void 0},n,("label"===a||"icon"===a&&o)&&" \u200b","label"===a&&y.createElement("span",{"aria-hidden":l?void 0:o},g),"icon"===a&&o&&v)}ec(Hc,"contextualHelp",(()=>gc),(e=>gc=e)),ec(Hc,"field",(()=>vc),(e=>vc=e)),ec(Hc,"focus-ring",(()=>yc),(e=>yc=e)),ec(Hc,"helpText",(()=>bc),(e=>bc=e)),ec(Hc,"i18nFontFamily",(()=>xc),(e=>xc=e)),ec(Hc,"is-disabled",(()=>wc),(e=>wc=e)),ec(Hc,"label",(()=>_c),(e=>_c=e)),ec(Hc,"spectrum-Field",(()=>kc),(e=>kc=e)),ec(Hc,"spectrum-Field--alignEnd",(()=>Ec),(e=>Ec=e)),ec(Hc,"spectrum-Field--hasContextualHelp",(()=>Sc),(e=>Sc=e)),ec(Hc,"spectrum-Field--positionSide",(()=>Cc),(e=>Cc=e)),ec(Hc,"spectrum-Field--positionTop",(()=>Mc),(e=>Mc=e)),ec(Hc,"spectrum-Field-contextualHelp",(()=>Tc),(e=>Tc=e)),ec(Hc,"spectrum-Field-field",(()=>Ac),(e=>Ac=e)),ec(Hc,"spectrum-Field-labelCell",(()=>Dc),(e=>Dc=e)),ec(Hc,"spectrum-Field-labelWrapper",(()=>Fc),(e=>Fc=e)),ec(Hc,"spectrum-Field-wrapper",(()=>Nc),(e=>Nc=e)),ec(Hc,"spectrum-FieldLabel",(()=>Rc),(e=>Rc=e)),ec(Hc,"spectrum-FieldLabel--alignEnd",(()=>zc),(e=>zc=e)),ec(Hc,"spectrum-FieldLabel--positionSide",(()=>Pc),(e=>Pc=e)),ec(Hc,"spectrum-FieldLabel-requiredIcon",(()=>Oc),(e=>Oc=e)),ec(Hc,"spectrum-FocusRing-ring",(()=>Ic),(e=>Ic=e)),ec(Hc,"spectrum-FocusRing",(()=>Lc),(e=>Lc=e)),ec(Hc,"spectrum-FocusRing--quiet",(()=>Bc),(e=>Bc=e)),ec(Hc,"spectrum-Form",(()=>jc),(e=>jc=e)),ec(Hc,"spectrum-Form--positionSide",(()=>Uc),(e=>Uc=e)),ec(Hc,"spectrum-Form--positionTop",(()=>Kc),(e=>Kc=e)),ec(Hc,"spectrum-Form-itemLabel",(()=>Wc),(e=>Wc=e)),ec(Hc,"spectrum-LabeledValue",(()=>qc),(e=>qc=e)),gc="A-HlBa_contextualHelp",vc="A-HlBa_field",yc="A-HlBa_focus-ring",bc="A-HlBa_helpText",xc="A-HlBa_i18nFontFamily",wc="A-HlBa_is-disabled",_c="A-HlBa_label",kc="A-HlBa_spectrum-Field",Ec="A-HlBa_spectrum-Field--alignEnd",Sc="A-HlBa_spectrum-Field--hasContextualHelp",Cc="A-HlBa_spectrum-Field--positionSide",Mc="A-HlBa_spectrum-Field--positionTop",Tc="A-HlBa_spectrum-Field-contextualHelp",Ac="A-HlBa_spectrum-Field-field",Dc="A-HlBa_spectrum-Field-labelCell",Fc="A-HlBa_spectrum-Field-labelWrapper",Nc="A-HlBa_spectrum-Field-wrapper",Rc="A-HlBa_spectrum-FieldLabel",zc="A-HlBa_spectrum-FieldLabel--alignEnd",Pc="A-HlBa_spectrum-FieldLabel--positionSide",Oc="A-HlBa_spectrum-FieldLabel-requiredIcon",Lc="A-HlBa_spectrum-FocusRing ".concat(Ic="A-HlBa_spectrum-FocusRing-ring"),Bc="A-HlBa_spectrum-FocusRing--quiet",jc="A-HlBa_spectrum-Form",Uc="A-HlBa_spectrum-Form--positionSide",Kc="A-HlBa_spectrum-Form--positionTop",Wc="A-HlBa_spectrum-Form-itemLabel",qc="A-HlBa_spectrum-LabeledValue";let Gc=y.forwardRef(Vc);function Yc(e,t){let n=Xa(e),r=n!==e;e=n;let{label:i,labelPosition:o="top",labelAlign:a,isRequired:l,necessityIndicator:s,includeNecessityIndicatorInAccessibilityName:c,validationState:u,isInvalid:d,description:f,errorMessage:h=(e=>e.validationErrors.join(" ")),validationErrors:p,validationDetails:m,isDisabled:g,showErrorIcon:v,contextualHelp:b,children:x,labelProps:w={},descriptionProps:_={},errorMessageProps:k={},elementType:E,wrapperClassName:S,wrapperProps:C={},...M}=e,{styleProps:T}=Lt(M),A=null;A="function"===typeof h?null!=d&&null!=p&&null!=m?h({isInvalid:d,validationErrors:p,validationDetails:m}):null:h;let D=!!f||A&&(d||"invalid"===u),F=L(),N=L();i&&b&&!w.id&&(w.id=N);let R=ht(Js(Hc),"spectrum-Field",{"spectrum-Field--positionTop":"top"===o,"spectrum-Field--positionSide":"side"===o,"spectrum-Field--alignEnd":"end"===a,"spectrum-Field--hasContextualHelp":!!e.contextualHelp},T.className,S);x=y.cloneElement(x,q(x.props,{className:ht(Js(Hc),"spectrum-Field-field")}));let z=()=>y.createElement(pc,{descriptionProps:_,errorMessageProps:k,description:f,errorMessage:A,validationState:u,isInvalid:d,isDisabled:g,showErrorIcon:v,gridArea:Js(Hc).helpText}),P=y.createElement(y.Fragment,null,i&&y.createElement(Gc,{...w,labelPosition:o,labelAlign:a,isRequired:l,necessityIndicator:s,includeNecessityIndicatorInAccessibilityName:c,elementType:E},i),i&&b&&y.createElement(Wt,{slots:{actionButton:{UNSAFE_className:ht(Js(Hc),"spectrum-Field-contextualHelp"),id:F,"aria-labelledby":(null===w||void 0===w?void 0:w.id)?"".concat(w.id," ").concat(F):void 0}}},b));return r&&"side"===o&&i&&b&&(P=y.createElement("div",{className:ht(Js(Hc),"spectrum-Field-labelCell")},y.createElement("div",{className:ht(Js(Hc),"spectrum-Field-labelWrapper")},P))),y.createElement("div",{...T,...C,ref:t,className:R},P,"side"===o?y.createElement(va,{direction:"column",UNSAFE_className:ht(Js(Hc),"spectrum-Field-wrapper")},x,D&&z()):y.createElement(y.Fragment,null,x,D&&z()))}let Qc=y.forwardRef(Yc);function Xc(e){return e&&e.__esModule?e.default:e}function $c(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var Zc,Jc,eu,tu,nu,ru,iu,ou,au,lu,su,cu,uu,du,fu,hu,pu,mu,gu,vu,yu,bu,xu={};function wu(e,t){let{validationState:n=(e.isInvalid?"invalid":null),icon:r,isQuiet:i=!1,isDisabled:o,multiLine:a,autoFocus:l,inputClassName:s,wrapperChildren:c,labelProps:u,inputProps:d,descriptionProps:f,errorMessageProps:h,inputRef:p,isLoading:m,loadingIndicator:g,validationIconClassName:v,disableFocusRing:b}=e,{hoverProps:x,isHovered:w}=Dr({isDisabled:o}),_=(0,y.useRef)(null),k=(0,y.useRef)(null),E=p||k;(0,y.useImperativeHandle)(t,(()=>({...gt(_,E),select(){E.current&&E.current.select()},getInputElement:()=>E.current})));let S=a?"textarea":"input",C="invalid"===n&&!o;if(r){let e=ht(Xc(xu),r.props&&r.props.UNSAFE_className,"spectrum-Textfield-icon");r=(0,y.cloneElement)(r,{UNSAFE_className:e,size:"S"})}let M=C?y.createElement(ps,null):y.createElement(gs,null),T=(0,y.cloneElement)(M,{UNSAFE_className:ht(Xc(xu),"spectrum-Textfield-validationIcon",v)}),{focusProps:A,isFocusVisible:D}=ii({isTextInput:!0,autoFocus:l}),F=y.createElement("div",{className:ht(Xc(xu),"spectrum-Textfield",{"spectrum-Textfield--invalid":C,"spectrum-Textfield--valid":"valid"===n&&!o,"spectrum-Textfield--loadable":g,"spectrum-Textfield--quiet":i,"spectrum-Textfield--multiline":a,"focus-ring":!b&&D})},y.createElement(S,{...q(d,x,A),ref:E,rows:a?1:void 0,className:ht(Xc(xu),"spectrum-Textfield-input",{"spectrum-Textfield-inputIcon":r,"is-hovered":w},s)}),r,!n||m||o?null:T,m&&g,c);return y.createElement(Qc,{...e,labelProps:u,descriptionProps:f,errorMessageProps:h,wrapperClassName:ht(Xc(xu),"spectrum-Textfield-wrapper",{"spectrum-Textfield-wrapper--quiet":i}),showErrorIcon:!1,ref:_},F)}$c(xu,"focus-ring",(()=>Zc),(e=>Zc=e)),$c(xu,"i18nFontFamily",(()=>Jc),(e=>Jc=e)),$c(xu,"is-disabled",(()=>eu),(e=>eu=e)),$c(xu,"is-focused",(()=>tu),(e=>tu=e)),$c(xu,"is-hovered",(()=>nu),(e=>nu=e)),$c(xu,"is-placeholder",(()=>ru),(e=>ru=e)),$c(xu,"spectrum-FocusRing-ring",(()=>iu),(e=>iu=e)),$c(xu,"spectrum-FocusRing",(()=>ou),(e=>ou=e)),$c(xu,"spectrum-FocusRing--quiet",(()=>au),(e=>au=e)),$c(xu,"spectrum-Textfield",(()=>lu),(e=>lu=e)),$c(xu,"spectrum-Textfield--invalid",(()=>su),(e=>su=e)),$c(xu,"spectrum-Textfield--loadable",(()=>cu),(e=>cu=e)),$c(xu,"spectrum-Textfield--multiline",(()=>uu),(e=>uu=e)),$c(xu,"spectrum-Textfield--quiet",(()=>du),(e=>du=e)),$c(xu,"spectrum-Textfield--valid",(()=>fu),(e=>fu=e)),$c(xu,"spectrum-Textfield-circleLoader",(()=>hu),(e=>hu=e)),$c(xu,"spectrum-Textfield-icon",(()=>pu),(e=>pu=e)),$c(xu,"spectrum-Textfield-input",(()=>mu),(e=>mu=e)),$c(xu,"spectrum-Textfield-inputIcon",(()=>gu),(e=>gu=e)),$c(xu,"spectrum-Textfield-validationIcon",(()=>vu),(e=>vu=e)),$c(xu,"spectrum-Textfield-wrapper",(()=>yu),(e=>yu=e)),$c(xu,"spectrum-Textfield-wrapper--quiet",(()=>bu),(e=>bu=e)),Zc="YO3Nla_focus-ring",Jc="YO3Nla_i18nFontFamily",eu="YO3Nla_is-disabled",tu="YO3Nla_is-focused",nu="YO3Nla_is-hovered",ru="YO3Nla_is-placeholder",ou="YO3Nla_spectrum-FocusRing ".concat(iu="YO3Nla_spectrum-FocusRing-ring"),au="YO3Nla_spectrum-FocusRing--quiet",lu="YO3Nla_spectrum-Textfield ".concat(ou),su="YO3Nla_spectrum-Textfield--invalid",cu="YO3Nla_spectrum-Textfield--loadable",uu="YO3Nla_spectrum-Textfield--multiline",du="YO3Nla_spectrum-Textfield--quiet ".concat(au),fu="YO3Nla_spectrum-Textfield--valid",hu="YO3Nla_spectrum-Textfield-circleLoader",pu="YO3Nla_spectrum-Textfield-icon",mu="YO3Nla_spectrum-Textfield-input ".concat(Jc),gu="YO3Nla_spectrum-Textfield-inputIcon",vu="YO3Nla_spectrum-Textfield-validationIcon",yu="YO3Nla_spectrum-Textfield-wrapper",bu="YO3Nla_spectrum-Textfield-wrapper--quiet";const _u=(0,y.forwardRef)(wu);function ku(e,t){e=Xa(e=Io(e));let n=(0,y.useRef)(null),r=ul(e,n);return e.placeholder&&console.warn("Placeholders are deprecated due to accessibility issues. Please use help text instead. See the docs for details: https://react-spectrum.adobe.com/react-spectrum/TextField.html#help-text"),y.createElement(_u,{...e,...r,ref:t,inputRef:n})}const Eu=(0,y.forwardRef)(ku);var Su;Su={pending:"\u0642\u064a\u062f \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631"};var Cu;Cu={pending:"\u043d\u0435\u0434\u043e\u0432\u044a\u0440\u0448\u0435\u043d\u043e"};var Mu;Mu={pending:"\u010dek\xe1 na vy\u0159\xedzen\xed"};var Tu;Tu={pending:"afventende"};var Au;Au={pending:"Ausstehend"};var Du;Du={pending:"\u03c3\u03b5 \u03b5\u03ba\u03ba\u03c1\u03b5\u03bc\u03cc\u03c4\u03b7\u03c4\u03b1"};var Fu;Fu={pending:"pending"};var Nu;Nu={pending:"pendiente"};var Ru;Ru={pending:"ootel"};var zu;zu={pending:"odottaa"};var Pu;Pu={pending:"En attente"};var Ou;Ou={pending:"\u05de\u05de\u05ea\u05d9\u05df \u05dc"};var Iu;Iu={pending:"u tijeku"};var Lu;Lu={pending:"f\xfcgg\u0151ben lev\u0151"};var Bu;Bu={pending:"in sospeso"};var ju;ju={pending:"\u4fdd\u7559"};var Uu;Uu={pending:"\ubcf4\ub958 \uc911"};var Ku;Ku={pending:"laukiama"};var Wu;Wu={pending:"gaida"};var qu;qu={pending:"avventer"};var Hu;Hu={pending:"in behandeling"};var Vu;Vu={pending:"oczekuj\u0105ce"};var Gu;Gu={pending:"pendente"};var Yu;Yu={pending:"pendente"};var Qu;Qu={pending:"\xeen a\u0219teptare"};var Xu;Xu={pending:"\u0432 \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u0438"};var $u;$u={pending:"\u010dakaj\xface"};var Zu;Zu={pending:"v teku"};var Ju;Ju={pending:"nere\u0161eno"};var ed;ed={pending:"v\xe4ntande"};var td;td={pending:"beklemede"};var nd;nd={pending:"\u0432 \u043e\u0447\u0456\u043a\u0443\u0432\u0430\u043d\u043d\u0456"};var rd;rd={pending:"\u5f85\u5904\u7406"};var id;function od(e,t){e=Kt(e,"text");let{children:n,...r}=e,{styleProps:i}=Lt(r),o=vt(t);return y.createElement("span",{...X(r),...i,ref:o},n)}id={pending:"\u5f85\u8655\u7406"};const ad=(0,y.forwardRef)(od);function ld(e,t){e=Kt(e,"heading");let{children:n,level:r=3,...i}=e,{styleProps:o}=Lt(i),a=vt(t),l="h".concat(r);return y.createElement(l,{...X(i),...o,ref:a},n)}const sd=(0,y.forwardRef)(ld);function cd(e,t){let n,{elementType:r="button",isDisabled:i,onPress:o,onPressStart:a,onPressEnd:l,onPressUp:s,onPressChange:c,preventFocusOnPress:u,allowFocusWhenDisabled:d,onClick:f,href:h,target:p,rel:m,type:g="button"}=e;n="button"===r?{type:g,disabled:i}:{role:"button",tabIndex:i?void 0:0,href:"a"===r&&i?void 0:h,target:"a"===r?p:void 0,type:"input"===r?g:void 0,disabled:"input"===r?i:void 0,"aria-disabled":i&&"input"!==r?i:void 0,rel:"a"===r?m:void 0};let{pressProps:v,isPressed:y}=qn({onPressStart:a,onPressEnd:l,onPressChange:c,onPress:o,onPressUp:s,isDisabled:i,preventFocusOnPress:u,ref:t}),{focusableProps:b}=ci(e,t);d&&(b.tabIndex=i?-1:b.tabIndex);let x=q(b,v,X(e,{labelable:!0}));return{isPressed:y,buttonProps:q(n,x,{"aria-haspopup":e["aria-haspopup"],"aria-expanded":e["aria-expanded"],"aria-controls":e["aria-controls"],"aria-pressed":e["aria-pressed"],onClick:e=>{f&&(f(e),console.warn("onClick is deprecated, please use onPress"))}})}}var ud=n(388);function dd(e){return y.createElement(fs,e,y.createElement(ud.B,null))}n(548);function fd(e){return e&&e.__esModule?e.default:e}function hd(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var pd,md,gd,vd,yd,bd,xd,wd,_d,kd,Ed,Sd,Cd,Md,Td,Ad,Dd,Fd,Nd,Rd,zd,Pd,Od,Id,Ld,Bd,jd,Ud,Kd,Wd,qd,Hd,Vd,Gd,Yd,Qd,Xd,$d={};hd($d,"focus-ring",(()=>pd),(e=>pd=e)),hd($d,"i18nFontFamily",(()=>md),(e=>md=e)),hd($d,"is-active",(()=>gd),(e=>gd=e)),hd($d,"is-disabled",(()=>vd),(e=>vd=e)),hd($d,"is-focused",(()=>yd),(e=>yd=e)),hd($d,"is-hovered",(()=>bd),(e=>bd=e)),hd($d,"is-open",(()=>xd),(e=>xd=e)),hd($d,"is-placeholder",(()=>wd),(e=>wd=e)),hd($d,"is-selected",(()=>_d),(e=>_d=e)),hd($d,"spectrum-BaseButton",(()=>kd),(e=>kd=e)),hd($d,"spectrum-FocusRing-ring",(()=>Ed),(e=>Ed=e)),hd($d,"spectrum-FocusRing",(()=>Sd),(e=>Sd=e)),hd($d,"spectrum-ActionButton",(()=>Cd),(e=>Cd=e)),hd($d,"spectrum-ActionButton--emphasized",(()=>Md),(e=>Md=e)),hd($d,"spectrum-ActionButton--quiet",(()=>Td),(e=>Td=e)),hd($d,"spectrum-ActionButton--staticBlack",(()=>Ad),(e=>Ad=e)),hd($d,"spectrum-ActionButton--staticColor",(()=>Dd),(e=>Dd=e)),hd($d,"spectrum-ActionButton--staticWhite",(()=>Fd),(e=>Fd=e)),hd($d,"spectrum-ActionButton-hold",(()=>Nd),(e=>Nd=e)),hd($d,"spectrum-ActionButton-label",(()=>Rd),(e=>Rd=e)),hd($d,"spectrum-Button",(()=>zd),(e=>zd=e)),hd($d,"spectrum-Button--iconOnly",(()=>Pd),(e=>Pd=e)),hd($d,"spectrum-Button--overBackground",(()=>Od),(e=>Od=e)),hd($d,"spectrum-Button--pending",(()=>Id),(e=>Id=e)),hd($d,"spectrum-Button-circleLoader",(()=>Ld),(e=>Ld=e)),hd($d,"spectrum-Button-label",(()=>Bd),(e=>Bd=e)),hd($d,"spectrum-ClearButton",(()=>jd),(e=>jd=e)),hd($d,"spectrum-ClearButton--overBackground",(()=>Ud),(e=>Ud=e)),hd($d,"spectrum-ClearButton--small",(()=>Kd),(e=>Kd=e)),hd($d,"spectrum-FieldButton",(()=>Wd),(e=>Wd=e)),hd($d,"spectrum-FieldButton--invalid",(()=>qd),(e=>qd=e)),hd($d,"spectrum-FocusRing--quiet",(()=>Hd),(e=>Hd=e)),hd($d,"spectrum-FieldButton--quiet",(()=>Vd),(e=>Vd=e)),hd($d,"spectrum-Icon",(()=>Gd),(e=>Gd=e)),hd($d,"spectrum-LogicButton",(()=>Yd),(e=>Yd=e)),hd($d,"spectrum-LogicButton--and",(()=>Qd),(e=>Qd=e)),hd($d,"spectrum-LogicButton--or",(()=>Xd),(e=>Xd=e)),pd="Dniwja_focus-ring",gd="Dniwja_is-active",vd="Dniwja_is-disabled",yd="Dniwja_is-focused",bd="Dniwja_is-hovered",xd="Dniwja_is-open",wd="Dniwja_is-placeholder",_d="Dniwja_is-selected",kd="Dniwja_spectrum-BaseButton ".concat(md="Dniwja_i18nFontFamily"),Sd="Dniwja_spectrum-FocusRing ".concat(Ed="Dniwja_spectrum-FocusRing-ring"),Cd="Dniwja_spectrum-ActionButton ".concat(kd," ").concat(Sd),Md="Dniwja_spectrum-ActionButton--emphasized",Td="Dniwja_spectrum-ActionButton--quiet",Ad="Dniwja_spectrum-ActionButton--staticBlack",Dd="Dniwja_spectrum-ActionButton--staticColor",Fd="Dniwja_spectrum-ActionButton--staticWhite",Nd="Dniwja_spectrum-ActionButton-hold",Rd="Dniwja_spectrum-ActionButton-label",zd="Dniwja_spectrum-Button ".concat(kd," ").concat(Sd),Pd="Dniwja_spectrum-Button--iconOnly",Od="Dniwja_spectrum-Button--overBackground",Id="Dniwja_spectrum-Button--pending",Ld="Dniwja_spectrum-Button-circleLoader",Bd="Dniwja_spectrum-Button-label",jd="Dniwja_spectrum-ClearButton ".concat(kd," ").concat(Sd),Ud="Dniwja_spectrum-ClearButton--overBackground",Kd="Dniwja_spectrum-ClearButton--small",Wd="Dniwja_spectrum-FieldButton ".concat(kd," ").concat(Sd),qd="Dniwja_spectrum-FieldButton--invalid",Vd="Dniwja_spectrum-FieldButton--quiet ".concat(Hd="Dniwja_spectrum-FocusRing--quiet"),Gd="Dniwja_spectrum-Icon",Yd="Dniwja_spectrum-LogicButton ".concat(kd," ").concat(Sd),Qd="Dniwja_spectrum-LogicButton--and",Xd="Dniwja_spectrum-LogicButton--or";function Zd(e,t){e=Kt(e=Io(e),"actionButton");let{isQuiet:n,isDisabled:r,staticColor:i,children:o,autoFocus:a,holdAffordance:l,...s}=e,c=yt(t),{buttonProps:u,isPressed:d}=cd(e,c),{hoverProps:f,isHovered:h}=Dr({isDisabled:r}),{styleProps:p}=Lt(s),m=y.Children.toArray(e.children).every((e=>!y.isValidElement(e)));return y.createElement(oi,{focusRingClass:ht(fd($d),"focus-ring"),autoFocus:a},y.createElement("button",{...p,...q(u,f),ref:c,className:ht(fd($d),"spectrum-ActionButton",{"spectrum-ActionButton--quiet":n,"spectrum-ActionButton--staticColor":!!i,"spectrum-ActionButton--staticWhite":"white"===i,"spectrum-ActionButton--staticBlack":"black"===i,"is-active":d,"is-disabled":r,"is-hovered":h},p.className)},l&&y.createElement(dd,{UNSAFE_className:ht(fd($d),"spectrum-ActionButton-hold")}),y.createElement(Wt,{slots:{icon:{size:"S",UNSAFE_className:ht(fd($d),"spectrum-Icon")},text:{UNSAFE_className:ht(fd($d),"spectrum-ActionButton-label")}}},"string"===typeof o||m?y.createElement(ad,null,o):o)))}let Jd=y.forwardRef(Zd);function ef(e){let t,n=X(e,{labelable:!0});return"vertical"===e.orientation&&(t="vertical"),"hr"!==e.elementType?{separatorProps:{...n,role:"separator","aria-orientation":t}}:{separatorProps:n}}function tf(e){return e&&e.__esModule?e.default:e}function nf(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var rf,of,af,lf,sf,cf,uf,df,ff,hf,pf,mf={};nf(mf,"focus-ring",(()=>rf),(e=>rf=e)),nf(mf,"i18nFontFamily",(()=>of),(e=>of=e)),nf(mf,"spectrum-FocusRing-ring",(()=>af),(e=>af=e)),nf(mf,"spectrum-FocusRing",(()=>lf),(e=>lf=e)),nf(mf,"spectrum-FocusRing--quiet",(()=>sf),(e=>sf=e)),nf(mf,"spectrum-Rule",(()=>cf),(e=>cf=e)),nf(mf,"spectrum-Rule--horizontal",(()=>uf),(e=>uf=e)),nf(mf,"spectrum-Rule--large",(()=>df),(e=>df=e)),nf(mf,"spectrum-Rule--medium",(()=>ff),(e=>ff=e)),nf(mf,"spectrum-Rule--small",(()=>hf),(e=>hf=e)),nf(mf,"spectrum-Rule--vertical",(()=>pf),(e=>pf=e)),rf="cTbPrq_focus-ring",of="cTbPrq_i18nFontFamily",lf="cTbPrq_spectrum-FocusRing ".concat(af="cTbPrq_spectrum-FocusRing-ring"),sf="cTbPrq_spectrum-FocusRing--quiet",cf="cTbPrq_spectrum-Rule",uf="cTbPrq_spectrum-Rule--horizontal",df="cTbPrq_spectrum-Rule--large",ff="cTbPrq_spectrum-Rule--medium",hf="cTbPrq_spectrum-Rule--small",pf="cTbPrq_spectrum-Rule--vertical";let gf={S:"small",M:"medium",L:"large"};function vf(e,t){e=Kt(e,"divider");let{size:n="L",orientation:r="horizontal",...i}=e,o=vt(t),{styleProps:a}=Lt(i),l=gf[n],s="hr";"vertical"===r&&(s="div");let{separatorProps:c}=ef({...e,elementType:s});return y.createElement(s,{...a,className:ht(tf(mf),"spectrum-Rule","spectrum-Rule--".concat(l),{"spectrum-Rule--vertical":"vertical"===r,"spectrum-Rule--horizontal":"horizontal"===r},a.className),ref:o,...c})}let yf=y.forwardRef(vf);var bf;bf={alert:"\u062a\u0646\u0628\u064a\u0647",dismiss:"\u062a\u062c\u0627\u0647\u0644"};var xf;xf={alert:"\u0421\u0438\u0433\u043d\u0430\u043b",dismiss:"\u041e\u0442\u0445\u0432\u044a\u0440\u043b\u044f\u043d\u0435"};var wf;wf={alert:"V\xfdstraha",dismiss:"Odstranit"};var _f;_f={alert:"Advarsel",dismiss:"Luk"};var kf;kf={alert:"Warnhinweis",dismiss:"Schlie\xdfen"};var Ef;Ef={alert:"\u0395\u03b9\u03b4\u03bf\u03c0\u03bf\u03af\u03b7\u03c3\u03b7",dismiss:"\u0391\u03c0\u03cc\u03c1\u03c1\u03b9\u03c8\u03b7"};var Sf;Sf={dismiss:"Dismiss",alert:"Alert"};var Cf;Cf={alert:"Alerta",dismiss:"Descartar"};var Mf;Mf={alert:"Teade",dismiss:"L\xf5peta"};var Tf;Tf={alert:"H\xe4lytys",dismiss:"Hylk\xe4\xe4"};var Af;Af={alert:"Alerte",dismiss:"Rejeter"};var Df;Df={alert:"\u05d4\u05ea\u05e8\u05d0\u05d4",dismiss:"\u05d4\u05ea\u05e2\u05dc\u05dd"};var Ff;Ff={alert:"Upozorenje",dismiss:"Odbaci"};var Nf;Nf={alert:"Figyelmeztet\xe9s",dismiss:"Elutas\xedt\xe1s"};var Rf;Rf={alert:"Avviso",dismiss:"Ignora"};var zf;zf={alert:"\u30a2\u30e9\u30fc\u30c8",dismiss:"\u9589\u3058\u308b"};var Pf;Pf={alert:"\uacbd\uace0",dismiss:"\ubb34\uc2dc"};var Of;Of={alert:"\u012esp\u0117jimas",dismiss:"Atmesti"};var If;If={alert:"Br\u012bdin\u0101jums",dismiss:"Ner\u0101d\u012bt"};var Lf;Lf={alert:"Varsel",dismiss:"Lukk"};var Bf;Bf={alert:"Melding",dismiss:"Negeren"};var jf;jf={alert:"Ostrze\u017cenie",dismiss:"Zignoruj"};var Uf;Uf={alert:"Alerta",dismiss:"Descartar"};var Kf;Kf={alert:"Alerta",dismiss:"Dispensar"};var Wf;Wf={alert:"Alert\u0103",dismiss:"Revocare"};var qf;qf={alert:"\u041f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435",dismiss:"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c"};var Hf;Hf={alert:"Upozornenie",dismiss:"Zru\u0161i\u0165"};var Vf;Vf={alert:"Opozorilo",dismiss:"Opusti"};var Gf;Gf={alert:"Upozorenje",dismiss:"Odbaci"};var Yf;Yf={alert:"Varning",dismiss:"Avvisa"};var Qf;Qf={alert:"Uyar\u0131",dismiss:"Kapat"};var Xf;Xf={alert:"\u0421\u0438\u0433\u043d\u0430\u043b \u0442\u0440\u0438\u0432\u043e\u0433\u0438",dismiss:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"};var $f;$f={alert:"\u8b66\u62a5",dismiss:"\u53d6\u6d88"};var Zf;Zf={alert:"\u8b66\u793a",dismiss:"\u95dc\u9589"};var Jf=n(256);function eh(e){return y.createElement(fs,e,y.createElement(Jf.U,null))}function th(e,t){let{role:n="dialog"}=e,r=j();r=e["aria-label"]?void 0:r;let i=(0,y.useRef)(!1);return(0,y.useEffect)((()=>{if(t.current&&!t.current.contains(document.activeElement)){Lr(t.current);let e=setTimeout((()=>{document.activeElement===t.current&&(i.current=!0,t.current&&(t.current.blur(),Lr(t.current)),i.current=!1)}),500);return()=>{clearTimeout(e)}}}),[t]),lo(),{dialogProps:{...X(e,{labelable:!0}),role:n,tabIndex:-1,"aria-labelledby":e["aria-labelledby"]||r,onBlur:e=>{i.current&&e.stopPropagation()}},titleProps:{id:r}}}function nh(e,t){return nh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},nh(e,t)}const rh=!1,ih=y.createContext(null);var oh="unmounted",ah="exited",lh="entering",sh="entered",ch="exiting",uh=function(e){var t,n;function r(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=ah,r.appearStatus=lh):i=sh:i=t.unmountOnExit||t.mountOnEnter?oh:ah,r.state={status:i},r.nextCallback=null,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,nh(t,n),r.getDerivedStateFromProps=function(e,t){return e.in&&t.status===oh?{status:ah}:null};var i=r.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==lh&&n!==sh&&(t=lh):n!==lh&&n!==sh||(t=ch)}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},i.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===lh){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:di.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ah&&this.setState({status:oh})},i.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[di.findDOMNode(this),r],o=i[0],a=i[1],l=this.getTimeouts(),s=r?l.appear:l.enter;!e&&!n||rh?this.safeSetState({status:sh},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:lh},(function(){t.props.onEntering(o,a),t.onTransitionEnd(s,(function(){t.safeSetState({status:sh},(function(){t.props.onEntered(o,a)}))}))})))},i.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:di.findDOMNode(this);t&&!rh?(this.props.onExit(r),this.safeSetState({status:ch},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:ah},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:ah},(function(){e.props.onExited(r)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},i.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:di.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},i.render=function(){var e=this.state.status;if(e===oh)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return y.createElement(ih.Provider,{value:null},"function"===typeof n?n(e,r):y.cloneElement(y.Children.only(n),r))},r}(y.Component);function dh(){}uh.contextType=ih,uh.propTypes={},uh.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:dh,onEntering:dh,onEntered:dh,onExit:dh,onExiting:dh,onExited:dh},uh.UNMOUNTED=oh,uh.EXITED=ah,uh.ENTERING=lh,uh.ENTERED=sh,uh.EXITING=ch;const fh=uh;function hh(e){return e&&e.__esModule?e.default:e}function ph(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}const mh={entering:!1,entered:!0};function gh(e){return y.createElement(fh,{timeout:{enter:0,exit:350},...e},(t=>y.Children.map(e.children,(e=>e&&y.cloneElement(e,{isOpen:!!mh[t]})))))}function vh(e,t){let{children:n,isOpen:r,disableFocusManagement:i,container:o,onEnter:a,onEntering:l,onEntered:s,onExit:c,onExiting:u,onExited:d,nodeRef:f}=e,[h,p]=(0,y.useState)(!r),m=(0,y.useCallback)((()=>{p(!1),s&&s()}),[s]),g=(0,y.useCallback)((()=>{p(!0),d&&d()}),[d]);return r||!h?y.createElement(ao,{portalContainer:o,disableFocusManagement:i,isExiting:!r},y.createElement(zo,{ref:t,UNSAFE_style:{background:"transparent",isolation:"isolate"},isDisabled:!1},y.createElement(gh,{in:r,appear:!0,onExit:c,onExiting:u,onExited:g,onEnter:a,onEntering:l,onEntered:m,nodeRef:f},n))):null}let yh=y.forwardRef(vh);var bh,xh,wh,_h,kh,Eh,Sh,Ch,Mh,Th={};ph(Th,"react-spectrum-Modal",(()=>bh),(e=>bh=e)),ph(Th,"react-spectrum-Modal-wrapper",(()=>xh),(e=>xh=e)),ph(Th,"react-spectrum-Popover",(()=>wh),(e=>wh=e)),ph(Th,"react-spectrum-Tray",(()=>_h),(e=>_h=e)),ph(Th,"spectrum-Dialog-content",(()=>kh),(e=>kh=e)),ph(Th,"spectrum-Modal",(()=>Eh),(e=>Eh=e)),ph(Th,"spectrum-Modal-wrapper",(()=>Sh),(e=>Sh=e)),ph(Th,"spectrum-Popover",(()=>Ch),(e=>Ch=e)),ph(Th,"spectrum-Tray",(()=>Mh),(e=>Mh=e)),bh="OhnpTq_react-spectrum-Modal",xh="OhnpTq_react-spectrum-Modal-wrapper",wh="OhnpTq_react-spectrum-Popover",_h="OhnpTq_react-spectrum-Tray",kh="OhnpTq_spectrum-Dialog-content",Eh="OhnpTq_spectrum-Modal",Sh="OhnpTq_spectrum-Modal-wrapper",Ch="OhnpTq_spectrum-Popover",Mh="OhnpTq_spectrum-Tray";var Ah,Dh,Fh,Nh,Rh,zh,Ph,Oh,Ih,Lh,Bh,jh,Uh,Kh,Wh,qh,Hh,Vh,Gh,Yh,Qh,Xh,$h,Zh,Jh,ep={};ph(ep,"focus-ring",(()=>Ah),(e=>Ah=e)),ph(ep,"i18nFontFamily",(()=>Dh),(e=>Dh=e)),ph(ep,"spectrum-overlay--open",(()=>Fh),(e=>Fh=e)),ph(ep,"is-open",(()=>Nh),(e=>Nh=e)),ph(ep,"spectrum-overlay--bottom--open",(()=>Rh),(e=>Rh=e)),ph(ep,"is-open--bottom",(()=>zh),(e=>zh=e)),ph(ep,"spectrum-overlay--left--open",(()=>Ph),(e=>Ph=e)),ph(ep,"is-open--left",(()=>Oh),(e=>Oh=e)),ph(ep,"spectrum-overlay--right--open",(()=>Ih),(e=>Ih=e)),ph(ep,"is-open--right",(()=>Lh),(e=>Lh=e)),ph(ep,"spectrum-overlay--top--open",(()=>Bh),(e=>Bh=e)),ph(ep,"is-open--top",(()=>jh),(e=>jh=e)),ph(ep,"spectrum-FocusRing-ring",(()=>Uh),(e=>Uh=e)),ph(ep,"spectrum-FocusRing",(()=>Kh),(e=>Kh=e)),ph(ep,"spectrum-FocusRing--quiet",(()=>Wh),(e=>Wh=e)),ph(ep,"spectrum-overlay",(()=>qh),(e=>qh=e)),ph(ep,"spectrum-Popover",(()=>Hh),(e=>Hh=e)),ph(ep,"spectrum-Popover--bottom",(()=>Vh),(e=>Vh=e)),ph(ep,"spectrum-Popover--dialog",(()=>Gh),(e=>Gh=e)),ph(ep,"spectrum-Popover--left",(()=>Yh),(e=>Yh=e)),ph(ep,"spectrum-Popover--right",(()=>Qh),(e=>Qh=e)),ph(ep,"spectrum-Popover--top",(()=>Xh),(e=>Xh=e)),ph(ep,"spectrum-Popover--withTip",(()=>$h),(e=>$h=e)),ph(ep,"spectrum-Popover-tip",(()=>Zh),(e=>Zh=e)),ph(ep,"spectrum-Popover-tip-triangle",(()=>Jh),(e=>Jh=e)),Ah="cH0MeW_focus-ring",Dh="cH0MeW_i18nFontFamily",Nh="cH0MeW_is-open ".concat(Fh="cH0MeW_spectrum-overlay--open"),zh="cH0MeW_is-open--bottom ".concat(Rh="cH0MeW_spectrum-overlay--bottom--open"),Oh="cH0MeW_is-open--left ".concat(Ph="cH0MeW_spectrum-overlay--left--open"),Lh="cH0MeW_is-open--right ".concat(Ih="cH0MeW_spectrum-overlay--right--open"),jh="cH0MeW_is-open--top ".concat(Bh="cH0MeW_spectrum-overlay--top--open"),Kh="cH0MeW_spectrum-FocusRing ".concat(Uh="cH0MeW_spectrum-FocusRing-ring"),Wh="cH0MeW_spectrum-FocusRing--quiet",Hh="cH0MeW_spectrum-Popover ".concat(qh="cH0MeW_spectrum-overlay"),Vh="cH0MeW_spectrum-Popover--bottom",Gh="cH0MeW_spectrum-Popover--dialog",Yh="cH0MeW_spectrum-Popover--left",Qh="cH0MeW_spectrum-Popover--right",Xh="cH0MeW_spectrum-Popover--top",$h="cH0MeW_spectrum-Popover--withTip",Zh="cH0MeW_spectrum-Popover-tip",Jh="cH0MeW_spectrum-Popover-tip-triangle";var tp,np,rp,ip,op,ap,lp,sp,cp,up,dp,fp,hp,pp,mp={};function gp(e){let{isOpen:t,isTransparent:n,...r}=e;return y.createElement("div",{"data-testid":"underlay",...r,className:ht(hh(mp),"spectrum-Underlay",{"is-open":t,"spectrum-Underlay--transparent":n})})}ph(mp,"focus-ring",(()=>tp),(e=>tp=e)),ph(mp,"i18nFontFamily",(()=>np),(e=>np=e)),ph(mp,"spectrum-overlay--open",(()=>rp),(e=>rp=e)),ph(mp,"is-open",(()=>ip),(e=>ip=e)),ph(mp,"spectrum-FocusRing-ring",(()=>op),(e=>op=e)),ph(mp,"spectrum-FocusRing",(()=>ap),(e=>ap=e)),ph(mp,"spectrum-FocusRing--quiet",(()=>lp),(e=>lp=e)),ph(mp,"spectrum-overlay",(()=>sp),(e=>sp=e)),ph(mp,"spectrum-Underlay",(()=>cp),(e=>cp=e)),ph(mp,"spectrum-Underlay--transparent",(()=>up),(e=>up=e)),ph(mp,"spectrum-overlay--bottom--open",(()=>dp),(e=>dp=e)),ph(mp,"spectrum-overlay--left--open",(()=>fp),(e=>fp=e)),ph(mp,"spectrum-overlay--right--open",(()=>hp),(e=>hp=e)),ph(mp,"spectrum-overlay--top--open",(()=>pp),(e=>pp=e)),tp="F-oYUa_focus-ring",np="F-oYUa_i18nFontFamily",ip="F-oYUa_is-open ".concat(rp="F-oYUa_spectrum-overlay--open"),ap="F-oYUa_spectrum-FocusRing ".concat(op="F-oYUa_spectrum-FocusRing-ring"),lp="F-oYUa_spectrum-FocusRing--quiet",cp="F-oYUa_spectrum-Underlay ".concat(sp="F-oYUa_spectrum-overlay"),up="F-oYUa_spectrum-Underlay--transparent",dp="F-oYUa_spectrum-overlay--bottom--open",fp="F-oYUa_spectrum-overlay--left--open",hp="F-oYUa_spectrum-overlay--right--open",pp="F-oYUa_spectrum-overlay--top--open";let vp={left:"right",right:"right",top:"bottom",bottom:"bottom"};function yp(e,t){let{children:n,state:r,...i}=e,o=vt(t),a=(0,y.useRef)(null);return y.createElement(yh,{...i,isOpen:r.isOpen,nodeRef:a},y.createElement(bp,{ref:o,...e,wrapperRef:a},n))}const bp=(0,y.forwardRef)(((e,t)=>{let{children:n,isOpen:r,hideArrow:i,isNonModal:o,enableBothDismissButtons:a,state:l,wrapperRef:s,onDismissButtonPress:c=(()=>l.close())}=e,{styleProps:u}=Lt(e),{size:d,borderWidth:f,arrowRef:h}=function(){let[e,t]=(0,y.useState)(20),[n,r]=(0,y.useState)(1),i=(0,y.useRef)(null);return R((()=>{if(i.current){let e=window.getComputedStyle(i.current).getPropertyValue("--spectrum-popover-tip-size");""!==e&&t(parseInt(e,10)/2);let n=window.getComputedStyle(i.current).getPropertyValue("--spectrum-popover-tip-borderWidth");""!==n&&r(parseInt(n,10))}}),[]),{size:e,borderWidth:n,arrowRef:i}}();const p=function(e){let[t,n]=(0,y.useState)(0);return R((()=>{if(e.current){let t=window.getComputedStyle(e.current).borderRadius;""!==t&&n(parseInt(t,10))}}),[e]),t}(t);let m=f*Math.SQRT2,g=d+m,v=2*g,{popoverProps:b,arrowProps:x,underlayProps:w,placement:_}=io({...e,popoverRef:t,maxHeight:null,arrowSize:i?0:v,arrowBoundaryOffset:p},l),{focusWithinProps:k}=Er(e);return y.createElement("div",{ref:s},!o&&y.createElement(gp,{isTransparent:!0,...q(w,{onPointerDown:()=>{l.close()}}),isOpen:r}),y.createElement("div",{...u,...q(b,k),style:{...u.style,...b.style},ref:t,className:ht(hh(ep),"spectrum-Popover","spectrum-Popover--".concat(_),{"spectrum-Popover--withTip":!i,"is-open":r,["is-open--".concat(_)]:r},ht(hh(Th),"spectrum-Popover","react-spectrum-Popover"),u.className),role:"presentation","data-testid":"popover"},(!o||a)&&y.createElement(eo,{onDismiss:c}),n,i?null:y.createElement(xp,{arrowProps:x,isLandscape:"bottom"===vp[_],arrowRef:h,primary:g,secondary:v,borderDiagonal:m}),y.createElement(eo,{onDismiss:c})))}));function xp(e){let{primary:t,secondary:n,isLandscape:r,arrowProps:i,borderDiagonal:o,arrowRef:a}=e,l=o/2,s=t-l,c=n/2,u=n-l,d=r?["M",l,0,"L",c,s,"L",u,0]:["M",0,l,"L",s,c,"L",0,u];return y.createElement("svg",{xmlns:"http://www.w3.org/svg/2000",width:Math.ceil(r?n:t),height:Math.ceil(r?t:n),className:ht(hh(ep),"spectrum-Popover-tip"),ref:a,...i},y.createElement("path",{className:ht(hh(ep),"spectrum-Popover-tip-triangle"),d:d.join(" ")}))}let wp=(0,y.forwardRef)(yp);var _p,kp,Ep,Sp,Cp,Mp,Tp,Ap,Dp,Fp,Np,Rp,zp,Pp,Op,Ip,Lp,Bp={};function jp(e,t){let{children:n,state:r,...i}=e,o=vt(t),a=(0,y.useRef)(null);return y.createElement(yh,{...i,isOpen:r.isOpen,nodeRef:a},y.createElement(Kp,{...e,wrapperRef:a,ref:o},n))}ph(Bp,"focus-ring",(()=>_p),(e=>_p=e)),ph(Bp,"i18nFontFamily",(()=>kp),(e=>kp=e)),ph(Bp,"spectrum-overlay--open",(()=>Ep),(e=>Ep=e)),ph(Bp,"is-open",(()=>Sp),(e=>Sp=e)),ph(Bp,"spectrum-FocusRing-ring",(()=>Cp),(e=>Cp=e)),ph(Bp,"spectrum-FocusRing",(()=>Mp),(e=>Mp=e)),ph(Bp,"spectrum-FocusRing--quiet",(()=>Tp),(e=>Tp=e)),ph(Bp,"spectrum-overlay",(()=>Ap),(e=>Ap=e)),ph(Bp,"spectrum-Modal",(()=>Dp),(e=>Dp=e)),ph(Bp,"spectrum-Modal--fullscreen",(()=>Fp),(e=>Fp=e)),ph(Bp,"spectrum-Modal--fullscreenTakeover",(()=>Np),(e=>Np=e)),ph(Bp,"spectrum-Modal--responsive",(()=>Rp),(e=>Rp=e)),ph(Bp,"spectrum-Modal-wrapper",(()=>zp),(e=>zp=e)),ph(Bp,"spectrum-overlay--bottom--open",(()=>Pp),(e=>Pp=e)),ph(Bp,"spectrum-overlay--left--open",(()=>Op),(e=>Op=e)),ph(Bp,"spectrum-overlay--right--open",(()=>Ip),(e=>Ip=e)),ph(Bp,"spectrum-overlay--top--open",(()=>Lp),(e=>Lp=e)),_p="_0YML2q_focus-ring",kp="_0YML2q_i18nFontFamily",Sp="_0YML2q_is-open ".concat(Ep="_0YML2q_spectrum-overlay--open"),Mp="_0YML2q_spectrum-FocusRing ".concat(Cp="_0YML2q_spectrum-FocusRing-ring"),Tp="_0YML2q_spectrum-FocusRing--quiet",Dp="_0YML2q_spectrum-Modal ".concat(Ap="_0YML2q_spectrum-overlay"),Fp="_0YML2q_spectrum-Modal--fullscreen",Np="_0YML2q_spectrum-Modal--fullscreenTakeover",Rp="_0YML2q_spectrum-Modal--responsive",zp="_0YML2q_spectrum-Modal-wrapper",Pp="_0YML2q_spectrum-overlay--bottom--open",Op="_0YML2q_spectrum-overlay--left--open",Ip="_0YML2q_spectrum-overlay--right--open",Lp="_0YML2q_spectrum-overlay--top--open";let Up={fullscreen:"fullscreen",fullscreenTakeover:"fullscreenTakeover"},Kp=(0,y.forwardRef)((function(e,t){let{type:n,children:r,state:i,isOpen:o,wrapperRef:a}=e,l=Up[n],{styleProps:s}=Lt(e),{modalProps:c,underlayProps:u}=so(e,i,t),d=ht(hh(Bp),"spectrum-Modal-wrapper",ht(hh(Th),"spectrum-Modal-wrapper","react-spectrum-Modal-wrapper")),f=ht(hh(Bp),"spectrum-Modal",{"is-open":o},ht(hh(Th),"spectrum-Modal","react-spectrum-Modal"),{["spectrum-Modal--".concat(l)]:l},s.className),h={"--spectrum-visual-viewport-height":Se().height+"px"};return y.createElement("div",{ref:a},y.createElement(gp,{...u,isOpen:o}),y.createElement("div",{className:d,style:h},y.createElement("div",{...s,...c,ref:t,className:f,"data-testid":"modal"},r)))})),Wp=(0,y.forwardRef)(jp);var qp,Hp,Vp,Gp,Yp,Qp,Xp,$p,Zp,Jp,em,tm,nm,rm,im,om={};function am(e,t){let{children:n,state:r,...i}=e,o=vt(t),a=(0,y.useRef)(null);return y.createElement(yh,{...i,isOpen:r.isOpen,nodeRef:a},y.createElement(lm,{...e,wrapperRef:a,ref:o},n))}ph(om,"focus-ring",(()=>qp),(e=>qp=e)),ph(om,"i18nFontFamily",(()=>Hp),(e=>Hp=e)),ph(om,"spectrum-overlay--open",(()=>Vp),(e=>Vp=e)),ph(om,"is-open",(()=>Gp),(e=>Gp=e)),ph(om,"spectrum-FocusRing-ring",(()=>Yp),(e=>Yp=e)),ph(om,"spectrum-FocusRing",(()=>Qp),(e=>Qp=e)),ph(om,"spectrum-FocusRing--quiet",(()=>Xp),(e=>Xp=e)),ph(om,"spectrum-overlay",(()=>$p),(e=>$p=e)),ph(om,"spectrum-Tray",(()=>Zp),(e=>Zp=e)),ph(om,"spectrum-Tray--fixedHeight",(()=>Jp),(e=>Jp=e)),ph(om,"spectrum-Tray-wrapper",(()=>em),(e=>em=e)),ph(om,"spectrum-overlay--bottom--open",(()=>tm),(e=>tm=e)),ph(om,"spectrum-overlay--left--open",(()=>nm),(e=>nm=e)),ph(om,"spectrum-overlay--right--open",(()=>rm),(e=>rm=e)),ph(om,"spectrum-overlay--top--open",(()=>im),(e=>im=e)),qp="UuxJvG_focus-ring",Hp="UuxJvG_i18nFontFamily",Gp="UuxJvG_is-open ".concat(Vp="UuxJvG_spectrum-overlay--open"),Qp="UuxJvG_spectrum-FocusRing ".concat(Yp="UuxJvG_spectrum-FocusRing-ring"),Xp="UuxJvG_spectrum-FocusRing--quiet",Zp="UuxJvG_spectrum-Tray ".concat($p="UuxJvG_spectrum-overlay"),Jp="UuxJvG_spectrum-Tray--fixedHeight",em="UuxJvG_spectrum-Tray-wrapper",tm="UuxJvG_spectrum-overlay--bottom--open",nm="UuxJvG_spectrum-overlay--left--open",rm="UuxJvG_spectrum-overlay--right--open",im="UuxJvG_spectrum-overlay--top--open";let lm=(0,y.forwardRef)((function(e,t){let{children:n,isOpen:r,isFixedHeight:i,state:o,wrapperRef:a}=e,{styleProps:l}=Lt(e),{modalProps:s,underlayProps:c}=so({...e,isDismissable:!0},o,t),u={"--spectrum-visual-viewport-height":Se().height+"px"},d=ht(hh(om),"spectrum-Tray-wrapper"),f=ht(hh(om),"spectrum-Tray",{"is-open":r,"spectrum-Tray--fixedHeight":i},ht(hh(Th),"spectrum-Tray","react-spectrum-Tray"),l.className);return y.createElement("div",{ref:a},y.createElement(gp,{...c,isOpen:r}),y.createElement("div",{className:d,style:u},y.createElement("div",{...l,...s,className:f,ref:t,"data-testid":"tray"},y.createElement(eo,{onDismiss:o.close}),n,y.createElement(eo,{onDismiss:o.close}))))})),sm=(0,y.forwardRef)(am);function cm(e){let[t,n]=An(e.isOpen,e.defaultOpen||!1,e.onOpenChange);const r=(0,y.useCallback)((()=>{n(!0)}),[n]),i=(0,y.useCallback)((()=>{n(!1)}),[n]),o=(0,y.useCallback)((()=>{n(!t)}),[n,t]);return{isOpen:t,setOpen:n,open:r,close:i,toggle:o}}function um(e){return e&&e.__esModule?e.default:e}function dm(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}const fm=y.createContext(null);var hm;hm={"ar-AE":bf,"bg-BG":xf,"cs-CZ":wf,"da-DK":_f,"de-DE":kf,"el-GR":Ef,"en-US":Sf,"es-ES":Cf,"et-EE":Mf,"fi-FI":Tf,"fr-FR":Af,"he-IL":Df,"hr-HR":Ff,"hu-HU":Nf,"it-IT":Rf,"ja-JP":zf,"ko-KR":Pf,"lt-LT":Of,"lv-LV":If,"nb-NO":Lf,"nl-NL":Bf,"pl-PL":jf,"pt-BR":Uf,"pt-PT":Kf,"ro-RO":Wf,"ru-RU":qf,"sk-SK":Hf,"sl-SI":Vf,"sr-SP":Gf,"sv-SE":Yf,"tr-TR":Qf,"uk-UA":Xf,"zh-CN":$f,"zh-TW":Zf};var pm,mm,gm,vm,ym,bm,xm,wm,_m,km,Em,Sm,Cm,Mm,Tm,Am,Dm,Fm,Nm,Rm,zm,Pm,Om,Im,Lm,Bm,jm,Um,Km,Wm,qm,Hm,Vm,Gm,Ym,Qm,Xm,$m,Zm,Jm,eg,tg,ng,rg,ig,og,ag,lg,sg,cg,ug,dg={};dm(dg,"buttonGroup",(()=>pm),(e=>pm=e)),dm(dg,"buttonGroup-end",(()=>mm),(e=>mm=e)),dm(dg,"closeButton",(()=>gm),(e=>gm=e)),dm(dg,"content",(()=>vm),(e=>vm=e)),dm(dg,"divider",(()=>ym),(e=>ym=e)),dm(dg,"focus-ring",(()=>bm),(e=>bm=e)),dm(dg,"footer",(()=>xm),(e=>xm=e)),dm(dg,"footer-start",(()=>wm),(e=>wm=e)),dm(dg,"header",(()=>_m),(e=>_m=e)),dm(dg,"header-end",(()=>km),(e=>km=e)),dm(dg,"header-start",(()=>Em),(e=>Em=e)),dm(dg,"heading",(()=>Sm),(e=>Sm=e)),dm(dg,"heading-start",(()=>Cm),(e=>Cm=e)),dm(dg,"hero",(()=>Mm),(e=>Mm=e)),dm(dg,"i18nFontFamily",(()=>Tm),(e=>Tm=e)),dm(dg,"spectrum-Button",(()=>Am),(e=>Am=e)),dm(dg,"spectrum-Dialog",(()=>Dm),(e=>Dm=e)),dm(dg,"spectrum-Dialog--dismissable",(()=>Fm),(e=>Fm=e)),dm(dg,"spectrum-Dialog--error",(()=>Nm),(e=>Nm=e)),dm(dg,"spectrum-Dialog--fullscreen",(()=>Rm),(e=>Rm=e)),dm(dg,"spectrum-Dialog--fullscreenTakeover",(()=>zm),(e=>zm=e)),dm(dg,"spectrum-Dialog--large",(()=>Pm),(e=>Pm=e)),dm(dg,"spectrum-Dialog--medium",(()=>Om),(e=>Om=e)),dm(dg,"spectrum-Dialog--noDivider",(()=>Im),(e=>Im=e)),dm(dg,"spectrum-Dialog--small",(()=>Lm),(e=>Lm=e)),dm(dg,"spectrum-Dialog--warning",(()=>Bm),(e=>Bm=e)),dm(dg,"spectrum-Dialog-buttonGroup",(()=>jm),(e=>jm=e)),dm(dg,"spectrum-Dialog-buttonGroup--noFooter",(()=>Um),(e=>Um=e)),dm(dg,"spectrum-Dialog-closeButton",(()=>Km),(e=>Km=e)),dm(dg,"spectrum-Dialog-content",(()=>Wm),(e=>Wm=e)),dm(dg,"spectrum-Dialog-divider",(()=>qm),(e=>qm=e)),dm(dg,"spectrum-Dialog-footer",(()=>Hm),(e=>Hm=e)),dm(dg,"spectrum-Dialog-grid",(()=>Vm),(e=>Vm=e)),dm(dg,"spectrum-Dialog-header",(()=>Gm),(e=>Gm=e)),dm(dg,"spectrum-Dialog-header--noTypeIcon",(()=>Ym),(e=>Ym=e)),dm(dg,"spectrum-Dialog-heading",(()=>Qm),(e=>Qm=e)),dm(dg,"spectrum-Dialog-heading--noHeader",(()=>Xm),(e=>Xm=e)),dm(dg,"spectrum-Dialog-heading--noTypeIcon",(()=>$m),(e=>$m=e)),dm(dg,"spectrum-Dialog-hero",(()=>Zm),(e=>Zm=e)),dm(dg,"spectrum-Dialog-typeIcon",(()=>Jm),(e=>Jm=e)),dm(dg,"spectrum-FocusRing-ring",(()=>eg),(e=>eg=e)),dm(dg,"spectrum-FocusRing",(()=>tg),(e=>tg=e)),dm(dg,"spectrum-FocusRing--quiet",(()=>ng),(e=>ng=e)),dm(dg,"spectrum-overlay",(()=>rg),(e=>rg=e)),dm(dg,"spectrum-overlay--bottom--open",(()=>ig),(e=>ig=e)),dm(dg,"spectrum-overlay--left--open",(()=>og),(e=>og=e)),dm(dg,"spectrum-overlay--open",(()=>ag),(e=>ag=e)),dm(dg,"spectrum-overlay--right--open",(()=>lg),(e=>lg=e)),dm(dg,"spectrum-overlay--top--open",(()=>sg),(e=>sg=e)),dm(dg,"typeIcon",(()=>cg),(e=>cg=e)),dm(dg,"typeIcon-end",(()=>ug),(e=>ug=e)),pm="h_OVWW_buttonGroup",mm="h_OVWW_buttonGroup-end",gm="h_OVWW_closeButton",vm="h_OVWW_content",ym="h_OVWW_divider",bm="h_OVWW_focus-ring",xm="h_OVWW_footer",wm="h_OVWW_footer-start",_m="h_OVWW_header",km="h_OVWW_header-end",Em="h_OVWW_header-start",Sm="h_OVWW_heading",Cm="h_OVWW_heading-start",Mm="h_OVWW_hero",Tm="h_OVWW_i18nFontFamily",Am="h_OVWW_spectrum-Button",Dm="h_OVWW_spectrum-Dialog",Fm="h_OVWW_spectrum-Dialog--dismissable",Nm="h_OVWW_spectrum-Dialog--error",Rm="h_OVWW_spectrum-Dialog--fullscreen",zm="h_OVWW_spectrum-Dialog--fullscreenTakeover",Pm="h_OVWW_spectrum-Dialog--large",Om="h_OVWW_spectrum-Dialog--medium",Im="h_OVWW_spectrum-Dialog--noDivider",Lm="h_OVWW_spectrum-Dialog--small",Bm="h_OVWW_spectrum-Dialog--warning",jm="h_OVWW_spectrum-Dialog-buttonGroup",Um="h_OVWW_spectrum-Dialog-buttonGroup--noFooter",Km="h_OVWW_spectrum-Dialog-closeButton",Wm="h_OVWW_spectrum-Dialog-content",qm="h_OVWW_spectrum-Dialog-divider",Hm="h_OVWW_spectrum-Dialog-footer",Vm="h_OVWW_spectrum-Dialog-grid",Gm="h_OVWW_spectrum-Dialog-header",Ym="h_OVWW_spectrum-Dialog-header--noTypeIcon",Qm="h_OVWW_spectrum-Dialog-heading",Xm="h_OVWW_spectrum-Dialog-heading--noHeader",$m="h_OVWW_spectrum-Dialog-heading--noTypeIcon",Zm="h_OVWW_spectrum-Dialog-hero",Jm="h_OVWW_spectrum-Dialog-typeIcon",tg="h_OVWW_spectrum-FocusRing ".concat(eg="h_OVWW_spectrum-FocusRing-ring"),ng="h_OVWW_spectrum-FocusRing--quiet",rg="h_OVWW_spectrum-overlay",ig="h_OVWW_spectrum-overlay--bottom--open",og="h_OVWW_spectrum-overlay--left--open",ag="h_OVWW_spectrum-overlay--open",lg="h_OVWW_spectrum-overlay--right--open",sg="h_OVWW_spectrum-overlay--top--open",cg="h_OVWW_typeIcon",ug="h_OVWW_typeIcon-end";let fg={S:"small",M:"medium",L:"large",fullscreen:"fullscreen",fullscreenTakeover:"fullscreenTakeover"};function hg(e,t){e=Kt(e,"dialog");let{type:n="modal",...r}=(0,y.useContext)(fm)||{},{children:i,isDismissable:o=r.isDismissable,onDismiss:a=r.onClose,size:l,...s}=e,c=st(um(hm),"@react-spectrum/dialog"),{styleProps:u}=Lt(s);l="popover"===n?l||"S":l||"L";let d=vt(t),f=(0,y.useRef)(null),h=fg[n]||fg[l],{dialogProps:p,titleProps:m}=th(q(r,e),d),g=Ht(".".concat(um(dg)["spectrum-Dialog-header"]),bt(f)),v=Ht(".".concat(um(dg)["spectrum-Dialog-heading"]),bt(f)),b=Ht(".".concat(um(dg)["spectrum-Dialog-footer"]),bt(f)),x=Ht(".".concat(um(dg)["spectrum-Dialog-typeIcon"]),bt(f)),w=(0,y.useMemo)((()=>({hero:{UNSAFE_className:um(dg)["spectrum-Dialog-hero"]},heading:{UNSAFE_className:ht(um(dg),"spectrum-Dialog-heading",{"spectrum-Dialog-heading--noHeader":!g,"spectrum-Dialog-heading--noTypeIcon":!x}),level:2,...m},header:{UNSAFE_className:ht(um(dg),"spectrum-Dialog-header",{"spectrum-Dialog-header--noHeading":!v,"spectrum-Dialog-header--noTypeIcon":!x})},typeIcon:{UNSAFE_className:um(dg)["spectrum-Dialog-typeIcon"]},divider:{UNSAFE_className:um(dg)["spectrum-Dialog-divider"],size:"M"},content:{UNSAFE_className:um(dg)["spectrum-Dialog-content"]},footer:{UNSAFE_className:um(dg)["spectrum-Dialog-footer"]},buttonGroup:{UNSAFE_className:ht(um(dg),"spectrum-Dialog-buttonGroup",{"spectrum-Dialog-buttonGroup--noFooter":!b}),align:"end"}})),[b,g,m]);return y.createElement("section",{...u,...p,className:ht(um(dg),"spectrum-Dialog",{["spectrum-Dialog--".concat(h)]:h,"spectrum-Dialog--dismissable":o},u.className),ref:d},y.createElement(ca,{ref:f,UNSAFE_className:um(dg)["spectrum-Dialog-grid"]},y.createElement(Wt,{slots:w},i),o&&y.createElement(Jd,{UNSAFE_className:um(dg)["spectrum-Dialog-closeButton"],isQuiet:!0,"aria-label":c.format("dismiss"),onPress:a},y.createElement(eh,null))))}let pg=y.forwardRef(hg);function mg(e){let{children:t,type:n="modal",mobileType:r=("popover"===n?"modal":n),hideArrow:i,targetRef:o,isDismissable:a,isKeyboardDismissDisabled:l,...s}=e;if(!Array.isArray(t)||t.length>2)throw new Error("DialogTrigger must have exactly 2 children");let[c,u]=t;Gt()&&("modal"!==n&&"modal"===r&&(a=!0),n=r);let d=cm(e),f=(0,y.useRef)(!1);(0,y.useEffect)((()=>{f.current=d.isOpen}),[d.isOpen]);let h=(0,y.useRef)(!1),p=()=>h.current=!0,m=()=>h.current=!1;if((0,y.useEffect)((()=>()=>{(f.current||h.current)&&"popover"!==n&&"tray"!==n&&console.warn("A DialogTrigger unmounted while open. This is likely due to being placed within a trigger that unmounts or inside a conditional. Consider using a DialogContainer instead.")}),[]),"popover"===n)return y.createElement(vg,{...s,state:d,targetRef:o,trigger:c,content:u,isKeyboardDismissDisabled:l,hideArrow:i});return y.createElement(yg,{type:n,state:d,isDismissable:a,trigger:c,overlay:(()=>{switch(n){case"fullscreen":case"fullscreenTakeover":case"modal":return y.createElement(Wp,{state:d,isDismissable:"modal"===n&&a,type:n,isKeyboardDismissDisabled:l,onExiting:p,onExited:m},"function"===typeof u?u(d.close):u);case"tray":return y.createElement(sm,{state:d,isKeyboardDismissDisabled:l},"function"===typeof u?u(d.close):u)}})()})}mg.getCollectionNode=function*(e){let[t]=y.Children.toArray(e.children),[,n]=e.children;yield{element:t,wrapper:t=>y.createElement(mg,{key:t.key,...e},t,n)}};let gg=mg;function vg(e){let{state:t,targetRef:n,trigger:r,content:i,hideArrow:o,...a}=e,l=(0,y.useRef)(null),{triggerProps:s,overlayProps:c}=ji({type:"dialog"},t,l),u={...s,ref:n?void 0:l},d=y.createElement(wp,{...a,hideArrow:o,triggerRef:n||l,state:t},"function"===typeof i?i(t.close):i);return y.createElement(yg,{type:"popover",state:t,triggerProps:u,dialogProps:c,trigger:r,overlay:d})}function yg(e){let{type:t,state:n,isDismissable:r,dialogProps:i={},triggerProps:o={},overlay:a,trigger:l}=e,s={type:t,onClose:n.close,isDismissable:r,...i};return y.createElement(y.Fragment,null,y.createElement(er,{...o,onPress:n.toggle,isPressed:n.isOpen&&"modal"!==t&&"fullscreen"!==t&&"fullscreenTakeover"!==t},l),y.createElement(fm.Provider,{value:s},a))}function bg(e){let{children:t,type:n="modal",onDismiss:r,isDismissable:i,isKeyboardDismissDisabled:o}=e;if(y.Children.toArray(t).length>1)throw new Error("Only a single child can be passed to DialogContainer.");let a,[l,s]=(0,y.useState)(null);Array.isArray(t)?a=t.find(y.isValidElement):y.isValidElement(t)&&(a=t),a&&a!==l&&s(a);let c={type:n,onClose:r,isDismissable:i},u=cm({isOpen:!!a,onOpenChange:e=>{e||r()}});return y.createElement(Wp,{state:u,type:n,isDismissable:i,isKeyboardDismissDisabled:o},y.createElement(fm.Provider,{value:c},l))}function xg(e,t){e=Kt(e,"content");let{children:n,...r}=e,{styleProps:i}=Lt(r),o=vt(t);return y.createElement("section",{...X(r),...i,ref:o},y.createElement(qt,null,n))}const wg=(0,y.forwardRef)(xg);function _g(e,t){e=Kt(e,"header");let{children:n,...r}=e,{styleProps:i}=Lt(r),o=vt(t);return y.createElement("header",{...X(r),...i,ref:o},y.createElement(qt,null,n))}const kg=(0,y.forwardRef)(_g);var Eg;Eg={collapse:"\u0637\u064a",columnResizer:"\u0623\u062f\u0627\u0629 \u062a\u063a\u064a\u064a\u0631 \u062d\u062c\u0645 \u0627\u0644\u0639\u0645\u0648\u062f",drag:"\u0633\u062d\u0628",expand:"\u0645\u062f",loading:"\u062c\u0627\u0631\u064d \u0627\u0644\u062a\u062d\u0645\u064a\u0644...",loadingMore:"\u062c\u0627\u0631\u064d \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0645\u0632\u064a\u062f...",resizeColumn:"\u062a\u063a\u064a\u064a\u0631 \u062d\u062c\u0645 \u0627\u0644\u0639\u0645\u0648\u062f",sortAscending:"\u0641\u0631\u0632 \u0628\u062a\u0631\u062a\u064a\u0628 \u062a\u0635\u0627\u0639\u062f\u064a",sortDescending:"\u0641\u0631\u0632 \u0628\u062a\u0631\u062a\u064a\u0628 \u062a\u0646\u0627\u0632\u0644\u064a"};var Sg;Sg={collapse:"\u0421\u0432\u0438\u0432\u0430\u043d\u0435",columnResizer:"\u041f\u0440\u0435\u043e\u0440\u0430\u0437\u043c\u0435\u0440\u044f\u0432\u0430\u043d\u0435 \u043d\u0430 \u043a\u043e\u043b\u043e\u043d\u0438",drag:"\u041f\u043b\u044a\u0437\u043d\u0435\u0442\u0435",expand:"\u0420\u0430\u0437\u0448\u0438\u0440\u044f\u0432\u0430\u043d\u0435",loading:"\u0417\u0430\u0440\u0435\u0436\u0434\u0430\u043d\u0435...",loadingMore:"\u0417\u0430\u0440\u0435\u0436\u0434\u0430\u043d\u0435 \u043d\u0430 \u043e\u0449\u0435...",resizeColumn:"\u041f\u0440\u0435\u043e\u0440\u0430\u0437\u043c\u0435\u0440\u044f\u0432\u0430\u043d\u0435 \u043d\u0430 \u043a\u043e\u043b\u043e\u043d\u0430",sortAscending:"\u0412\u044a\u0437\u0445\u043e\u0434\u044f\u0449\u043e \u0441\u043e\u0440\u0442\u0438\u0440\u0430\u043d\u0435",sortDescending:"\u041d\u0438\u0437\u0445\u043e\u0434\u044f\u0449\u043e \u0441\u043e\u0440\u0442\u0438\u0440\u0430\u043d\u0435 "};var Cg;Cg={collapse:"Zmen\u0161it",columnResizer:"Zm\u011bna velikosti sloupce",drag:"P\u0159et\xe1hnout",expand:"Rozt\xe1hnout",loading:"Na\u010d\xedt\xe1n\xed...",loadingMore:"Na\u010d\xedt\xe1n\xed dal\u0161\xedch...",resizeColumn:"Zm\u011bnit velikost sloupce",sortAscending:"Se\u0159adit vzestupn\u011b",sortDescending:"Se\u0159adit sestupn\u011b"};var Mg;Mg={collapse:"Skjul",columnResizer:"Kolonne\xe6ndring",drag:"Tr\xe6k",expand:"Udvid",loading:"Indl\xe6ser ...",loadingMore:"Indl\xe6ser flere ...",resizeColumn:"Tilpas st\xf8rrelse p\xe5 kolonne",sortAscending:"Sorter stigende",sortDescending:"Sorter faldende"};var Tg;Tg={collapse:"Reduzieren",columnResizer:"Spaltenanpassung",drag:"Ziehen",expand:"Erweitern",loading:"Laden...",loadingMore:"Mehr laden ...",resizeColumn:"Spaltengr\xf6\xdfe \xe4ndern",sortAscending:"Aufsteigend sortieren",sortDescending:"Absteigend sortieren"};var Ag;Ag={collapse:"\u03a3\u03cd\u03bc\u03c0\u03c4\u03c5\u03be\u03b7",columnResizer:"\u0391\u03bb\u03bb\u03b1\u03b3\u03ae \u03bc\u03b5\u03b3\u03ad\u03b8\u03bf\u03c5\u03c2 \u03c3\u03c4\u03ae\u03bb\u03b7\u03c2",drag:"\u039c\u03b5\u03c4\u03b1\u03c6\u03bf\u03c1\u03ac",expand:"\u0391\u03bd\u03ac\u03c0\u03c4\u03c5\u03be\u03b7",loading:"\u03a6\u03cc\u03c1\u03c4\u03c9\u03c3\u03b7...",loadingMore:"\u03a6\u03cc\u03c1\u03c4\u03c9\u03c3\u03b7 \u03c0\u03b5\u03c1\u03b9\u03c3\u03c3\u03cc\u03c4\u03b5\u03c1\u03c9\u03bd...",resizeColumn:"\u0391\u03bb\u03bb\u03b1\u03b3\u03ae \u03bc\u03b5\u03b3\u03ad\u03b8\u03bf\u03c5\u03c2 \u03c3\u03c4\u03ae\u03bb\u03b7\u03c2",sortAscending:"\u03a4\u03b1\u03be\u03b9\u03bd\u03cc\u03bc\u03b7\u03c3\u03b7 \u03ba\u03b1\u03c4\u03ac \u03b1\u03cd\u03be\u03bf\u03c5\u03c3\u03b1 \u03c3\u03b5\u03b9\u03c1\u03ac",sortDescending:"\u03a4\u03b1\u03be\u03b9\u03bd\u03cc\u03bc\u03b7\u03c3\u03b7 \u03ba\u03b1\u03c4\u03ac \u03c6\u03b8\u03af\u03bd\u03bf\u03c5\u03c3\u03b1 \u03c3\u03b5\u03b9\u03c1\u03ac"};var Dg;Dg={loading:"Loading\u2026",loadingMore:"Loading more\u2026",sortAscending:"Sort Ascending",sortDescending:"Sort Descending",resizeColumn:"Resize column",columnResizer:"Column resizer",drag:"Drag",expand:"Expand",collapse:"Collapse"};var Fg;Fg={collapse:"Contraer",columnResizer:"Redimensionador de columnas",drag:"Arrastrar",expand:"Ampliar",loading:"Cargando\u2026",loadingMore:"Cargando m\xe1s\u2026",resizeColumn:"Cambiar el tama\xf1o de la columna",sortAscending:"Orden de subida",sortDescending:"Orden de bajada"};var Ng;Ng={collapse:"Ahenda",columnResizer:"Veeru suuruse muutja",drag:"Lohista",expand:"Laienda",loading:"Laadimine...",loadingMore:"Laadi rohkem...",resizeColumn:"Muuda veeru suurust",sortAscending:"Sordi kasvavalt",sortDescending:"Sordi kahanevalt"};var Rg;Rg={collapse:"Pienenn\xe4",columnResizer:"Sarakekoon muuttaja",drag:"Ved\xe4",expand:"Laajenna",loading:"Ladataan\u2026",loadingMore:"Ladataan lis\xe4\xe4\u2026",resizeColumn:"Muuta sarakkeen kokoa",sortAscending:"Lajitteluj\xe4rjestys: nouseva",sortDescending:"Lajitteluj\xe4rjestys: laskeva"};var zg;zg={collapse:"R\xe9duire",columnResizer:"Redimensionnement de colonne",drag:"Faire glisser",expand:"D\xe9velopper",loading:"Chargement...",loadingMore:"Chargement suppl\xe9mentaire...",resizeColumn:"Redimensionner la colonne",sortAscending:"Trier par ordre croissant",sortDescending:"Trier par ordre d\xe9croissant"};var Pg;Pg={collapse:"\u05db\u05d5\u05d5\u05e5",columnResizer:"\u05e9\u05d9\u05e0\u05d5\u05d9 \u05d2\u05d5\u05d3\u05dc \u05e2\u05de\u05d5\u05d3\u05d4",drag:"\u05d2\u05e8\u05d5\u05e8",expand:"\u05d4\u05e8\u05d7\u05d1",loading:"\u05d8\u05d5\u05e2\u05df...",loadingMore:"\u05d8\u05d5\u05e2\u05df \u05e2\u05d5\u05d3...",resizeColumn:"\u05e9\u05e0\u05d4 \u05d0\u05ea \u05d2\u05d5\u05d3\u05dc \u05d4\u05e2\u05de\u05d5\u05d3\u05d4",sortAscending:"\u05de\u05d9\u05d9\u05df \u05d1\u05e1\u05d3\u05e8 \u05e2\u05d5\u05dc\u05d4",sortDescending:"\u05de\u05d9\u05d9\u05df \u05d1\u05e1\u05d3\u05e8 \u05d9\u05d5\u05e8\u05d3"};var Og;Og={collapse:"Sa\u017emi",columnResizer:"Alat za promjenu veli\u010dine stupca",drag:"Povucite",expand:"Pro\u0161iri",loading:"U\u010ditavam...",loadingMore:"U\u010ditavam jo\u0161...",resizeColumn:"Promijeni veli\u010dinu stupca",sortAscending:"Sortiraj uzlazno",sortDescending:"Sortiraj silazno"};var Ig;Ig={collapse:"\xd6sszecsuk\xe1s",columnResizer:"Oszlop\xe1tm\xe9retez\u0151",drag:"H\xfaz\xe1s",expand:"Kibont\xe1s",loading:"Bet\xf6lt\xe9s folyamatban\u2026",loadingMore:"Tov\xe1bbiak bet\xf6lt\xe9se folyamatban\u2026",resizeColumn:"Oszlop \xe1tm\xe9retez\xe9se",sortAscending:"N\xf6vekv\u0151 rendez\xe9s",sortDescending:"Cs\xf6kken\u0151 rendez\xe9s"};var Lg;Lg={collapse:"Comprimi",columnResizer:"Ridimensionamento colonne",drag:"Trascina",expand:"Espandi",loading:"Caricamento...",loadingMore:"Caricamento altri...",resizeColumn:"Ridimensiona colonna",sortAscending:"Ordinamento crescente",sortDescending:"Ordinamento decrescente"};var Bg;Bg={collapse:"\u6298\u308a\u305f\u305f\u3080",columnResizer:"\u5217\u30ea\u30b5\u30a4\u30b6\u30fc",drag:"\u30c9\u30e9\u30c3\u30b0",expand:"\u5c55\u958b",loading:"\u8aad\u307f\u8fbc\u307f\u4e2d...",loadingMore:"\u3055\u3089\u306b\u8aad\u307f\u8fbc\u307f\u4e2d...",resizeColumn:"\u5217\u5e45\u3092\u5909\u66f4",sortAscending:"\u6607\u9806\u306b\u4e26\u3079\u66ff\u3048",sortDescending:"\u964d\u9806\u306b\u4e26\u3079\u66ff\u3048"};var jg;jg={collapse:"\uc811\uae30",columnResizer:"\uc5f4 \ud06c\uae30 \uc870\uc815\uae30",drag:"\ub4dc\ub798\uadf8",expand:"\ud3bc\uce58\uae30",loading:"\ub85c\ub4dc \uc911",loadingMore:"\ucd94\uac00 \ub85c\ub4dc \uc911",resizeColumn:"\uc5f4 \ud06c\uae30 \uc870\uc815",sortAscending:"\uc624\ub984\ucc28\uc21c \uc815\ub82c",sortDescending:"\ub0b4\ub9bc\ucc28\uc21c \uc815\ub82c"};var Ug;Ug={collapse:"Sutraukti",columnResizer:"Stulpelio dyd\u017eio keitiklis",drag:"Vilkti",expand:"I\u0161skleisti",loading:"\u012ekeliama...",loadingMore:"\u012ekeliama daugiau...",resizeColumn:"Keisti stulpelio dyd\u012f",sortAscending:"Rikiuoti did\u0117jimo tvarka",sortDescending:"Rikiuoti ma\u017e\u0117jimo tvarka"};var Kg;Kg={collapse:"Sak\u013caut",columnResizer:"Kolonnas izm\u0113ru main\u012bt\u0101js",drag:"Vilk\u0161ana",expand:"Izv\u0113rst",loading:"Notiek iel\u0101de...",loadingMore:"Tiek iel\u0101d\u0113ts v\u0113l...",resizeColumn:"Main\u012bt kolonnas lielumu",sortAscending:"K\u0101rtot augo\u0161\u0101 sec\u012bb\u0101",sortDescending:"K\u0101rtot dilsto\u0161\u0101 sec\u012bb\u0101"};var Wg;Wg={collapse:"Skjul",columnResizer:"St\xf8rrelsesendring av kolonne",drag:"Dra",expand:"Utvid",loading:"Laster inn ...",loadingMore:"Laster inn flere ...",resizeColumn:"Endre st\xf8rrelse p\xe5 kolonne",sortAscending:"Sorter stigende",sortDescending:"Sorter synkende"};var qg;qg={collapse:"Samenvouwen",columnResizer:"Groottewijziging van kolom",drag:"Slepen",expand:"Uitvouwen",loading:"Laden...",loadingMore:"Meer laden...",resizeColumn:"Kolomgrootte wijzigen",sortAscending:"Oplopend sorteren",sortDescending:"Aflopend sorteren"};var Hg;Hg={collapse:"Zwi\u0144",columnResizer:"Narz\u0119dzie zmiany rozmiaru kolumny",drag:"Przeci\u0105gnij",expand:"Rozwi\u0144",loading:"\u0141adowanie...",loadingMore:"Wczytywanie wi\u0119kszej liczby...",resizeColumn:"Zmie\u0144 rozmiar kolumny",sortAscending:"Sortuj rosn\u0105co",sortDescending:"Sortuj malej\u0105co"};var Vg;Vg={collapse:"Recolher",columnResizer:"Redimensionamento de colunas",drag:"Arraste",expand:"Expandir",loading:"Carregando...",loadingMore:"Carregando mais...",resizeColumn:"Redimensionar coluna",sortAscending:"Ordenar por ordem crescente",sortDescending:"Ordenar por ordem decrescente"};var Gg;Gg={collapse:"Colapsar",columnResizer:"Redimensionador de coluna",drag:"Arrastar",expand:"Expandir",loading:"A carregar...",loadingMore:"A carregar mais...",resizeColumn:"Redimensionar coluna",sortAscending:"Ordenar por ordem ascendente",sortDescending:"Ordenar por ordem decrescente"};var Yg;Yg={collapse:"Restr\xe2nge\u021bi",columnResizer:"Instrument redimensionare coloane",drag:"Trage\u021bi",expand:"Extinde\u021bi",loading:"Se \xeencarc\u0103...",loadingMore:"Se \xeencarc\u0103 mai multe...",resizeColumn:"Redimensiona\u021bi coloana",sortAscending:"Sorta\u021bi cresc\u0103tor",sortDescending:"Sorta\u021bi descresc\u0103tor"};var Qg;Qg={collapse:"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c",columnResizer:"\u0421\u0440\u0435\u0434\u0441\u0442\u0432\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0440\u0430\u0437\u043c\u0435\u0440\u0430 \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432",drag:"\u041f\u0435\u0440\u0435\u0442\u0430\u0441\u043a\u0438\u0432\u0430\u043d\u0438\u0435",expand:"\u0420\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c",loading:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",loadingMore:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",resizeColumn:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0440\u0430\u0437\u043c\u0435\u0440 \u0441\u0442\u043e\u043b\u0431\u0446\u0430",sortAscending:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e",sortDescending:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e"};var Xg;Xg={collapse:"Zbali\u0165",columnResizer:"N\xe1stroj na zmenu ve\u013ekosti st\u013apcov",drag:"Presun\xfa\u0165",expand:"Rozbali\u0165",loading:"Na\u010d\xedtava sa...",loadingMore:"Na\u010d\xedtava sa viac...",resizeColumn:"Zmeni\u0165 ve\u013ekos\u0165 st\u013apca",sortAscending:"Zoradi\u0165 vzostupne",sortDescending:"Zoradi\u0165 zostupne"};var $g;$g={collapse:"Strni",columnResizer:"Prilagojevalnik velikosti stolpcev",drag:"Povleci",expand:"Raz\u0161iri",loading:"Nalaganje...",loadingMore:"Nalaganje ve\u010d vsebine...",resizeColumn:"Spremeni velikost stolpca",sortAscending:"Razvrsti nara\u0161\u010dajo\u010de",sortDescending:"Razvrsti padajo\u010de"};var Zg;Zg={collapse:"Sa\u017emi",columnResizer:"Alat za promenu veli\u010dine kolone",drag:"Prevuci",expand:"Pro\u0161iri",loading:"U\u010ditavam...",loadingMore:"U\u010ditavam jo\u0161...",resizeColumn:"Promeni veli\u010dinu kolone",sortAscending:"Sortiraj po rastu\u0107em redosledu",sortDescending:"Sortiraj po opadaju\u0107em redosledu"};var Jg;Jg={collapse:"D\xf6lj",columnResizer:"\xc4ndra storlek p\xe5 kolumn",drag:"Dra",expand:"Expandera",loading:"L\xe4ser in...",loadingMore:"L\xe4ser in mer...",resizeColumn:"\xc4ndra storlek p\xe5 kolumn",sortAscending:"Sortera i stigande ordning",sortDescending:"Sortera i fallande ordning"};var ev;ev={collapse:"Daralt",columnResizer:"Yeniden s\xfctun boyutland\u0131r\u0131c\u0131",drag:"S\xfcr\xfckle",expand:"Geni\u015flet",loading:"Y\xfckleniyor...",loadingMore:"Daha fazla y\xfckleniyor...",resizeColumn:"S\xfctunu yeniden boyutland\u0131r",sortAscending:"Artan S\u0131ralama",sortDescending:"Azalan S\u0131ralama"};var tv;tv={collapse:"\u0417\u0433\u043e\u0440\u043d\u0443\u0442\u0438",columnResizer:"\u0417\u0430\u0441\u0456\u0431 \u0437\u043c\u0456\u043d\u0435\u043d\u043d\u044f \u0440\u043e\u0437\u043c\u0456\u0440\u0443 \u0441\u0442\u043e\u0432\u043f\u0446\u044f",drag:"\u041f\u0435\u0440\u0435\u0442\u044f\u0433\u043d\u0443\u0442\u0438",expand:"\u0420\u043e\u0437\u0433\u043e\u0440\u043d\u0443\u0442\u0438",loading:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f\u2026",loadingMore:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0456\u043d\u0448\u0438\u0445 \u043e\u0431\u2019\u0454\u043a\u0442\u0456\u0432...",resizeColumn:"\u0417\u043c\u0456\u043d\u0438\u0442\u0438 \u0440\u043e\u0437\u043c\u0456\u0440 \u0441\u0442\u043e\u0432\u043f\u0446\u044f",sortAscending:"\u0421\u043e\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u0437\u0430 \u0437\u0440\u043e\u0441\u0442\u0430\u043d\u043d\u044f\u043c",sortDescending:"\u0421\u043e\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u0437\u0430 \u0441\u043f\u0430\u0434\u0430\u043d\u043d\u044f\u043c"};var nv;nv={collapse:"\u6298\u53e0",columnResizer:"\u5217\u5c3a\u5bf8\u8c03\u6574\u5668",drag:"\u62d6\u52a8",expand:"\u6269\u5c55",loading:"\u6b63\u5728\u52a0\u8f7d...",loadingMore:"\u6b63\u5728\u52a0\u8f7d\u66f4\u591a...",resizeColumn:"\u8c03\u6574\u5217\u5927\u5c0f",sortAscending:"\u5347\u5e8f\u6392\u5e8f",sortDescending:"\u964d\u5e8f\u6392\u5e8f"};var rv;function iv(e){return null}function ov(e){return null!=e.hasChildItems?e.hasChildItems:!!e.childItems||!!(e.title&&y.Children.count(e.children)>0)}rv={collapse:"\u6536\u5408",columnResizer:"\u6b04\u5927\u5c0f\u8abf\u6574\u5668",drag:"\u62d6\u66f3",expand:"\u5c55\u958b",loading:"\u6b63\u5728\u8f09\u5165",loadingMore:"\u6b63\u5728\u8f09\u5165\u66f4\u591a\u2026",resizeColumn:"\u8abf\u6574\u6b04\u5927\u5c0f",sortAscending:"\u5347\u5e8f\u6392\u5e8f",sortDescending:"\u964d\u5e8f\u6392\u5e8f"},iv.getCollectionNode=function*(e,t){let{childItems:n,title:r,children:i}=e,o=e.title||e.children,a=e.textValue||("string"===typeof o?o:"")||e["aria-label"]||"";a||(null===t||void 0===t?void 0:t.suppressTextValueWarning)||console.warn("<Item> with non-plain text contents is unsupported by type to select for accessibility. Please add a `textValue` prop."),yield{type:"item",props:e,rendered:o,textValue:a,"aria-label":e["aria-label"],hasChildNodes:ov(e),*childNodes(){if(n)for(let e of n)yield{type:"item",value:e};else if(r){let e=[];y.Children.forEach(i,(t=>{e.push({type:"item",element:t})})),yield*e}}}};let av=iv;function lv(e){return null}lv.getCollectionNode=function*(e){let{children:t,title:n,items:r}=e;yield{type:"section",props:e,hasChildNodes:!0,rendered:n,"aria-label":e["aria-label"],*childNodes(){if("function"===typeof t){if(!r)throw new Error("props.children was a function but props.items is missing");for(let e of r)yield{type:"item",value:e,renderer:t}}else{let e=[];y.Children.forEach(t,(t=>{e.push({type:"item",element:t})})),yield*e}}}};class sv{build(e,t){return this.context=t,cv((()=>this.iterateCollection(e)))}*iterateCollection(e){let{children:t,items:n}=e;if("function"===typeof t){if(!n)throw new Error("props.children was a function but props.items is missing");for(let n of e.items)yield*this.getFullNode({value:n},{renderer:t})}else{let e=[];y.Children.forEach(t,(t=>{e.push(t)}));let n=0;for(let t of e){let e=this.getFullNode({element:t,index:n},{});for(let t of e)n++,yield t}}}getKey(e,t,n,r){if(null!=e.key)return e.key;if("cell"===t.type&&null!=t.key)return"".concat(r).concat(t.key);let i=t.value;if(null!=i){var o;let e=null!==(o=i.key)&&void 0!==o?o:i.id;if(null==e)throw new Error("No key found for item");return e}return r?"".concat(r,".").concat(t.index):"$.".concat(t.index)}getChildState(e,t){return{renderer:t.renderer||e.renderer}}*getFullNode(e,t,n,r){let i=e.element;if(!i&&e.value&&t&&t.renderer){let n=this.cache.get(e.value);if(n&&(!n.shouldInvalidate||!n.shouldInvalidate(this.context)))return n.index=e.index,n.parentKey=r?r.key:null,void(yield n);i=t.renderer(e.value)}if(y.isValidElement(i)){let o=i.type;if("function"!==typeof o&&"function"!==typeof o.getCollectionNode){let e="function"===typeof i.type?i.type.name:i.type;throw new Error("Unknown element <".concat(e,"> in collection."))}let a=o.getCollectionNode(i.props,this.context),l=e.index,s=a.next();for(;!s.done&&s.value;){let o=s.value;e.index=l;let c=o.key;c||(c=o.element?null:this.getKey(i,e,t,n));let u=[...this.getFullNode({...o,key:c,index:l,wrapper:uv(e.wrapper,o.wrapper)},this.getChildState(t,o),n?"".concat(n).concat(i.key):i.key,r)];for(let t of u){if(t.value=o.value||e.value,t.value&&this.cache.set(t.value,t),e.type&&t.type!==e.type)throw new Error("Unsupported type <".concat(dv(t.type),"> in <").concat(dv(r.type),">. Only <").concat(dv(e.type),"> is supported."));l++,yield t}s=a.next(u)}return}if(null==e.key)return;let o=this,a={type:e.type,props:e.props,key:e.key,parentKey:r?r.key:null,value:e.value,level:r?r.level+1:0,index:e.index,rendered:e.rendered,textValue:e.textValue,"aria-label":e["aria-label"],wrapper:e.wrapper,shouldInvalidate:e.shouldInvalidate,hasChildNodes:e.hasChildNodes,childNodes:cv((function*(){if(!e.hasChildNodes)return;let n=0;for(let r of e.childNodes()){null!=r.key&&(r.key="".concat(a.key).concat(r.key)),r.index=n;let e=o.getFullNode(r,o.getChildState(t,r),a.key,a);for(let t of e)n++,yield t}}))};yield a}constructor(){this.cache=new WeakMap}}function cv(e){let t=[],n=null;return{*[Symbol.iterator](){for(let e of t)yield e;n||(n=e());for(let e of n)t.push(e),yield e}}}function uv(e,t){return e&&t?n=>e(t(n)):e||(t||void 0)}function dv(e){return e[0].toUpperCase()+e.slice(1)}function fv(e,t,n){let r=(0,y.useMemo)((()=>new sv),[]),{children:i,items:o,collection:a}=e;return(0,y.useMemo)((()=>{if(a)return a;let e=r.build({children:i,items:o},n);return t(e)}),[r,i,o,a,n,t])}function hv(e,t){return"function"===typeof t.getChildren?t.getChildren(e.key):e.childNodes}function pv(e){return mv(e,0)}function mv(e,t){if(t<0)return;let n=0;for(let r of e){if(n===t)return r;n++}}function gv(e){let t;for(let n of e)t=n;return t}function vv(e,t,n){if(t.parentKey===n.parentKey)return t.index-n.index;let r=[...yv(e,t),t],i=[...yv(e,n),n],o=r.slice(0,i.length).findIndex(((e,t)=>e!==i[t]));return-1!==o?(t=r[o],n=i[o],t.index-n.index):r.findIndex((e=>e===n))>=0?1:(i.findIndex((e=>e===t)),-1)}function yv(e,t){let n=[];for(;null!=(null===t||void 0===t?void 0:t.parentKey);)t=e.getItem(t.parentKey),n.unshift(t);return n}const bv=new WeakMap;function xv(e){let t=bv.get(e);if(null!=t)return t;t=0;let n=r=>{for(let i of r)"section"===i.type?n(hv(i,e)):t++};return n(e),bv.set(e,t),t}class wv extends Set{constructor(e,t,n){super(e),e instanceof wv?(this.anchorKey=t||e.anchorKey,this.currentKey=n||e.currentKey):(this.anchorKey=t,this.currentKey=n)}}function _v(e){let{selectionMode:t="none",disallowEmptySelection:n,allowDuplicateSelectionEvents:r,selectionBehavior:i="toggle",disabledBehavior:o="all"}=e,a=(0,y.useRef)(!1),[,l]=(0,y.useState)(!1),s=(0,y.useRef)(null),c=(0,y.useRef)(null),[,u]=(0,y.useState)(null),d=(0,y.useMemo)((()=>kv(e.selectedKeys)),[e.selectedKeys]),f=(0,y.useMemo)((()=>kv(e.defaultSelectedKeys,new wv)),[e.defaultSelectedKeys]),[h,p]=An(d,f,e.onSelectionChange),m=(0,y.useMemo)((()=>e.disabledKeys?new Set(e.disabledKeys):new Set),[e.disabledKeys]),[g,v]=(0,y.useState)(i);"replace"===i&&"toggle"===g&&"object"===typeof h&&0===h.size&&v("replace");let b=(0,y.useRef)(i);return(0,y.useEffect)((()=>{i!==b.current&&(v(i),b.current=i)}),[i]),{selectionMode:t,disallowEmptySelection:n,selectionBehavior:g,setSelectionBehavior:v,get isFocused(){return a.current},setFocused(e){a.current=e,l(e)},get focusedKey(){return s.current},get childFocusStrategy(){return c.current},setFocusedKey(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"first";s.current=e,c.current=t,u(e)},selectedKeys:h,setSelectedKeys(e){!r&&function(e,t){if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;return!0}(e,h)||p(e)},disabledKeys:m,disabledBehavior:o}}function kv(e,t){return e?"all"===e?"all":new wv(e):t}class Ev{get selectionMode(){return this.state.selectionMode}get disallowEmptySelection(){return this.state.disallowEmptySelection}get selectionBehavior(){return this.state.selectionBehavior}setSelectionBehavior(e){this.state.setSelectionBehavior(e)}get isFocused(){return this.state.isFocused}setFocused(e){this.state.setFocused(e)}get focusedKey(){return this.state.focusedKey}get childFocusStrategy(){return this.state.childFocusStrategy}setFocusedKey(e,t){(null==e||this.collection.getItem(e))&&this.state.setFocusedKey(e,t)}get selectedKeys(){return"all"===this.state.selectedKeys?new Set(this.getSelectAllKeys()):this.state.selectedKeys}get rawSelection(){return this.state.selectedKeys}isSelected(e){return"none"!==this.state.selectionMode&&(e=this.getKey(e),"all"===this.state.selectedKeys?this.canSelectItem(e):this.state.selectedKeys.has(e))}get isEmpty(){return"all"!==this.state.selectedKeys&&0===this.state.selectedKeys.size}get isSelectAll(){if(this.isEmpty)return!1;if("all"===this.state.selectedKeys)return!0;if(null!=this._isSelectAll)return this._isSelectAll;let e=this.getSelectAllKeys(),t=this.state.selectedKeys;return this._isSelectAll=e.every((e=>t.has(e))),this._isSelectAll}get firstSelectedKey(){let e=null;for(let t of this.state.selectedKeys){let n=this.collection.getItem(t);(!e||n&&vv(this.collection,n,e)<0)&&(e=n)}return null===e||void 0===e?void 0:e.key}get lastSelectedKey(){let e=null;for(let t of this.state.selectedKeys){let n=this.collection.getItem(t);(!e||n&&vv(this.collection,n,e)>0)&&(e=n)}return null===e||void 0===e?void 0:e.key}get disabledKeys(){return this.state.disabledKeys}get disabledBehavior(){return this.state.disabledBehavior}extendSelection(e){if("none"===this.selectionMode)return;if("single"===this.selectionMode)return void this.replaceSelection(e);let t;if(e=this.getKey(e),"all"===this.state.selectedKeys)t=new wv([e],e,e);else{let n=this.state.selectedKeys,r=n.anchorKey||e;t=new wv(n,r,e);for(let i of this.getKeyRange(r,n.currentKey||e))t.delete(i);for(let i of this.getKeyRange(e,r))this.canSelectItem(i)&&t.add(i)}this.state.setSelectedKeys(t)}getKeyRange(e,t){let n=this.collection.getItem(e),r=this.collection.getItem(t);return n&&r?vv(this.collection,n,r)<=0?this.getKeyRangeInternal(e,t):this.getKeyRangeInternal(t,e):[]}getKeyRangeInternal(e,t){let n=[],r=e;for(;r;){let e=this.collection.getItem(r);if((e&&"item"===e.type||"cell"===e.type&&this.allowsCellSelection)&&n.push(r),r===t)return n;r=this.collection.getKeyAfter(r)}return[]}getKey(e){let t=this.collection.getItem(e);if(!t)return e;if("cell"===t.type&&this.allowsCellSelection)return e;for(;"item"!==t.type&&null!=t.parentKey;)t=this.collection.getItem(t.parentKey);return t&&"item"===t.type?t.key:null}toggleSelection(e){if("none"===this.selectionMode)return;if("single"===this.selectionMode&&!this.isSelected(e))return void this.replaceSelection(e);if(null==(e=this.getKey(e)))return;let t=new wv("all"===this.state.selectedKeys?this.getSelectAllKeys():this.state.selectedKeys);t.has(e)?t.delete(e):this.canSelectItem(e)&&(t.add(e),t.anchorKey=e,t.currentKey=e),this.disallowEmptySelection&&0===t.size||this.state.setSelectedKeys(t)}replaceSelection(e){if("none"===this.selectionMode)return;if(null==(e=this.getKey(e)))return;let t=this.canSelectItem(e)?new wv([e],e,e):new wv;this.state.setSelectedKeys(t)}setSelectedKeys(e){if("none"===this.selectionMode)return;let t=new wv;for(let n of e)if(n=this.getKey(n),null!=n&&(t.add(n),"single"===this.selectionMode))break;this.state.setSelectedKeys(t)}getSelectAllKeys(){let e=[],t=n=>{for(;n;){if(this.canSelectItem(n)){let r=this.collection.getItem(n);"item"===r.type&&e.push(n),r.hasChildNodes&&(this.allowsCellSelection||"item"!==r.type)&&t(pv(hv(r,this.collection)).key)}n=this.collection.getKeyAfter(n)}};return t(this.collection.getFirstKey()),e}selectAll(){this.isSelectAll||"multiple"!==this.selectionMode||this.state.setSelectedKeys("all")}clearSelection(){!this.disallowEmptySelection&&("all"===this.state.selectedKeys||this.state.selectedKeys.size>0)&&this.state.setSelectedKeys(new wv)}toggleSelectAll(){this.isSelectAll?this.clearSelection():this.selectAll()}select(e,t){"none"!==this.selectionMode&&("single"===this.selectionMode?this.isSelected(e)&&!this.disallowEmptySelection?this.toggleSelection(e):this.replaceSelection(e):"toggle"===this.selectionBehavior||t&&("touch"===t.pointerType||"virtual"===t.pointerType)?this.toggleSelection(e):this.replaceSelection(e))}isSelectionEqual(e){if(e===this.state.selectedKeys)return!0;let t=this.selectedKeys;if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;for(let n of t)if(!e.has(n))return!1;return!0}canSelectItem(e){if("none"===this.state.selectionMode||this.state.disabledKeys.has(e))return!1;let t=this.collection.getItem(e);return!(!t||"cell"===t.type&&!this.allowsCellSelection)}isDisabled(e){return this.state.disabledKeys.has(e)&&"all"===this.state.disabledBehavior}isLink(e){var t,n;return!!(null===(n=this.collection.getItem(e))||void 0===n||null===(t=n.props)||void 0===t?void 0:t.href)}constructor(e,t,n){var r;this.collection=e,this.state=t,this.allowsCellSelection=null!==(r=null===n||void 0===n?void 0:n.allowsCellSelection)&&void 0!==r&&r,this._isSelectAll=null}}function Sv(e){let{collection:t,focusMode:n}=e,r=_v(e),i=(0,y.useMemo)((()=>e.disabledKeys?new Set(e.disabledKeys):new Set),[e.disabledKeys]),o=r.setFocusedKey;r.setFocusedKey=(e,r)=>{if("cell"===n&&null!=e){let n=t.getItem(e);if("item"===(null===n||void 0===n?void 0:n.type)){var i,a;let o=hv(n,t);e="last"===r?null===(i=gv(o))||void 0===i?void 0:i.key:null===(a=pv(o))||void 0===a?void 0:a.key}}o(e,r)};let a=(0,y.useMemo)((()=>new Ev(t,r)),[t,r]);const l=(0,y.useRef)(null);return(0,y.useEffect)((()=>{if(null!=r.focusedKey&&!t.getItem(r.focusedKey)){const e=l.current.getItem(r.focusedKey),n=null==e.parentKey||"cell"!==e.type&&"rowheader"!==e.type&&"column"!==e.type?e:l.current.getItem(e.parentKey),i=l.current.rows,o=t.rows,s=i.length-o.length;let c,u=Math.min(s>1?Math.max(n.index-s+1,0):n.index,o.length-1);for(;u>=0;){if(!a.isDisabled(o[u].key)&&"headerrow"!==o[u].type){c=o[u];break}u<o.length-1?u++:(u>n.index&&(u=n.index),u--)}if(c){const i=c.hasChildNodes?[...hv(c,t)]:[],o=c.hasChildNodes&&n!==e&&e.index<i.length?i[e.index].key:c.key;r.setFocusedKey(o)}else r.setFocusedKey(null)}l.current=t}),[t,a,r,r.focusedKey]),{collection:t,disabledKeys:i,isKeyboardNavigationDisabled:!1,selectionManager:a}}class Cv{*[Symbol.iterator](){yield*[...this.rows]}get size(){return[...this.rows].length}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let t=this.keyMap.get(e);return t?t.prevKey:null}getKeyAfter(e){let t=this.keyMap.get(e);return t?t.nextKey:null}getFirstKey(){var e;return null===(e=[...this.rows][0])||void 0===e?void 0:e.key}getLastKey(){var e;let t=[...this.rows];return null===(e=t[t.length-1])||void 0===e?void 0:e.key}getItem(e){return this.keyMap.get(e)}at(e){const t=[...this.getKeys()];return this.getItem(t[e])}getChildren(e){let t=this.keyMap.get(e);return(null===t||void 0===t?void 0:t.childNodes)||[]}constructor(e){this.keyMap=new Map,this.keyMap=new Map,this.columnCount=null===e||void 0===e?void 0:e.columnCount,this.rows=[];let t,n=t=>{let i=this.keyMap.get(t.key);e.visitNode&&(t=e.visitNode(t)),this.keyMap.set(t.key,t);let o,a=new Set;for(let e of t.childNodes)"cell"===e.type&&null==e.parentKey&&(e.parentKey=t.key),a.add(e.key),o?(o.nextKey=e.key,e.prevKey=o.key):e.prevKey=null,n(e),o=e;if(o&&(o.nextKey=null),i)for(let e of i.childNodes)a.has(e.key)||r(e)},r=e=>{this.keyMap.delete(e.key);for(let t of e.childNodes)this.keyMap.get(t.key)===t&&r(t)};e.items.forEach(((e,r)=>{let i={level:0,key:"row-"+r,type:"row",value:void 0,hasChildNodes:!0,childNodes:[...e.childNodes],rendered:void 0,textValue:void 0,...e};t?(t.nextKey=i.key,i.prevKey=t.key):i.prevKey=null,this.rows.push(i),n(i),t=i})),t&&(t.nextKey=null)}}let Mv=!1;function Tv(){return Mv}function Av(e){return null!=e&&(!isNaN(e)||null!==String(e).match(/^(\d+)(?=%$)/))}function Dv(e){if(!e)return 1;let t=e.match(/^(.+)(?=fr$)/);return t?parseFloat(t[0]):(console.warn("width: ".concat(e," is not a supported format, width should be a number (ex. 150), percentage (ex. '50%') or fr unit (ex. '2fr')"),"defaulting to '1fr'"),1)}function Fv(e,t){if("string"===typeof e){let n=e.match(/^(\d+)(?=%$)/);if(!n)throw new Error("Only percentages or numbers are supported for static column widths");return t*(parseFloat(n[0])/100)}return e}function Nv(e,t){return null!=e?Fv(e,t):Number.MAX_SAFE_INTEGER}function Rv(e,t){return null!=e?Fv(e,t):0}function zv(e,t,n,r,i){let o=!1,a=t.map(((t,a)=>{var l,s,c;let u=null!=n.get(t.key)?n.get(t.key):null!==(c=null!==(s=null!==(l=t.width)&&void 0!==l?l:t.defaultWidth)&&void 0!==s?s:null===r||void 0===r?void 0:r(a))&&void 0!==c?c:"1fr",d=!1,f=0,h=0,p=null;var m,g;Av(u)?(f=Fv(u,e),d=!0):(h=Dv(u),h<=0&&(d=!0));let v=Rv(null!==(g=null!==(m=t.minWidth)&&void 0!==m?m:null===i||void 0===i?void 0:i(a))&&void 0!==g?g:0,e),y=Nv(t.maxWidth,e),b=Math.max(v,Math.min(f,y));return d?p=b:f>b&&(d=!0,p=b),d||(o=!0),{frozen:d,baseSize:f,hypotheticalMainSize:b,min:v,max:y,flex:h,targetMainSize:p,violation:0}}));for(;o;){let t=0,n=0;a.forEach((e=>{e.frozen?t+=e.targetMainSize:(t+=e.baseSize,n+=e.flex)}));let r=e-t;r>0&&a.forEach((e=>{if(!e.frozen){let t=e.flex/n;e.targetMainSize=e.baseSize+t*r}}));let i=0;a.forEach((e=>{if(e.violation=0,!e.frozen){let{min:t,max:n,targetMainSize:r}=e;e.targetMainSize=Math.max(t,Math.min(r,n)),e.violation=e.targetMainSize-r,i+=e.violation}})),o=!1,a.forEach((e=>{0===i||Math.sign(i)===Math.sign(e.violation)?e.frozen=!0:e.frozen||(o=!0)}))}return function(e){let t=0,n=0,r=[];return e.forEach((function(e){let i=e.targetMainSize,o=Math.round(i+t)-n;t+=i,n+=o,r.push(o)})),r}(a)}class Pv{splitColumnsIntoControlledAndUncontrolled(e){return e.reduce(((e,t)=>(null!=t.props.width?e[0].set(t.key,t):e[1].set(t.key,t),e)),[new Map,new Map])}recombineColumns(e,t,n,r){return new Map(e.map((e=>n.has(e.key)?[e.key,t.get(e.key)]:[e.key,r.get(e.key).props.width])))}getInitialUncontrolledWidths(e){return new Map(Array.from(e).map((e=>{let[t,n]=e;var r,i,o;return[t,null!==(o=null!==(i=n.props.defaultWidth)&&void 0!==i?i:null===(r=this.getDefaultWidth)||void 0===r?void 0:r.call(this,n))&&void 0!==o?o:"1fr"]})))}getColumnWidth(e){var t;return null!==(t=this.columnWidths.get(e))&&void 0!==t?t:0}getColumnMinWidth(e){var t;return null!==(t=this.columnMinWidths.get(e))&&void 0!==t?t:0}getColumnMaxWidth(e){var t;return null!==(t=this.columnMaxWidths.get(e))&&void 0!==t?t:0}resizeColumnWidth(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5?arguments[5]:void 0,a=this.columnWidths,l=1/0,s=new Map([...n,...r]),c=new Map,u=new Map,d=new Map;t.columns.forEach(((e,n)=>{var f,h;let p,m;if(d.set(e.key,this.getDefaultMinWidth(t.columns[n])),i===e.key||e.props.width||Av(r.get(e.key))?i===e.key||Av(e.props.width)||r.get(e.key)?i!==e.key&&(null===(h=e.props.width)||void 0===h||null===(f=h.endsWith)||void 0===f?void 0:f.call(h,"%"))&&c.set(e.key,e.props.width):(p=e.key,m=Dv(e.props.width)):(p=e.key,m=Dv(r.get(e.key))),!(l<n))return e.key===i?(l=n,void s.set(e.key,Math.floor(o))):void s.set(e.key,a.get(e.key));p&&u.set(p,m)}));let f=zv(e,t.columns.map((e=>({...e.props,key:e.key}))),s,(e=>this.getDefaultWidth(t.columns[e])),(e=>this.getDefaultMinWidth(t.columns[e]))),h=new Map;return f.forEach(((e,n)=>{let r=t.columns[n].key;h.set(r,e)})),Array.from(u).forEach((e=>{let[t]=e;h.set(t,"".concat(u.get(t),"fr"))})),Array.from(c).forEach((e=>{let[t,n]=e;t!==i&&h.set(t,n)})),h}buildColumnWidths(e,t,n){return this.columnWidths=new Map,this.columnMinWidths=new Map,this.columnMaxWidths=new Map,zv(e,t.columns.map((e=>({...e.props,key:e.key}))),n,(e=>this.getDefaultWidth(t.columns[e])),(e=>this.getDefaultMinWidth(t.columns[e]))).forEach(((n,r)=>{let i=t.columns[r].key,o=t.columns[r];var a;this.columnWidths.set(i,n),this.columnMinWidths.set(i,Rv(null!==(a=o.props.minWidth)&&void 0!==a?a:this.getDefaultMinWidth(o),e)),this.columnMaxWidths.set(i,Nv(o.props.maxWidth,e))})),this.columnWidths}constructor(e){var t,n;this.columnWidths=new Map,this.columnMinWidths=new Map,this.columnMaxWidths=new Map,this.getDefaultWidth=null!==(t=null===e||void 0===e?void 0:e.getDefaultWidth)&&void 0!==t?t:()=>"1fr",this.getDefaultMinWidth=null!==(n=null===e||void 0===e?void 0:e.getDefaultMinWidth)&&void 0!==n?n:()=>75}}const Ov="row-header-column-"+Math.random().toString(36).slice(2);let Iv="row-header-column-"+Math.random().toString(36).slice(2);for(;Ov===Iv;)Iv="row-header-column-"+Math.random().toString(36).slice(2);class Lv extends Cv{*[Symbol.iterator](){yield*this.body.childNodes}get size(){return this._size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let t=this.keyMap.get(e);return t?t.prevKey:null}getKeyAfter(e){let t=this.keyMap.get(e);return t?t.nextKey:null}getFirstKey(){var e;return null===(e=pv(this.body.childNodes))||void 0===e?void 0:e.key}getLastKey(){var e;return null===(e=gv(this.body.childNodes))||void 0===e?void 0:e.key}getItem(e){return this.keyMap.get(e)}at(e){const t=[...this.getKeys()];return this.getItem(t[e])}getTextValue(e){let t=this.getItem(e);if(!t)return"";if(t.textValue)return t.textValue;let n=this.rowHeaderColumnKeys;if(n){let e=[];for(let r of t.childNodes){let t=this.columns[r.index];if(n.has(t.key)&&r.textValue&&e.push(r.textValue),e.length===n.size)break}return e.join(" ")}return""}constructor(e,t,n){let r,i=new Set,o=[];if(null===n||void 0===n?void 0:n.showSelectionCheckboxes){let e={type:"column",key:Ov,value:null,textValue:"",level:0,index:(null===n||void 0===n?void 0:n.showDragButtons)?1:0,hasChildNodes:!1,rendered:null,childNodes:[],props:{isSelectionCell:!0}};o.unshift(e)}if(null===n||void 0===n?void 0:n.showDragButtons){let e={type:"column",key:Iv,value:null,textValue:"",level:0,index:0,hasChildNodes:!1,rendered:null,childNodes:[],props:{isDragButtonCell:!0}};o.unshift(e)}let a=[],l=new Map,s=e=>{switch(e.type){case"body":r=e;break;case"column":l.set(e.key,e),e.hasChildNodes||(o.push(e),e.props.isRowHeader&&i.add(e.key));break;case"item":return void a.push(e)}for(let t of e.childNodes)s(t)};for(let u of e)s(u);let c=function(e,t){if(0===t.length)return[];let n=[],r=new Map;for(let s of t){let t=s.parentKey,i=[s];for(;t;){let n=e.get(t);if(!n)break;if(r.has(n)){n.colspan++;let{column:e,index:t}=r.get(n);if(t>i.length)break;for(let n=t;n<i.length;n++)e.splice(n,0,null);for(let n=i.length;n<e.length;n++)e[n]&&r.has(e[n])&&(r.get(e[n]).index=n)}else n.colspan=1,i.push(n),r.set(n,{column:i,index:i.length-1});t=n.parentKey}n.push(i),s.index=n.length-1}let i=Math.max(...n.map((e=>e.length))),o=Array(i).fill(0).map((()=>[])),a=0;for(let s of n){let e=i-1;for(let t of s){if(t){let n=o[e],r=n.reduce(((e,t)=>e+t.colspan),0);if(r<a){let i={type:"placeholder",key:"placeholder-"+t.key,colspan:a-r,index:r,value:null,rendered:null,level:e,hasChildNodes:!1,childNodes:[],textValue:null};n.length>0&&(n[n.length-1].nextKey=i.key,i.prevKey=n[n.length-1].key),n.push(i)}n.length>0&&(n[n.length-1].nextKey=t.key,t.prevKey=n[n.length-1].key),t.level=e,t.colIndex=a,n.push(t)}e--}a++}let l=0;for(let s of o){let e=s.reduce(((e,t)=>e+t.colspan),0);if(e<t.length){let n={type:"placeholder",key:"placeholder-"+s[s.length-1].key,colspan:t.length-e,index:e,value:null,rendered:null,level:l,hasChildNodes:!1,childNodes:[],textValue:null,prevKey:s[s.length-1].key};s.push(n)}l++}return o.map(((e,t)=>({type:"headerrow",key:"headerrow-"+t,index:t,value:null,rendered:null,level:0,hasChildNodes:!0,childNodes:e,textValue:null})))}(l,o);c.forEach(((e,t)=>a.splice(t,0,e))),super({columnCount:o.length,items:a,visitNode:e=>(e.column=o[e.index],e)}),this._size=0,this.columns=o,this.rowHeaderColumnKeys=i,this.body=r,this.headerRows=c,this._size=[...r.childNodes].length,0===this.rowHeaderColumnKeys.size&&((null===n||void 0===n?void 0:n.showSelectionCheckboxes)?(null===n||void 0===n?void 0:n.showDragButtons)?this.rowHeaderColumnKeys.add(this.columns[2].key):this.rowHeaderColumnKeys.add(this.columns[1].key):this.rowHeaderColumnKeys.add(this.columns[0].key))}}const Bv={ascending:"descending",descending:"ascending"};function jv(e){let[t,n]=(0,y.useState)(!1),{selectionMode:r="none",showSelectionCheckboxes:i,showDragButtons:o}=e,a=(0,y.useMemo)((()=>({showSelectionCheckboxes:i&&"none"!==r,showDragButtons:o,selectionMode:r,columns:[]})),[e.children,i,r,o]),l=fv(e,(0,y.useCallback)((e=>new Lv(e,null,a)),[a]),a),{disabledKeys:s,selectionManager:c}=Sv({...e,collection:l,disabledBehavior:e.disabledBehavior||"selection"});return{collection:l,disabledKeys:s,selectionManager:c,showSelectionCheckboxes:e.showSelectionCheckboxes||!1,sortDescriptor:e.sortDescriptor,isKeyboardNavigationDisabled:0===l.size||t,setKeyboardNavigationDisabled:n,sort(t,n){var r;e.onSortChange({column:t,direction:null!==n&&void 0!==n?n:(null===(r=e.sortDescriptor)||void 0===r?void 0:r.column)===t?Bv[e.sortDescriptor.direction]:"ascending"})}}}function Uv(e){return null}Uv.getCollectionNode=function*(e,t){let{children:n,columns:r}=e;if(t.columns=[],"function"===typeof n){if(!r)throw new Error("props.children was a function but props.columns is missing");for(let e of r)yield{type:"column",value:e,renderer:n}}else{let e=[];y.Children.forEach(n,(t=>{e.push({type:"column",element:t})})),yield*e}};let Kv=Uv;function Wv(e){return null}Wv.getCollectionNode=function*(e){let{children:t,items:n}=e;yield{type:"body",hasChildNodes:!0,props:e,*childNodes(){if("function"===typeof t){if(!n)throw new Error("props.children was a function but props.items is missing");for(let e of n)yield{type:"item",value:e,renderer:t}}else{let e=[];y.Children.forEach(t,(t=>{e.push({type:"item",element:t})})),yield*e}}}};let qv=Wv;function Hv(e){return null}Hv.getCollectionNode=function*(e,t){let{title:n,children:r,childColumns:i}=e,o=n||r,a=e.textValue||("string"===typeof o?o:"")||e["aria-label"],l=yield{type:"column",hasChildNodes:!!i||n&&y.Children.count(r)>0,rendered:o,textValue:a,props:e,*childNodes(){if(i)for(let e of i)yield{type:"column",value:e};else if(n){let e=[];y.Children.forEach(r,(t=>{e.push({type:"column",element:t})})),yield*e}},shouldInvalidate:e=>(s(e),!1)},s=e=>{for(let t of l)t.hasChildNodes||e.columns.push(t)};s(t)};let Vv=Hv;function Gv(e){return null}Gv.getCollectionNode=function*(e,t){let{children:n,textValue:r,UNSTABLE_childItems:i}=e;yield{type:"item",props:e,textValue:r,"aria-label":e["aria-label"],hasChildNodes:!0,*childNodes(){if(t.showDragButtons&&(yield{type:"cell",key:"header-drag",props:{isDragButtonCell:!0}}),t.showSelectionCheckboxes&&"none"!==t.selectionMode&&(yield{type:"cell",key:"header",props:{isSelectionCell:!0}}),"function"===typeof n){for(let e of t.columns)yield{type:"cell",element:n(e.key),key:e.key};if(i)for(let e of i)yield{type:"item",value:e}}else{let e=[],r=[];if(y.Children.forEach(n,(n=>{if(n.type===Gv){if(e.length<t.columns.length)throw new Error("All of a Row's child Cells must be positioned before any child Rows.");r.push({type:"item",element:n})}else e.push({type:"cell",element:n})})),e.length!==t.columns.length)throw new Error("Cell count must match column count. Found ".concat(e.length," cells and ").concat(t.columns.length," columns."));yield*e,yield*r}},shouldInvalidate:e=>e.columns.length!==t.columns.length||e.columns.some(((e,n)=>e.key!==t.columns[n].key))||e.showSelectionCheckboxes!==t.showSelectionCheckboxes||e.showDragButtons!==t.showDragButtons||e.selectionMode!==t.selectionMode}};let Yv=Gv;function Qv(e){return null}Qv.getCollectionNode=function*(e){let{children:t}=e,n=e.textValue||("string"===typeof t?t:"")||e["aria-label"]||"";yield{type:"cell",props:e,rendered:t,textValue:n,"aria-label":e["aria-label"],hasChildNodes:!1}};let Xv=Qv;function $v(e){let{selectionMode:t="none",showSelectionCheckboxes:n,showDragButtons:r,UNSTABLE_expandedKeys:i,UNSTABLE_defaultExpandedKeys:o,UNSTABLE_onExpandedChange:a,children:l}=e;if(!Tv())throw new Error("Feature flag for table nested rows must be enabled to use useTreeGridState.");let[s,c]=An(i?Zv(i):void 0,o?Zv(o):new Set,a),u=(0,y.useMemo)((()=>({showSelectionCheckboxes:n&&"none"!==t,showDragButtons:r,selectionMode:t,columns:[]})),[l,n,t,r]),d=(0,y.useMemo)((()=>new sv),[]),f=(0,y.useMemo)((()=>d.build({children:l},u)),[d,l,u]),h=(0,y.useMemo)((()=>function(e,t){let n,{expandedKeys:r=new Set}=t,i=[],o=0,a=0,l=[],s=new Map;(null===t||void 0===t?void 0:t.showSelectionCheckboxes)&&o++;(null===t||void 0===t?void 0:t.showDragButtons)&&o++;let c=[],u=e=>{switch(e.type){case"body":n=e,s.set(n.key,n);break;case"column":e.hasChildNodes||a++;break;case"item":return void c.push(e)}for(let t of e.childNodes)u(t)};for(let p of e)"column"===p.type&&l.push(p),u(p);o+=a;let d,f=0,h=(e,t)=>{if("item"===e.type){let t=[];for(let n of e.childNodes)if("cell"===n.type){let e={...n};e.index+1===o&&(e.nextKey=null),t.push({...e})}let r={...e,childNodes:t,parentKey:n.key,level:1,index:f++};i.push(r)}let a,l={};"placeholder"!==e.type&&"column"!==e.type&&(l.indexOfType=t),Object.assign(e,l),s.set(e.key,e);let c=0;for(let n of e.childNodes)("item"!==n.type||"all"===r||r.has(e.key))&&(null==n.parentKey&&(n.parentKey=e.key),a?(a.nextKey=n.key,n.prevKey=a.key):n.prevKey=null,"item"===n.type?h(n,c++):h(n,n.index),a=n);a&&(a.nextKey=null)};c.forEach(((e,t)=>{h(e,t),d?(d.nextKey=e.key,e.prevKey=d.key):e.prevKey=null,d=e})),d&&(d.nextKey=null);return{keyMap:s,userColumnCount:a,flattenedRows:i,tableNodes:[...l,{...n,childNodes:i}]}}(f,{showSelectionCheckboxes:n,showDragButtons:r,expandedKeys:s})),[f,n,r,s]),p=(0,y.useMemo)((()=>new Lv(h.tableNodes,null,u)),[u,h.tableNodes]);return{...jv({...e,collection:p}),keyMap:h.keyMap,userColumnCount:h.userColumnCount,expandedKeys:s,toggleKey:e=>{c(function(e,t,n){let r;"all"===e?(r=new Set(n.flattenedRows.filter((e=>e.props.UNSTABLE_childItems||e.props.children.length>n.userColumnCount)).map((e=>e.key))),r.delete(t)):(r=new Set(e),r.has(t)?r.delete(t):r.add(t));return r}(s,e,h))}}}function Zv(e){return e?"all"===e?"all":new Set(e):new Set}var Jv=n(448);function ey(e){return y.createElement(fs,e,y.createElement(Jv.m,null))}var ty=n(698);function ny(e){return y.createElement(fs,e,y.createElement(ty.K,null))}var ry=n(384);function iy(e){return y.createElement(fs,e,y.createElement(ry.z,null))}function oy(e,t,n){let{isDisabled:r=!1,isReadOnly:i=!1,value:o,name:a,children:l,"aria-label":s,"aria-labelledby":c,validationState:u="valid",isInvalid:d}=e;null!=l||(null!=s||null!=c)||console.warn("If you do not provide children, you must specify an aria-label for accessibility");let{pressProps:f,isPressed:h}=qn({isDisabled:r}),{pressProps:p,isPressed:m}=qn({isDisabled:r||i,onPress(){t.toggle()}}),{focusableProps:g}=ci(e,n),v=q(f,g),y=X(e,{labelable:!0});return Pe(n,t.isSelected,t.setSelected),{labelProps:q(p,{onClick:e=>e.preventDefault()}),inputProps:q(y,{"aria-invalid":d||"invalid"===u||void 0,"aria-errormessage":e["aria-errormessage"],"aria-controls":e["aria-controls"],"aria-readonly":i||void 0,onChange:e=>{e.stopPropagation(),t.setSelected(e.target.checked)},disabled:r,...null==o?{}:{value:o},name:a,type:"checkbox",...v}),isSelected:t.isSelected,isPressed:h||m,isDisabled:r,isReadOnly:i,isInvalid:d||"invalid"===u}}function ay(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{isReadOnly:t}=e,[n,r]=An(e.isSelected,e.defaultSelected||!1,e.onChange);return{isSelected:n,setSelected:function(e){t||r(e)},toggle:function(){t||r(!n)}}}function ly(e,t,n){let r=al({...e,value:t.isSelected}),{isInvalid:i,validationErrors:o,validationDetails:a}=r.displayValidation,{labelProps:l,inputProps:s,isSelected:c,isPressed:u,isDisabled:d,isReadOnly:f}=oy({...e,isInvalid:i},t,n);Ja(e,r,n);let{isIndeterminate:h,isRequired:p,validationBehavior:m="aria"}=e;return(0,y.useEffect)((()=>{n.current&&(n.current.indeterminate=!!h)})),{labelProps:l,inputProps:{...s,checked:c,"aria-required":p&&"aria"===m||void 0,required:p&&"native"===m},isSelected:c,isPressed:u,isDisabled:d,isReadOnly:f,isInvalid:i,validationErrors:o,validationDetails:a}}const sy=new WeakMap;function cy(e,t,n){const r=ay({isReadOnly:e.isReadOnly||t.isReadOnly,isSelected:t.isSelected(e.value),onChange(n){n?t.addValue(e.value):t.removeValue(e.value),e.onChange&&e.onChange(n)}});let{name:i,descriptionId:o,errorMessageId:a,validationBehavior:l}=sy.get(t);var s;l=null!==(s=e.validationBehavior)&&void 0!==s?s:l;let{realtimeValidation:c}=al({...e,value:r.isSelected,name:void 0,validationBehavior:"aria"}),u=(0,y.useRef)(rl),d=()=>{t.setInvalid(e.value,c.isInvalid?c:u.current)};(0,y.useEffect)(d);let f=t.realtimeValidation.isInvalid?t.realtimeValidation:c,h="native"===l?t.displayValidation:f;var p;let m=ly({...e,isReadOnly:e.isReadOnly||t.isReadOnly,isDisabled:e.isDisabled||t.isDisabled,name:e.name||i,isRequired:null!==(p=e.isRequired)&&void 0!==p?p:t.isRequired,validationBehavior:l,[ol]:{realtimeValidation:f,displayValidation:h,resetValidation:t.resetValidation,commitValidation:t.commitValidation,updateValidation(e){u.current=e,d()}}},r,n);return{...m,inputProps:{...m.inputProps,"aria-describedby":[e["aria-describedby"],t.isInvalid?a:null,o].filter(Boolean).join(" ")||void 0}}}function uy(e){return e&&e.__esModule?e.default:e}function dy(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}const fy=y.createContext(null);var hy,py,my,gy,vy,yy,by,xy,wy,_y,ky,Ey,Sy,Cy,My,Ty,Ay,Dy={};function Fy(e,t){let n=e;e=Xa(e=Io(e));let{isIndeterminate:r=!1,isEmphasized:i=!1,autoFocus:o,children:a,...l}=e,{styleProps:s}=Lt(l),c=(0,y.useRef)(null),u=yt(t,c),d=(0,y.useContext)(fy),{inputProps:f,isInvalid:h,isDisabled:p}=d?cy({...e,value:e.value,isRequired:n.isRequired,validationState:n.validationState,isInvalid:n.isInvalid},d,c):ly(e,ay(e),c),{hoverProps:m,isHovered:g}=Dr({isDisabled:p}),v=r?y.createElement(iy,{UNSAFE_className:ht(uy(Dy),"spectrum-Checkbox-partialCheckmark")}):y.createElement(ny,{UNSAFE_className:ht(uy(Dy),"spectrum-Checkbox-checkmark")});if(d){for(let e of["isSelected","defaultSelected","isEmphasized"])null!=n[e]&&console.warn("".concat(e," is unsupported on individual <Checkbox> elements within a <CheckboxGroup>. Please apply these props to the group instead."));null==e.value&&console.warn("A <Checkbox> element within a <CheckboxGroup> requires a `value` property.")}return y.createElement("label",{...s,...m,ref:u,className:ht(uy(Dy),"spectrum-Checkbox",{"is-checked":f.checked,"is-indeterminate":r,"spectrum-Checkbox--quiet":!i,"is-invalid":h,"is-disabled":p,"is-hovered":g},s.className)},y.createElement(oi,{focusRingClass:ht(uy(Dy),"focus-ring"),autoFocus:o},y.createElement("input",{...f,ref:c,className:ht(uy(Dy),"spectrum-Checkbox-input")})),y.createElement("span",{className:ht(uy(Dy),"spectrum-Checkbox-box")},v),a&&y.createElement("span",{className:ht(uy(Dy),"spectrum-Checkbox-label")},a))}dy(Dy,"focus-ring",(()=>hy),(e=>hy=e)),dy(Dy,"i18nFontFamily",(()=>py),(e=>py=e)),dy(Dy,"is-checked",(()=>my),(e=>my=e)),dy(Dy,"is-disabled",(()=>gy),(e=>gy=e)),dy(Dy,"is-hovered",(()=>vy),(e=>vy=e)),dy(Dy,"is-indeterminate",(()=>yy),(e=>yy=e)),dy(Dy,"is-invalid",(()=>by),(e=>by=e)),dy(Dy,"spectrum-Checkbox",(()=>xy),(e=>xy=e)),dy(Dy,"spectrum-Checkbox--quiet",(()=>wy),(e=>wy=e)),dy(Dy,"spectrum-Checkbox-box",(()=>_y),(e=>_y=e)),dy(Dy,"spectrum-Checkbox-checkmark",(()=>ky),(e=>ky=e)),dy(Dy,"spectrum-Checkbox-input",(()=>Ey),(e=>Ey=e)),dy(Dy,"spectrum-Checkbox-label",(()=>Sy),(e=>Sy=e)),dy(Dy,"spectrum-Checkbox-partialCheckmark",(()=>Cy),(e=>Cy=e)),dy(Dy,"spectrum-FocusRing-ring",(()=>My),(e=>My=e)),dy(Dy,"spectrum-FocusRing",(()=>Ty),(e=>Ty=e)),dy(Dy,"spectrum-FocusRing--quiet",(()=>Ay),(e=>Ay=e)),hy="ISsn1a_focus-ring",py="ISsn1a_i18nFontFamily",my="ISsn1a_is-checked",gy="ISsn1a_is-disabled",vy="ISsn1a_is-hovered",yy="ISsn1a_is-indeterminate",by="ISsn1a_is-invalid",xy="ISsn1a_spectrum-Checkbox",wy="ISsn1a_spectrum-Checkbox--quiet",_y="ISsn1a_spectrum-Checkbox-box",ky="ISsn1a_spectrum-Checkbox-checkmark",Ey="ISsn1a_spectrum-Checkbox-input",Sy="ISsn1a_spectrum-Checkbox-label",Cy="ISsn1a_spectrum-Checkbox-partialCheckmark",Ty="ISsn1a_spectrum-FocusRing ".concat(My="ISsn1a_spectrum-FocusRing-ring"),Ay="ISsn1a_spectrum-FocusRing--quiet";let Ny=(0,y.forwardRef)(Fy);var Ry,zy,Py,Oy,Iy,Ly,By,jy,Uy={};dy(Uy,"focus-ring",(()=>Ry),(e=>Ry=e)),dy(Uy,"i18nFontFamily",(()=>zy),(e=>zy=e)),dy(Uy,"spectrum-FieldGroup",(()=>Py),(e=>Py=e)),dy(Uy,"spectrum-FieldGroup-group",(()=>Oy),(e=>Oy=e)),dy(Uy,"spectrum-FieldGroup-group--horizontal",(()=>Iy),(e=>Iy=e)),dy(Uy,"spectrum-FocusRing-ring",(()=>Ly),(e=>Ly=e)),dy(Uy,"spectrum-FocusRing",(()=>By),(e=>By=e)),dy(Uy,"spectrum-FocusRing--quiet",(()=>jy),(e=>jy=e)),Ry="hyn22G_focus-ring",zy="hyn22G_i18nFontFamily",Py="hyn22G_spectrum-FieldGroup",Oy="hyn22G_spectrum-FieldGroup-group",Iy="hyn22G_spectrum-FieldGroup-group--horizontal",By="hyn22G_spectrum-FocusRing ".concat(Ly="hyn22G_spectrum-FocusRing-ring"),jy="hyn22G_spectrum-FocusRing--quiet";var Ky=n(350);function Wy(e){return y.createElement(fs,e,y.createElement(Ky.F,null))}var qy=n(331);function Hy(e){return y.createElement(fs,e,y.createElement(qy.Y,null))}var Vy=n(318);function Gy(e){return y.createElement(fs,e,y.createElement(Vy.R,null))}var Yy;Yy={backButton:e=>"\u0627\u0644\u0631\u062c\u0648\u0639 \u0625\u0644\u0649 ".concat(e.prevMenuButton),moreActions:"\u0627\u0644\u0645\u0632\u064a\u062f \u0645\u0646 \u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a",unavailable:"\u063a\u064a\u0631 \u0645\u064f\u062a\u0648\u0641\u0631\u060c \u0642\u064f\u0645 \u0628\u0627\u0644\u062a\u0648\u0633\u064a\u0639 \u0644\u0644\u062d\u0635\u0648\u0644 \u0639\u0644\u0649 \u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644"};var Qy;Qy={backButton:e=>"\u041d\u0430\u0437\u0430\u0434 \u043a\u044a\u043c ".concat(e.prevMenuButton),moreActions:"\u041f\u043e\u0432\u0435\u0447\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f",unavailable:"\u041d\u0435\u0434\u043e\u0441\u0442\u044a\u043f\u043d\u043e, \u0440\u0430\u0437\u0433\u044a\u043d\u0435\u0442\u0435 \u0437\u0430 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0441\u0442\u0438"};var Xy;Xy={backButton:e=>"N\xe1vrat na ".concat(e.prevMenuButton),moreActions:"Dal\u0161\xed akce",unavailable:"Nen\xed k dispozici, rozbalen\xedm zobraz\xedte podrobnosti"};var $y;$y={backButton:e=>"Vend tilbage til ".concat(e.prevMenuButton),moreActions:"Flere handlinger",unavailable:"Ikke tilg\xe6ngelig, udvid for detaljer"};var Zy;Zy={backButton:e=>"Zur\xfcck zu ".concat(e.prevMenuButton),moreActions:"Mehr Aktionen",unavailable:"Nicht verf\xfcgbar, f\xfcr Details erweitern"};var Jy;Jy={backButton:e=>"\u0395\u03c0\u03b9\u03c3\u03c4\u03c1\u03bf\u03c6\u03ae \u03c3\u03c4\u03bf ".concat(e.prevMenuButton),moreActions:"\u03a0\u03b5\u03c1\u03b9\u03c3\u03c3\u03cc\u03c4\u03b5\u03c1\u03b5\u03c2 \u03b5\u03bd\u03ad\u03c1\u03b3\u03b5\u03b9\u03b5\u03c2",unavailable:"\u039c\u03b7 \u03b4\u03b9\u03b1\u03b8\u03ad\u03c3\u03b9\u03bc\u03bf, \u03b1\u03bd\u03ac\u03c0\u03c4\u03c5\u03be\u03b7 \u03b3\u03b9\u03b1 \u03bb\u03b5\u03c0\u03c4\u03bf\u03bc\u03ad\u03c1\u03b5\u03b9\u03b5\u03c2"};var eb;eb={moreActions:"More actions",unavailable:"Unavailable, expand for details",backButton:e=>"Return to ".concat(e.prevMenuButton)};var tb;tb={backButton:e=>"Volver a ".concat(e.prevMenuButton),moreActions:"M\xe1s acciones",unavailable:"No disponible, ampliar para m\xe1s detalles"};var nb;nb={backButton:e=>"Tagasi ".concat(e.prevMenuButton),moreActions:"Veel toiminguid",unavailable:"Pole k\xe4ttesaadav, \xfcksikasjade vaatamiseks laiendage"};var rb;rb={backButton:e=>"Palaa kohtaan ".concat(e.prevMenuButton),moreActions:"Lis\xe4\xe4 toimintoja",unavailable:"Ei saatavilla, laajenna saadaksesi lis\xe4tietoja"};var ib;ib={backButton:e=>"Retour vers ".concat(e.prevMenuButton),moreActions:"Autres actions",unavailable:"Indisponible, d\xe9velopper pour plus de d\xe9tails"};var ob;ob={backButton:e=>"\u05d7\u05d6\u05d5\u05e8 \u05d0\u05dc ".concat(e.prevMenuButton),moreActions:"\u05e4\u05e2\u05d5\u05dc\u05d5\u05ea \u05e0\u05d5\u05e1\u05e4\u05d5\u05ea",unavailable:"\u05dc\u05d0 \u05d6\u05de\u05d9\u05df, \u05d4\u05e8\u05d7\u05d1 \u05dc\u05e4\u05e8\u05d8\u05d9\u05dd"};var ab;ab={backButton:e=>"Povratak na ".concat(e.prevMenuButton),moreActions:"Dodatne radnje",unavailable:"Nije dostupno, pro\u0161iri za detalje"};var lb;lb={backButton:e=>"Vissza ide: ".concat(e.prevMenuButton),moreActions:"Tov\xe1bbi lehet\u0151s\xe9gek",unavailable:"Nem \xe9rhet\u0151 el, a r\xe9szletek\xe9rt bontsa ki"};var sb;sb={backButton:e=>"Torna a ".concat(e.prevMenuButton),moreActions:"Altre azioni",unavailable:"Non disponibile, espandi per i dettagli"};var cb;cb={backButton:e=>"".concat(e.prevMenuButton," \u306b\u623b\u308b"),moreActions:"\u305d\u306e\u4ed6\u306e\u30a2\u30af\u30b7\u30e7\u30f3",unavailable:"\u5229\u7528\u3067\u304d\u307e\u305b\u3093\u3002\u8a73\u3057\u304f\u306f\u3001\u5c55\u958b\u3057\u3066\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044"};var ub;ub={backButton:e=>"".concat(e.prevMenuButton,"(\uc73c)\ub85c \ub3cc\uc544\uac00\uae30"),moreActions:"\uae30\ud0c0 \uc561\uc158",unavailable:"\uc0ac\uc6a9\ud560 \uc218 \uc5c6\uc74c, \uc790\uc138\ud788 \ubcf4\ub824\uba74 \ud3bc\uce58\uae30"};var db;db={backButton:e=>"Gr\u012f\u017eti \u012f ".concat(e.prevMenuButton),moreActions:"Daugiau veiksm\u0173",unavailable:"Nepasiekiama, nor\u0117dami gauti daugiau informacijos, i\u0161skleiskite"};var fb;fb={backButton:e=>"Atgriezties uz ".concat(e.prevMenuButton),moreActions:"Citas darb\u012bbas",unavailable:"Nav pieejams, izv\u0113rsiet, lai skat\u012btu s\u012bk\u0101ku inform\u0101ciju"};var hb;hb={backButton:e=>"G\xe5 tilbake til ".concat(e.prevMenuButton),moreActions:"Flere handlinger",unavailable:"Utilgjengelig, utvid for detaljer"};var pb;pb={backButton:e=>"Terug naar ".concat(e.prevMenuButton),moreActions:"Meer handelingen",unavailable:"Niet beschikbaar, uitvouwen voor meer informatie"};var mb;mb={backButton:e=>"Wr\xf3\u0107 do: ".concat(e.prevMenuButton),moreActions:"Wi\u0119cej akcji",unavailable:"Niedost\u0119pne, rozwi\u0144, aby zobaczy\u0107 szczeg\xf3\u0142y"};var gb;gb={backButton:e=>"Retornar a ".concat(e.prevMenuButton),moreActions:"Mais a\xe7\xf5es",unavailable:"Indispon\xedvel. Expanda para ver os detalhes"};var vb;vb={backButton:e=>"Voltar ao ".concat(e.prevMenuButton),moreActions:"Mais a\xe7\xf5es",unavailable:"Indispon\xedvel, expandir para mais detalhes"};var yb;yb={backButton:e=>"Reveni\u021bi la ".concat(e.prevMenuButton),moreActions:"Mai multe ac\u021biuni",unavailable:"Indisponibil, extinde\u021bi pentru detalii"};var bb;bb={backButton:e=>"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a ".concat(e.prevMenuButton),moreActions:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f",unavailable:"\u041d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e, \u0440\u0430\u0437\u0432\u0435\u0440\u043d\u0438\u0442\u0435 \u0434\u043b\u044f \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0441\u0442\u0435\u0439"};var xb;xb={backButton:e=>"Sp\xe4\u0165 na ".concat(e.prevMenuButton),moreActions:"\u010eal\u0161ie akcie",unavailable:"Nedostupn\xe9, rozba\u013ete podrobnosti"};var wb;wb={backButton:e=>"Nazaj na ".concat(e.prevMenuButton),moreActions:"Ve\u010d mo\u017enosti",unavailable:"Ni na voljo, raz\u0161irite za podrobnosti"};var _b;_b={backButton:e=>"Povratak na ".concat(e.prevMenuButton),moreActions:"Dodatne radnje",unavailable:"Nije dostupno, pro\u0161irite za detalje"};var kb;kb={backButton:e=>"\xc5terg\xe5 till ".concat(e.prevMenuButton),moreActions:"Fler \xe5tg\xe4rder",unavailable:"Ej tillg\xe4nglig, expandera f\xf6r mer information"};var Eb;Eb={backButton:e=>"Geri d\xf6n: ".concat(e.prevMenuButton),moreActions:"Daha fazla eylem",unavailable:"Kullan\u0131lam\u0131yor, ayr\u0131nt\u0131lar\u0131 g\xf6rmek i\xe7in geni\u015fletin"};var Sb;Sb={backButton:e=>"\u041f\u043e\u0432\u0435\u0440\u043d\u0443\u0442\u0438\u0441\u044f \u0434\u043e ".concat(e.prevMenuButton),moreActions:"\u0411\u0456\u043b\u044c\u0448\u0435 \u0434\u0456\u0439",unavailable:"\u041d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e, \u0440\u043e\u0437\u0433\u043e\u0440\u043d\u0456\u0442\u044c \u0434\u043b\u044f \u0434\u043e\u043a\u043b\u0430\u0434\u043d\u0456\u0448\u043e\u0457 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u0457"};var Cb;Cb={backButton:e=>"\u8fd4\u56de ".concat(e.prevMenuButton),moreActions:"\u66f4\u591a\u64cd\u4f5c",unavailable:"\u4e0d\u53ef\u7528\uff0c\u5c55\u5f00\u4ee5\u67e5\u770b\u8be6\u7ec6\u4fe1\u606f"};var Mb;Mb={backButton:e=>"\u8fd4\u56de ".concat(e.prevMenuButton),moreActions:"\u66f4\u591a\u52d5\u4f5c",unavailable:"\u7121\u6cd5\u4f7f\u7528\uff0c\u5c55\u958b\u4ee5\u53d6\u5f97\u8a73\u7d30\u8cc7\u6599"};var Tb;Tb={longPressMessage:"\u0627\u0636\u063a\u0637 \u0645\u0637\u0648\u0644\u0627\u064b \u0623\u0648 \u0627\u0636\u063a\u0637 \u0639\u0644\u0649 Alt + \u0627\u0644\u0633\u0647\u0645 \u0644\u0623\u0633\u0641\u0644 \u0644\u0641\u062a\u062d \u0627\u0644\u0642\u0627\u0626\u0645\u0629"};var Ab;Ab={longPressMessage:"\u041d\u0430\u0442\u0438\u0441\u043d\u0435\u0442\u0435 \u043f\u0440\u043e\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e \u0438\u043b\u0438 \u043d\u0430\u0442\u0438\u0441\u043d\u0435\u0442\u0435 Alt+ \u0441\u0442\u0440\u0435\u043b\u043a\u0430 \u043d\u0430\u0434\u043e\u043b\u0443, \u0437\u0430 \u0434\u0430 \u043e\u0442\u0432\u043e\u0440\u0438\u0442\u0435 \u043c\u0435\u043d\u044e\u0442\u043e"};var Db;Db={longPressMessage:"Dlouh\xfdm stiskem nebo stisknut\xedm kl\xe1ves Alt + \u0161ipka dol\u016f otev\u0159ete nab\xeddku"};var Fb;Fb={longPressMessage:"Langt tryk eller tryk p\xe5 Alt + pil ned for at \xe5bne menuen"};var Nb;Nb={longPressMessage:"Dr\xfccken Sie lange oder dr\xfccken Sie Alt + Nach-unten, um das Men\xfc zu \xf6ffnen"};var Rb;Rb={longPressMessage:"\u03a0\u03b9\u03ad\u03c3\u03c4\u03b5 \u03c0\u03b1\u03c1\u03b1\u03c4\u03b5\u03c4\u03b1\u03bc\u03ad\u03bd\u03b1 \u03ae \u03c0\u03b1\u03c4\u03ae\u03c3\u03c4\u03b5 Alt + \u03ba\u03ac\u03c4\u03c9 \u03b2\u03ad\u03bb\u03bf\u03c2 \u03b3\u03b9\u03b1 \u03bd\u03b1 \u03b1\u03bd\u03bf\u03af\u03be\u03b5\u03c4\u03b5 \u03c4\u03bf \u03bc\u03b5\u03bd\u03bf\u03cd"};var zb;zb={longPressMessage:"Long press or press Alt + ArrowDown to open menu"};var Pb;Pb={longPressMessage:"Mantenga pulsado o pulse Alt + flecha abajo para abrir el men\xfa"};var Ob;Ob={longPressMessage:"Men\xfc\xfc avamiseks vajutage pikalt v\xf5i vajutage klahve Alt + allanool"};var Ib;Ib={longPressMessage:"Avaa valikko painamalla pohjassa tai n\xe4pp\xe4inyhdistelm\xe4ll\xe4 Alt + Alanuoli"};var Lb;Lb={longPressMessage:"Appuyez de mani\xe8re prolong\xe9e ou appuyez sur Alt\xa0+\xa0Fl\xe8che vers le bas pour ouvrir le menu."};var Bb;Bb={longPressMessage:"\u05dc\u05d7\u05e5 \u05dc\u05d7\u05d9\u05e6\u05d4 \u05d0\u05e8\u05d5\u05db\u05d4 \u05d0\u05d5 \u05d4\u05e7\u05e9 Alt + ArrowDown \u05db\u05d3\u05d9 \u05dc\u05e4\u05ea\u05d5\u05d7 \u05d0\u05ea \u05d4\u05ea\u05e4\u05e8\u05d9\u05d8"};var jb;jb={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dolje za otvaranje izbornika"};var Ub;Ub={longPressMessage:"Nyomja meg hosszan, vagy nyomja meg az Alt + lefele ny\xedl gombot a men\xfc megnyit\xe1s\xe1hoz"};var Kb;Kb={longPressMessage:"Premere a lungo o premere Alt + Freccia gi\xf9 per aprire il menu"};var Wb;Wb={longPressMessage:"\u9577\u62bc\u3057\u307e\u305f\u306f Alt+\u4e0b\u77e2\u5370\u30ad\u30fc\u3067\u30e1\u30cb\u30e5\u30fc\u3092\u958b\u304f"};var qb;qb={longPressMessage:"\uae38\uac8c \ub204\ub974\uac70\ub098 Alt + \uc544\ub798\ucabd \ud654\uc0b4\ud45c\ub97c \ub20c\ub7ec \uba54\ub274 \uc5f4\uae30"};var Hb;Hb={longPressMessage:"Nor\u0117dami atidaryti meniu, nuspaud\u0119 palaikykite arba paspauskite \u201eAlt + ArrowDown\u201c."};var Vb;Vb={longPressMessage:"Lai atv\u0113rtu izv\u0113lni, turiet nospiestu vai nospiediet tausti\u0146u kombin\u0101ciju Alt + lejupv\u0113rst\u0101 bulti\u0146a"};var Gb;Gb={longPressMessage:"Langt trykk eller trykk Alt + PilNed for \xe5 \xe5pne menyen"};var Yb;Yb={longPressMessage:"Druk lang op Alt + pijl-omlaag of druk op Alt om het menu te openen"};var Qb;Qb={longPressMessage:"Naci\u015bnij i przytrzymaj lub naci\u015bnij klawisze Alt + Strza\u0142ka w d\xf3\u0142, aby otworzy\u0107 menu"};var Xb;Xb={longPressMessage:"Pressione e segure ou pressione Alt + Seta para baixo para abrir o menu"};var $b;$b={longPressMessage:"Prima continuamente ou prima Alt + Seta Para Baixo para abrir o menu"};var Zb;Zb={longPressMessage:"Ap\u0103sa\u021bi lung sau ap\u0103sa\u021bi pe Alt + s\u0103geat\u0103 \xeen jos pentru a deschide meniul"};var Jb;Jb={longPressMessage:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0438 \u0443\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0439\u0442\u0435 \u0438\u043b\u0438 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 Alt + \u0421\u0442\u0440\u0435\u043b\u043a\u0430 \u0432\u043d\u0438\u0437, \u0447\u0442\u043e\u0431\u044b \u043e\u0442\u043a\u0440\u044b\u0442\u044c \u043c\u0435\u043d\u044e"};var ex;ex={longPressMessage:"Ponuku otvor\xedte dlh\xfdm stla\u010den\xedm alebo stla\u010den\xedm kl\xe1vesu Alt + kl\xe1vesu so \u0161\xedpkou nadol"};var tx;tx={longPressMessage:"Za odprtje menija pritisnite in dr\u017eite gumb ali pritisnite Alt+pu\u0161\u010dica navzdol"};var nx;nx={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dole da otvorite meni"};var rx;rx={longPressMessage:"H\xe5ll nedtryckt eller tryck p\xe5 Alt + pil ned\xe5t f\xf6r att \xf6ppna menyn"};var ix;ix={longPressMessage:"Men\xfcy\xfc a\xe7mak i\xe7in uzun bas\u0131n veya Alt + A\u015fa\u011f\u0131 Ok tu\u015funa bas\u0131n"};var ox;ox={longPressMessage:"\u0414\u043e\u0432\u0433\u043e \u0430\u0431\u043e \u0437\u0432\u0438\u0447\u0430\u0439\u043d\u043e \u043d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c \u043a\u043e\u043c\u0431\u0456\u043d\u0430\u0446\u0456\u044e \u043a\u043b\u0430\u0432\u0456\u0448 Alt \u0456 \u0441\u0442\u0440\u0456\u043b\u043a\u0430 \u0432\u043d\u0438\u0437, \u0449\u043e\u0431 \u0432\u0456\u0434\u043a\u0440\u0438\u0442\u0438 \u043c\u0435\u043d\u044e"};var ax;ax={longPressMessage:"\u957f\u6309\u6216\u6309 Alt + \u5411\u4e0b\u65b9\u5411\u952e\u4ee5\u6253\u5f00\u83dc\u5355"};var lx;function sx(e){return te()||re()?e.altKey:e.ctrlKey}function cx(e){return te()?e.metaKey:e.ctrlKey}lx={longPressMessage:"\u9577\u6309\u6216\u6309 Alt+\u5411\u4e0b\u9375\u4ee5\u958b\u555f\u529f\u80fd\u8868"};const ux=1e3;function dx(e){let{keyboardDelegate:t,selectionManager:n,onTypeSelect:r}=e,i=(0,y.useRef)({search:"",timeout:null}).current;return{typeSelectProps:{onKeyDownCapture:t.getKeyForSearch?e=>{let o=function(e){return 1!==e.length&&/^[A-Z]/i.test(e)?"":e}(e.key);if(!o||e.ctrlKey||e.metaKey||!e.currentTarget.contains(e.target))return;" "===o&&i.search.trim().length>0&&(e.preventDefault(),"continuePropagation"in e||e.stopPropagation()),i.search+=o;let a=t.getKeyForSearch(i.search,n.focusedKey);null==a&&(a=t.getKeyForSearch(i.search)),null!=a&&(n.setFocusedKey(a),r&&r(a)),clearTimeout(i.timeout),i.timeout=setTimeout((()=>{i.search=""}),ux)}:null}}}function fx(e){let{selectionManager:t,keyboardDelegate:n,ref:r,autoFocus:i=!1,shouldFocusWrap:o=!1,disallowEmptySelection:a=!1,disallowSelectAll:l=!1,selectOnFocus:s="replace"===t.selectionBehavior,disallowTypeAhead:c=!1,shouldUseVirtualFocus:u,allowsTabNavigation:d=!1,isVirtualized:f,scrollRef:h=r,linkBehavior:p="action"}=e,{direction:m}=ot(),g=se(),v=(0,y.useRef)({top:0,left:0});De(h,"scroll",f?null:()=>{v.current={top:h.current.scrollTop,left:h.current.scrollLeft}});const b=(0,y.useRef)(i);(0,y.useEffect)((()=>{if(b.current){let e=null;"first"===i&&(e=n.getFirstKey()),"last"===i&&(e=n.getLastKey());let o=t.selectedKeys;if(o.size)for(let n of o)if(t.canSelectItem(n)){e=n;break}t.setFocused(!0),t.setFocusedKey(e),null!=e||u||Lr(r.current)}}),[]);let x=(0,y.useRef)(t.focusedKey);(0,y.useEffect)((()=>{let e=br();if(t.isFocused&&null!=t.focusedKey&&(null===h||void 0===h?void 0:h.current)){let n=h.current.querySelector('[data-key="'.concat(CSS.escape(t.focusedKey.toString()),'"]'));n&&("keyboard"===e||b.current)&&(f||Fe(h.current,n),Re(n,{containingElement:r.current}))}t.isFocused&&null==t.focusedKey&&null!=x.current&&Lr(r.current),x.current=t.focusedKey,b.current=!1}),[f,h,t.focusedKey,t.isFocused,r]);let w,_={onKeyDown:e=>{if(e.altKey&&"Tab"===e.key&&e.preventDefault(),!r.current.contains(e.target))return;const i=(n,r)=>{if(null!=n){if(t.isLink(n)&&"selection"===p&&s&&!sx(e)){(0,di.flushSync)((()=>{t.setFocusedKey(n,r)}));let i=h.current.querySelector('[data-key="'.concat(CSS.escape(n.toString()),'"]'));return void g.open(i,e)}if(t.setFocusedKey(n,r),t.isLink(n)&&"override"===p)return;e.shiftKey&&"multiple"===t.selectionMode?t.extendSelection(n):s&&!sx(e)&&t.replaceSelection(n)}};switch(e.key){case"ArrowDown":if(n.getKeyBelow){var c,u;e.preventDefault();let r=null!=t.focusedKey?n.getKeyBelow(t.focusedKey):null===(c=n.getFirstKey)||void 0===c?void 0:c.call(n);null==r&&o&&(r=null===(u=n.getFirstKey)||void 0===u?void 0:u.call(n,t.focusedKey)),i(r)}break;case"ArrowUp":if(n.getKeyAbove){var f,v;e.preventDefault();let r=null!=t.focusedKey?n.getKeyAbove(t.focusedKey):null===(f=n.getLastKey)||void 0===f?void 0:f.call(n);null==r&&o&&(r=null===(v=n.getLastKey)||void 0===v?void 0:v.call(n,t.focusedKey)),i(r)}break;case"ArrowLeft":if(n.getKeyLeftOf){var y,b;e.preventDefault();let r=n.getKeyLeftOf(t.focusedKey);null==r&&o&&(r="rtl"===m?null===(y=n.getFirstKey)||void 0===y?void 0:y.call(n,t.focusedKey):null===(b=n.getLastKey)||void 0===b?void 0:b.call(n,t.focusedKey)),i(r,"rtl"===m?"first":"last")}break;case"ArrowRight":if(n.getKeyRightOf){var x,w;e.preventDefault();let r=n.getKeyRightOf(t.focusedKey);null==r&&o&&(r="rtl"===m?null===(x=n.getLastKey)||void 0===x?void 0:x.call(n,t.focusedKey):null===(w=n.getFirstKey)||void 0===w?void 0:w.call(n,t.focusedKey)),i(r,"rtl"===m?"last":"first")}break;case"Home":if(n.getFirstKey){e.preventDefault();let r=n.getFirstKey(t.focusedKey,cx(e));t.setFocusedKey(r),cx(e)&&e.shiftKey&&"multiple"===t.selectionMode?t.extendSelection(r):s&&t.replaceSelection(r)}break;case"End":if(n.getLastKey){e.preventDefault();let r=n.getLastKey(t.focusedKey,cx(e));t.setFocusedKey(r),cx(e)&&e.shiftKey&&"multiple"===t.selectionMode?t.extendSelection(r):s&&t.replaceSelection(r)}break;case"PageDown":if(n.getKeyPageBelow){e.preventDefault(),i(n.getKeyPageBelow(t.focusedKey))}break;case"PageUp":if(n.getKeyPageAbove){e.preventDefault(),i(n.getKeyPageAbove(t.focusedKey))}break;case"a":cx(e)&&"multiple"===t.selectionMode&&!0!==l&&(e.preventDefault(),t.selectAll());break;case"Escape":e.preventDefault(),a||t.clearSelection();break;case"Tab":if(!d){if(e.shiftKey)r.current.focus();else{let e,t,n=ei(r.current,{tabbable:!0});do{t=n.lastChild(),t&&(e=t)}while(t);e&&!e.contains(document.activeElement)&&$(e)}break}}},onFocus:e=>{if(t.isFocused)e.currentTarget.contains(e.target)||t.setFocused(!1);else if(e.currentTarget.contains(e.target)){if(t.setFocused(!0),null==t.focusedKey){let r=e=>{null!=e&&(t.setFocusedKey(e),s&&t.replaceSelection(e))},a=e.relatedTarget;var i,o;a&&e.currentTarget.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_FOLLOWING?r(null!==(i=t.lastSelectedKey)&&void 0!==i?i:n.getLastKey()):r(null!==(o=t.firstSelectedKey)&&void 0!==o?o:n.getFirstKey())}else f||(h.current.scrollTop=v.current.top,h.current.scrollLeft=v.current.left);if(!f&&null!=t.focusedKey){let e=h.current.querySelector('[data-key="'.concat(CSS.escape(t.focusedKey.toString()),'"]'));if(e){e.contains(document.activeElement)||$(e),"keyboard"===br()&&Re(e,{containingElement:r.current})}}}},onBlur:e=>{e.currentTarget.contains(e.relatedTarget)||t.setFocused(!1)},onMouseDown(e){h.current===e.target&&e.preventDefault()}},{typeSelectProps:k}=dx({keyboardDelegate:n,selectionManager:t});return c||(_=q(k,_)),u||(w=null==t.focusedKey?0:-1),{collectionProps:{..._,tabIndex:w}}}function hx(e){let{selectionManager:t,key:n,ref:r,shouldSelectOnPressUp:i,shouldUseVirtualFocus:o,focus:a,isDisabled:l,onAction:s,allowsDifferentPressOrigin:c,linkBehavior:u="action"}=e,d=se(),f=e=>{if("keyboard"===e.pointerType&&sx(e))t.toggleSelection(n);else{if("none"===t.selectionMode)return;if(t.isLink(n)){if("selection"===u)return d.open(r.current,e),void t.setSelectedKeys(t.selectedKeys);if("override"===u||"none"===u)return}"single"===t.selectionMode?t.isSelected(n)&&!t.disallowEmptySelection?t.toggleSelection(n):t.replaceSelection(n):e&&e.shiftKey?t.extendSelection(n):"toggle"===t.selectionBehavior||e&&(cx(e)||"touch"===e.pointerType||"virtual"===e.pointerType)?t.toggleSelection(n):t.replaceSelection(n)}};(0,y.useEffect)((()=>{n===t.focusedKey&&t.isFocused&&!o&&(a?a():document.activeElement!==r.current&&Lr(r.current))}),[r,n,t.focusedKey,t.childFocusStrategy,t.isFocused,o]),l=l||t.isDisabled(n);let h={};o||l?l&&(h.onMouseDown=e=>{e.preventDefault()}):h={tabIndex:n===t.focusedKey?0:-1,onFocus(e){e.target===r.current&&t.setFocusedKey(n)}};let p=t.isLink(n)&&"override"===u,m=t.isLink(n)&&"selection"!==u&&"none"!==u,g=!l&&t.canSelectItem(n)&&!p,v=(s||m)&&!l,b=v&&("replace"===t.selectionBehavior?!g:!g||t.isEmpty),x=v&&g&&"replace"===t.selectionBehavior,w=b||x,_=(0,y.useRef)(null),k=w&&g,E=(0,y.useRef)(!1),S=(0,y.useRef)(!1),C=e=>{s&&s(),m&&d.open(r.current,e)},M={};i?(M.onPressStart=e=>{_.current=e.pointerType,E.current=k,"keyboard"!==e.pointerType||w&&!mx()||f(e)},c?(M.onPressUp=b?null:e=>{"keyboard"!==e.pointerType&&g&&f(e)},M.onPress=b?C:null):M.onPress=e=>{if(b||x&&"mouse"!==e.pointerType){if("keyboard"===e.pointerType&&!px())return;C(e)}else"keyboard"!==e.pointerType&&g&&f(e)}):(M.onPressStart=e=>{_.current=e.pointerType,E.current=k,S.current=b,g&&("mouse"===e.pointerType&&!b||"keyboard"===e.pointerType&&(!v||mx()))&&f(e)},M.onPress=e=>{("touch"===e.pointerType||"pen"===e.pointerType||"virtual"===e.pointerType||"keyboard"===e.pointerType&&w&&px()||"mouse"===e.pointerType&&S.current)&&(w?C(e):g&&f(e))}),h["data-key"]=n,M.preventFocusOnPress=o;let{pressProps:T,isPressed:A}=qn(M),D=x?e=>{"mouse"===_.current&&(e.stopPropagation(),e.preventDefault(),C(e))}:void 0,{longPressProps:F}=Ir({isDisabled:!k,onLongPress(e){"touch"===e.pointerType&&(f(e),t.setSelectionBehavior("toggle"))}}),N=t.isLink(n)?e=>{ce.isOpening||e.preventDefault()}:void 0;return{itemProps:q(h,g||b?T:{},k?F:{},{onDoubleClick:D,onDragStartCapture:e=>{"touch"===_.current&&E.current&&e.preventDefault()},onClick:N}),isPressed:A,isSelected:t.isSelected(n),isFocused:t.isFocused&&t.focusedKey===n,isDisabled:l,allowsSelection:g,hasAction:w}}function px(){let e=window.event;return"Enter"===(null===e||void 0===e?void 0:e.key)}function mx(){let e=window.event;return" "===(null===e||void 0===e?void 0:e.key)||"Space"===(null===e||void 0===e?void 0:e.code)}class gx{getNextKey(e){for(e=this.collection.getKeyAfter(e);null!=e;){if("item"===this.collection.getItem(e).type&&!this.disabledKeys.has(e))return e;e=this.collection.getKeyAfter(e)}return null}getPreviousKey(e){for(e=this.collection.getKeyBefore(e);null!=e;){if("item"===this.collection.getItem(e).type&&!this.disabledKeys.has(e))return e;e=this.collection.getKeyBefore(e)}return null}findKey(e,t,n){let r=this.getItem(e);if(!r)return null;let i=r.getBoundingClientRect();do{e=t(e),r=this.getItem(e)}while(r&&n(i,r.getBoundingClientRect()));return e}isSameRow(e,t){return e.top===t.top||e.left!==t.left}isSameColumn(e,t){return e.left===t.left||e.top!==t.top}getKeyBelow(e){return"grid"===this.layout&&"vertical"===this.orientation?this.findKey(e,(e=>this.getNextKey(e)),this.isSameRow):this.getNextKey(e)}getKeyAbove(e){return"grid"===this.layout&&"vertical"===this.orientation?this.findKey(e,(e=>this.getPreviousKey(e)),this.isSameRow):this.getPreviousKey(e)}getNextColumn(e,t){return t?this.getPreviousKey(e):this.getNextKey(e)}getKeyRightOf(e){return"grid"===this.layout?"vertical"===this.orientation?this.getNextColumn(e,"rtl"===this.direction):this.findKey(e,(e=>this.getNextColumn(e,"rtl"===this.direction)),this.isSameColumn):"horizontal"===this.orientation?this.getNextColumn(e,"rtl"===this.direction):null}getKeyLeftOf(e){return"grid"===this.layout?"vertical"===this.orientation?this.getNextColumn(e,"ltr"===this.direction):this.findKey(e,(e=>this.getNextColumn(e,"ltr"===this.direction)),this.isSameColumn):"horizontal"===this.orientation?this.getNextColumn(e,"ltr"===this.direction):null}getFirstKey(){let e=this.collection.getFirstKey();for(;null!=e;){if("item"===this.collection.getItem(e).type&&!this.disabledKeys.has(e))return e;e=this.collection.getKeyAfter(e)}return null}getLastKey(){let e=this.collection.getLastKey();for(;null!=e;){if("item"===this.collection.getItem(e).type&&!this.disabledKeys.has(e))return e;e=this.collection.getKeyBefore(e)}return null}getItem(e){return this.ref.current.querySelector('[data-key="'.concat(CSS.escape(e.toString()),'"]'))}getKeyPageAbove(e){let t=this.ref.current,n=this.getItem(e);if(!n)return null;if(!ke(t))return this.getFirstKey();let r=t.getBoundingClientRect(),i=n.getBoundingClientRect();if("horizontal"===this.orientation){let o=r.x-t.scrollLeft,a=Math.max(0,i.x-o+i.width-r.width);for(;n&&i.x-o>a;)n=null==(e=this.getKeyAbove(e))?null:this.getItem(e),i=null===n||void 0===n?void 0:n.getBoundingClientRect()}else{let o=r.y-t.scrollTop,a=Math.max(0,i.y-o+i.height-r.height);for(;n&&i.y-o>a;)n=null==(e=this.getKeyAbove(e))?null:this.getItem(e),i=null===n||void 0===n?void 0:n.getBoundingClientRect()}return null!==e&&void 0!==e?e:this.getFirstKey()}getKeyPageBelow(e){let t=this.ref.current,n=this.getItem(e);if(!n)return null;if(!ke(t))return this.getLastKey();let r=t.getBoundingClientRect(),i=n.getBoundingClientRect();if("horizontal"===this.orientation){let o=r.x-t.scrollLeft,a=Math.min(t.scrollWidth,i.x-o-i.width+r.width);for(;n&&i.x-o<a;)n=null==(e=this.getKeyBelow(e))?null:this.getItem(e),i=null===n||void 0===n?void 0:n.getBoundingClientRect()}else{let o=r.y-t.scrollTop,a=Math.min(t.scrollHeight,i.y-o-i.height+r.height);for(;n&&i.y-o<a;)n=null==(e=this.getKeyBelow(e))?null:this.getItem(e),i=null===n||void 0===n?void 0:n.getBoundingClientRect()}return null!==e&&void 0!==e?e:this.getLastKey()}getKeyForSearch(e,t){if(!this.collator)return null;let n=this.collection,r=t||this.getFirstKey();for(;null!=r;){let t=n.getItem(r),i=t.textValue.slice(0,e.length);if(t.textValue&&0===this.collator.compare(i,e))return r;r=this.getKeyBelow(r)}return null}constructor(){if(1===arguments.length){let e=arguments.length<=0?void 0:arguments[0];this.collection=e.collection,this.ref=e.ref,this.collator=e.collator,this.disabledKeys=e.disabledKeys||new Set,this.orientation=e.orientation,this.direction=e.direction,this.layout=e.layout||"stack"}else this.collection=arguments.length<=0?void 0:arguments[0],this.disabledKeys=arguments.length<=1?void 0:arguments[1],this.ref=arguments.length<=2?void 0:arguments[2],this.collator=arguments.length<=3?void 0:arguments[3],this.layout="stack",this.orientation="vertical";"stack"===this.layout&&"vertical"===this.orientation&&(this.getKeyLeftOf=void 0,this.getKeyRightOf=void 0)}}function vx(e){let{selectionManager:t,collection:n,disabledKeys:r,ref:i,keyboardDelegate:o}=e,a=dt({usage:"search",sensitivity:"base"}),l=t.disabledBehavior,s=(0,y.useMemo)((()=>o||new gx(n,"selection"===l?new Set:r,i,a)),[o,n,r,i,a,l]),{collectionProps:c}=fx({...e,ref:i,selectionManager:t,keyboardDelegate:s});return{listProps:c}}function yx(e){return e&&e.__esModule?e.default:e}var bx={};function xx(e,t,n){let{type:r="menu",isDisabled:i,trigger:o="press"}=e,a=L(),{triggerProps:l,overlayProps:s}=ji({type:r},t,n),c=st(yx(bx),"@react-aria/menu"),{longPressProps:u}=Ir({isDisabled:i||"longPress"!==o,accessibilityDescription:c.format("longPressMessage"),onLongPressStart(){t.close()},onLongPress(){t.open("first")}}),d={onPressStart(e){"touch"===e.pointerType||"keyboard"===e.pointerType||i||t.toggle("virtual"===e.pointerType?"first":null)},onPress(e){"touch"!==e.pointerType||i||t.toggle()}};return delete l.onPress,{menuTriggerProps:{...l,..."press"===o?d:u,id:a,onKeyDown:e=>{if(!i&&("longPress"!==o||e.altKey)&&n&&n.current)switch(e.key){case"Enter":case" ":if("longPress"===o)return;case"ArrowDown":"continuePropagation"in e||e.stopPropagation(),e.preventDefault(),t.toggle("first");break;case"ArrowUp":"continuePropagation"in e||e.stopPropagation(),e.preventDefault(),t.toggle("last");break;default:"continuePropagation"in e&&e.continuePropagation()}}},menuProps:{...s,"aria-labelledby":a,autoFocus:t.focusStrategy||!0,onClose:t.close}}}bx={"ar-AE":Tb,"bg-BG":Ab,"cs-CZ":Db,"da-DK":Fb,"de-DE":Nb,"el-GR":Rb,"en-US":zb,"es-ES":Pb,"et-EE":Ob,"fi-FI":Ib,"fr-FR":Lb,"he-IL":Bb,"hr-HR":jb,"hu-HU":Ub,"it-IT":Kb,"ja-JP":Wb,"ko-KR":qb,"lt-LT":Hb,"lv-LV":Vb,"nb-NO":Gb,"nl-NL":Yb,"pl-PL":Qb,"pt-BR":Xb,"pt-PT":$b,"ro-RO":Zb,"ru-RU":Jb,"sk-SK":ex,"sl-SI":tx,"sr-SP":nx,"sv-SE":rx,"tr-TR":ix,"uk-UA":ox,"zh-CN":ax,"zh-TW":lx};const wx=new WeakMap;function _x(e,t,n){let{shouldFocusWrap:r=!0,onKeyDown:i,onKeyUp:o,...a}=e;e["aria-label"]||e["aria-labelledby"]||console.warn("An aria-label or aria-labelledby prop is required for accessibility.");let l=X(e,{labelable:!0}),{listProps:s}=vx({...a,ref:n,selectionManager:t.selectionManager,collection:t.collection,disabledKeys:t.disabledKeys,shouldFocusWrap:r,linkBehavior:"override"});return wx.set(t,{onClose:e.onClose,onAction:e.onAction}),{menuProps:q(l,{onKeyDown:i,onKeyUp:o},{role:"menu",...s,onKeyDown:e=>{"Escape"!==e.key&&s.onKeyDown(e)}})}}function kx(e,t,n){var r;let{key:i,closeOnSelect:o,isVirtualized:a,"aria-haspopup":l,onPressStart:s,onPressUp:c,onPress:u,onPressChange:d,onPressEnd:f,onHoverStart:h,onHoverChange:p,onHoverEnd:m,onKeyDown:g,onKeyUp:v,onFocus:y,onFocusChange:b,onBlur:x}=e,w=!!l;var _;let k=null!==(_=e.isDisabled)&&void 0!==_?_:t.disabledKeys.has(i);var E;let S=null!==(E=e.isSelected)&&void 0!==E?E:t.selectionManager.isSelected(i),C=wx.get(t),M=e.onClose||C.onClose,T=w?()=>{}:e.onAction||C.onAction,A=se(),D=e=>{T&&T(i),e.target instanceof HTMLAnchorElement&&A.open(e.target,e)},F="menuitem";w||("single"===t.selectionManager.selectionMode?F="menuitemradio":"multiple"===t.selectionManager.selectionMode&&(F="menuitemcheckbox"));let N=j(),R=j(),z=j(),P={"aria-disabled":k||void 0,role:F,"aria-label":e["aria-label"],"aria-labelledby":N,"aria-describedby":[R,z].filter(Boolean).join(" ")||void 0,"aria-controls":e["aria-controls"],"aria-haspopup":l,"aria-expanded":e["aria-expanded"]};"none"===t.selectionManager.selectionMode||w||(P["aria-checked"]=S);let O=t.collection.getItem(i);a&&(P["aria-posinset"]=null===O||void 0===O?void 0:O.index,P["aria-setsize"]=xv(t.collection));let{itemProps:I,isFocused:L}=hx({selectionManager:t.selectionManager,key:i,ref:n,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0,linkBehavior:"none"}),{pressProps:B,isPressed:U}=qn({onPressStart:e=>{"keyboard"===e.pointerType&&D(e),null===s||void 0===s||s(e)},onPress:u,onPressUp:e=>{"keyboard"!==e.pointerType&&(D(e),!w&&M&&(null!==o&&void 0!==o?o:"multiple"!==t.selectionManager.selectionMode||t.selectionManager.isLink(i))&&M()),null===c||void 0===c||c(e)},onPressChange:d,onPressEnd:f,isDisabled:k}),{hoverProps:K}=Dr({isDisabled:k,onHoverStart(e){yr()||(t.selectionManager.setFocused(!0),t.selectionManager.setFocusedKey(i)),null===h||void 0===h||h(e)},onHoverChange:p,onHoverEnd:m}),{keyboardProps:W}=zr({onKeyDown:e=>{if(e.repeat)e.continuePropagation();else switch(e.key){case" ":k||"none"!==t.selectionManager.selectionMode||w||!1===o||!M||M();break;case"Enter":k||!1===o||w||!M||M();break;default:w||e.continuePropagation(),null===g||void 0===g||g(e)}},onKeyUp:v}),{focusProps:H}=ir({onBlur:x,onFocus:y,onFocusChange:b}),V=X(O.props,{isLink:!!(null===O||void 0===O||null===(r=O.props)||void 0===r?void 0:r.href)});return delete V.id,{menuItemProps:{...P,...q(V,w?{onFocus:I.onFocus}:I,B,K,W,H),tabIndex:null!=I.tabIndex?-1:void 0},labelProps:{id:N},descriptionProps:{id:R},keyboardShortcutProps:{id:z},isFocused:L,isSelected:S,isPressed:U,isDisabled:k}}function Ex(e){let{heading:t,"aria-label":n}=e,r=L();return{itemProps:{role:"presentation"},headingProps:t?{id:r,role:"presentation"}:{},groupProps:{role:"group","aria-label":n,"aria-labelledby":t?r:void 0}}}const Sx=2,Cx=50,Mx=1e3,Tx=Math.PI/12;function Ax(e){let{menuRef:t,submenuRef:n,isOpen:r,isDisabled:i}=e,o=(0,y.useRef)(),a=(0,y.useRef)(),l=(0,y.useRef)(0),s=(0,y.useRef)(),c=(0,y.useRef)(),u=(0,y.useRef)(),d=(0,y.useRef)(2),[f,h]=(0,y.useState)(!1);xe({ref:n,onResize:()=>{n.current&&(a.current=n.current.getBoundingClientRect(),u.current=void 0)}});let p=()=>{h(!1),d.current=Sx},m=wr();(0,y.useEffect)((()=>{f&&t.current?t.current.style.pointerEvents="none":t.current.style.pointerEvents=""}),[t,f]),(0,y.useEffect)((()=>{let e=n.current,f=t.current;if(i||!e||!r||"pointer"!==m)return void p();a.current=e.getBoundingClientRect();let g=e=>{if("touch"===e.pointerType||"pen"===e.pointerType)return;let t=Date.now();if(t-l.current<Cx)return;clearTimeout(s.current),clearTimeout(c.current);let{clientX:n,clientY:r}=e;if(!o.current)return void(o.current={x:n,y:r});if(!a.current)return;if(u.current||(u.current=n>a.current.right?"left":"right"),n<f.getBoundingClientRect().left||n>f.getBoundingClientRect().right||r<f.getBoundingClientRect().top||r>f.getBoundingClientRect().bottom)return void p();let i=o.current.x,m=o.current.y,g="right"===u.current?a.current.left-i:i-a.current.right,v=Math.atan2(m-a.current.top,g)+Tx,y=Math.atan2(m-a.current.bottom,g)-Tx,b=Math.atan2(m-r,"left"===u.current?-(n-i):n-i),x=b<v&&b>y;d.current=x?Math.min(d.current+1,Sx):Math.max(d.current-1,0),d.current>=Sx?h(!0):h(!1),l.current=t,o.current={x:n,y:r},x&&(s.current=setTimeout((()=>{p(),c.current=setTimeout((()=>{let e=document.elementFromPoint(n,r);e&&f.contains(e)&&e.dispatchEvent(new PointerEvent("pointerover",{bubbles:!0,cancelable:!0}))}),100)}),Mx))};return window.addEventListener("pointermove",g),()=>{window.removeEventListener("pointermove",g),clearTimeout(s.current),clearTimeout(c.current),d.current=Sx}}),[i,r,t,m,h,n])}function Dx(e,t,n){let{parentMenuRef:r,submenuRef:i,type:o="menu",isDisabled:a,node:l}=e,s=L(),c=L(),{direction:u}=ot(),d=(0,y.useRef)(),f=(0,y.useCallback)((()=>{d.current&&(clearTimeout(d.current),d.current=void 0)}),[d]),h=z((e=>{f(),t.open(e)})),p=z((()=>{f(),t.close()}));R((()=>()=>{f()}),[f]);let m={id:c,"aria-label":l.textValue,submenuLevel:t.submenuLevel,..."menu"===o&&{onClose:t.closeAll,autoFocus:t.focusStrategy,onKeyDown:e=>{switch(e.key){case"ArrowLeft":"ltr"===u&&e.currentTarget.contains(e.target)&&(e.stopPropagation(),p(),n.current.focus());break;case"ArrowRight":"rtl"===u&&e.currentTarget.contains(e.target)&&(e.stopPropagation(),p(),n.current.focus());break;case"Escape":e.stopPropagation(),t.closeAll()}}}};return Ax({menuRef:r,submenuRef:i,isOpen:t.isOpen,isDisabled:a}),{submenuTriggerProps:{id:s,"aria-controls":t.isOpen?c:void 0,"aria-haspopup":a?void 0:o,"aria-expanded":t.isOpen?"true":"false",onPressStart:e=>{a||"virtual"!==e.pointerType&&"keyboard"!==e.pointerType||h("first")},onPress:e=>{a||"touch"!==e.pointerType&&"mouse"!==e.pointerType||h()},onHoverChange:e=>{a||(e&&!t.isOpen?d.current||(d.current=setTimeout((()=>{h()}),200)):e||f())},onKeyDown:e=>{switch(e.key){case"ArrowRight":a||("ltr"===u?(t.isOpen||h("first"),"menu"===o&&(null===i||void 0===i?void 0:i.current)&&document.activeElement===(null===n||void 0===n?void 0:n.current)&&i.current.focus()):t.isOpen?p():e.continuePropagation());break;case"ArrowLeft":a||("rtl"===u?(t.isOpen||h("first"),"menu"===o&&(null===i||void 0===i?void 0:i.current)&&document.activeElement===(null===n||void 0===n?void 0:n.current)&&i.current.focus()):t.isOpen?p():e.continuePropagation());break;case"Escape":t.closeAll();break;default:e.continuePropagation()}},onBlur:e=>{t.isOpen&&r.current.contains(e.relatedTarget)&&p()},isOpen:t.isOpen},submenuProps:m,popoverProps:{isNonModal:!0,disableFocusManagement:!0,shouldCloseOnInteractOutside:e=>e!==n.current}}}function Fx(e){let t=cm(e),[n,r]=(0,y.useState)(null),[i,o]=(0,y.useState)([]);return{focusStrategy:n,...t,open(){r(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null),t.open()},toggle(){r(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null),t.toggle()},close(){o([]),t.close()},UNSTABLE_expandedKeysStack:i,UNSTABLE_openSubmenu:(e,t)=>{o((n=>t>n.length?n:[...n.slice(0,t),e]))},UNSTABLE_closeSubmenu:(e,t)=>{o((n=>n[t]===e?n.slice(0,t):n))}}}function Nx(e,t){let{triggerKey:n}=e,{UNSTABLE_expandedKeysStack:r,UNSTABLE_openSubmenu:i,UNSTABLE_closeSubmenu:o,close:a}=t,[l]=(0,y.useState)(null===r||void 0===r?void 0:r.length),s=(0,y.useMemo)((()=>r[l]===n),[r,n,l]),[c,u]=(0,y.useState)(null),d=(0,y.useCallback)((function(){u(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null),i(n,l)}),[i,l,n]),f=(0,y.useCallback)((()=>{u(null),o(n,l)}),[o,l,n]),h=(0,y.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;u(e),s?f():d(e)}),[f,d,s]);return(0,y.useMemo)((()=>({focusStrategy:c,isOpen:s,open:d,close:f,closeAll:a,submenuLevel:l,setOpen:()=>{},toggle:h})),[s,d,f,a,c,h,l])}class Rx{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let t=this.keyMap.get(e);return t?t.prevKey:null}getKeyAfter(e){let t=this.keyMap.get(e);return t?t.nextKey:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){return this.keyMap.get(e)}at(e){const t=[...this.getKeys()];return this.getItem(t[e])}constructor(e){let{expandedKeys:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.keyMap=new Map,this.iterable=e,t=t||new Set;let n,r=e=>{if(this.keyMap.set(e.key,e),e.childNodes&&("section"===e.type||t.has(e.key)))for(let t of e.childNodes)r(t)};for(let o of e)r(o);let i=0;for(let[o,a]of this.keyMap)n?(n.nextKey=o,a.prevKey=n.key):(this.firstKey=o,a.prevKey=void 0),"item"===a.type&&(a.index=i++),n=a,n.nextKey=void 0;this.lastKey=null===n||void 0===n?void 0:n.key}}function zx(e){let[t,n]=An(e.expandedKeys?new Set(e.expandedKeys):void 0,e.defaultExpandedKeys?new Set(e.defaultExpandedKeys):new Set,e.onExpandedChange),r=_v(e),i=(0,y.useMemo)((()=>e.disabledKeys?new Set(e.disabledKeys):new Set),[e.disabledKeys]),o=fv(e,(0,y.useCallback)((e=>new Rx(e,{expandedKeys:t})),[t]),null);(0,y.useEffect)((()=>{null==r.focusedKey||o.getItem(r.focusedKey)||r.setFocusedKey(null)}),[o,r.focusedKey]);return{collection:o,expandedKeys:t,disabledKeys:i,toggleKey:e=>{n(function(e,t){let n=new Set(e);n.has(t)?n.delete(t):n.add(t);return n}(t,e))},setExpandedKeys:n,selectionManager:new Ev(o,r)}}var Px=n(774);function Ox(e){return y.createElement(ds,e,y.createElement(Px.p,null))}var Ix=n(238);function Lx(e){return y.createElement(ds,e,y.createElement(Ix.E,null))}var Bx=n(526);function jx(e){return y.createElement(ds,e,y.createElement(Bx.r,null))}n(213);function Ux(e){return e&&e.__esModule?e.default:e}function Kx(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}const Wx=y.createContext({});const qx=y.createContext(void 0);const Hx=y.createContext(void 0);function Vx(){return(0,y.useContext)(Hx)}var Gx,Yx,Qx,Xx,$x,Zx,Jx,ew,tw,nw,rw,iw,ow,aw,lw,sw,cw,uw,dw,fw,hw,pw,mw,gw,vw,yw,bw,xw,ww,_w,kw,Ew,Sw,Cw,Mw,Tw,Aw,Dw,Fw,Nw,Rw,zw,Pw,Ow,Iw,Lw,Bw,jw,Uw={};function Kw(e,t){let n,r=(0,y.useRef)(),i=vt(t)||r,o=(0,y.useRef)(),{children:a,align:l="start",shouldFlip:s=!0,direction:c="bottom",closeOnSelect:u,trigger:d="press"}=e,[f,h]=y.Children.toArray(a),p=Fx(e),{menuTriggerProps:m,menuProps:g}=xx({trigger:d},p,i);switch(c){case"left":case"right":case"start":case"end":n="".concat(c," ").concat("end"===l?"bottom":"top");break;default:n="".concat(c," ").concat(l)}let v,b=Gt(),x={...g,ref:o,onClose:p.close,closeOnSelect:u,autoFocus:p.focusStrategy||!0,UNSAFE_style:b?{width:"100%",maxHeight:"inherit"}:void 0,UNSAFE_className:ht(Ux(Uw),{"spectrum-Menu-popover":!b}),state:p};return v=b?y.createElement(sm,{state:p,isFixedHeight:!0},h):y.createElement(wp,{UNSAFE_style:{clipPath:"unset",overflow:"visible",filter:"unset",borderWidth:"0px"},state:p,triggerRef:i,scrollRef:o,placement:n,hideArrow:!0,shouldFlip:s},h),y.createElement(y.Fragment,null,y.createElement(Wt,{slots:{actionButton:{holdAffordance:"longPress"===d}}},y.createElement(er,{...m,ref:i,isPressed:p.isOpen},f)),y.createElement(Wx.Provider,{value:x},v))}Kx(Uw,"checkmark",(()=>Gx),(e=>Gx=e)),Kx(Uw,"chevron",(()=>Yx),(e=>Yx=e)),Kx(Uw,"description",(()=>Qx),(e=>Qx=e)),Kx(Uw,"end",(()=>Xx),(e=>Xx=e)),Kx(Uw,"focus-ring",(()=>$x),(e=>$x=e)),Kx(Uw,"i18nFontFamily",(()=>Zx),(e=>Zx=e)),Kx(Uw,"icon",(()=>Jx),(e=>Jx=e)),Kx(Uw,"is-active",(()=>ew),(e=>ew=e)),Kx(Uw,"is-disabled",(()=>tw),(e=>tw=e)),Kx(Uw,"is-expanded",(()=>nw),(e=>nw=e)),Kx(Uw,"is-focused",(()=>rw),(e=>rw=e)),Kx(Uw,"is-highlighted",(()=>iw),(e=>iw=e)),Kx(Uw,"is-hovered",(()=>ow),(e=>ow=e)),Kx(Uw,"is-open",(()=>aw),(e=>aw=e)),Kx(Uw,"is-selectable",(()=>lw),(e=>lw=e)),Kx(Uw,"is-selected",(()=>sw),(e=>sw=e)),Kx(Uw,"keyboard",(()=>cw),(e=>cw=e)),Kx(Uw,"spectrum-FocusRing-ring",(()=>uw),(e=>uw=e)),Kx(Uw,"spectrum-FocusRing",(()=>dw),(e=>dw=e)),Kx(Uw,"spectrum-FocusRing--quiet",(()=>fw),(e=>fw=e)),Kx(Uw,"spectrum-Icon",(()=>hw),(e=>hw=e)),Kx(Uw,"spectrum-Menu",(()=>pw),(e=>pw=e)),Kx(Uw,"spectrum-Menu-avatar",(()=>mw),(e=>mw=e)),Kx(Uw,"spectrum-Menu-checkmark",(()=>gw),(e=>gw=e)),Kx(Uw,"spectrum-Menu-chevron",(()=>vw),(e=>vw=e)),Kx(Uw,"spectrum-Menu-description",(()=>yw),(e=>yw=e)),Kx(Uw,"spectrum-Menu-divider",(()=>bw),(e=>bw=e)),Kx(Uw,"spectrum-Menu-end",(()=>xw),(e=>xw=e)),Kx(Uw,"spectrum-Menu-icon",(()=>ww),(e=>ww=e)),Kx(Uw,"spectrum-Menu-item",(()=>_w),(e=>_w=e)),Kx(Uw,"spectrum-Menu-itemGrid",(()=>kw),(e=>kw=e)),Kx(Uw,"spectrum-Menu-itemIcon",(()=>Ew),(e=>Ew=e)),Kx(Uw,"spectrum-Menu-itemLabel",(()=>Sw),(e=>Sw=e)),Kx(Uw,"spectrum-Menu-itemLabel--wrapping",(()=>Cw),(e=>Cw=e)),Kx(Uw,"spectrum-Menu-keyboard",(()=>Mw),(e=>Mw=e)),Kx(Uw,"spectrum-Menu-popover",(()=>Tw),(e=>Tw=e)),Kx(Uw,"spectrum-Menu-section--isFirst",(()=>Aw),(e=>Aw=e)),Kx(Uw,"spectrum-Menu-section--isLast",(()=>Dw),(e=>Dw=e)),Kx(Uw,"spectrum-Menu-section--noHeading",(()=>Fw),(e=>Fw=e)),Kx(Uw,"spectrum-Menu-sectionHeading",(()=>Nw),(e=>Nw=e)),Kx(Uw,"spectrum-Menu-subdialog",(()=>Rw),(e=>Rw=e)),Kx(Uw,"spectrum-Menu-wrapper",(()=>zw),(e=>zw=e)),Kx(Uw,"spectrum-Menu-wrapper--isMobile",(()=>Pw),(e=>Pw=e)),Kx(Uw,"spectrum-Submenu-heading",(()=>Ow),(e=>Ow=e)),Kx(Uw,"spectrum-Submenu-headingWrapper",(()=>Iw),(e=>Iw=e)),Kx(Uw,"spectrum-Submenu-popover",(()=>Lw),(e=>Lw=e)),Kx(Uw,"spectrum-Submenu-wrapper",(()=>Bw),(e=>Bw=e)),Kx(Uw,"text",(()=>jw),(e=>jw=e)),Gx="Q7FggG_checkmark",Yx="Q7FggG_chevron",Qx="Q7FggG_description",Xx="Q7FggG_end",$x="Q7FggG_focus-ring",Zx="Q7FggG_i18nFontFamily",Jx="Q7FggG_icon",ew="Q7FggG_is-active",tw="Q7FggG_is-disabled",nw="Q7FggG_is-expanded",rw="Q7FggG_is-focused",iw="Q7FggG_is-highlighted",ow="Q7FggG_is-hovered",aw="Q7FggG_is-open",lw="Q7FggG_is-selectable",sw="Q7FggG_is-selected",cw="Q7FggG_keyboard",dw="Q7FggG_spectrum-FocusRing ".concat(uw="Q7FggG_spectrum-FocusRing-ring"),fw="Q7FggG_spectrum-FocusRing--quiet",hw="Q7FggG_spectrum-Icon",pw="Q7FggG_spectrum-Menu",mw="Q7FggG_spectrum-Menu-avatar",gw="Q7FggG_spectrum-Menu-checkmark",vw="Q7FggG_spectrum-Menu-chevron",yw="Q7FggG_spectrum-Menu-description",bw="Q7FggG_spectrum-Menu-divider",xw="Q7FggG_spectrum-Menu-end",ww="Q7FggG_spectrum-Menu-icon",_w="Q7FggG_spectrum-Menu-item",kw="Q7FggG_spectrum-Menu-itemGrid",Ew="Q7FggG_spectrum-Menu-itemIcon",Sw="Q7FggG_spectrum-Menu-itemLabel",Cw="Q7FggG_spectrum-Menu-itemLabel--wrapping",Mw="Q7FggG_spectrum-Menu-keyboard",Tw="Q7FggG_spectrum-Menu-popover",Aw="Q7FggG_spectrum-Menu-section--isFirst",Dw="Q7FggG_spectrum-Menu-section--isLast",Fw="Q7FggG_spectrum-Menu-section--noHeading",Nw="Q7FggG_spectrum-Menu-sectionHeading",Rw="Q7FggG_spectrum-Menu-subdialog",zw="Q7FggG_spectrum-Menu-wrapper",Pw="Q7FggG_spectrum-Menu-wrapper--isMobile",Ow="Q7FggG_spectrum-Submenu-heading",Iw="Q7FggG_spectrum-Submenu-headingWrapper",Lw="Q7FggG_spectrum-Submenu-popover",Bw="Q7FggG_spectrum-Submenu-wrapper",jw="Q7FggG_text";let Ww=(0,y.forwardRef)(Kw);function qw(e){let t,n=(0,y.useRef)(),{children:r,targetKey:i}=e,[o,a]=y.Children.toArray(r),{popoverContainerRef:l,trayContainerRef:s,menu:c,submenu:u,rootMenuTriggerState:d,state:f}=Vx(),h=f.collection.getItem(i),p=Nx({triggerKey:i},d),{submenuTriggerProps:m,submenuProps:g,popoverProps:v}=Dx({node:h,parentMenuRef:c,submenuRef:u},p,n),b=Gt(),{direction:x}=ot(),[w,_]=(0,y.useState)(0);if(R((()=>{if(c.current){var e,t;let n=null===(t=window)||void 0===t||null===(e=t.getComputedStyle(null===c||void 0===c?void 0:c.current))||void 0===e?void 0:e.getPropertyValue("--spectrum-submenu-offset-distance");""!==n&&_(-1*parseInt(n,10))}}),[c]),b){var k,E;delete m.onBlur,delete m.onHoverChange,null!==(E=(k=g).autoFocus)&&void 0!==E||(k.autoFocus=!0),s.current&&p.isOpen&&(t=di.createPortal(a,s.current))}else{let e=()=>{var e;p.close(),null===(e=c.current)||void 0===e||e.focus()};t=y.createElement(wp,{...v,onDismissButtonPress:e,UNSAFE_className:ht(Ux(Uw),"spectrum-Submenu-popover"),container:l.current,containerPadding:0,crossOffset:w,offset:w,enableBothDismissButtons:!0,UNSAFE_style:{clipPath:"unset",overflow:"visible",borderWidth:"0px"},state:p,triggerRef:n,scrollRef:u,placement:"end top",hideArrow:!0},a)}let S={...q(g,{ref:u,UNSAFE_style:b?{width:"100%",maxHeight:"inherit"}:void 0,UNSAFE_className:ht(Ux(Uw),{"spectrum-Menu-popover":!b}),...b&&{onBackButtonPress:()=>{p.close(),c.current&&!c.current.contains(document.activeElement)&&c.current.focus()},onKeyDown:e=>{switch(e.key){case"ArrowLeft":"ltr"===x&&n.current.focus();break;case"ArrowRight":"rtl"===x&&n.current.focus()}}}})};return y.createElement(y.Fragment,null,y.createElement(qx.Provider,{value:{triggerRef:n,...m}},o),y.createElement(Wx.Provider,{value:S},t))}qw.getCollectionNode=function*(e){let t=[];y.Children.forEach(e.children,(e=>{y.isValidElement(e)&&t.push(e)}));let[n]=t,[,r]=e.children;yield{element:y.cloneElement(n,{...n.props,hasChildItems:!0,isTrigger:!0}),wrapper:t=>y.createElement(qw,{key:t.key,targetKey:t.key,...e},t,r)}};var Hw={};function Vw(e){let t,{item:n,state:r,isVirtualized:i,onAction:o}=e,{closeOnSelect:a}=(0,y.useContext)(Wx),{rendered:l,key:s}=n,c=st(Ux(Hw),"@react-spectrum/menu"),{direction:u}=ot(),d=(0,y.useContext)(qx),{triggerRef:f,...h}=d||{},p=!!d,m=n.props.href?"a":"div";p&&(t=d.isUnavailable);let g=r.disabledKeys.has(s),v=!p&&"none"!==r.selectionManager.selectionMode,b=v&&r.selectionManager.isSelected(s),x=(0,y.useRef)(null),w=ye((0,y.useMemo)((()=>H(x,f)),[x,f])),{menuItemProps:_,labelProps:k,descriptionProps:E,keyboardShortcutProps:S}=kx({isSelected:b,isDisabled:g,"aria-label":n["aria-label"],key:s,closeOnSelect:a,isVirtualized:i,onAction:o,...h},r,w),C=j(),M={};C&&(M.id=C,_["aria-describedby"]=[_["aria-describedby"],C].filter(Boolean).join(" "));let T="string"===typeof l?y.createElement(ad,null,l):l;return y.createElement(oi,{focusRingClass:ht(Ux(Uw),"focus-ring")},y.createElement(m,{..._,ref:w,className:ht(Ux(Uw),"spectrum-Menu-item",{"is-disabled":g,"is-selected":b,"is-selectable":v,"is-open":h.isOpen})},y.createElement(ca,{UNSAFE_className:ht(Ux(Uw),"spectrum-Menu-itemGrid")},y.createElement(qt,null,y.createElement(Wt,{slots:{text:{UNSAFE_className:Ux(Uw)["spectrum-Menu-itemLabel"],...k},end:{UNSAFE_className:Ux(Uw)["spectrum-Menu-end"],...M},icon:{UNSAFE_className:Ux(Uw)["spectrum-Menu-icon"],size:"S"},description:{UNSAFE_className:Ux(Uw)["spectrum-Menu-description"],...E},keyboard:{UNSAFE_className:Ux(Uw)["spectrum-Menu-keyboard"],...S},chevron:{UNSAFE_className:Ux(Uw)["spectrum-Menu-chevron"],size:"S"}}},T,b&&y.createElement(gs,{slot:"checkmark",UNSAFE_className:ht(Ux(Uw),"spectrum-Menu-checkmark")}),t&&y.createElement(jx,{slot:"end",size:"XS",alignSelf:"center","aria-label":c.format("unavailable")}),null==t&&p&&("rtl"===u?y.createElement(Ox,{slot:"chevron"}):y.createElement(Lx,{slot:"chevron"})))))))}function Gw(e){var t;let{item:n,state:r,onAction:i}=e,{itemProps:o,headingProps:a,groupProps:l}=Ex({heading:n.rendered,"aria-label":n["aria-label"]}),{separatorProps:s}=ef({elementType:"div"}),c=r.collection.getFirstKey(),u=null===(t=[...r.collection].filter((e=>"section"===e.type)).at(-1))||void 0===t?void 0:t.key,d=c===n.key&&r.collection.getFirstKey()===c,f=u===n.key&&r.collection.getItem(r.collection.getLastKey()).parentKey===u;return y.createElement(y.Fragment,null,n.key!==r.collection.getFirstKey()&&y.createElement("div",{...s,className:ht(Ux(Uw),"spectrum-Menu-divider")}),y.createElement("div",o,n.rendered&&y.createElement("span",{...a,className:ht(Ux(Uw),"spectrum-Menu-sectionHeading")},n.rendered),y.createElement("div",{...l,className:ht(Ux(Uw),"spectrum-Menu",{"spectrum-Menu-section--noHeading":null==n.rendered,"spectrum-Menu-section--isFirst":d,"spectrum-Menu-section--isLast":f})},[...hv(n,r.collection)].map((e=>{let t=y.createElement(Vw,{key:e.key,item:e,state:r,onAction:i});return e.wrapper&&(t=e.wrapper(t)),t})))))}function Yw(e,t){let n=!0,r=(0,y.useContext)(Wx),i=Vx(),{rootMenuTriggerState:o,state:a}=i||{rootMenuTriggerState:r.state};i||(n=!1);let l={...q(r,e)},s=vt(t),c=(0,y.useRef)(null),u=(0,y.useRef)(null),d=zx(l),f=(0,y.useRef)(null),{menuProps:h}=_x(l,d,s),{styleProps:p}=Lt(l);we(r,s);let[m,g]=(0,y.useState)({left:0});var v;(0,y.useEffect)((()=>{if(c.current){let{left:e}=c.current.getBoundingClientRect();g({left:-1*e})}}),[]);let b=null!==(v=r.submenuLevel)&&void 0!==v?v:-1,x=null!=d.collection.getItem(null===o||void 0===o?void 0:o.UNSTABLE_expandedKeysStack[b+1]);return y.createElement(Hx.Provider,{value:{popoverContainerRef:c,trayContainerRef:u,menu:s,submenu:f,rootMenuTriggerState:o,state:d}},y.createElement("div",{style:{height:x?"100%":void 0},ref:u}),y.createElement(Kr,null,y.createElement(Qw,{onBackButtonPress:r.onBackButtonPress,hasOpenSubmenu:x,isSubmenu:n,parentMenuTreeState:a,rootMenuTriggerState:o},y.createElement("div",{...h,style:q(p.style,h.style),ref:s,className:ht(Ux(Uw),"spectrum-Menu",p.className)},[...d.collection].map((e=>{if("section"===e.type)return y.createElement(Gw,{key:e.key,item:e,state:d,onAction:l.onAction});let t=y.createElement(Vw,{key:e.key,item:e,state:d,onAction:l.onAction});return e.wrapper&&(t=e.wrapper(t)),t})))),(null===o||void 0===o?void 0:o.isOpen)&&y.createElement("div",{ref:c,style:{width:"100vw",position:"absolute",top:-5,...m}})))}function Qw(e){var t;let{children:n,isSubmenu:r,hasOpenSubmenu:i,parentMenuTreeState:o,rootMenuTriggerState:a,onBackButtonPress:l,wrapperKeyDown:s}=e,c=st(Ux(Hw),"@react-spectrum/menu"),u=null===o||void 0===o||null===(t=o.collection.getItem(null===a||void 0===a?void 0:a.UNSTABLE_expandedKeysStack.slice(-1)[0]))||void 0===t?void 0:t.textValue,d=c.format("backButton",{prevMenuButton:u}),f=j(),h=Gt(),{direction:p}=ot();return y.createElement(y.Fragment,null,y.createElement("div",{role:f?"dialog":void 0,"aria-labelledby":f,"aria-hidden":h&&i,"data-testid":"menu-wrapper",className:ht(Ux(Uw),"spectrum-Menu-wrapper",{"spectrum-Menu-wrapper--isMobile":h,"is-expanded":i})},y.createElement("div",{role:"presentation",className:ht(Ux(Uw),"spectrum-Submenu-wrapper"),onKeyDown:s},h&&r&&!i&&y.createElement("div",{className:ht(Ux(Uw),"spectrum-Submenu-headingWrapper")},y.createElement(Jd,{"aria-label":d,isQuiet:!0,onPress:l},"rtl"===p?y.createElement(ey,{UNSAFE_style:{rotate:"270deg"}}):y.createElement(ey,{UNSAFE_style:{rotate:"90deg"}})),y.createElement("h1",{id:f,className:ht(Ux(Uw),"spectrum-Submenu-heading")},u)),n)))}Hw={"ar-AE":Yy,"bg-BG":Qy,"cs-CZ":Xy,"da-DK":$y,"de-DE":Zy,"el-GR":Jy,"en-US":eb,"es-ES":tb,"et-EE":nb,"fi-FI":rb,"fr-FR":ib,"he-IL":ob,"hr-HR":ab,"hu-HU":lb,"it-IT":sb,"ja-JP":cb,"ko-KR":ub,"lt-LT":db,"lv-LV":fb,"nb-NO":hb,"nl-NL":pb,"pl-PL":mb,"pt-BR":gb,"pt-PT":vb,"ro-RO":yb,"ru-RU":bb,"sk-SK":xb,"sl-SI":wb,"sr-SP":_b,"sv-SE":kb,"tr-TR":Eb,"uk-UA":Sb,"zh-CN":Cb,"zh-TW":Mb};const Xw=y.forwardRef(Yw);var $w,Zw,Jw,e_,t_,n_={};function r_(e){let{isUnavailable:t=!1,targetKey:n}=e,r=(0,y.useRef)(null),i=(0,y.useRef)(null),{popoverContainerRef:o,trayContainerRef:a,rootMenuTriggerState:l,menu:s,state:c}=Vx(),u=c.collection.getItem(n),d=Nx({triggerKey:n},{...l,...c}),f=bt(i),{submenuTriggerProps:h,popoverProps:p}=Dx({node:u,parentMenuRef:s,submenuRef:f,type:"dialog",isDisabled:!t},d,r),m=Gt(),g={};t&&(g={dialog:{UNSAFE_className:ht(Ux(n_),"react-spectrum-ContextualHelp-dialog",{"react-spectrum-ContextualHelp-dialog--isMobile":m},ht(Ux(Uw),{"spectrum-Menu-subdialog":!m}))},content:{UNSAFE_className:Ux(n_)["react-spectrum-ContextualHelp-content"]},footer:{UNSAFE_className:Ux(n_)["react-spectrum-ContextualHelp-footer"]}});let v,b,[x]=y.Children.toArray(e.children),[,w]=e.children,_=e=>{var t,n;!e.relatedTarget||!i.current||(null===i||void 0===i||null===(n=i.current)||void 0===n||null===(t=n.UNSAFE_getDOMNode())||void 0===t?void 0:t.contains(e.relatedTarget))||e.relatedTarget===r.current&&"pointer"===br()||d.isOpen&&d.close()},k=()=>{d.close(),s.current&&!s.current.contains(document.activeElement)&&s.current.focus()},[E,S]=(0,y.useState)(0);if(R((()=>{if(s.current){var e,t;let n=null===(t=window)||void 0===t||null===(e=t.getComputedStyle(null===s||void 0===s?void 0:s.current))||void 0===e?void 0:e.getPropertyValue("--spectrum-submenu-offset-distance");""!==n&&S(-1*parseInt(n,10))}}),[s]),m){if(delete h.onBlur,delete h.onHoverChange,a.current&&d.isOpen){let e=e=>{if("Escape"===e.key)e.stopPropagation(),k()};b=y.createElement(Qw,{isSubmenu:!0,parentMenuTreeState:c,rootMenuTriggerState:l,wrapperKeyDown:e,onBackButtonPress:k},w),v=di.createPortal(b,a.current)}}else{let e=()=>{var e;d.close(),null===(e=s.current)||void 0===e||e.focus()};v=y.createElement(wp,{...p,UNSAFE_style:{clipPath:"unset",overflow:"visible",filter:"unset",borderWidth:"0px"},UNSAFE_className:ht(Ux(Uw),"spectrum-Submenu-popover"),onDismissButtonPress:e,onBlurWithin:_,container:o.current,state:d,ref:i,triggerRef:r,placement:"end top",containerPadding:0,crossOffset:E,offset:E,hideArrow:!0,enableBothDismissButtons:!0},y.createElement(Kr,{restoreFocus:!0},w))}return y.createElement(y.Fragment,null,y.createElement(qx.Provider,{value:{isUnavailable:t,triggerRef:r,...h}},x),y.createElement(Wt,{slots:g},d.isOpen&&v))}Kx(n_,"react-spectrum-ContextualHelp-button",(()=>$w),(e=>$w=e)),Kx(n_,"react-spectrum-ContextualHelp-content",(()=>Zw),(e=>Zw=e)),Kx(n_,"react-spectrum-ContextualHelp-dialog",(()=>Jw),(e=>Jw=e)),Kx(n_,"react-spectrum-ContextualHelp-dialog--isMobile",(()=>e_),(e=>e_=e)),Kx(n_,"react-spectrum-ContextualHelp-footer",(()=>t_),(e=>t_=e)),$w="L6gUaa_react-spectrum-ContextualHelp-button",Zw="L6gUaa_react-spectrum-ContextualHelp-content",Jw="L6gUaa_react-spectrum-ContextualHelp-dialog",e_="L6gUaa_react-spectrum-ContextualHelp-dialog--isMobile",t_="L6gUaa_react-spectrum-ContextualHelp-footer",r_.getCollectionNode=function*(e){let t=[];y.Children.forEach(e.children,(e=>{y.isValidElement(e)&&t.push(e)}));let[n]=t,[,r]=e.children;yield{element:y.cloneElement(n,{...n.props,hasChildItems:!0,isTrigger:!0}),wrapper:t=>y.createElement(r_,{key:t.key,targetKey:t.key,...e},t,r)}};class i_{shouldInvalidate(e,t){return e.width!==t.width||e.height!==t.height}validate(e){}getInitialLayoutInfo(e){return e}getFinalLayoutInfo(e){return e}}class o_{copy(){let e=new o_(this.type,this.key,this.rect.copy());return e.estimatedSize=this.estimatedSize,e.opacity=this.opacity,e.transform=this.transform,e.parentKey=this.parentKey,e.isSticky=this.isSticky,e.zIndex=this.zIndex,e.allowOverflow=this.allowOverflow,e}constructor(e,t,n){this.type=e,this.key=t,this.parentKey=null,this.rect=n,this.estimatedSize=!1,this.isSticky=!1,this.opacity=1,this.transform=null,this.zIndex=0,this.allowOverflow=!1}}class a_{copy(){return new a_(this.x,this.y)}equals(e){return this.x===e.x&&this.y===e.y}isOrigin(){return 0===this.x&&0===this.y}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.x=e,this.y=t}}class l_{get maxX(){return this.x+this.width}get maxY(){return this.y+this.height}get area(){return this.width*this.height}get topLeft(){return new a_(this.x,this.y)}get topRight(){return new a_(this.maxX,this.y)}get bottomLeft(){return new a_(this.x,this.maxY)}get bottomRight(){return new a_(this.maxX,this.maxY)}intersects(e){return this.x<=e.x+e.width&&e.x<=this.x+this.width&&this.y<=e.y+e.height&&e.y<=this.y+this.height}containsRect(e){return this.x<=e.x&&this.y<=e.y&&this.maxX>=e.maxX&&this.maxY>=e.maxY}containsPoint(e){return this.x<=e.x&&this.y<=e.y&&this.maxX>=e.x&&this.maxY>=e.y}getCornerInRect(e){for(let t of["topLeft","topRight","bottomLeft","bottomRight"])if(e.containsPoint(this[t]))return t;return null}equals(e){return e.x===this.x&&e.y===this.y&&e.width===this.width&&e.height===this.height}pointEquals(e){return this.x===e.x&&this.y===e.y}sizeEquals(e){return this.width===e.width&&this.height===e.height}union(e){let t=Math.min(this.x,e.x),n=Math.min(this.y,e.y),r=Math.max(this.maxX,e.maxX)-t,i=Math.max(this.maxY,e.maxY)-n;return new l_(t,n,r,i)}intersection(e){if(!this.intersects(e))return new l_(0,0,0,0);let t=Math.max(this.x,e.x),n=Math.max(this.y,e.y);return new l_(t,n,Math.min(this.maxX,e.maxX)-t,Math.min(this.maxY,e.maxY)-n)}copy(){return new l_(this.x,this.y,this.width,this.height)}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.x=e,this.y=t,this.width=n,this.height=r}}class s_{copy(){return new s_(this.width,this.height)}equals(e){return this.width===e.width&&this.height===e.height}get area(){return this.width*this.height}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.width=e,this.height=t}}let c_=0;class u_{prepareForReuse(){this.content=null,this.rendered=null,this.layoutInfo=null}constructor(e){this.virtualizer=e,this.key=++c_}}let d_,f_="undefined"!==typeof window?window.performance:null,h_=f_&&(f_.now||f_.webkitNow||f_.msNow||f_.mozNow),p_=h_?h_.bind(f_):function(){return Date.now?Date.now():(new Date).getTime()};function m_(e,t,n,r,i){let o,a=!1,l=new Promise((l=>{let s=p_(),c=t.x-e.x,u=t.y-e.y;o=requestAnimationFrame((function d(f){null==d_&&(d_=f>1e12!==p_()>1e12),d_&&(f=p_());let h=f-s;if(h>n)i(t),l();else{!1===i(new a_(e.x+c*r(h/n),e.y+u*r(h/n)))||a||(o=requestAnimationFrame(d))}}))}));return l.cancel=function(){a=!0,cancelAnimationFrame(o)},l}function g_(e){return Math.sin(e*Math.PI/2)}function v_(e,t){let n=new Set;for(let r of e.keys())t.has(r)||n.add(r);return n}function y_(e,t){let n=v_(e,t),r=v_(t,e),i=new Set;for(let o of e.keys())t.has(o)&&i.add(o);return{toRemove:n,toAdd:r,toUpdate:i}}function*b_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r of t)yield*r}function x_(e,t){if(e===t)return!0;if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;return!0}class w_{addSample(e){this.count++,this.value+=(e-this.value)/this.count}constructor(){this.count=0,this.value=0}}class __{setVisibleRect(e){let t=performance.now()-this.startTime;t<500&&(this.averageTime.addSample(t),e.x!==this.visibleRect.x&&t>0&&(this.velocity.x=(e.x-this.visibleRect.x)/t),e.y!==this.visibleRect.y&&t>0&&(this.velocity.y=(e.y-this.visibleRect.y)/t)),this.startTime=performance.now(),this.visibleRect=e}collectMetrics(){let e=performance.now()-this.startTime;if(e<500&&this.averagePerf.addSample(e),this.visibleRect.height>0){let e=Math.abs(this.velocity.y*(this.averageTime.value+this.averagePerf.value));this.overscanY.addSample(e)}if(this.visibleRect.width>0){let e=Math.abs(this.velocity.x*(this.averageTime.value+this.averagePerf.value));this.overscanX.addSample(e)}}getOverscannedRect(){let e=this.visibleRect.copy(),t=100*Math.round(Math.min(2*this.visibleRect.height,this.overscanY.value)/100);this.velocity.y>0?(e.y-=.2*t,e.height+=t+.2*t):(e.y-=t,e.height+=t+.2*t);let n=100*Math.round(Math.min(2*this.visibleRect.width,this.overscanX.value)/100);return this.velocity.x>0?(e.x-=.2*n,e.width+=n+.2*n):(e.x-=n,e.width+=n+.2*n),e}constructor(){this.startTime=0,this.averagePerf=new w_,this.averageTime=new w_,this.velocity=new a_(5,5),this.overscanX=new w_,this.overscanY=new w_,this.visibleRect=new l_}}class k_{constructor(){this.level=0,this.actions=[],this.animated=!0,this.initialMap=new Map,this.finalMap=new Map,this.initialLayoutInfo=new Map,this.finalLayoutInfo=new Map,this.removed=new Map,this.toRemove=new Map}}class E_{_setContentSize(e){this._contentSize=e,this.delegate.setContentSize(e)}_setContentOffset(e){let t=new l_(e.x,e.y,this._visibleRect.width,this._visibleRect.height);this.delegate.setVisibleRect(t)}get contentSize(){return this._contentSize}get visibleRect(){return this._visibleRect}set visibleRect(e){this._setVisibleRect(e)}_setVisibleRect(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this._visibleRect;if(e.equals(n))return;this.shouldOverscan&&this._overscanManager.setVisibleRect(e);let r=this.layout&&this.layout.shouldInvalidate(e,this._visibleRect);this._resetAnimatedContentOffset(),this._visibleRect=e,r?this.relayoutNow({offsetChanged:!e.pointEquals(n),sizeChanged:!e.sizeEquals(n)}):this.updateSubviews(t)}get collection(){return this._collection}set collection(e){this._setData(e)}_setData(e){e!==this._collection&&(this._collection?this._runTransaction((()=>{this._collection=e}),this.transitionDuration>0):(this._collection=e,this.reloadData()))}reloadData(){this.relayout({contentChanged:!0})}getItem(e){return this._collection?this._collection.getItem(e):null}get persistedKeys(){return this._persistedKeys}set persistedKeys(e){x_(e,this._persistedKeys)||(this._persistedKeys=e,this.updateSubviews())}isPersistedKey(e){if(this._persistedKeys.has(e))return!0;for(let t of this._persistedKeys)for(;null!=t;){let n=this.layout.getLayoutInfo(t);if(!n)break;if(t=n.parentKey,t===e)return!0}return!1}get layout(){return this._layout}set layout(e){this.setLayout(e)}setLayout(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e===this._layout)return;let n=()=>{this._layout&&(this._layout.virtualizer=null),e.virtualizer=this,this._layout=e};t?this._runTransaction(n):(n(),this.relayout())}_getReuseType(e,t){if("item"===e.type&&t){let n=this.delegate.getType?this.delegate.getType(t):"item";return{type:n,reuseType:"item"===n?"item":e.type+"_"+n}}return{type:e.type,reuseType:e.type}}getReusableView(e){let t=this.getItem(e.key),{reuseType:n}=this._getReuseType(e,t);this._reusableViews[n]||(this._reusableViews[n]=[]);let r=this._reusableViews[n],i=r.length>0?r.pop():new u_(this);return i.viewType=n,this._animatedContentOffset.isOrigin()||((e=e.copy()).rect.x+=this._animatedContentOffset.x,e.rect.y+=this._animatedContentOffset.y),i.layoutInfo=e,this._renderView(i),i}_renderView(e){let{type:t,key:n}=e.layoutInfo;e.content=this.getItem(n),e.rendered=this._renderContent(t,e.content)}_renderContent(e,t){let n=this._renderedContent.get(t);if(null!=n)return n;let r=this.delegate.renderView(e,t);return t&&this._renderedContent.set(t,r),r}get visibleViews(){return Array.from(this._visibleViews.values())}getView(e){return this._visibleViews.get(e)||null}getViewsOfType(e){return this.visibleViews.filter((t=>t.layoutInfo&&t.layoutInfo.type===e))}keyForView(e){return e&&e.layoutInfo?e.layoutInfo.key:null}keyAtPoint(e){let t=new l_(e.x,e.y,1,1),n=this.layout.getVisibleLayoutInfos(t);for(let r of n)if(r.rect.intersects(t))return r.key;return null}willUnmount(){cancelAnimationFrame(this._relayoutRaf)}relayout(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._scrollAnimation||"undefined"===typeof requestAnimationFrame||(this._invalidationContext?Object.assign(this._invalidationContext,e):this._invalidationContext=e)}relayoutNow(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._invalidationContext||{};if(this._relayoutRaf&&(cancelAnimationFrame(this._relayoutRaf),this._relayoutRaf=null,e={...this._invalidationContext,...e}),this._invalidationContext=null,!this.layout||!this._collection||this._scrollAnimation)return;let t=this._getScrollAnchor();"function"===typeof e.beforeLayout&&e.beforeLayout(),this.layout.validate(e),this._setContentSize(this.layout.getContentSize()),"function"===typeof e.afterLayout&&e.afterLayout();let n=this.getVisibleRect(),r=this._restoreScrollAnchor(t,e),i=e.contentChanged?0:r.x,o=e.contentChanged?0:r.y;i=Math.max(0,Math.min(this.contentSize.width-n.width,i)),o=Math.max(0,Math.min(this.contentSize.height-n.height,o));let a=!1;if(i!==n.x||o!==n.y?e.animated||!this._animatedContentOffset.isOrigin()?(this._animatedContentOffset.x+=n.x-i,this._animatedContentOffset.y+=n.y-o,a=this.updateSubviews(e.contentChanged)):this._setContentOffset(new a_(i,o)):a=this.updateSubviews(e.contentChanged),e.transaction&&e.animated||this._applyLayoutInfos(),e.animated&&a){this._enableTransitions();let t=()=>{if(this._disableTransitions(),!this._animatedContentOffset.isOrigin()){let{x:e,y:t}=this.getVisibleRect();this._resetAnimatedContentOffset(),this._setContentOffset(new a_(e,t))}"function"===typeof e.afterAnimation&&e.afterAnimation()};setTimeout(t,this.transitionDuration+100)}else"function"===typeof e.afterAnimation&&e.afterAnimation()}_correctItemOrder(){if(!this._isScrolling&&!this._transaction)for(let e of this._visibleLayoutInfos.keys()){let t=this._visibleViews.get(e);this._children.delete(t),this._children.add(t)}}_enableTransitions(){this.delegate.beginAnimations()}_disableTransitions(){this.delegate.endAnimations()}_getScrollAnchor(){if(!this.anchorScrollPosition)return null;let e=this.getVisibleRect();if(this.delegate.getScrollAnchor){let t=this.delegate.getScrollAnchor(e);if(null!=t){let n=this.layout.getLayoutInfo(t),r=n.rect.getCornerInRect(e);if(r){return{key:n.key,layoutInfo:n,corner:r,offset:n.rect[r].y-e.y}}}}if(0===e.y&&!this.anchorScrollPositionAtTop)return null;let t=null;for(let[n,r]of this._visibleViews){let i=r.layoutInfo;if(i&&i.rect.area>0){let r=i.rect.getCornerInRect(e);if(r){let o=i.rect[r].y-e.y;(!t||o<t.offset)&&(t={key:n,layoutInfo:i,corner:r,offset:o})}}}return t}_restoreScrollAnchor(e,t){let n=this.getVisibleRect();if(e){var r;let i=(null===(r=t.transaction)||void 0===r?void 0:r.animated)?t.transaction.finalMap.get(e.key):this.layout.getLayoutInfo(e.layoutInfo.key);if(i){let t=i.rect[e.corner].y-n.y-e.offset;n.y+=t}}return n}getVisibleRect(){let e=this.visibleRect,t=e.x-this._animatedContentOffset.x,n=e.y-this._animatedContentOffset.y;return new l_(t,n,e.width,e.height)}getVisibleLayoutInfos(){let e=this.shouldOverscan?this._overscanManager.getOverscannedRect():this.getVisibleRect();return this._visibleLayoutInfos=this._getLayoutInfoMap(e),this._visibleLayoutInfos}_getLayoutInfoMap(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.layout.getVisibleLayoutInfos(e),r=new Map;for(let i of n)t&&(i=i.copy()),r.set(i.key,i);return r}updateSubviews(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this._collection)return;let t,n,r,i=this.getVisibleLayoutInfos(),o=this._visibleViews;if(e)t=i,n=o,r=new Set;else{({toAdd:t,toRemove:n,toUpdate:r}=y_(o,i));for(let e of r){let a=o.get(e);if(!a||!a.layoutInfo)continue;let l=this.getItem(i.get(e).key);if(a.content===l)r.delete(e);else{let{reuseType:i}=this._getReuseType(a.layoutInfo,l);a.viewType!==i&&(r.delete(e),t.add(e),n.add(e))}}if(0===t.size&&0===n.size&&0===r.size)return void(this._transaction&&this._applyLayoutInfos())}let a=new Set;for(let s of n.keys()){let e=this._visibleViews.get(s);e&&(a.add(e),this._visibleViews.delete(s),this._transaction?this._transaction.toRemove.set(s,e):this.reuseView(e))}for(let s of t.keys()){let e,t=i.get(s);this._transaction&&(this._transaction.initialLayoutInfo.has(s)&&(t=this._transaction.initialLayoutInfo.get(s)),e=this._transaction.toRemove.get(s),e&&(this._transaction.toRemove.delete(s),this._applyLayoutInfo(e,t))),e||(e=this.getReusableView(t),a.has(e)||this._children.add(e)),this._visibleViews.set(s,e),a.delete(e)}for(let s of r){let e=o.get(s);this._renderedContent.delete(s),this._renderView(e)}this._transaction||this.removeViews(a),this._correctItemOrder(),this._flushVisibleViews();let l=this._transaction&&(t.size>0||n.size>0||this._hasLayoutUpdates());return l&&requestAnimationFrame((()=>{this._transaction&&requestAnimationFrame((()=>this._applyLayoutInfos()))})),l}afterRender(){this._transactionQueue.length>0?this._processTransactionQueue():this._invalidationContext&&this.relayoutNow(),this.shouldOverscan&&this._overscanManager.collectMetrics()}_flushVisibleViews(){let e=new Map([[null,[]]]);for(let s of this._children){var t,n,r,i,o;null==(null===(t=s.layoutInfo)||void 0===t?void 0:t.parentKey)||e.has(s.layoutInfo.parentKey)||e.set(s.layoutInfo.parentKey,[]),null===(n=e.get(null===(r=s.layoutInfo)||void 0===r?void 0:r.parentKey))||void 0===n||n.push(s),e.has(null===(i=s.layoutInfo)||void 0===i?void 0:i.key)||e.set(null===(o=s.layoutInfo)||void 0===o?void 0:o.key,[])}let a=(t,n)=>n.map((n=>{let r=e.get(n.layoutInfo.key);return this.delegate.renderWrapper(t,n,r,(e=>a(n,e)))})),l=a(null,e.get(null));this.delegate.setVisibleViews(l)}_applyLayoutInfo(e,t){return e.layoutInfo!==t&&(e.layoutInfo=t,!0)}_applyLayoutInfos(){let e=!1;for(let t of this._visibleViews.values()){let n=t.layoutInfo;if(null!=(null===n||void 0===n?void 0:n.key)){let r=this.layout.getLayoutInfo(n.key);this._applyLayoutInfo(t,r)&&(e=!0)}}if(this._transaction){for(let t of this._transaction.toRemove.values()){let n=t.layoutInfo;if(null!=(null===n||void 0===n?void 0:n.key)){let r=this.layout.getLayoutInfo(n.key);this._applyLayoutInfo(t,r)&&(e=!0)}}for(let t of this._transaction.removed.values()){let n=t.layoutInfo,r=this._transaction.finalLayoutInfo.get(n.key)||n;r=this.layout.getFinalLayoutInfo(r.copy()),this._applyLayoutInfo(t,r)&&(e=!0)}}e&&this._flushVisibleViews()}_hasLayoutUpdates(){if(!this._transaction)return!1;for(let e of this._visibleViews.values()){let t=e.layoutInfo;if(!t)return!0;let n=this.layout.getLayoutInfo(t.key);if(!t.rect.equals(n.rect)||t.opacity!==n.opacity||t.transform!==n.transform)return!0}return!1}reuseView(e){e.prepareForReuse(),this._reusableViews[e.viewType].push(e)}removeViews(e){for(let t of e)this._children.delete(t)}updateItemSize(e,t){if(!this.layout.updateItemSize)return;if(this._scrollAnimation)return void this._sizeUpdateQueue.set(e,t);this.layout.updateItemSize(e,t)&&this.relayout()}startScrolling(){this._isScrolling=!0}endScrolling(){this._isScrolling=!1,this._correctItemOrder(),this._flushVisibleViews()}_resetAnimatedContentOffset(){this._animatedContentOffset.isOrigin()||(this._animatedContentOffset=new a_(0,0),this._applyLayoutInfos())}scrollToItem(e,t){if(null==e)return;let n=this.layout.getLayoutInfo(e);if(!n)return;let{duration:r=300,shouldScrollX:i=!0,shouldScrollY:o=!0,offsetX:a=0,offsetY:l=0}=t,s=this.visibleRect.x,c=this.visibleRect.y,u=n.rect.x-a,d=n.rect.y-l,f=s+this.visibleRect.width,h=c+this.visibleRect.height;return i&&(u<=s||0===f?s=u:n.rect.maxX>f&&(s+=n.rect.maxX-f)),o&&(d<=c||0===h?c=d:n.rect.maxY>h&&(c+=n.rect.maxY-h)),this.scrollTo(new a_(s,c),r)}scrollTo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return this._scrollAnimation&&(this._scrollAnimation.cancel(),this._scrollAnimation=null),t<=0||this.visibleRect.pointEquals(e)?(this._setContentOffset(e),Promise.resolve()):(this.startScrolling(),this._scrollAnimation=m_(this.visibleRect,e,t,g_,(e=>{this._setContentOffset(e)})),this._scrollAnimation.then((()=>{this._scrollAnimation=null;for(let[e,t]of this._sizeUpdateQueue)this.updateItemSize(e,t);this._sizeUpdateQueue.clear(),this.relayout(),this._processTransactionQueue(),this.endScrolling()})),this._scrollAnimation)}_runTransaction(e,t){this._startTransaction(),this._nextTransaction&&this._nextTransaction.actions.push(e),this._endTransaction(t)}_startTransaction(){this._nextTransaction||(this._nextTransaction=new k_),this._nextTransaction.level++}_endTransaction(e){return!!this._nextTransaction&&(null!=e&&(this._nextTransaction.animated=e),!(--this._nextTransaction.level>0)&&(0===this._nextTransaction.actions.length?(this._nextTransaction=null,!1):(null==this._nextTransaction.animated&&(this._nextTransaction.animated=!0),this._transactionQueue.push(this._nextTransaction),this._nextTransaction=null,!0)))}_processTransactionQueue(){if(this._transaction||this._scrollAnimation)return;let e=this._transactionQueue.shift();e&&this._performTransaction(e)}_getContentRect(){return new l_(0,0,this.contentSize.width,this.contentSize.height)}_performTransaction(e){this._transaction=e,this.relayoutNow({transaction:e,animated:e.animated,beforeLayout:()=>{e.animated&&(e.initialMap=this._getLayoutInfoMap(this._getContentRect(),!0));for(let t of e.actions)t()},afterLayout:()=>{e.animated?(e.finalMap=this._getLayoutInfoMap(this._getContentRect()),this._setupTransactionAnimations(e)):this._transaction=null},afterAnimation:()=>{if(e.toRemove.size>0||e.removed.size>0)for(let t of b_(e.toRemove.values(),e.removed.values()))this._children.delete(t),this.reuseView(t);this._transaction=null,this._correctItemOrder(),this._flushVisibleViews(),this._processTransactionQueue()}})}_setupTransactionAnimations(e){let{initialMap:t,finalMap:n}=e;for(let[r,i]of t)n.has(r)?e.initialLayoutInfo.set(r,i):e.finalLayoutInfo.set(i.key,i);for(let[r,i]of n)if(!t.has(r)){let t=this.layout.getInitialLayoutInfo(i.copy());e.initialLayoutInfo.set(r,t)}for(let[r,i]of this._visibleViews)!n.has(r)&&i.layoutInfo.rect.width>0&&(e.removed.set(r,i),this._visibleViews.delete(r),i.layoutInfo&&(e.finalLayoutInfo.has(i.layoutInfo.key)||e.finalLayoutInfo.set(i.layoutInfo.key,i.layoutInfo)))}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;this._contentSize=new s_,this._visibleRect=new l_,this._reusableViews={},this._visibleLayoutInfos=new Map,this._visibleViews=new Map,this._renderedContent=new WeakMap,this._children=new Set,this._invalidationContext=null,this._overscanManager=new __,this._persistedKeys=new Set,this._scrollAnimation=null,this._isScrolling=!1,this._sizeUpdateQueue=new Map,this._animatedContentOffset=new a_(0,0),this._transaction=null,this._nextTransaction=null,this._transactionQueue=[],this.transitionDuration=null!==(t=e.transitionDuration)&&void 0!==t?t:500,this.anchorScrollPosition=e.anchorScrollPosition||!1,this.anchorScrollPositionAtTop=e.anchorScrollPositionAtTop||!1,this.shouldOverscan=!1!==e.shouldOverscan;for(let n of["delegate","size","layout","collection"])e[n]&&(this[n]=e[n])}}function S_(e){let[t,n]=(0,y.useState)([]),[r,i]=(0,y.useState)(new s_),[o,a]=(0,y.useState)(!1),[l,s]=(0,y.useState)(!1),c=(0,y.useMemo)((()=>new E_),[]);c.delegate={setVisibleViews:n,setVisibleRect(t){c.visibleRect=t,e.onVisibleRectChange(t)},setContentSize:i,renderView:e.renderView,renderWrapper:e.renderWrapper,beginAnimations:()=>a(!0),endAnimations:()=>a(!1),getScrollAnchor:e.getScrollAnchor},c.layout=e.layout,c.collection=e.collection,c.transitionDuration=e.transitionDuration,R((()=>{c.afterRender()})),(0,y.useEffect)((()=>()=>c.willUnmount()),[]);let u=(0,y.useCallback)((e=>{c.visibleRect=e}),[c]),d=(0,y.useCallback)((()=>{c.startScrolling(),s(!0)}),[c]),f=(0,y.useCallback)((()=>{c.endScrolling(),s(!1)}),[c]);return(0,y.useMemo)((()=>({virtualizer:c,visibleViews:t,setVisibleRect:u,contentSize:r,isAnimating:o,isScrolling:l,startScrolling:d,endScrolling:f})),[c,t,u,r,o,l,d,f])}let C_=null;function M_(){if(null===C_||arguments.length>0&&void 0!==arguments[0]&&arguments[0]){const e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",t.direction="rtl";const n=document.createElement("div"),r=n.style;return r.width="100px",r.height="100px",e.appendChild(n),document.body.appendChild(e),e.scrollLeft>0?C_="positive-descending":(e.scrollLeft=1,C_=0===e.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(e),C_}return C_}function T_(e,t){let{scrollLeft:n}=e;if("rtl"===t){let{scrollWidth:t,clientWidth:r}=e;switch(M_()){case"negative":n=-n;break;case"positive-descending":n=t-r-n}}return n}function A_(e,t,n){if("rtl"===t)switch(M_()){case"negative":n=-n;break;case"positive-ascending":break;default:{const{clientWidth:t,scrollWidth:r}=e;n=r-t-n;break}}e.scrollLeft=n}let D_=y.version.startsWith("16.")||y.version.startsWith("17.");function F_(e,t){let{contentSize:n,onVisibleRectChange:r,children:i,innerStyle:o,sizeToFit:a,onScrollStart:l,onScrollEnd:s,scrollDirection:c="both",...u}=e,d=(0,y.useRef)();t=t||d;let f=(0,y.useRef)({scrollTop:0,scrollLeft:0,scrollEndTime:0,scrollTimeout:null,width:0,height:0,isScrolling:!1}).current,{direction:h}=ot(),[p,m]=(0,y.useState)(!1),g=(0,y.useCallback)((t=>{t.target===t.currentTarget&&(e.onScroll&&e.onScroll(t),(0,di.flushSync)((()=>{let e=t.currentTarget.scrollTop,i=T_(t.currentTarget,h);f.scrollTop=Math.max(0,Math.min(e,n.height-f.height)),f.scrollLeft=Math.max(0,Math.min(i,n.width-f.width)),r(new l_(f.scrollLeft,f.scrollTop,f.width,f.height)),f.isScrolling||(f.isScrolling=!0,m(!0),l&&l());let o=Date.now();f.scrollEndTime<=o+50&&(f.scrollEndTime=o+300,clearTimeout(f.scrollTimeout),f.scrollTimeout=setTimeout((()=>{f.isScrolling=!1,m(!1),f.scrollTimeout=null,s&&s()}),300))})))}),[e,h,f,n,r,l,s]);(0,y.useEffect)((()=>()=>{clearTimeout(f.scrollTimeout)}),[]);let v=(0,y.useCallback)((()=>{let e=t.current;if(!e)return;let i=e.clientWidth,o=e.clientHeight;a&&n.width>0&&n.height>0&&("width"===a?i=Math.min(i,n.width):"height"===a&&(o=Math.min(o,n.height))),f.width===i&&f.height===o||(f.width=i,f.height=o,r(new l_(f.scrollLeft,f.scrollTop,i,o)))}),[r,t,f,a,n]);R((()=>{v()}),[v]);let b=(0,y.useRef)();xe({ref:t,onResize:()=>{var e,t;D_?null!==(t=(e=b).current)&&void 0!==t||(e.current=requestAnimationFrame((()=>{v(),b.current=null}))):v()}}),(0,y.useEffect)((()=>()=>{b.current&&cancelAnimationFrame(b.current)}),[]);let x={padding:0,...u.style};return"horizontal"===c?(x.overflowX="auto",x.overflowY="hidden"):"vertical"===c||n.width===f.width?(x.overflowY="auto",x.overflowX="hidden"):x.overflow="auto",o={width:n.width,height:n.height,pointerEvents:p?"none":"auto",position:"relative",...o},y.createElement("div",{...u,style:x,ref:t,onScroll:g},y.createElement("div",{role:"presentation",style:o},i))}const N_=y.forwardRef(F_);function R_(e){let{layoutInfo:t,virtualizer:n,ref:r}=e,i=(0,y.useCallback)((()=>{let e=function(e){let t=e.style.height;e.style.height="";let n=new s_(e.scrollWidth,e.scrollHeight);return e.style.height=t,n}(r.current);n.updateItemSize(t.key,e)}),[n,t.key,r]);return R((()=>{t.estimatedSize&&i()})),{updateSize:i}}function z_(e){let{className:t,layoutInfo:n,virtualizer:r,parent:i,children:o}=e,{direction:a}=ot(),l=(0,y.useRef)();return R_({layoutInfo:n,virtualizer:r,ref:l}),y.createElement("div",{role:"presentation",ref:l,className:t,style:O_(n,a,i)},o)}let P_=new WeakMap;function O_(e,t,n){let r="rtl"===t?"right":"left",i=P_.get(e);if(i&&null!=i[r]){if(!n)return i;let t=e.rect.y-n.rect.y,o=e.rect.x-n.rect.x;if(i.top===t&&i[r]===o)return i}let o={position:e.isSticky?"sticky":"absolute",display:e.isSticky?"inline-block":void 0,overflow:e.allowOverflow?"visible":"hidden",top:e.rect.y-(n?n.rect.y:0),[r]:e.rect.x-(n?n.rect.x:0),transition:"all",WebkitTransition:"all",WebkitTransitionDuration:"inherit",transitionDuration:"inherit",width:e.rect.width,height:e.rect.height,opacity:e.opacity,zIndex:e.zIndex,transform:e.transform,contain:"size layout style"};return P_.set(e,o),o}function I_(e,t,n){let{focusedKey:r,scrollToItem:i,shouldUseVirtualFocus:o,isLoading:a,onLoadMore:l}=e,{virtualizer:s}=t,c=(0,y.useRef)(null),u=(0,y.useRef)(!1),d=(0,y.useRef)(e.autoFocus);(0,y.useEffect)((()=>{if(0===s.visibleRect.height)return;let e=br();r===c.current||"pointer"===e&&!d.current||(d.current=!1,i?i(r):s.scrollToItem(r,{duration:0})),c.current=r}),[r,s.visibleRect.height,s,c,i,n]),s.persistedKeys=(0,y.useMemo)((()=>r?new Set([r]):new Set),[r]);let f,h=(0,y.useCallback)((e=>{let t=br();!u.current&&n.current.contains(e.target)&&"pointer"!==t&&(i?i(r):s.scrollToItem(r,{duration:0})),u.current=e.target!==n.current}),[n,s,r,i]),p=(0,y.useCallback)((e=>{u.current=n.current.contains(e.relatedTarget)}),[n]);o||(f=null!=r?-1:0,0===s.collection.size&&null!=e.tabIndex&&(f=e.tabIndex));let m=(0,y.useRef)(a),g=(0,y.useRef)(e),v=(0,y.useCallback)((e=>{if(t.setVisibleRect(e),!m.current&&l){let n=t.virtualizer.contentSize.height-2*e.height;e.y>n&&(m.current=!0,l())}}),[l,t]),b=(0,y.useRef)(0);return R((()=>{if(t.isAnimating)return;let n=m.current;e!==g.current&&(m.current=a,g.current=e),!m.current&&l&&t.contentSize.height>0&&t.contentSize.height<=t.virtualizer.visibleRect.height&&(n||t.contentSize.height!==b.current)&&(m.current=!0,l()),b.current=t.contentSize.height}),[t.contentSize,t.isAnimating,t.virtualizer,a,l,e]),{virtualizerProps:{tabIndex:f,onFocus:h,onBlur:p},scrollViewProps:{onVisibleRectChange:v}}}var L_=n(425);function B_(e){return y.createElement(fs,e,y.createElement(L_.D,null))}function j_(e){let{value:t=0,minValue:n=0,maxValue:r=100,valueLabel:i,isIndeterminate:o,formatOptions:a={style:"percent"}}=e,l=X(e,{labelable:!0}),{labelProps:s,fieldProps:c}=$a({...e,labelElementType:"span"});t=Dn(t,n,r);let u=(t-n)/(r-n),d=ct(a);if(!o&&!i){let e="percent"===a.style?u:t;i=d.format(e)}return{progressBarProps:q(l,{...c,"aria-valuenow":o?void 0:t,"aria-valuemin":n,"aria-valuemax":r,"aria-valuetext":o?void 0:i,role:"progressbar"}),labelProps:s}}function U_(e){return e&&e.__esModule?e.default:e}function K_(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var W_,q_,H_,V_,G_,Y_,Q_,X_,$_,Z_,J_,ek,tk,nk,rk,ik,ok,ak,lk,sk,ck,uk={};K_(uk,"focus-ring",(()=>W_),(e=>W_=e)),K_(uk,"i18nFontFamily",(()=>q_),(e=>q_=e)),K_(uk,"indeterminate-loop-ltr",(()=>H_),(e=>H_=e)),K_(uk,"indeterminate-loop-rtl",(()=>V_),(e=>V_=e)),K_(uk,"is-critical",(()=>G_),(e=>G_=e)),K_(uk,"is-positive",(()=>Y_),(e=>Y_=e)),K_(uk,"is-warning",(()=>Q_),(e=>Q_=e)),K_(uk,"spectrum-BarLoader",(()=>X_),(e=>X_=e)),K_(uk,"spectrum-BarLoader--indeterminate",(()=>$_),(e=>$_=e)),K_(uk,"spectrum-BarLoader--overBackground",(()=>Z_),(e=>Z_=e)),K_(uk,"spectrum-BarLoader--sideLabel",(()=>J_),(e=>J_=e)),K_(uk,"spectrum-BarLoader--small",(()=>ek),(e=>ek=e)),K_(uk,"spectrum-BarLoader--staticBlack",(()=>tk),(e=>tk=e)),K_(uk,"spectrum-BarLoader--staticWhite",(()=>nk),(e=>nk=e)),K_(uk,"spectrum-BarLoader-fill",(()=>rk),(e=>rk=e)),K_(uk,"spectrum-BarLoader-label",(()=>ik),(e=>ik=e)),K_(uk,"spectrum-BarLoader-percentage",(()=>ok),(e=>ok=e)),K_(uk,"spectrum-BarLoader-track",(()=>ak),(e=>ak=e)),K_(uk,"spectrum-FocusRing-ring",(()=>lk),(e=>lk=e)),K_(uk,"spectrum-FocusRing",(()=>sk),(e=>sk=e)),K_(uk,"spectrum-FocusRing--quiet",(()=>ck),(e=>ck=e)),W_="uFrYBa_focus-ring",q_="uFrYBa_i18nFontFamily",H_="uFrYBa_indeterminate-loop-ltr",V_="uFrYBa_indeterminate-loop-rtl",G_="uFrYBa_is-critical",Y_="uFrYBa_is-positive",Q_="uFrYBa_is-warning",X_="uFrYBa_spectrum-BarLoader",$_="uFrYBa_spectrum-BarLoader--indeterminate",Z_="uFrYBa_spectrum-BarLoader--overBackground",J_="uFrYBa_spectrum-BarLoader--sideLabel",ek="uFrYBa_spectrum-BarLoader--small",tk="uFrYBa_spectrum-BarLoader--staticBlack",nk="uFrYBa_spectrum-BarLoader--staticWhite",rk="uFrYBa_spectrum-BarLoader-fill",ik="uFrYBa_spectrum-BarLoader-label",ok="uFrYBa_spectrum-BarLoader-percentage",ak="uFrYBa_spectrum-BarLoader-track",sk="uFrYBa_spectrum-FocusRing ".concat(lk="uFrYBa_spectrum-FocusRing-ring"),ck="uFrYBa_spectrum-FocusRing--quiet";var dk,fk,hk,pk,mk,gk,vk,yk,bk,xk,wk,_k,kk,Ek,Sk,Ck,Mk,Tk,Ak,Dk,Fk,Nk,Rk,zk={};function Pk(e,t){let{value:n=0,minValue:r=0,maxValue:i=100,size:o="M",staticColor:a,variant:l,isIndeterminate:s=!1,"aria-label":c,"aria-labelledby":u,...d}=e,f=vt(t),{styleProps:h}=Lt(d);n=Dn(n,r,i);let{progressBarProps:p}=j_({...e,value:n}),m={},g={};if(!s){let e,t=(n-r)/(i-r)*100;t>0&&t<=50?(e=t/50*180-180,m.transform="rotate(".concat(e,"deg)"),g.transform="rotate(-180deg)"):t>50&&(e=(t-50)/50*180-180,m.transform="rotate(0deg)",g.transform="rotate(".concat(e,"deg)"))}return c||u||console.warn("ProgressCircle requires an aria-label or aria-labelledby attribute for accessibility"),y.createElement("div",{...h,...p,ref:f,className:ht(U_(zk),"spectrum-CircleLoader",{"spectrum-CircleLoader--indeterminate":s,"spectrum-CircleLoader--small":"S"===o,"spectrum-CircleLoader--large":"L"===o,"spectrum-CircleLoader--overBackground":"overBackground"===l,"spectrum-CircleLoader--staticWhite":"white"===a,"spectrum-CircleLoader--staticBlack":"black"===a},h.className)},y.createElement("div",{className:ht(U_(zk),"spectrum-CircleLoader-track")}),y.createElement("div",{className:ht(U_(zk),"spectrum-CircleLoader-fills")},y.createElement("div",{className:ht(U_(zk),"spectrum-CircleLoader-fillMask1")},y.createElement("div",{className:ht(U_(zk),"spectrum-CircleLoader-fillSubMask1"),"data-testid":"fillSubMask1",style:m},y.createElement("div",{className:ht(U_(zk),"spectrum-CircleLoader-fill")}))),y.createElement("div",{className:ht(U_(zk),"spectrum-CircleLoader-fillMask2")},y.createElement("div",{className:ht(U_(zk),"spectrum-CircleLoader-fillSubMask2"),"data-testid":"fillSubMask2",style:g},y.createElement("div",{className:ht(U_(zk),"spectrum-CircleLoader-fill")})))))}K_(zk,"focus-ring",(()=>dk),(e=>dk=e)),K_(zk,"i18nFontFamily",(()=>fk),(e=>fk=e)),K_(zk,"spectrum-CircleLoader",(()=>hk),(e=>hk=e)),K_(zk,"spectrum-CircleLoader--indeterminate",(()=>pk),(e=>pk=e)),K_(zk,"spectrum-CircleLoader--indeterminate-fill-submask-2",(()=>mk),(e=>mk=e)),K_(zk,"spectrum-CircleLoader--large",(()=>gk),(e=>gk=e)),K_(zk,"spectrum-CircleLoader--overBackground",(()=>vk),(e=>vk=e)),K_(zk,"spectrum-CircleLoader--small",(()=>yk),(e=>yk=e)),K_(zk,"spectrum-CircleLoader--staticBlack",(()=>bk),(e=>bk=e)),K_(zk,"spectrum-CircleLoader--staticWhite",(()=>xk),(e=>xk=e)),K_(zk,"spectrum-CircleLoader-fill",(()=>wk),(e=>wk=e)),K_(zk,"spectrum-CircleLoader-fillMask1",(()=>_k),(e=>_k=e)),K_(zk,"spectrum-CircleLoader-fillMask2",(()=>kk),(e=>kk=e)),K_(zk,"spectrum-CircleLoader-fillSubMask1",(()=>Ek),(e=>Ek=e)),K_(zk,"spectrum-CircleLoader-fillSubMask2",(()=>Sk),(e=>Sk=e)),K_(zk,"spectrum-CircleLoader-fills",(()=>Ck),(e=>Ck=e)),K_(zk,"spectrum-CircleLoader-track",(()=>Mk),(e=>Mk=e)),K_(zk,"spectrum-FocusRing-ring",(()=>Tk),(e=>Tk=e)),K_(zk,"spectrum-FocusRing",(()=>Ak),(e=>Ak=e)),K_(zk,"spectrum-FocusRing--quiet",(()=>Dk),(e=>Dk=e)),K_(zk,"spectrum-fill-mask-1",(()=>Fk),(e=>Fk=e)),K_(zk,"spectrum-fill-mask-2",(()=>Nk),(e=>Nk=e)),K_(zk,"spectrum-fills-rotate",(()=>Rk),(e=>Rk=e)),dk="EQYv7q_focus-ring",fk="EQYv7q_i18nFontFamily",hk="EQYv7q_spectrum-CircleLoader",pk="EQYv7q_spectrum-CircleLoader--indeterminate",mk="EQYv7q_spectrum-CircleLoader--indeterminate-fill-submask-2",gk="EQYv7q_spectrum-CircleLoader--large",vk="EQYv7q_spectrum-CircleLoader--overBackground",yk="EQYv7q_spectrum-CircleLoader--small",bk="EQYv7q_spectrum-CircleLoader--staticBlack",xk="EQYv7q_spectrum-CircleLoader--staticWhite",wk="EQYv7q_spectrum-CircleLoader-fill",_k="EQYv7q_spectrum-CircleLoader-fillMask1",kk="EQYv7q_spectrum-CircleLoader-fillMask2",Ek="EQYv7q_spectrum-CircleLoader-fillSubMask1",Sk="EQYv7q_spectrum-CircleLoader-fillSubMask2",Ck="EQYv7q_spectrum-CircleLoader-fills",Mk="EQYv7q_spectrum-CircleLoader-track",Ak="EQYv7q_spectrum-FocusRing ".concat(Tk="EQYv7q_spectrum-FocusRing-ring"),Dk="EQYv7q_spectrum-FocusRing--quiet",Fk="EQYv7q_spectrum-fill-mask-1",Nk="EQYv7q_spectrum-fill-mask-2",Rk="EQYv7q_spectrum-fills-rotate";let Ok=y.forwardRef(Pk);class Ik extends i_{getLayoutInfo(e){let t=this.layoutInfos.get(e);return!t&&this.validRect.area<this.contentSize.area&&this.lastCollection&&(this.lastValidRect=this.validRect,this.validRect=new l_(0,0,1/0,1/0),this.rootNodes=this.buildCollection(),this.validRect=new l_(0,0,this.contentSize.width,this.contentSize.height),t=this.layoutInfos.get(e)),t}getVisibleLayoutInfos(e){!this.validRect.containsRect(e)&&this.lastCollection&&(this.lastValidRect=this.validRect,this.validRect=this.validRect.union(e),this.rootNodes=this.buildCollection());let t=[],n=r=>{for(let i of r)this.isVisible(i,e)&&(t.push(i.layoutInfo),i.header&&t.push(i.header),i.children&&n(i.children))};return n(this.rootNodes),t}isVisible(e,t){return e.layoutInfo.rect.intersects(t)||e.layoutInfo.isSticky||this.virtualizer.isPersistedKey(e.layoutInfo.key)}shouldInvalidateEverything(e){return e.sizeChanged}validate(e){if(this.collection=this.virtualizer.collection,this.invalidateEverything=this.shouldInvalidateEverything(e),this.invalidateEverything&&(this.lastValidRect=this.validRect,this.validRect=this.virtualizer.getVisibleRect()),this.rootNodes=this.buildCollection(),this.lastCollection&&this.collection!==this.lastCollection)for(let n of this.lastCollection.getKeys())if(!this.collection.getItem(n)){let e=this.layoutNodes.get(n);var t;if(e)this.layoutInfos.delete(e.layoutInfo.key),this.layoutInfos.delete(null===(t=e.header)||void 0===t?void 0:t.key),this.layoutNodes.delete(n)}this.lastWidth=this.virtualizer.visibleRect.width,this.lastCollection=this.collection,this.invalidateEverything=!1}buildCollection(){let e=this.padding,t=0,n=[];for(let a of this.collection){var r;let i=null!==(r=this.rowHeight)&&void 0!==r?r:this.estimatedRowHeight;if("item"===a.type&&e+i<this.validRect.y&&!this.isValid(a,e)){e+=i,t++;continue}let o=this.buildChild(a,0,e);if(e=o.layoutInfo.rect.maxY,n.push(o),"item"===a.type&&e>this.validRect.maxY){e+=(this.collection.size-(n.length+t))*i;break}}if(this.isLoading){var i;let t=new l_(0,e,this.virtualizer.visibleRect.width,null!==(i=this.loaderHeight)&&void 0!==i?i:this.virtualizer.visibleRect.height),r=new o_("loader","loader",t);this.layoutInfos.set("loader",r),n.push({layoutInfo:r}),e=r.rect.maxY}if(0===n.length){var o;let t=new l_(0,e,this.virtualizer.visibleRect.width,null!==(o=this.placeholderHeight)&&void 0!==o?o:this.virtualizer.visibleRect.height),r=new o_("placeholder","placeholder",t);this.layoutInfos.set("placeholder",r),n.push({layoutInfo:r}),e=r.rect.maxY}return this.contentSize=new s_(this.virtualizer.visibleRect.width,e+this.padding),n}isValid(e,t){let n=this.layoutNodes.get(e.key);return!this.invalidateEverything&&n&&n.node===e&&t===(n.header||n.layoutInfo).rect.y&&n.layoutInfo.rect.intersects(this.lastValidRect)&&n.validRect.containsRect(n.layoutInfo.rect.intersection(this.validRect))}buildChild(e,t,n){if(this.isValid(e,n))return this.layoutNodes.get(e.key);let r=this.buildNode(e,t,n);var i;return r.node=e,r.layoutInfo.parentKey=null!==(i=e.parentKey)&&void 0!==i?i:null,this.layoutInfos.set(r.layoutInfo.key,r.layoutInfo),r.header&&this.layoutInfos.set(r.header.key,r.header),this.layoutNodes.set(e.key,r),r}buildNode(e,t,n){switch(e.type){case"section":return this.buildSection(e,t,n);case"item":return this.buildItem(e,t,n)}}buildSection(e,t,n){let r=this.virtualizer.visibleRect.width,i=this.headingHeight,o=!1;if(null==i){let t=this.layoutNodes.get(e.key);if(t&&t.header){let n=this.collection.getItem(e.key),a=this.lastCollection?this.lastCollection.getItem(e.key):null;i=t.header.rect.height,o=r!==this.lastWidth||n!==a||t.header.estimatedSize}else i=e.rendered?this.estimatedHeadingHeight:0,o=!0}null==i&&(i=48);let a=new l_(0,n,r,i),l=new o_("header",e.key+":header",a);l.estimatedSize=o,l.parentKey=e.key,n+=l.rect.height;let s=new l_(0,n,r,0),c=new o_(e.type,e.key,s),u=n,d=0,f=[];for(let p of hv(e,this.collection)){var h;let r=null!==(h=this.rowHeight)&&void 0!==h?h:this.estimatedRowHeight;if(n+r<this.validRect.y&&!this.isValid(e,n)){n+=r,d++;continue}let i=this.buildChild(p,t,n);if(n=i.layoutInfo.rect.maxY,f.push(i),n>this.validRect.maxY){n+=([...hv(e,this.collection)].length-(f.length+d))*r;break}}return s.height=n-u,{header:l,layoutInfo:c,children:f,validRect:c.rect.intersection(this.validRect)}}buildItem(e,t,n){let r=this.virtualizer.visibleRect.width,i=this.rowHeight,o=!1;if(null==i){let t=this.layoutNodes.get(e.key);t?(i=t.layoutInfo.rect.height,o=r!==this.lastWidth||e!==t.node||t.layoutInfo.estimatedSize):(i=this.estimatedRowHeight,o=!0)}null==i&&(i=48),"function"===typeof this.indentationForItem&&(t+=this.indentationForItem(this.collection,e.key)||0);let a=new l_(t,n,r-t,i),l=new o_(e.type,e.key,a);return l.allowOverflow=!0,l.estimatedSize=o,{layoutInfo:l,validRect:l.rect}}updateItemSize(e,t){let n=this.layoutInfos.get(e);if(!n)return!1;if(n.estimatedSize=!1,n.rect.height!==t.height){let r=n.copy();r.rect.height=t.height,this.layoutInfos.set(e,r),this.updateLayoutNode(e,n,r);let i=this.collection.getItem(n.parentKey);for(;i;)this.updateLayoutNode(i.key,n,r),i=this.collection.getItem(i.parentKey);return!0}return!1}updateLayoutNode(e,t,n){let r=this.layoutNodes.get(e);r&&(r.validRect=new l_,r.header===t?r.header=n:r.layoutInfo===t&&(r.layoutInfo=n))}getContentSize(){return this.contentSize}getKeyAbove(e){let t=this.collection;for(e=t.getKeyBefore(e);null!=e;){let n=t.getItem(e);if("item"===n.type&&(this.allowDisabledKeyFocus||!this.disabledKeys.has(n.key)))return e;e=t.getKeyBefore(e)}}getKeyBelow(e){let t=this.collection;for(e=t.getKeyAfter(e);null!=e;){let n=t.getItem(e);if("item"===n.type&&(this.allowDisabledKeyFocus||!this.disabledKeys.has(n.key)))return e;e=t.getKeyAfter(e)}}getKeyPageAbove(e){let t=this.getLayoutInfo(e);if(t){let e=Math.max(0,t.rect.y+t.rect.height-this.virtualizer.visibleRect.height);for(;t&&t.rect.y>e;){let e=this.getKeyAbove(t.key);t=this.getLayoutInfo(e)}if(t)return t.key}return this.getFirstKey()}getKeyPageBelow(e){let t=this.getLayoutInfo(null!=e?e:this.getFirstKey());if(t){let e=Math.min(this.virtualizer.contentSize.height,t.rect.y-t.rect.height+this.virtualizer.visibleRect.height);for(;t&&t.rect.y<e;){let e=this.getKeyBelow(t.key);t=this.getLayoutInfo(e)}if(t)return t.key}return this.getLastKey()}getFirstKey(){let e=this.collection,t=e.getFirstKey();for(;null!=t;){let n=e.getItem(t);if("item"===n.type&&(this.allowDisabledKeyFocus||!this.disabledKeys.has(n.key)))return t;t=e.getKeyAfter(t)}}getLastKey(){let e=this.collection,t=e.getLastKey();for(;null!=t;){let n=e.getItem(t);if("item"===n.type&&(this.allowDisabledKeyFocus||!this.disabledKeys.has(n.key)))return t;t=e.getKeyBefore(t)}}getKeyForSearch(e,t){if(!this.collator)return null;let n=this.collection,r=t||this.getFirstKey();for(;null!=r;){let t=n.getItem(r),i=t.textValue.slice(0,e.length);if(t.textValue&&0===this.collator.compare(i,e))return r;r=this.getKeyBelow(r)}return null}getInitialLayoutInfo(e){return e.opacity=0,e.transform="scale3d(0.8, 0.8, 0.8)",e}getFinalLayoutInfo(e){return e.opacity=0,e.transform="scale3d(0.8, 0.8, 0.8)",e}getDropTargetFromPoint(e,t,n){e+=this.virtualizer.visibleRect.x,t+=this.virtualizer.visibleRect.y;let r=this.virtualizer.keyAtPoint(new a_(e,t));if(null==r||0===this.collection.size)return{type:"root"};let i=this.getLayoutInfo(r),o=i.rect,a={type:"item",key:i.key,dropPosition:"on"};return n(a)?t<=o.y+10&&n({...a,dropPosition:"before"})?a.dropPosition="before":t>=o.maxY-10&&n({...a,dropPosition:"after"})&&(a.dropPosition="after"):t<=o.y+o.height/2&&n({...a,dropPosition:"before"})?a.dropPosition="before":n({...a,dropPosition:"after"})&&(a.dropPosition="after"),a}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.disabledKeys=new Set,this.allowDisabledKeyFocus=!1,this.rowHeight=e.rowHeight,this.estimatedRowHeight=e.estimatedRowHeight,this.headingHeight=e.headingHeight,this.estimatedHeadingHeight=e.estimatedHeadingHeight,this.padding=e.padding||0,this.indentationForItem=e.indentationForItem,this.collator=e.collator,this.loaderHeight=e.loaderHeight,this.placeholderHeight=e.placeholderHeight,this.layoutInfos=new Map,this.layoutNodes=new Map,this.rootNodes=[],this.lastWidth=0,this.lastCollection=null,this.allowDisabledKeyFocus=e.allowDisabledKeyFocus,this.lastValidRect=new l_,this.validRect=new l_,this.contentSize=new s_}}class Lk extends Ik{shouldInvalidateEverything(e){return super.shouldInvalidateEverything(e)||!this.lastCollection||this.collection.columns.length!==this.lastCollection.columns.length||this.collection.columns.some(((e,t)=>e.key!==this.lastCollection.columns[t].key||e.props.width!==this.lastCollection.columns[t].props.width||e.props.minWidth!==this.lastCollection.columns[t].props.minWidth||e.props.maxWidth!==this.lastCollection.columns[t].props.maxWidth))}getResizerPosition(){var e;return null===(e=this.getLayoutInfo(this.resizingColumn))||void 0===e?void 0:e.rect.maxX}getColumnWidth(e){var t;return null!==(t=this.columnLayout.getColumnWidth(e))&&void 0!==t?t:0}getColumnMinWidth(e){return this.collection.columns.find((t=>t.key===e))?this.columnLayout.getColumnMinWidth(e):0}getColumnMaxWidth(e){return this.collection.columns.find((t=>t.key===e))?this.columnLayout.getColumnMaxWidth(e):0}startResize(e){this.resizingColumn=e}updateResizedColumns(e,t){let n=new Map(Array.from(this.controlledColumns).map((e=>{let[t,n]=e;return[t,n.props.width]}))),r=this.columnLayout.resizeColumnWidth(this.virtualizer.visibleRect.width,this.collection,n,this.uncontrolledWidths,e,t),i=new Map(Array.from(this.uncontrolledColumns).map((e=>{let[t]=e;return[t,r.get(t)]})));return i.set(e,t),this.uncontrolledWidths=i,this.uncontrolledWidths.size>0&&this.virtualizer.relayoutNow({sizeChanged:!0}),r}endResize(){this.resizingColumn=null}buildCollection(){let e=this.collection.body.props.loadingState;this.wasLoading=this.isLoading,this.isLoading="loading"===e||"loadingMore"===e,this.stickyColumnIndices=[];for(let a of this.collection.columns)(a.props.isDragButtonCell||a.props.isSelectionCell||this.collection.rowHeaderColumnKeys.has(a.key))&&this.stickyColumnIndices.push(a.index);let[t,n]=this.columnLayout.splitColumnsIntoControlledAndUncontrolled(this.collection.columns);this.controlledColumns=t,this.uncontrolledColumns=n;let r=this.columnLayout.recombineColumns(this.collection.columns,this.uncontrolledWidths,n,t);this.columnWidths=this.columnLayout.buildColumnWidths(this.virtualizer.visibleRect.width,this.collection,r);let i=this.buildHeader(),o=this.buildBody(0);return this.lastPersistedKeys=null,o.layoutInfo.rect.width=Math.max(i.layoutInfo.rect.width,o.layoutInfo.rect.width),this.contentSize=new s_(o.layoutInfo.rect.width,o.layoutInfo.rect.maxY),[i,o]}buildHeader(){let e=new l_(0,0,0,0),t=new o_("header","header",e),n=0,r=0,i=[];for(let o of this.collection.headerRows){let e=this.buildChild(o,0,n);e.layoutInfo.parentKey="header",n=e.layoutInfo.rect.maxY,r=Math.max(r,e.layoutInfo.rect.width),e.index=i.length,i.push(e)}return e.width=r,e.height=n,this.layoutInfos.set("header",t),{layoutInfo:t,children:i,validRect:t.rect}}buildHeaderRow(e,t,n){let r=new l_(0,n,0,0),i=new o_("headerrow",e.key,r),o=0,a=[];for(let l of hv(e,this.collection)){let e=this.buildChild(l,t,n);e.layoutInfo.parentKey=i.key,t=e.layoutInfo.rect.maxX,o=Math.max(o,e.layoutInfo.rect.height),e.index=a.length,a.push(e)}for(let[l,s]of a.entries())s.layoutInfo.zIndex=a.length-l+1;return this.setChildHeights(a,o),r.height=o,r.width=t,{layoutInfo:i,children:a,validRect:r}}setChildHeights(e,t){for(let n of e)n.layoutInfo.rect.height!==t&&(n.layoutInfo=n.layoutInfo.copy(),this.layoutInfos.set(n.layoutInfo.key,n.layoutInfo),n.layoutInfo.rect.height=t)}getRenderedColumnWidth(e){var t;let n=null!==(t=e.colspan)&&void 0!==t?t:1;var r;let i=null!==(r=e.colIndex)&&void 0!==r?r:e.index,o=0;for(let a=i;a<i+n;a++){let e=this.collection.columns[a];null!=(null===e||void 0===e?void 0:e.key)&&(o+=this.columnWidths.get(e.key))}return o}getEstimatedHeight(e,t,n,r){let i=!1;if(null==n){let o=this.layoutNodes.get(e.key);o?(n=o.layoutInfo.rect.height,i=e!==o.node||t!==o.layoutInfo.rect.width||o.layoutInfo.estimatedSize):(n=r,i=!0)}return{height:n,isEstimated:i}}buildColumn(e,t,n){var r,i;let o=this.getRenderedColumnWidth(e),{height:a,isEstimated:l}=this.getEstimatedHeight(e,o,this.headingHeight,this.estimatedHeadingHeight),s=new l_(t,n,o,a),c=new o_(e.type,e.key,s);return c.isSticky=!this.disableSticky&&((null===(r=e.props)||void 0===r?void 0:r.isDragButtonCell)||(null===(i=e.props)||void 0===i?void 0:i.isSelectionCell)),c.zIndex=c.isSticky?2:1,c.estimatedSize=l,{layoutInfo:c,validRect:c.rect}}buildBody(e){let t=new l_(0,e,0,0),n=new o_("rowgroup","body",t),r=e,i=0,o=0,a=[];for(let[s,c]of[...this.collection].entries()){var l;let t=(null!==(l=this.rowHeight)&&void 0!==l?l:this.estimatedRowHeight)+1;if(e+t<this.validRect.y&&!this.isValid(c,e)){e+=t,i++;continue}let n=this.buildChild(c,0,e);if(n.layoutInfo.parentKey="body",n.index=s,e=n.layoutInfo.rect.maxY,o=Math.max(o,n.layoutInfo.rect.width),a.push(n),e>this.validRect.maxY){e+=(this.collection.size-(i+a.length))*t;break}}if(this.isLoading){let t=new l_(40,Math.max(e,40),(o||this.virtualizer.visibleRect.width)-80,0===a.length?this.virtualizer.visibleRect.height-80:60),n=new o_("loader","loader",t);n.parentKey="body",n.isSticky=!this.disableSticky&&0===a.length,this.layoutInfos.set("loader",n),a.push({layoutInfo:n,validRect:n.rect}),e=n.rect.maxY,o=Math.max(o,t.width)}else if(0===a.length){let t=new l_(40,Math.max(e,40),this.virtualizer.visibleRect.width-80,this.virtualizer.visibleRect.height-80),n=new o_("empty","empty",t);n.parentKey="body",n.isSticky=!this.disableSticky,this.layoutInfos.set("empty",n),a.push({layoutInfo:n,validRect:n.rect}),e=n.rect.maxY,o=Math.max(o,t.width)}return t.width=o,t.height=e-r,this.layoutInfos.set("body",n),{layoutInfo:n,children:a,validRect:n.rect.intersection(this.validRect)}}buildNode(e,t,n){switch(e.type){case"headerrow":return this.buildHeaderRow(e,t,n);case"item":return this.buildRow(e,t,n);case"column":case"placeholder":return this.buildColumn(e,t,n);case"cell":return this.buildCell(e,t,n);default:throw new Error("Unknown node type "+e.type)}}buildRow(e,t,n){let r=new l_(t,n,0,0),i=new o_("row",e.key,r),o=[],a=0;for(let[l,s]of[...hv(e,this.collection)].entries())if("cell"===s.type)if(t>this.validRect.maxX){let e=this.layoutNodes.get(s.key);e&&(e.layoutInfo.rect.x=t,t+=e.layoutInfo.rect.width)}else{let e=this.buildChild(s,t,n);t=e.layoutInfo.rect.maxX,a=Math.max(a,e.layoutInfo.rect.height),e.index=l,o.push(e)}return this.setChildHeights(o,a),r.width=this.layoutInfos.get("header").rect.width,r.height=a+1,{layoutInfo:i,children:o,validRect:r.intersection(this.validRect)}}buildCell(e,t,n){var r,i;let o=this.getRenderedColumnWidth(e),{height:a,isEstimated:l}=this.getEstimatedHeight(e,o,this.rowHeight,this.estimatedRowHeight),s=new l_(t,n,o,a),c=new o_(e.type,e.key,s);return c.isSticky=!this.disableSticky&&((null===(r=e.props)||void 0===r?void 0:r.isDragButtonCell)||(null===(i=e.props)||void 0===i?void 0:i.isSelectionCell)),c.zIndex=c.isSticky?2:1,c.estimatedSize=l,{layoutInfo:c,validRect:s}}getVisibleLayoutInfos(e){!this.validRect.containsRect(e)&&this.lastCollection&&(this.lastValidRect=this.validRect,this.validRect=this.validRect.union(e),this.rootNodes=this.buildCollection());let t=[];this.buildPersistedIndices();for(let n of this.rootNodes)t.push(n.layoutInfo),this.addVisibleLayoutInfos(t,n,e);return t}addVisibleLayoutInfos(e,t,n){if(t.children&&0!==t.children.length)switch(t.layoutInfo.type){case"header":for(let r of t.children)e.push(r.layoutInfo),this.addVisibleLayoutInfos(e,r,n);break;case"rowgroup":{let r=this.binarySearch(t.children,n.topLeft,"y"),i=this.binarySearch(t.children,n.bottomRight,"y"),o=this.persistedIndices.get(t.layoutInfo.key),a=0;for(;o&&a<o.length&&o[a]<r;){let r=o[a];r<t.children.length&&(e.push(t.children[r].layoutInfo),this.addVisibleLayoutInfos(e,t.children[r],n)),a++}for(let l=r;l<=i;l++){for(;o&&a<o.length&&o[a]<l;)a++;e.push(t.children[l].layoutInfo),this.addVisibleLayoutInfos(e,t.children[l],n)}for(;o&&a<o.length;){let n=o[a++];n<t.children.length&&e.push(t.children[n].layoutInfo)}break}case"headerrow":case"row":{let r=this.binarySearch(t.children,n.topLeft,"x"),i=this.binarySearch(t.children,n.topRight,"x"),o=0,a=this.persistedIndices.get(t.layoutInfo.key)||this.stickyColumnIndices;for(;o<a.length&&a[o]<r;){let n=a[o];n<t.children.length&&e.push(t.children[n].layoutInfo),o++}for(let n=r;n<=i;n++){for(;o<a.length&&a[o]<n;)o++;e.push(t.children[n].layoutInfo)}for(;o<a.length;){let n=a[o++];n<t.children.length&&e.push(t.children[n].layoutInfo)}break}default:throw new Error("Unknown node type "+t.layoutInfo.type)}}binarySearch(e,t,n){let r=0,i=e.length-1;for(;r<=i;){let o=r+i>>1,a=e[o];if("x"===n&&a.layoutInfo.rect.maxX<t.x||"y"===n&&a.layoutInfo.rect.maxY<t.y)r=o+1;else{if(!("x"===n&&a.layoutInfo.rect.x>t.x||"y"===n&&a.layoutInfo.rect.y>t.y))return o;i=o-1}}return Math.max(0,Math.min(e.length-1,r))}buildPersistedIndices(){if(this.virtualizer.persistedKeys!==this.lastPersistedKeys){this.lastPersistedKeys=this.virtualizer.persistedKeys,this.persistedIndices.clear();for(let e of this.virtualizer.persistedKeys){let t=this.layoutInfos.get(e);for(;t&&t.parentKey;){let e=this.collection.getItem(t.key),n=this.persistedIndices.get(t.parentKey);n||(n="cell"===e.type||"column"===e.type?[...this.stickyColumnIndices]:[],this.persistedIndices.set(t.parentKey,n));let r=this.layoutNodes.get(t.key).index;n.includes(r)||n.push(r),t=this.layoutInfos.get(t.parentKey)}}for(let e of this.persistedIndices.values())e.sort(((e,t)=>e-t))}}getInitialLayoutInfo(e){let t=super.getInitialLayoutInfo(e);return t.transform=null,t}getFinalLayoutInfo(e){let t=super.getFinalLayoutInfo(e);return t.transform=null,t}checkChrome105(){var e;if("undefined"===typeof window||null==window.navigator)return!1;let t;if(window.navigator.userAgentData)t=null===(e=window.navigator.userAgentData)||void 0===e?void 0:e.brands.some((e=>"Chromium"===e.brand&&105===Number(e.version)));else{let e=/Chrome\/(\d+)/.exec(window.navigator.userAgent);t=e&&e.length>=2&&105===Number(e[1])}return t}getDropTargetFromPoint(e,t,n){var r;let i;e+=this.virtualizer.visibleRect.x,t+=this.virtualizer.visibleRect.y,t-=null===(r=this.virtualizer.layout.getVisibleLayoutInfos(new l_(e,t,1,1)).find((e=>"headerrow"===e.type)))||void 0===r?void 0:r.rect.height;let o=new a_(e,t),a=new l_(o.x,o.y,1,1),l=this.virtualizer.layout.getVisibleLayoutInfos(a).filter((e=>"row"===e.type));for(let d of l)d.rect.intersects(a)&&(i=d.key);if(null==i||0===this.collection.size)return{type:"root"};let s=this.getLayoutInfo(i),c=s.rect,u={type:"item",key:s.key,dropPosition:"on"};return n(u)?t<=c.y+10&&n({...u,dropPosition:"before"})?u.dropPosition="before":t>=c.maxY-10&&n({...u,dropPosition:"after"})&&(u.dropPosition="after"):t<=c.y+c.height/2&&n({...u,dropPosition:"before"})?u.dropPosition="before":n({...u,dropPosition:"after"})&&(u.dropPosition="after"),u}constructor(e){super(e),this.columnWidths=new Map,this.wasLoading=!1,this.isLoading=!1,this.lastPersistedKeys=null,this.persistedIndices=new Map,this.collection=e.initialCollection,this.stickyColumnIndices=[],this.disableSticky=this.checkChrome105(),this.columnLayout=e.columnLayout;let[t,n]=this.columnLayout.splitColumnsIntoControlledAndUncontrolled(this.collection.columns);this.controlledColumns=t,this.uncontrolledColumns=n,this.uncontrolledWidths=this.columnLayout.getInitialUncontrolledWidths(n)}}var Bk=n(851);const jk=e=>y.createElement("svg",dl({viewBox:"0 0 14 14"},e),y.createElement("path",{d:"M12.717 8.678 9 2.175C8.422 1.103 7.058.689 5.954 1.25a2.225 2.225 0 0 0-.95.92L1.278 8.687a2.198 2.198 0 0 0 .058 2.238A2.264 2.264 0 0 0 3.278 12h7.445a2.264 2.264 0 0 0 1.941-1.075 2.2 2.2 0 0 0 .053-2.247ZM6.133 4.133c0-.478.388-.866.866-.867.478 0 .867.388.868.866v3a.868.868 0 0 1-1.734.002V4.133ZM7 11.1c-.661 0-1.2-.538-1.2-1.2 0-.661.538-1.2 1.2-1.2.661 0 1.2.538 1.2 1.2 0 .661-.538 1.2-1.2 1.2Z"}));jk.displayName=Bk.S.displayName;var Uk=n(187);const Kk=e=>y.createElement("svg",dl({viewBox:"0 0 14 14"},e),y.createElement("path",{d:"M7 1a6 6 0 1 0 6 6 6.007 6.007 0 0 0-6-6Zm.867 8.677a.868.868 0 0 1-1.734 0V7a.868.868 0 0 1 1.734 0v2.676ZM7 5.4c-.662 0-1.2-.538-1.2-1.2S6.338 3 7 3s1.2.539 1.2 1.2S7.662 5.4 7 5.4Z"}));Kk.displayName=Uk.b.displayName;var Wk=n(299);const qk=e=>y.createElement("svg",dl({viewBox:"0 0 14 14"},e),y.createElement("path",{d:"M11.523 3.057a6 6 0 1 0-9.046 7.887 6 6 0 0 0 9.046-7.887Zm-1.166 2.275L7.075 9.696a.867.867 0 0 1-.617.342l-.076.004a.864.864 0 0 1-.592-.235L3.55 7.704c-.17-.159-.266-.373-.274-.604s.077-.453.235-.621a.87.87 0 0 1 1.225-.04L6.27 7.881 8.973 4.29a.86.86 0 0 1 .693-.346.867.867 0 0 1 .692 1.388Z"}));function Hk(e,t){let n=X(e,{labelable:!0}),{hoverProps:r}=Dr({onHoverStart:()=>null===t||void 0===t?void 0:t.open(!0),onHoverEnd:()=>null===t||void 0===t?void 0:t.close()});return{tooltipProps:q(n,r,{role:"tooltip"})}}function Vk(e,t,n){let{isDisabled:r,trigger:i}=e,o=L(),a=(0,y.useRef)(!1),l=(0,y.useRef)(!1),s=()=>{(a.current||l.current)&&t.open(l.current)},c=e=>{a.current||l.current||t.close(e)};(0,y.useEffect)((()=>{let e=e=>{n&&n.current&&"Escape"===e.key&&(e.stopPropagation(),t.close(!0))};if(t.isOpen)return document.addEventListener("keydown",e,!0),()=>{document.removeEventListener("keydown",e,!0)}}),[n,t]);let u=()=>{l.current=!1,a.current=!1,c(!0)},{hoverProps:d}=Dr({isDisabled:r,onHoverStart:()=>{"focus"!==i&&("pointer"===br()?a.current=!0:a.current=!1,s())},onHoverEnd:()=>{"focus"!==i&&(l.current=!1,a.current=!1,c())}}),{focusableProps:f}=ci({isDisabled:r,onFocus:()=>{yr()&&(l.current=!0,s())},onBlur:()=>{l.current=!1,a.current=!1,c(!0)}},n);return{triggerProps:{"aria-describedby":t.isOpen?o:void 0,...q(f,d,{onPointerDown:u,onKeyDown:u})},tooltipProps:{id:o}}}qk.displayName=Wk.e.displayName;const Gk=1500,Yk=500;let Qk={},Xk=0,$k=!1,Zk=null,Jk=null;function eE(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{delay:t=Gk,closeDelay:n=Yk}=e,{isOpen:r,open:i,close:o}=cm(e),a=(0,y.useMemo)((()=>"".concat(++Xk)),[]),l=(0,y.useRef)(),s=()=>{Qk[a]=d},c=()=>{for(let e in Qk)e!==a&&(Qk[e](!0),delete Qk[e])},u=()=>{clearTimeout(l.current),l.current=null,c(),s(),$k=!0,i(),Zk&&(clearTimeout(Zk),Zk=null),Jk&&(clearTimeout(Jk),Jk=null)},d=e=>{e||n<=0?(clearTimeout(l.current),l.current=null,o()):l.current||(l.current=setTimeout((()=>{l.current=null,o()}),n)),Zk&&(clearTimeout(Zk),Zk=null),$k&&(Jk&&clearTimeout(Jk),Jk=setTimeout((()=>{delete Qk[a],Jk=null,$k=!1}),Math.max(Yk,n)))};return(0,y.useEffect)((()=>()=>{clearTimeout(l.current),Qk[a]&&delete Qk[a]}),[a]),{isOpen:r,open:e=>{!e&&t>0&&!l.current?(c(),s(),r||Zk||$k?r||u():Zk=setTimeout((()=>{Zk=null,$k=!0,u()}),t)):u()},close:d}}function tE(e){return e&&e.__esModule?e.default:e}function nE(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var rE,iE,oE,aE,lE,sE,cE,uE,dE,fE,hE,pE,mE,gE,vE,yE,bE,xE,wE,_E,kE,EE,SE,CE,ME,TE,AE,DE,FE,NE,RE,zE,PE,OE={};nE(OE,"focus-ring",(()=>rE),(e=>rE=e)),nE(OE,"i18nFontFamily",(()=>iE),(e=>iE=e)),nE(OE,"is-focused",(()=>oE),(e=>oE=e)),nE(OE,"is-hovered",(()=>aE),(e=>aE=e)),nE(OE,"spectrum-overlay--open",(()=>lE),(e=>lE=e)),nE(OE,"is-open",(()=>sE),(e=>sE=e)),nE(OE,"spectrum-overlay--bottom--open",(()=>cE),(e=>cE=e)),nE(OE,"is-open--bottom",(()=>uE),(e=>uE=e)),nE(OE,"spectrum-overlay--left--open",(()=>dE),(e=>dE=e)),nE(OE,"is-open--left",(()=>fE),(e=>fE=e)),nE(OE,"spectrum-overlay--right--open",(()=>hE),(e=>hE=e)),nE(OE,"is-open--right",(()=>pE),(e=>pE=e)),nE(OE,"spectrum-overlay--top--open",(()=>mE),(e=>mE=e)),nE(OE,"is-open--top",(()=>gE),(e=>gE=e)),nE(OE,"spectrum-FocusRing-ring",(()=>vE),(e=>vE=e)),nE(OE,"spectrum-FocusRing",(()=>yE),(e=>yE=e)),nE(OE,"spectrum-FocusRing--quiet",(()=>bE),(e=>bE=e)),nE(OE,"spectrum-overlay",(()=>xE),(e=>xE=e)),nE(OE,"spectrum-Tooltip",(()=>wE),(e=>wE=e)),nE(OE,"spectrum-Tooltip--bottom",(()=>_E),(e=>_E=e)),nE(OE,"spectrum-Tooltip--error",(()=>kE),(e=>kE=e)),nE(OE,"spectrum-Tooltip--help",(()=>EE),(e=>EE=e)),nE(OE,"spectrum-Tooltip--info",(()=>SE),(e=>SE=e)),nE(OE,"spectrum-Tooltip--left",(()=>CE),(e=>CE=e)),nE(OE,"spectrum-Tooltip--negative",(()=>ME),(e=>ME=e)),nE(OE,"spectrum-Tooltip--positive",(()=>TE),(e=>TE=e)),nE(OE,"spectrum-Tooltip--right",(()=>AE),(e=>AE=e)),nE(OE,"spectrum-Tooltip--success",(()=>DE),(e=>DE=e)),nE(OE,"spectrum-Tooltip--top",(()=>FE),(e=>FE=e)),nE(OE,"spectrum-Tooltip-label",(()=>NE),(e=>NE=e)),nE(OE,"spectrum-Tooltip-tip",(()=>RE),(e=>RE=e)),nE(OE,"spectrum-Tooltip-typeIcon",(()=>zE),(e=>zE=e)),nE(OE,"u-tooltip-showOnHover",(()=>PE),(e=>PE=e)),rE="KF3Kcq_focus-ring",iE="KF3Kcq_i18nFontFamily",oE="KF3Kcq_is-focused",aE="KF3Kcq_is-hovered",sE="KF3Kcq_is-open ".concat(lE="KF3Kcq_spectrum-overlay--open"),uE="KF3Kcq_is-open--bottom ".concat(cE="KF3Kcq_spectrum-overlay--bottom--open"),fE="KF3Kcq_is-open--left ".concat(dE="KF3Kcq_spectrum-overlay--left--open"),pE="KF3Kcq_is-open--right ".concat(hE="KF3Kcq_spectrum-overlay--right--open"),gE="KF3Kcq_is-open--top ".concat(mE="KF3Kcq_spectrum-overlay--top--open"),yE="KF3Kcq_spectrum-FocusRing ".concat(vE="KF3Kcq_spectrum-FocusRing-ring"),bE="KF3Kcq_spectrum-FocusRing--quiet",wE="KF3Kcq_spectrum-Tooltip ".concat(xE="KF3Kcq_spectrum-overlay"),_E="KF3Kcq_spectrum-Tooltip--bottom",kE="KF3Kcq_spectrum-Tooltip--error",EE="KF3Kcq_spectrum-Tooltip--help",SE="KF3Kcq_spectrum-Tooltip--info",CE="KF3Kcq_spectrum-Tooltip--left",ME="KF3Kcq_spectrum-Tooltip--negative",TE="KF3Kcq_spectrum-Tooltip--positive",AE="KF3Kcq_spectrum-Tooltip--right",DE="KF3Kcq_spectrum-Tooltip--success",FE="KF3Kcq_spectrum-Tooltip--top",NE="KF3Kcq_spectrum-Tooltip-label",RE="KF3Kcq_spectrum-Tooltip-tip",zE="KF3Kcq_spectrum-Tooltip-typeIcon",PE="KF3Kcq_u-tooltip-showOnHover";const IE=y.createContext({});let LE={info:function(e){var t,n;let r=Oo();return y.createElement(fs,e,null!=r&&null!=(t=r.theme)&&null!=(n=t.global)&&n.express?y.createElement(Kk,null):y.createElement(Uk.b,null))},positive:function(e){var t,n;let r=Oo();return y.createElement(fs,e,null!=r&&null!=(t=r.theme)&&null!=(n=t.global)&&n.express?y.createElement(qk,null):y.createElement(Wk.e,null))},negative:function(e){var t,n;let r=Oo();return y.createElement(fs,e,null!=r&&null!=(t=r.theme)&&null!=(n=t.global)&&n.express?y.createElement(jk,null):y.createElement(Bk.S,null))}};function BE(e,t){let{ref:n,arrowProps:r,state:i,arrowRef:o,...a}=(0,y.useContext)(IE),l=(0,y.useRef)();n=n||l,e=q(e,a);let{variant:s="neutral",placement:c="top",isOpen:u,showIcon:d,...f}=e,{styleProps:h}=Lt(f),{tooltipProps:p}=Hk(e,i);(0,y.useImperativeHandle)(t,(()=>mt(n)));let m=LE[s];return y.createElement("div",{...h,...p,className:ht(tE(OE),"spectrum-Tooltip","spectrum-Tooltip--".concat(s),"spectrum-Tooltip--".concat(c),{"is-open":u,["is-open--".concat(c)]:u},h.className),ref:n},d&&"neutral"!==s&&y.createElement(m,{UNSAFE_className:ht(tE(OE),"spectrum-Tooltip-typeIcon"),"aria-hidden":!0}),e.children&&y.createElement("span",{className:ht(tE(OE),"spectrum-Tooltip-label")},e.children),y.createElement("span",{...r,ref:o,className:ht(tE(OE),"spectrum-Tooltip-tip")}))}let jE=y.forwardRef(BE);const UE=-1,KE=0;function WE(e){let{children:t,crossOffset:n=KE,isDisabled:r,offset:i=UE,trigger:o}=e,[a,l]=y.Children.toArray(t),s=eE(e),c=(0,y.useRef)(),u=(0,y.useRef)(),{triggerProps:d,tooltipProps:f}=Vk({isDisabled:r,trigger:o},s,c),[h,p]=(0,y.useState)(0);R((()=>{if(u.current&&s.isOpen){let e=window.getComputedStyle(u.current).borderRadius;""!==e&&p(parseInt(e,10))}}),[s.isOpen,u]);let m=(0,y.useRef)(null),[g,v]=(0,y.useState)(0);R((()=>{m.current&&s.isOpen&&v(m.current.getBoundingClientRect().width)}),[s.isOpen,m]);let{overlayProps:b,arrowProps:x,placement:w}=Oi({placement:e.placement||"top",targetRef:c,overlayRef:u,offset:i,crossOffset:n,isOpen:s.isOpen,shouldFlip:e.shouldFlip,containerPadding:e.containerPadding,arrowSize:g,arrowBoundaryOffset:h});return y.createElement(si,{...d,ref:c},a,y.createElement(IE.Provider,{value:{state:s,placement:w,ref:u,UNSAFE_style:b.style,arrowProps:x,arrowRef:m,...f}},y.createElement(yh,{isOpen:s.isOpen,nodeRef:u},l)))}WE.getCollectionNode=function*(e){let t=[];y.Children.forEach(e.children,(e=>{y.isValidElement(e)&&t.push(e)}));let[n,r]=t;yield{element:n,wrapper:t=>y.createElement(WE,{key:t.key,...e},t,r)}};let qE=WE;var HE;HE={ascending:"\u062a\u0635\u0627\u0639\u062f\u064a",ascendingSort:e=>"\u062a\u0631\u062a\u064a\u0628 \u062d\u0633\u0628 \u0627\u0644\u0639\u0645\u0648\u062f ".concat(e.columnName," \u0628\u062a\u0631\u062a\u064a\u0628 \u062a\u0635\u0627\u0639\u062f\u064a"),columnSize:e=>"".concat(e.value," \u0628\u0627\u0644\u0628\u0643\u0633\u0644"),descending:"\u062a\u0646\u0627\u0632\u0644\u064a",descendingSort:e=>"\u062a\u0631\u062a\u064a\u0628 \u062d\u0633\u0628 \u0627\u0644\u0639\u0645\u0648\u062f ".concat(e.columnName," \u0628\u062a\u0631\u062a\u064a\u0628 \u062a\u0646\u0627\u0632\u0644\u064a"),resizerDescription:"\u0627\u0636\u063a\u0637 \u0639\u0644\u0649 \u0645\u0641\u062a\u0627\u062d Enter \u0644\u0628\u062f\u0621 \u062a\u063a\u064a\u064a\u0631 \u0627\u0644\u062d\u062c\u0645",select:"\u062a\u062d\u062f\u064a\u062f",selectAll:"\u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0643\u0644",sortable:"\u0639\u0645\u0648\u062f \u0642\u0627\u0628\u0644 \u0644\u0644\u062a\u0631\u062a\u064a\u0628"};var VE;VE={ascending:"\u0432\u044a\u0437\u0445\u043e\u0434\u044f\u0449",ascendingSort:e=>"\u0441\u043e\u0440\u0442\u0438\u0440\u0430\u043d\u043e \u043f\u043e \u043a\u043e\u043b\u043e\u043d\u0430 ".concat(e.columnName," \u0432\u044a\u0432 \u0432\u044a\u0437\u0445\u043e\u0434\u044f\u0449 \u0440\u0435\u0434"),columnSize:e=>"".concat(e.value," \u043f\u0438\u043a\u0441\u0435\u043b\u0430"),descending:"\u043d\u0438\u0437\u0445\u043e\u0434\u044f\u0449",descendingSort:e=>"\u0441\u043e\u0440\u0442\u0438\u0440\u0430\u043d\u043e \u043f\u043e \u043a\u043e\u043b\u043e\u043d\u0430 ".concat(e.columnName," \u0432 \u043d\u0438\u0437\u0445\u043e\u0434\u044f\u0449 \u0440\u0435\u0434"),resizerDescription:"\u041d\u0430\u0442\u0438\u0441\u043d\u0435\u0442\u0435 \u201eEnter\u201c, \u0437\u0430 \u0434\u0430 \u0437\u0430\u043f\u043e\u0447\u043d\u0435\u0442\u0435 \u0434\u0430 \u043f\u0440\u0435\u043e\u0440\u0430\u0437\u043c\u0435\u0440\u044f\u0432\u0430\u0442\u0435",select:"\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435",selectAll:"\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u0432\u0441\u0438\u0447\u043a\u043e",sortable:"\u0441\u043e\u0440\u0442\u0438\u0440\u0430\u0449\u0430 \u043a\u043e\u043b\u043e\u043d\u0430"};var GE;GE={ascending:"vzestupn\u011b",ascendingSort:e=>"\u0159azeno vzestupn\u011b podle sloupce ".concat(e.columnName),columnSize:e=>"".concat(e.value," pixel\u016f"),descending:"sestupn\u011b",descendingSort:e=>"\u0159azeno sestupn\u011b podle sloupce ".concat(e.columnName),resizerDescription:"Stisknut\xedm kl\xe1vesy Enter za\u010dnete m\u011bnit velikost",select:"Vybrat",selectAll:"Vybrat v\u0161e",sortable:"sloupec s mo\u017enost\xed \u0159azen\xed"};var YE;YE={ascending:"stigende",ascendingSort:e=>"sorteret efter kolonne ".concat(e.columnName," i stigende r\xe6kkef\xf8lge"),columnSize:e=>"".concat(e.value," pixels"),descending:"faldende",descendingSort:e=>"sorteret efter kolonne ".concat(e.columnName," i faldende r\xe6kkef\xf8lge"),resizerDescription:"Tryk p\xe5 Enter for at \xe6ndre st\xf8rrelse",select:"V\xe6lg",selectAll:"V\xe6lg alle",sortable:"sorterbar kolonne"};var QE;QE={ascending:"aufsteigend",ascendingSort:e=>"sortiert nach Spalte ".concat(e.columnName," in aufsteigender Reihenfolge"),columnSize:e=>"".concat(e.value," Pixel"),descending:"absteigend",descendingSort:e=>"sortiert nach Spalte ".concat(e.columnName," in absteigender Reihenfolge"),resizerDescription:"Eingabetaste zum Starten der Gr\xf6\xdfen\xe4nderung dr\xfccken",select:"Ausw\xe4hlen",selectAll:"Alles ausw\xe4hlen",sortable:"sortierbare Spalte"};var XE;XE={ascending:"\u03b1\u03cd\u03be\u03bf\u03c5\u03c3\u03b1",ascendingSort:e=>"\u03b4\u03b9\u03b1\u03bb\u03bf\u03b3\u03ae \u03b1\u03bd\u03ac \u03c3\u03c4\u03ae\u03bb\u03b7 ".concat(e.columnName," \u03c3\u03b5 \u03b1\u03cd\u03be\u03bf\u03c5\u03c3\u03b1 \u03c3\u03b5\u03b9\u03c1\u03ac"),columnSize:e=>"".concat(e.value," pixel"),descending:"\u03c6\u03b8\u03af\u03bd\u03bf\u03c5\u03c3\u03b1",descendingSort:e=>"\u03b4\u03b9\u03b1\u03bb\u03bf\u03b3\u03ae \u03b1\u03bd\u03ac \u03c3\u03c4\u03ae\u03bb\u03b7 ".concat(e.columnName," \u03c3\u03b5 \u03c6\u03b8\u03af\u03bd\u03bf\u03c5\u03c3\u03b1 \u03c3\u03b5\u03b9\u03c1\u03ac"),resizerDescription:"\u03a0\u03b1\u03c4\u03ae\u03c3\u03c4\u03b5 Enter \u03b3\u03b9\u03b1 \u03ad\u03bd\u03b1\u03c1\u03be\u03b7 \u03c4\u03b7\u03c2 \u03b1\u03bb\u03bb\u03b1\u03b3\u03ae\u03c2 \u03bc\u03b5\u03b3\u03ad\u03b8\u03bf\u03c5\u03c2",select:"\u0395\u03c0\u03b9\u03bb\u03bf\u03b3\u03ae",selectAll:"\u0395\u03c0\u03b9\u03bb\u03bf\u03b3\u03ae \u03cc\u03bb\u03c9\u03bd",sortable:"\u03a3\u03c4\u03ae\u03bb\u03b7 \u03b4\u03b9\u03b1\u03bb\u03bf\u03b3\u03ae\u03c2"};var $E;$E={select:"Select",selectAll:"Select All",sortable:"sortable column",ascending:"ascending",descending:"descending",ascendingSort:e=>"sorted by column ".concat(e.columnName," in ascending order"),descendingSort:e=>"sorted by column ".concat(e.columnName," in descending order"),columnSize:e=>"".concat(e.value," pixels"),resizerDescription:"Press Enter to start resizing"};var ZE;ZE={ascending:"de subida",ascendingSort:e=>"ordenado por columna ".concat(e.columnName," en orden de subida"),columnSize:e=>"".concat(e.value," p\xedxeles"),descending:"de bajada",descendingSort:e=>"ordenado por columna ".concat(e.columnName," en orden de bajada"),resizerDescription:"Pulse Intro para empezar a redimensionar",select:"Seleccionar",selectAll:"Seleccionar todos",sortable:"columna ordenable"};var JE;JE={ascending:"t\xf5usev j\xe4rjestus",ascendingSort:e=>"sorditud veeru j\xe4rgi ".concat(e.columnName," t\xf5usvas j\xe4rjestuses"),columnSize:e=>"".concat(e.value," pikslit"),descending:"laskuv j\xe4rjestus",descendingSort:e=>"sorditud veeru j\xe4rgi ".concat(e.columnName," laskuvas j\xe4rjestuses"),resizerDescription:"Suuruse muutmise alustamiseks vajutage klahvi Enter",select:"Vali",selectAll:"Vali k\xf5ik",sortable:"sorditav veerg"};var eS;eS={ascending:"nouseva",ascendingSort:e=>"lajiteltu sarakkeen ".concat(e.columnName," mukaan nousevassa j\xe4rjestyksess\xe4"),columnSize:e=>"".concat(e.value," pikseli\xe4"),descending:"laskeva",descendingSort:e=>"lajiteltu sarakkeen ".concat(e.columnName," mukaan laskevassa j\xe4rjestyksess\xe4"),resizerDescription:"Aloita koon muutos painamalla Enter-n\xe4pp\xe4int\xe4",select:"Valitse",selectAll:"Valitse kaikki",sortable:"lajiteltava sarake"};var tS;tS={ascending:"croissant",ascendingSort:e=>"tri\xe9 en fonction de la colonne\xa0".concat(e.columnName," par ordre croissant"),columnSize:e=>"".concat(e.value,"\xa0pixels"),descending:"d\xe9croissant",descendingSort:e=>"tri\xe9 en fonction de la colonne\xa0".concat(e.columnName," par ordre d\xe9croissant"),resizerDescription:"Appuyez sur Entr\xe9e pour commencer le redimensionnement.",select:"S\xe9lectionner",selectAll:"S\xe9lectionner tout",sortable:"colonne triable"};var nS;nS={ascending:"\u05e2\u05d5\u05dc\u05d4",ascendingSort:e=>"\u05de\u05d5\u05d9\u05df \u05dc\u05e4\u05d9 \u05e2\u05de\u05d5\u05d3\u05d4 ".concat(e.columnName," \u05d1\u05e1\u05d3\u05e8 \u05e2\u05d5\u05dc\u05d4"),columnSize:e=>"".concat(e.value," \u05e4\u05d9\u05e7\u05e1\u05dc\u05d9\u05dd"),descending:"\u05d9\u05d5\u05e8\u05d3",descendingSort:e=>"\u05de\u05d5\u05d9\u05df \u05dc\u05e4\u05d9 \u05e2\u05de\u05d5\u05d3\u05d4 ".concat(e.columnName," \u05d1\u05e1\u05d3\u05e8 \u05d9\u05d5\u05e8\u05d3"),resizerDescription:"\u05d4\u05e7\u05e9 Enter \u05db\u05d3\u05d9 \u05dc\u05e9\u05e0\u05d5\u05ea \u05d0\u05ea \u05d4\u05d2\u05d5\u05d3\u05dc",select:"\u05d1\u05d7\u05e8",selectAll:"\u05d1\u05d7\u05e8 \u05d4\u05db\u05d5\u05dc",sortable:"\u05e2\u05de\u05d5\u05d3\u05d4 \u05e9\u05e0\u05d9\u05ea\u05df \u05dc\u05de\u05d9\u05d9\u05df"};var rS;rS={ascending:"rastu\u0107i",ascendingSort:e=>"razvrstano po stupcima ".concat(e.columnName," rastu\u0107em redoslijedom"),columnSize:e=>"".concat(e.value," piksela"),descending:"padaju\u0107i",descendingSort:e=>"razvrstano po stupcima ".concat(e.columnName," padaju\u0107im redoslijedom"),resizerDescription:"Pritisnite Enter da biste zapo\u010deli promenu veli\u010dine",select:"Odaberite",selectAll:"Odaberite sve",sortable:"stupac koji se mo\u017ee razvrstati"};var iS;iS={ascending:"n\xf6vekv\u0151",ascendingSort:e=>"rendezve a(z) ".concat(e.columnName," oszlop szerint, n\xf6vekv\u0151 sorrendben"),columnSize:e=>"".concat(e.value," k\xe9ppont"),descending:"cs\xf6kken\u0151",descendingSort:e=>"rendezve a(z) ".concat(e.columnName," oszlop szerint, cs\xf6kken\u0151 sorrendben"),resizerDescription:"Nyomja le az Enter billenty\u0171t az \xe1tm\xe9retez\xe9s megkezd\xe9s\xe9hez",select:"Kijel\xf6l\xe9s",selectAll:"\xd6sszes kijel\xf6l\xe9se",sortable:"rendezend\u0151 oszlop"};var oS;oS={ascending:"crescente",ascendingSort:e=>"in ordine crescente in base alla colonna ".concat(e.columnName),columnSize:e=>"".concat(e.value," pixel"),descending:"decrescente",descendingSort:e=>"in ordine decrescente in base alla colonna ".concat(e.columnName),resizerDescription:"Premi Invio per iniziare a ridimensionare",select:"Seleziona",selectAll:"Seleziona tutto",sortable:"colonna ordinabile"};var aS;aS={ascending:"\u6607\u9806",ascendingSort:e=>"\u5217 ".concat(e.columnName," \u3092\u6607\u9806\u3067\u4e26\u3079\u66ff\u3048"),columnSize:e=>"".concat(e.value," \u30d4\u30af\u30bb\u30eb"),descending:"\u964d\u9806",descendingSort:e=>"\u5217 ".concat(e.columnName," \u3092\u964d\u9806\u3067\u4e26\u3079\u66ff\u3048"),resizerDescription:"Enter \u30ad\u30fc\u3092\u62bc\u3057\u3066\u30b5\u30a4\u30ba\u5909\u66f4\u3092\u958b\u59cb",select:"\u9078\u629e",selectAll:"\u3059\u3079\u3066\u9078\u629e",sortable:"\u4e26\u3079\u66ff\u3048\u53ef\u80fd\u306a\u5217"};var lS;lS={ascending:"\uc624\ub984\ucc28\uc21c",ascendingSort:e=>"".concat(e.columnName," \uc5f4\uc744 \uae30\uc900\uc73c\ub85c \uc624\ub984\ucc28\uc21c\uc73c\ub85c \uc815\ub82c\ub428"),columnSize:e=>"".concat(e.value," \ud53d\uc140"),descending:"\ub0b4\ub9bc\ucc28\uc21c",descendingSort:e=>"".concat(e.columnName," \uc5f4\uc744 \uae30\uc900\uc73c\ub85c \ub0b4\ub9bc\ucc28\uc21c\uc73c\ub85c \uc815\ub82c\ub428"),resizerDescription:"\ud06c\uae30 \uc870\uc815\uc744 \uc2dc\uc791\ud558\ub824\uba74 Enter\ub97c \ub204\ub974\uc138\uc694.",select:"\uc120\ud0dd",selectAll:"\ubaa8\ub450 \uc120\ud0dd",sortable:"\uc815\ub82c \uac00\ub2a5\ud55c \uc5f4"};var sS;sS={ascending:"did\u0117jan\u010dia tvarka",ascendingSort:e=>"surikiuota pagal stulpel\u012f ".concat(e.columnName," did\u0117jan\u010dia tvarka"),columnSize:e=>"".concat(e.value," piks."),descending:"ma\u017e\u0117jan\u010dia tvarka",descendingSort:e=>"surikiuota pagal stulpel\u012f ".concat(e.columnName," ma\u017e\u0117jan\u010dia tvarka"),resizerDescription:"Paspauskite \u201eEnter\u201c, kad prad\u0117tum\u0117te keisti dyd\u012f",select:"Pasirinkti",selectAll:"Pasirinkti visk\u0105",sortable:"rikiuojamas stulpelis"};var cS;cS={ascending:"augo\u0161\u0101 sec\u012bb\u0101",ascendingSort:e=>"k\u0101rtots p\u0113c kolonnas ".concat(e.columnName," augo\u0161\u0101 sec\u012bb\u0101"),columnSize:e=>"".concat(e.value," pikse\u013ci"),descending:"dilsto\u0161\u0101 sec\u012bb\u0101",descendingSort:e=>"k\u0101rtots p\u0113c kolonnas ".concat(e.columnName," dilsto\u0161\u0101 sec\u012bb\u0101"),resizerDescription:"Nospiediet Enter, lai s\u0101ktu izm\u0113ru main\u012b\u0161anu",select:"Atlas\u012bt",selectAll:"Atlas\u012bt visu",sortable:"k\u0101rtojam\u0101 kolonna"};var uS;uS={ascending:"stigende",ascendingSort:e=>"sortert etter kolonne ".concat(e.columnName," i stigende rekkef\xf8lge"),columnSize:e=>"".concat(e.value," piksler"),descending:"synkende",descendingSort:e=>"sortert etter kolonne ".concat(e.columnName," i synkende rekkef\xf8lge"),resizerDescription:"Trykk p\xe5 Enter for \xe5 starte st\xf8rrelsesendring",select:"Velg",selectAll:"Velg alle",sortable:"kolonne som kan sorteres"};var dS;dS={ascending:"oplopend",ascendingSort:e=>"gesorteerd in oplopende volgorde in kolom ".concat(e.columnName),columnSize:e=>"".concat(e.value," pixels"),descending:"aflopend",descendingSort:e=>"gesorteerd in aflopende volgorde in kolom ".concat(e.columnName),resizerDescription:"Druk op Enter om het formaat te wijzigen",select:"Selecteren",selectAll:"Alles selecteren",sortable:"sorteerbare kolom"};var fS;fS={ascending:"rosn\u0105co",ascendingSort:e=>"posortowano wed\u0142ug kolumny ".concat(e.columnName," w porz\u0105dku rosn\u0105cym"),columnSize:e=>"Liczba pikseli: ".concat(e.value),descending:"malej\u0105co",descendingSort:e=>"posortowano wed\u0142ug kolumny ".concat(e.columnName," w porz\u0105dku malej\u0105cym"),resizerDescription:"Naci\u015bnij Enter, aby rozpocz\u0105\u0107 zmienianie rozmiaru",select:"Zaznacz",selectAll:"Zaznacz wszystko",sortable:"kolumna z mo\u017cliwo\u015bci\u0105 sortowania"};var hS;hS={ascending:"crescente",ascendingSort:e=>"classificado pela coluna ".concat(e.columnName," em ordem crescente"),columnSize:e=>"".concat(e.value," pixels"),descending:"decrescente",descendingSort:e=>"classificado pela coluna ".concat(e.columnName," em ordem decrescente"),resizerDescription:"Pressione Enter para come\xe7ar a redimensionar",select:"Selecionar",selectAll:"Selecionar tudo",sortable:"coluna classific\xe1vel"};var pS;pS={ascending:"ascendente",ascendingSort:e=>"Ordenar por coluna ".concat(e.columnName," em ordem ascendente"),columnSize:e=>"".concat(e.value," pixels"),descending:"descendente",descendingSort:e=>"Ordenar por coluna ".concat(e.columnName," em ordem descendente"),resizerDescription:"Prima Enter para iniciar o redimensionamento",select:"Selecionar",selectAll:"Selecionar tudo",sortable:"Coluna orden\xe1vel"};var mS;mS={ascending:"cresc\u0103toare",ascendingSort:e=>"sortate dup\u0103 coloana ".concat(e.columnName," \xeen ordine cresc\u0103toare"),columnSize:e=>"".concat(e.value," pixeli"),descending:"descresc\u0103toare",descendingSort:e=>"sortate dup\u0103 coloana ".concat(e.columnName," \xeen ordine descresc\u0103toare"),resizerDescription:"Ap\u0103sa\u021bi pe Enter pentru a \xeencepe redimensionarea",select:"Selectare",selectAll:"Selectare total\u0103",sortable:"coloan\u0103 sortabil\u0103"};var gS;gS={ascending:"\u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u0435",ascendingSort:e=>"\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0442\u043e\u043b\u0431\u0435\u0446 ".concat(e.columnName," \u0432 \u043f\u043e\u0440\u044f\u0434\u043a\u0435 \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044f"),columnSize:e=>"".concat(e.value," \u043f\u0438\u043a\u0441."),descending:"\u0443\u0431\u044b\u0432\u0430\u043d\u0438\u0435",descendingSort:e=>"\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0442\u043e\u043b\u0431\u0435\u0446 ".concat(e.columnName," \u0432 \u043f\u043e\u0440\u044f\u0434\u043a\u0435 \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044f"),resizerDescription:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043a\u043b\u0430\u0432\u0438\u0448\u0443 Enter \u0434\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u0432",select:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c",selectAll:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0432\u0441\u0435",sortable:"\u0441\u043e\u0440\u0442\u0438\u0440\u0443\u0435\u043c\u044b\u0439 \u0441\u0442\u043e\u043b\u0431\u0435\u0446"};var vS;vS={ascending:"vzostupne",ascendingSort:e=>"zoraden\xe9 zostupne pod\u013ea st\u013apca ".concat(e.columnName),columnSize:e=>"Po\u010det pixelov: ".concat(e.value),descending:"zostupne",descendingSort:e=>"zoraden\xe9 zostupne pod\u013ea st\u013apca ".concat(e.columnName),resizerDescription:"Stla\u010den\xedm kl\xe1vesu Enter za\u010dnete zmenu ve\u013ekosti",select:"Vybra\u0165",selectAll:"Vybra\u0165 v\u0161etko",sortable:"zoradite\u013en\xfd st\u013apec"};var yS;yS={ascending:"nara\u0161\u010dajo\u010de",ascendingSort:e=>"razvr\u0161\u010deno po stolpcu ".concat(e.columnName," v nara\u0161\u010dajo\u010dem vrstnem redu"),columnSize:e=>"".concat(e.value," slikovnih pik"),descending:"padajo\u010de",descendingSort:e=>"razvr\u0161\u010deno po stolpcu ".concat(e.columnName," v padajo\u010dem vrstnem redu"),resizerDescription:"Pritisnite tipko Enter da za\u010dnete spreminjati velikost",select:"Izberite",selectAll:"Izberite vse",sortable:"razvrstljivi stolpec"};var bS;bS={ascending:"rastu\u0107i",ascendingSort:e=>"sortirano po kolonama ".concat(e.columnName," rastu\u0107im redosledom"),columnSize:e=>"".concat(e.value," piksela"),descending:"padaju\u0107i",descendingSort:e=>"sortirano po kolonama ".concat(e.columnName," padaju\u0107im redosledom"),resizerDescription:"Pritisnite Enter da biste zapo\u010deli promenu veli\u010dine",select:"Izaberite",selectAll:"Izaberite sve",sortable:"kolona koja se mo\u017ee sortirati"};var xS;xS={ascending:"stigande",ascendingSort:e=>"sorterat p\xe5 kolumn ".concat(e.columnName," i stigande ordning"),columnSize:e=>"".concat(e.value," pixlar"),descending:"fallande",descendingSort:e=>"sorterat p\xe5 kolumn ".concat(e.columnName," i fallande ordning"),resizerDescription:"Tryck p\xe5 Retur f\xf6r att b\xf6rja \xe4ndra storlek",select:"Markera",selectAll:"Markera allt",sortable:"sorterbar kolumn"};var wS;wS={ascending:"artan s\u0131rada",ascendingSort:e=>"".concat(e.columnName," s\xfctuna g\xf6re artan d\xfczende s\u0131rala"),columnSize:e=>"".concat(e.value," piksel"),descending:"azalan s\u0131rada",descendingSort:e=>"".concat(e.columnName," s\xfctuna g\xf6re azalan d\xfczende s\u0131rala"),resizerDescription:"Yeniden boyutland\u0131rmak i\xe7in Enter'a bas\u0131n",select:"Se\xe7",selectAll:"T\xfcm\xfcn\xfc Se\xe7",sortable:"S\u0131ralanabilir s\xfctun"};var _S;_S={ascending:"\u0432\u0438\u0441\u0445\u0456\u0434\u043d\u0438\u0439",ascendingSort:e=>"\u0432\u0456\u0434\u0441\u043e\u0440\u0442\u043e\u0432\u0430\u043d\u043e \u0437\u0430 \u0441\u0442\u043e\u0432\u043f\u0446\u0435\u043c ".concat(e.columnName," \u0443 \u0432\u0438\u0441\u0445\u0456\u0434\u043d\u043e\u043c\u0443 \u043f\u043e\u0440\u044f\u0434\u043a\u0443"),columnSize:e=>"".concat(e.value," \u043f\u0456\u043a\u0441."),descending:"\u043d\u0438\u0437\u0445\u0456\u0434\u043d\u0438\u0439",descendingSort:e=>"\u0432\u0456\u0434\u0441\u043e\u0440\u0442\u043e\u0432\u0430\u043d\u043e \u0437\u0430 \u0441\u0442\u043e\u0432\u043f\u0446\u0435\u043c ".concat(e.columnName," \u0443 \u043d\u0438\u0437\u0445\u0456\u0434\u043d\u043e\u043c\u0443 \u043f\u043e\u0440\u044f\u0434\u043a\u0443"),resizerDescription:"\u041d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c Enter, \u0449\u043e\u0431 \u043f\u043e\u0447\u0430\u0442\u0438 \u0437\u043c\u0456\u043d\u0443 \u0440\u043e\u0437\u043c\u0456\u0440\u0443",select:"\u0412\u0438\u0431\u0440\u0430\u0442\u0438",selectAll:"\u0412\u0438\u0431\u0440\u0430\u0442\u0438 \u0432\u0441\u0435",sortable:"\u0441\u043e\u0440\u0442\u0443\u0432\u0430\u043b\u044c\u043d\u0438\u0439 \u0441\u0442\u043e\u0432\u043f\u0435\u0446\u044c"};var kS;kS={ascending:"\u5347\u5e8f",ascendingSort:e=>"\u6309\u5217 ".concat(e.columnName," \u5347\u5e8f\u6392\u5e8f"),columnSize:e=>"".concat(e.value," \u50cf\u7d20"),descending:"\u964d\u5e8f",descendingSort:e=>"\u6309\u5217 ".concat(e.columnName," \u964d\u5e8f\u6392\u5e8f"),resizerDescription:"\u6309\u201c\u8f93\u5165\u201d\u952e\u5f00\u59cb\u8c03\u6574\u5927\u5c0f\u3002",select:"\u9009\u62e9",selectAll:"\u5168\u9009",sortable:"\u53ef\u6392\u5e8f\u7684\u5217"};var ES;ES={ascending:"\u905e\u589e",ascendingSort:e=>"\u5df2\u4f9d\u64da\u300c".concat(e.columnName,"\u300d\u6b04\u905e\u589e\u6392\u5e8f"),columnSize:e=>"".concat(e.value," \u50cf\u7d20"),descending:"\u905e\u6e1b",descendingSort:e=>"\u5df2\u4f9d\u64da\u300c".concat(e.columnName,"\u300d\u6b04\u905e\u6e1b\u6392\u5e8f"),resizerDescription:"\u6309 Enter \u9375\u4ee5\u958b\u59cb\u8abf\u6574\u5927\u5c0f",select:"\u9078\u53d6",selectAll:"\u5168\u9078",sortable:"\u53ef\u6392\u5e8f\u7684\u6b04"};var SS;SS={deselectedItem:e=>"".concat(e.item," \u063a\u064a\u0631 \u0627\u0644\u0645\u062d\u062f\u062f"),longPressToSelect:"\u0627\u0636\u063a\u0637 \u0645\u0637\u0648\u0644\u064b\u0627 \u0644\u0644\u062f\u062e\u0648\u0644 \u0625\u0644\u0649 \u0648\u0636\u0639 \u0627\u0644\u062a\u062d\u062f\u064a\u062f.",select:"\u062a\u062d\u062f\u064a\u062f",selectedAll:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0639\u0646\u0627\u0635\u0631 \u0627\u0644\u0645\u062d\u062f\u062f\u0629.",selectedCount:(e,t)=>"".concat(t.plural(e.count,{"=0":"\u0644\u0645 \u064a\u062a\u0645 \u062a\u062d\u062f\u064a\u062f \u0639\u0646\u0627\u0635\u0631",one:()=>"".concat(t.number(e.count)," \u0639\u0646\u0635\u0631 \u0645\u062d\u062f\u062f"),other:()=>"".concat(t.number(e.count)," \u0639\u0646\u0635\u0631 \u0645\u062d\u062f\u062f")}),"."),selectedItem:e=>"".concat(e.item," \u0627\u0644\u0645\u062d\u062f\u062f")};var CS;CS={deselectedItem:e=>"".concat(e.item," \u043d\u0435 \u0435 \u0438\u0437\u0431\u0440\u0430\u043d."),longPressToSelect:"\u041d\u0430\u0442\u0438\u0441\u043d\u0435\u0442\u0435 \u0438 \u0437\u0430\u0434\u0440\u044a\u0436\u0442\u0435 \u0437\u0430 \u0434\u0430 \u0432\u043b\u0435\u0437\u0435\u0442\u0435 \u0432 \u0438\u0437\u0431\u0438\u0440\u0430\u0442\u0435\u043b\u0435\u043d \u0440\u0435\u0436\u0438\u043c.",select:"\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435",selectedAll:"\u0412\u0441\u0438\u0447\u043a\u0438 \u0435\u043b\u0435\u043c\u0435\u043d\u0442\u0438 \u0441\u0430 \u0438\u0437\u0431\u0440\u0430\u043d\u0438.",selectedCount:(e,t)=>"".concat(t.plural(e.count,{"=0":"\u041d\u044f\u043c\u0430 \u0438\u0437\u0431\u0440\u0430\u043d\u0438 \u0435\u043b\u0435\u043c\u0435\u043d\u0442\u0438",one:()=>"".concat(t.number(e.count)," \u0438\u0437\u0431\u0440\u0430\u043d \u0435\u043b\u0435\u043c\u0435\u043d\u0442"),other:()=>"".concat(t.number(e.count)," \u0438\u0437\u0431\u0440\u0430\u043d\u0438 \u0435\u043b\u0435\u043c\u0435\u043d\u0442\u0438")}),"."),selectedItem:e=>"".concat(e.item," \u0438\u0437\u0431\u0440\u0430\u043d.")};var MS;MS={deselectedItem:e=>"Polo\u017eka ".concat(e.item," nen\xed vybr\xe1na."),longPressToSelect:"Dlouh\xfdm stisknut\xedm p\u0159ejdete do re\u017eimu v\xfdb\u011bru.",select:"Vybrat",selectedAll:"Vybr\xe1ny v\u0161echny polo\u017eky.",selectedCount:(e,t)=>"".concat(t.plural(e.count,{"=0":"Nevybr\xe1ny \u017e\xe1dn\xe9 polo\u017eky",one:()=>"Vybr\xe1na ".concat(t.number(e.count)," polo\u017eka"),other:()=>"Vybr\xe1no ".concat(t.number(e.count)," polo\u017eek")}),"."),selectedItem:e=>"Vybr\xe1na polo\u017eka ".concat(e.item,".")};var TS;TS={deselectedItem:e=>"".concat(e.item," ikke valgt."),longPressToSelect:"Lav et langt tryk for at aktivere valgtilstand.",select:"V\xe6lg",selectedAll:"Alle elementer valgt.",selectedCount:(e,t)=>"".concat(t.plural(e.count,{"=0":"Ingen elementer valgt",one:()=>"".concat(t.number(e.count)," element valgt"),other:()=>"".concat(t.number(e.count)," elementer valgt")}),"."),selectedItem:e=>"".concat(e.item," valgt.")};var AS;AS={deselectedItem:e=>"".concat(e.item," nicht ausgew\xe4hlt."),longPressToSelect:"Gedr\xfcckt halten, um Auswahlmodus zu \xf6ffnen.",select:"Ausw\xe4hlen",selectedAll:"Alle Elemente ausgew\xe4hlt.",selectedCount:(e,t)=>"".concat(t.plural(e.count,{"=0":"Keine Elemente ausgew\xe4hlt",one:()=>"".concat(t.number(e.count)," Element ausgew\xe4hlt"),other:()=>"".concat(t.number(e.count)," Elemente ausgew\xe4hlt")}),"."),selectedItem:e=>"".concat(e.item," ausgew\xe4hlt.")};var DS;DS={deselectedItem:e=>"\u0394\u03b5\u03bd \u03b5\u03c0\u03b9\u03bb\u03ad\u03c7\u03b8\u03b7\u03ba\u03b5 \u03c4\u03bf \u03c3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03bf ".concat(e.item,"."),longPressToSelect:"\u03a0\u03b1\u03c4\u03ae\u03c3\u03c4\u03b5 \u03c0\u03b1\u03c1\u03b1\u03c4\u03b5\u03c4\u03b1\u03bc\u03ad\u03bd\u03b1 \u03b3\u03b9\u03b1 \u03bd\u03b1 \u03bc\u03c0\u03b5\u03af\u03c4\u03b5 \u03c3\u03b5 \u03bb\u03b5\u03b9\u03c4\u03bf\u03c5\u03c1\u03b3\u03af\u03b1 \u03b5\u03c0\u03b9\u03bb\u03bf\u03b3\u03ae\u03c2.",select:"\u0395\u03c0\u03b9\u03bb\u03bf\u03b3\u03ae",selectedAll:"\u0395\u03c0\u03b9\u03bb\u03ad\u03c7\u03b8\u03b7\u03ba\u03b1\u03bd \u03cc\u03bb\u03b1 \u03c4\u03b1 \u03c3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1.",selectedCount:(e,t)=>"".concat(t.plural(e.count,{"=0":"\u0394\u03b5\u03bd \u03b5\u03c0\u03b9\u03bb\u03ad\u03c7\u03b8\u03b7\u03ba\u03b1\u03bd \u03c3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1",one:()=>"\u0395\u03c0\u03b9\u03bb\u03ad\u03c7\u03b8\u03b7\u03ba\u03b5 ".concat(t.number(e.count)," \u03c3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03bf"),other:()=>"\u0395\u03c0\u03b9\u03bb\u03ad\u03c7\u03b8\u03b7\u03ba\u03b1\u03bd ".concat(t.number(e.count)," \u03c3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1")}),"."),selectedItem:e=>"\u0395\u03c0\u03b9\u03bb\u03ad\u03c7\u03b8\u03b7\u03ba\u03b5 \u03c4\u03bf \u03c3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03bf ".concat(e.item,".")};var FS;FS={deselectedItem:e=>"".concat(e.item," not selected."),select:"Select",selectedCount:(e,t)=>"".concat(t.plural(e.count,{"=0":"No items selected",one:()=>"".concat(t.number(e.count)," item selected"),other:()=>"".concat(t.number(e.count)," items selected")}),"."),selectedAll:"All items selected.",selectedItem:e=>"".concat(e.item," selected."),longPressToSelect:"Long press to enter selection mode."};var NS;NS={deselectedItem:e=>"".concat(e.item," no seleccionado."),longPressToSelect:"Mantenga pulsado para abrir el modo de selecci\xf3n.",select:"Seleccionar",selectedAll:"Todos los elementos seleccionados.",selectedCount:(e,t)=>"".concat(t.plural(e.count,{"=0":"Ning\xfan elemento seleccionado",one:()=>"".concat(t.number(e.count)," elemento seleccionado"),other:()=>"".concat(t.number(e.count)," elementos seleccionados")}),"."),selectedItem:e=>"".concat(e.item," seleccionado.")};var RS;RS={deselectedItem:e=>"".concat(e.item," pole valitud."),longPressToSelect:"Valikure\u017eiimi sisenemiseks vajutage pikalt.",select:"Vali",selectedAll:"K\xf5ik \xfcksused valitud.",selectedCount:(e,t)=>"".concat(t.plural(e.count,{"=0":"\xdcksusi pole valitud",one:()=>"".concat(t.number(e.count)," \xfcksus valitud"),other:()=>"".concat(t.number(e.count)," \xfcksust valitud")}),"."),selectedItem:e=>"".concat(e.item," valitud.")};var zS;zS={deselectedItem:e=>"Kohdetta ".concat(e.item," ei valittu."),longPressToSelect:"Siirry valintatilaan painamalla pitk\xe4\xe4n.",select:"Valitse",selectedAll:"Kaikki kohteet valittu.",selectedCount:(e,t)=>"".concat(t.plural(e.count,{"=0":"Ei yht\xe4\xe4n kohdetta valittu",one:()=>"".concat(t.number(e.count)," kohde valittu"),other:()=>"".concat(t.number(e.count)," kohdetta valittu")}),"."),selectedItem:e=>"".concat(e.item," valittu.")};var PS;PS={deselectedItem:e=>"".concat(e.item," non s\xe9lectionn\xe9."),longPressToSelect:"Appuyez de mani\xe8re prolong\xe9e pour passer en mode de s\xe9lection.",select:"S\xe9lectionner",selectedAll:"Tous les \xe9l\xe9ments s\xe9lectionn\xe9s.",selectedCount:(e,t)=>"".concat(t.plural(e.count,{"=0":"Aucun \xe9l\xe9ment s\xe9lectionn\xe9",one:()=>"".concat(t.number(e.count)," \xe9l\xe9ment s\xe9lectionn\xe9"),other:()=>"".concat(t.number(e.count)," \xe9l\xe9ments s\xe9lectionn\xe9s")}),"."),selectedItem:e=>"".concat(e.item," s\xe9lectionn\xe9.")};var OS;OS={deselectedItem:e=>"".concat(e.item," \u05dc\u05d0 \u05e0\u05d1\u05d7\u05e8."),longPressToSelect:"\u05d4\u05e7\u05e9\u05d4 \u05d0\u05e8\u05d5\u05db\u05d4 \u05dc\u05db\u05e0\u05d9\u05e1\u05d4 \u05dc\u05de\u05e6\u05d1 \u05d1\u05d7\u05d9\u05e8\u05d4.",select:"\u05d1\u05d7\u05e8",selectedAll:"\u05db\u05dc \u05d4\u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05e0\u05d1\u05d7\u05e8\u05d5.",selectedCount:(e,t)=>"".concat(t.plural(e.count,{"=0":"\u05dc\u05d0 \u05e0\u05d1\u05d7\u05e8\u05d5 \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd",one:()=>"\u05e4\u05e8\u05d9\u05d8 ".concat(t.number(e.count)," \u05e0\u05d1\u05d7\u05e8"),other:()=>"".concat(t.number(e.count)," \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05e0\u05d1\u05d7\u05e8\u05d5")}),"."),selectedItem:e=>"".concat(e.item," \u05e0\u05d1\u05d7\u05e8.")};var IS;IS={deselectedItem:e=>"Stavka ".concat(e.item," nije odabrana."),longPressToSelect:"Dugo pritisnite za ulazak u na\u010din odabira.",select:"Odaberite",selectedAll:"Odabrane su sve stavke.",selectedCount:(e,t)=>"".concat(t.plural(e.count,{"=0":"Nije odabrana nijedna stavka",one:()=>"Odabrana je ".concat(t.number(e.count)," stavka"),other:()=>"Odabrano je ".concat(t.number(e.count)," stavki")}),"."),selectedItem:e=>"Stavka ".concat(e.item," je odabrana.")};var LS;LS={deselectedItem:e=>"".concat(e.item," nincs kijel\xf6lve."),longPressToSelect:"Nyomja hosszan a kijel\xf6l\xe9shez.",select:"Kijel\xf6l\xe9s",selectedAll:"Az \xf6sszes elem kijel\xf6lve.",selectedCount:(e,t)=>"".concat(t.plural(e.count,{"=0":"Egy elem sincs kijel\xf6lve",one:()=>"".concat(t.number(e.count)," elem kijel\xf6lve"),other:()=>"".concat(t.number(e.count)," elem kijel\xf6lve")}),"."),selectedItem:e=>"".concat(e.item," kijel\xf6lve.")};var BS;BS={deselectedItem:e=>"".concat(e.item," non selezionato."),longPressToSelect:"Premi a lungo per passare alla modalit\xe0 di selezione.",select:"Seleziona",selectedAll:"Tutti gli elementi selezionati.",selectedCount:(e,t)=>"".concat(t.plural(e.count,{"=0":"Nessun elemento selezionato",one:()=>"".concat(t.number(e.count)," elemento selezionato"),other:()=>"".concat(t.number(e.count)," elementi selezionati")}),"."),selectedItem:e=>"".concat(e.item," selezionato.")};var jS;jS={deselectedItem:e=>"".concat(e.item," \u304c\u9078\u629e\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002"),longPressToSelect:"\u9577\u62bc\u3057\u3057\u3066\u9078\u629e\u30e2\u30fc\u30c9\u3092\u958b\u304d\u307e\u3059\u3002",select:"\u9078\u629e",selectedAll:"\u3059\u3079\u3066\u306e\u9805\u76ee\u3092\u9078\u629e\u3057\u307e\u3057\u305f\u3002",selectedCount:(e,t)=>"".concat(t.plural(e.count,{"=0":"\u9805\u76ee\u304c\u9078\u629e\u3055\u308c\u3066\u3044\u307e\u305b\u3093",one:()=>"".concat(t.number(e.count)," \u9805\u76ee\u3092\u9078\u629e\u3057\u307e\u3057\u305f"),other:()=>"".concat(t.number(e.count)," \u9805\u76ee\u3092\u9078\u629e\u3057\u307e\u3057\u305f")}),"\u3002"),selectedItem:e=>"".concat(e.item," \u3092\u9078\u629e\u3057\u307e\u3057\u305f\u3002")};var US;US={deselectedItem:e=>"".concat(e.item,"\uc774(\uac00) \uc120\ud0dd\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4."),longPressToSelect:"\uc120\ud0dd \ubaa8\ub4dc\ub85c \ub4e4\uc5b4\uac00\ub824\uba74 \uae38\uac8c \ub204\ub974\uc2ed\uc2dc\uc624.",select:"\uc120\ud0dd",selectedAll:"\ubaa8\ub4e0 \ud56d\ubaa9\uc774 \uc120\ud0dd\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",selectedCount:(e,t)=>"".concat(t.plural(e.count,{"=0":"\uc120\ud0dd\ub41c \ud56d\ubaa9\uc774 \uc5c6\uc2b5\ub2c8\ub2e4",one:()=>"".concat(t.number(e.count),"\uac1c \ud56d\ubaa9\uc774 \uc120\ud0dd\ub418\uc5c8\uc2b5\ub2c8\ub2e4"),other:()=>"".concat(t.number(e.count),"\uac1c \ud56d\ubaa9\uc774 \uc120\ud0dd\ub418\uc5c8\uc2b5\ub2c8\ub2e4")}),"."),selectedItem:e=>"".concat(e.item,"\uc774(\uac00) \uc120\ud0dd\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")};var KS;KS={deselectedItem:e=>"".concat(e.item," nepasirinkta."),longPressToSelect:"Nor\u0117dami \u012fjungti pasirinkimo re\u017eim\u0105, paspauskite ir palaikykite.",select:"Pasirinkti",selectedAll:"Pasirinkti visi elementai.",selectedCount:(e,t)=>"".concat(t.plural(e.count,{"=0":"Nepasirinktas n\u0117 vienas elementas",one:()=>"Pasirinktas ".concat(t.number(e.count)," elementas"),other:()=>"Pasirinkta element\u0173: ".concat(t.number(e.count))}),"."),selectedItem:e=>"Pasirinkta: ".concat(e.item,".")};var WS;WS={deselectedItem:e=>"Vienums ".concat(e.item," nav atlas\u012bts."),longPressToSelect:"Ilgi turiet nospiestu. lai iesl\u0113gtu atlases re\u017e\u012bmu.",select:"Atlas\u012bt",selectedAll:"Atlas\u012bti visi vienumi.",selectedCount:(e,t)=>"".concat(t.plural(e.count,{"=0":"Nav atlas\u012bts neviens vienums",one:()=>"Atlas\u012bto vienumu skaits: ".concat(t.number(e.count)),other:()=>"Atlas\u012bto vienumu skaits: ".concat(t.number(e.count))}),"."),selectedItem:e=>"Atlas\u012bts vienums ".concat(e.item,".")};var qS;qS={deselectedItem:e=>"".concat(e.item," er ikke valgt."),longPressToSelect:"Bruk et langt trykk for \xe5 g\xe5 inn i valgmodus.",select:"Velg",selectedAll:"Alle elementer er valgt.",selectedCount:(e,t)=>"".concat(t.plural(e.count,{"=0":"Ingen elementer er valgt",one:()=>"".concat(t.number(e.count)," element er valgt"),other:()=>"".concat(t.number(e.count)," elementer er valgt")}),"."),selectedItem:e=>"".concat(e.item," er valgt.")};var HS;HS={deselectedItem:e=>"".concat(e.item," niet geselecteerd."),longPressToSelect:"Druk lang om de selectiemodus te openen.",select:"Selecteren",selectedAll:"Alle items geselecteerd.",selectedCount:(e,t)=>"".concat(t.plural(e.count,{"=0":"Geen items geselecteerd",one:()=>"".concat(t.number(e.count)," item geselecteerd"),other:()=>"".concat(t.number(e.count)," items geselecteerd")}),"."),selectedItem:e=>"".concat(e.item," geselecteerd.")};var VS;VS={deselectedItem:e=>"Nie zaznaczono ".concat(e.item,"."),longPressToSelect:"Naci\u015bnij i przytrzymaj, aby wej\u015b\u0107 do trybu wyboru.",select:"Zaznacz",selectedAll:"Wszystkie zaznaczone elementy.",selectedCount:(e,t)=>"".concat(t.plural(e.count,{"=0":"Nie zaznaczono \u017cadnych element\xf3w",one:()=>"".concat(t.number(e.count)," zaznaczony element"),other:()=>"".concat(t.number(e.count)," zaznaczonych element\xf3w")}),"."),selectedItem:e=>"Zaznaczono ".concat(e.item,".")};var GS;GS={deselectedItem:e=>"".concat(e.item," n\xe3o selecionado."),longPressToSelect:"Mantenha pressionado para entrar no modo de sele\xe7\xe3o.",select:"Selecionar",selectedAll:"Todos os itens selecionados.",selectedCount:(e,t)=>"".concat(t.plural(e.count,{"=0":"Nenhum item selecionado",one:()=>"".concat(t.number(e.count)," item selecionado"),other:()=>"".concat(t.number(e.count)," itens selecionados")}),"."),selectedItem:e=>"".concat(e.item," selecionado.")};var YS;YS={deselectedItem:e=>"".concat(e.item," n\xe3o selecionado."),longPressToSelect:"Prima continuamente para entrar no modo de sele\xe7\xe3o.",select:"Selecionar",selectedAll:"Todos os itens selecionados.",selectedCount:(e,t)=>"".concat(t.plural(e.count,{"=0":"Nenhum item selecionado",one:()=>"".concat(t.number(e.count)," item selecionado"),other:()=>"".concat(t.number(e.count)," itens selecionados")}),"."),selectedItem:e=>"".concat(e.item," selecionado.")};var QS;QS={deselectedItem:e=>"".concat(e.item," neselectat."),longPressToSelect:"Ap\u0103sa\u021bi lung pentru a intra \xeen modul de selectare.",select:"Selectare",selectedAll:"Toate elementele selectate.",selectedCount:(e,t)=>"".concat(t.plural(e.count,{"=0":"Niciun element selectat",one:()=>"".concat(t.number(e.count)," element selectat"),other:()=>"".concat(t.number(e.count)," elemente selectate")}),"."),selectedItem:e=>"".concat(e.item," selectat.")};var XS;XS={deselectedItem:e=>"".concat(e.item," \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e."),longPressToSelect:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0438 \u0443\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0439\u0442\u0435 \u0434\u043b\u044f \u0432\u0445\u043e\u0434\u0430 \u0432 \u0440\u0435\u0436\u0438\u043c \u0432\u044b\u0431\u043e\u0440\u0430.",select:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c",selectedAll:"\u0412\u044b\u0431\u0440\u0430\u043d\u044b \u0432\u0441\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b.",selectedCount:(e,t)=>"".concat(t.plural(e.count,{"=0":"\u041d\u0435\u0442 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432",one:()=>"".concat(t.number(e.count)," \u044d\u043b\u0435\u043c\u0435\u043d\u0442 \u0432\u044b\u0431\u0440\u0430\u043d"),other:()=>"".concat(t.number(e.count)," \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432 \u0432\u044b\u0431\u0440\u0430\u043d\u043e")}),"."),selectedItem:e=>"".concat(e.item," \u0432\u044b\u0431\u0440\u0430\u043d\u043e.")};var $S;$S={deselectedItem:e=>"Nevybrat\xe9 polo\u017eky: ".concat(e.item,"."),longPressToSelect:"Dlh\u0161\xedm stla\u010den\xedm prejdite do re\u017eimu v\xfdberu.",select:"Vybra\u0165",selectedAll:"V\u0161etky vybrat\xe9 polo\u017eky.",selectedCount:(e,t)=>"".concat(t.plural(e.count,{"=0":"\u017diadne vybrat\xe9 polo\u017eky",one:()=>"".concat(t.number(e.count)," vybrat\xe1 polo\u017eka"),other:()=>"Po\u010det vybrat\xfdch polo\u017eiek:".concat(t.number(e.count))}),"."),selectedItem:e=>"Vybrat\xe9 polo\u017eky: ".concat(e.item,".")};var ZS;ZS={deselectedItem:e=>"Element ".concat(e.item," ni izbran."),longPressToSelect:"Za izbirni na\u010din pritisnite in dlje \u010dasa dr\u017eite.",select:"Izberite",selectedAll:"Vsi elementi so izbrani.",selectedCount:(e,t)=>"".concat(t.plural(e.count,{"=0":"Noben element ni izbran",one:()=>"".concat(t.number(e.count)," element je izbran"),other:()=>"".concat(t.number(e.count)," elementov je izbranih")}),"."),selectedItem:e=>"Element ".concat(e.item," je izbran.")};var JS;JS={deselectedItem:e=>"".concat(e.item," nije izabrano."),longPressToSelect:"Dugo pritisnite za ulazak u re\u017eim biranja.",select:"Izaberite",selectedAll:"Izabrane su sve stavke.",selectedCount:(e,t)=>"".concat(t.plural(e.count,{"=0":"Nije izabrana nijedna stavka",one:()=>"Izabrana je ".concat(t.number(e.count)," stavka"),other:()=>"Izabrano je ".concat(t.number(e.count)," stavki")}),"."),selectedItem:e=>"".concat(e.item," je izabrano.")};var eC;eC={deselectedItem:e=>"".concat(e.item," ej markerat."),longPressToSelect:"Tryck l\xe4nge n\xe4r du vill \xf6ppna v\xe4ljarl\xe4ge.",select:"Markera",selectedAll:"Alla markerade objekt.",selectedCount:(e,t)=>"".concat(t.plural(e.count,{"=0":"Inga markerade objekt",one:()=>"".concat(t.number(e.count)," markerat objekt"),other:()=>"".concat(t.number(e.count)," markerade objekt")}),"."),selectedItem:e=>"".concat(e.item," markerat.")};var tC;tC={deselectedItem:e=>"".concat(e.item," se\xe7ilmedi."),longPressToSelect:"Se\xe7im moduna girmek i\xe7in uzun bas\u0131n.",select:"Se\xe7",selectedAll:"T\xfcm \xf6geler se\xe7ildi.",selectedCount:(e,t)=>"".concat(t.plural(e.count,{"=0":"Hi\xe7bir \xf6ge se\xe7ilmedi",one:()=>"".concat(t.number(e.count)," \xf6ge se\xe7ildi"),other:()=>"".concat(t.number(e.count)," \xf6ge se\xe7ildi")}),"."),selectedItem:e=>"".concat(e.item," se\xe7ildi.")};var nC;nC={deselectedItem:e=>"".concat(e.item," \u043d\u0435 \u0432\u0438\u0431\u0440\u0430\u043d\u043e."),longPressToSelect:"\u0412\u0438\u043a\u043e\u043d\u0430\u0439\u0442\u0435 \u0434\u043e\u0432\u0433\u0435 \u043d\u0430\u0442\u0438\u0441\u043d\u0435\u043d\u043d\u044f, \u0449\u043e\u0431 \u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u0440\u0435\u0436\u0438\u043c \u0432\u0438\u0431\u043e\u0440\u0443.",select:"\u0412\u0438\u0431\u0440\u0430\u0442\u0438",selectedAll:"\u0423\u0441\u0456 \u0435\u043b\u0435\u043c\u0435\u043d\u0442\u0438 \u0432\u0438\u0431\u0440\u0430\u043d\u043e.",selectedCount:(e,t)=>"".concat(t.plural(e.count,{"=0":"\u0416\u043e\u0434\u043d\u0438\u0445 \u0435\u043b\u0435\u043c\u0435\u043d\u0442\u0456\u0432 \u043d\u0435 \u0432\u0438\u0431\u0440\u0430\u043d\u043e",one:()=>"".concat(t.number(e.count)," \u0435\u043b\u0435\u043c\u0435\u043d\u0442 \u0432\u0438\u0431\u0440\u0430\u043d\u043e"),other:()=>"\u0412\u0438\u0431\u0440\u0430\u043d\u043e \u0435\u043b\u0435\u043c\u0435\u043d\u0442\u0456\u0432: ".concat(t.number(e.count))}),"."),selectedItem:e=>"".concat(e.item," \u0432\u0438\u0431\u0440\u0430\u043d\u043e.")};var rC;rC={deselectedItem:e=>"\u672a\u9009\u62e9 ".concat(e.item,"\u3002"),longPressToSelect:"\u957f\u6309\u4ee5\u8fdb\u5165\u9009\u62e9\u6a21\u5f0f\u3002",select:"\u9009\u62e9",selectedAll:"\u5df2\u9009\u62e9\u6240\u6709\u9879\u76ee\u3002",selectedCount:(e,t)=>"".concat(t.plural(e.count,{"=0":"\u672a\u9009\u62e9\u9879\u76ee",one:()=>"\u5df2\u9009\u62e9 ".concat(t.number(e.count)," \u4e2a\u9879\u76ee"),other:()=>"\u5df2\u9009\u62e9 ".concat(t.number(e.count)," \u4e2a\u9879\u76ee")}),"\u3002"),selectedItem:e=>"\u5df2\u9009\u62e9 ".concat(e.item,"\u3002")};var iC;iC={deselectedItem:e=>"\u672a\u9078\u53d6\u300c".concat(e.item,"\u300d\u3002"),longPressToSelect:"\u9577\u6309\u4ee5\u9032\u5165\u9078\u64c7\u6a21\u5f0f\u3002",select:"\u9078\u53d6",selectedAll:"\u5df2\u9078\u53d6\u6240\u6709\u9805\u76ee\u3002",selectedCount:(e,t)=>"".concat(t.plural(e.count,{"=0":"\u672a\u9078\u53d6\u4efb\u4f55\u9805\u76ee",one:()=>"\u5df2\u9078\u53d6 ".concat(t.number(e.count)," \u500b\u9805\u76ee"),other:()=>"\u5df2\u9078\u53d6 ".concat(t.number(e.count)," \u500b\u9805\u76ee")}),"\u3002"),selectedItem:e=>"\u5df2\u9078\u53d6\u300c".concat(e.item,"\u300d\u3002")};const oC=7e3;let aC=null;function lC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"assertive",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:oC;aC||(aC=new sC),aC.announce(e,t,n)}class sC{createLog(e){let t=document.createElement("div");return t.setAttribute("role","log"),t.setAttribute("aria-live",e),t.setAttribute("aria-relevant","additions"),t}destroy(){this.node&&(document.body.removeChild(this.node),this.node=null)}announce(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"assertive",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:oC;if(!this.node)return;let r=document.createElement("div");r.textContent=e,"assertive"===t?this.assertiveLog.appendChild(r):this.politeLog.appendChild(r),""!==e&&setTimeout((()=>{r.remove()}),n)}clear(e){this.node&&(e&&"assertive"!==e||(this.assertiveLog.innerHTML=""),e&&"polite"!==e||(this.politeLog.innerHTML=""))}constructor(){this.node=document.createElement("div"),this.node.dataset.liveAnnouncer="true",Object.assign(this.node.style,{border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"}),this.assertiveLog=this.createLog("assertive"),this.node.appendChild(this.assertiveLog),this.politeLog=this.createLog("polite"),this.node.appendChild(this.politeLog),document.body.prepend(this.node)}}function cC(e){return e&&e.__esModule?e.default:e}class uC{isCell(e){return"cell"===e.type}isRow(e){return"row"===e.type||"item"===e.type}findPreviousKey(e,t){let n=null!=e?this.collection.getKeyBefore(e):this.collection.getLastKey();for(;null!=n;){let e=this.collection.getItem(n);if(!this.disabledKeys.has(n)&&(!t||t(e)))return n;n=this.collection.getKeyBefore(n)}}findNextKey(e,t){let n=null!=e?this.collection.getKeyAfter(e):this.collection.getFirstKey();for(;null!=n;){let e=this.collection.getItem(n);if(!this.disabledKeys.has(n)&&(!t||t(e)))return n;n=this.collection.getKeyAfter(n)}}getKeyBelow(e){let t=this.collection.getItem(e);if(t&&(this.isCell(t)&&(e=t.parentKey),null!=(e=this.findNextKey(e)))){if(this.isCell(t)){return mv(hv(this.collection.getItem(e),this.collection),t.index).key}if("row"===this.focusMode)return e}}getKeyAbove(e){let t=this.collection.getItem(e);if(t&&(this.isCell(t)&&(e=t.parentKey),null!=(e=this.findPreviousKey(e)))){if(this.isCell(t)){return mv(hv(this.collection.getItem(e),this.collection),t.index).key}if("row"===this.focusMode)return e}}getKeyRightOf(e){let t=this.collection.getItem(e);if(t){if(this.isRow(t)){let e=hv(t,this.collection);return"rtl"===this.direction?gv(e).key:pv(e).key}if(this.isCell(t)){let n=hv(this.collection.getItem(t.parentKey),this.collection),r="rtl"===this.direction?mv(n,t.index-1):mv(n,t.index+1);return r?r.key:"row"===this.focusMode?t.parentKey:"rtl"===this.direction?this.getFirstKey(e):this.getLastKey(e)}}}getKeyLeftOf(e){let t=this.collection.getItem(e);if(t){if(this.isRow(t)){let e=hv(t,this.collection);return"rtl"===this.direction?pv(e).key:gv(e).key}if(this.isCell(t)){let n=hv(this.collection.getItem(t.parentKey),this.collection),r="rtl"===this.direction?mv(n,t.index+1):mv(n,t.index-1);return r?r.key:"row"===this.focusMode?t.parentKey:"rtl"===this.direction?this.getLastKey(e):this.getFirstKey(e)}}}getFirstKey(e,t){let n;if(null!=e){if(n=this.collection.getItem(e),!n)return;if(this.isCell(n)&&!t){return pv(hv(this.collection.getItem(n.parentKey),this.collection)).key}}if(null!=(e=this.findNextKey())&&n&&this.isCell(n)&&t||"cell"===this.focusMode){e=pv(hv(this.collection.getItem(e),this.collection)).key}return e}getLastKey(e,t){let n;if(null!=e){if(n=this.collection.getItem(e),!n)return;if(this.isCell(n)&&!t){return gv(hv(this.collection.getItem(n.parentKey),this.collection)).key}}if(null!=(e=this.findPreviousKey())&&n&&this.isCell(n)&&t||"cell"===this.focusMode){e=gv(hv(this.collection.getItem(e),this.collection)).key}return e}getItem(e){return this.ref.current.querySelector('[data-key="'.concat(CSS.escape(e.toString()),'"]'))}getItemRect(e){var t;if(this.layout)return null===(t=this.layout.getLayoutInfo(e))||void 0===t?void 0:t.rect;let n=this.getItem(e);return n?new l_(n.offsetLeft,n.offsetTop,n.offsetWidth,n.offsetHeight):void 0}getPageHeight(){var e,t,n;return this.layout?null===(e=this.layout.virtualizer)||void 0===e?void 0:e.visibleRect.height:null===(n=this.ref)||void 0===n||null===(t=n.current)||void 0===t?void 0:t.offsetHeight}getContentHeight(){var e,t;return this.layout?this.layout.getContentSize().height:null===(t=this.ref)||void 0===t||null===(e=t.current)||void 0===e?void 0:e.scrollHeight}getKeyPageAbove(e){let t=this.getItemRect(e);if(!t)return null;let n=Math.max(0,t.maxY-this.getPageHeight());for(;t&&t.y>n;)e=this.getKeyAbove(e),t=this.getItemRect(e);return e}getKeyPageBelow(e){let t=this.getItemRect(e);if(!t)return null;let n=this.getPageHeight(),r=Math.min(this.getContentHeight(),t.y+n);for(;t&&t.maxY<r;){let n=this.getKeyBelow(e);t=this.getItemRect(n),null!=n&&(e=n)}return e}getKeyForSearch(e,t){if(!this.collator)return null;let n=this.collection,r=null!==t&&void 0!==t?t:this.getFirstKey(),i=n.getItem(r);"cell"===i.type&&(r=i.parentKey);let o=!1;for(;null!=r;){let t=n.getItem(r);if(t.textValue){let n=t.textValue.slice(0,e.length);if(0===this.collator.compare(n,e))return this.isRow(t)&&"cell"===this.focusMode?pv(hv(t,this.collection)).key:t.key}r=this.findNextKey(r),null!=r||o||(r=this.getFirstKey(),o=!0)}return null}constructor(e){this.collection=e.collection,this.disabledKeys=e.disabledKeys,this.ref=e.ref,this.direction=e.direction,this.collator=e.collator,this.layout=e.layout,this.focusMode=e.focusMode||"row"}}const dC=new WeakMap;var fC={};function hC(e,t){let{getRowText:n=(e=>{var n,r,i,o;return null!==(o=null===(n=(r=t.collection).getTextValue)||void 0===n?void 0:n.call(r,e))&&void 0!==o?o:null===(i=t.collection.getItem(e))||void 0===i?void 0:i.textValue})}=e,r=st(cC(fC),"@react-aria/grid"),i=t.selectionManager.rawSelection,o=(0,y.useRef)(i);be((()=>{var e;if(!t.selectionManager.isFocused)return void(o.current=i);let a=pC(i,o.current),l=pC(o.current,i),s="replace"===t.selectionManager.selectionBehavior,c=[];if(1===t.selectionManager.selectedKeys.size&&s){if(t.collection.getItem(t.selectionManager.selectedKeys.keys().next().value)){let e=n(t.selectionManager.selectedKeys.keys().next().value);e&&c.push(r.format("selectedItem",{item:e}))}}else if(1===a.size&&0===l.size){let e=n(a.keys().next().value);e&&c.push(r.format("selectedItem",{item:e}))}else if(1===l.size&&0===a.size&&t.collection.getItem(l.keys().next().value)){let e=n(l.keys().next().value);e&&c.push(r.format("deselectedItem",{item:e}))}"multiple"===t.selectionManager.selectionMode&&(0===c.length||"all"===i||i.size>1||"all"===o.current||(null===(e=o.current)||void 0===e?void 0:e.size)>1)&&c.push("all"===i?r.format("selectedAll"):r.format("selectedCount",{count:i.size})),c.length>0&&lC(c.join(" ")),o.current=i}),[i])}function pC(e,t){let n=new Set;if("all"===e||"all"===t)return n;for(let r of e.keys())t.has(r)||n.add(r);return n}function mC(e){let t=st(cC(fC),"@react-aria/grid"),n=wr(),r=("pointer"===n||"virtual"===n||null==n)&&"undefined"!==typeof window&&"ontouchstart"in window;return Ae((0,y.useMemo)((()=>{let n,i=e.selectionManager.selectionMode,o=e.selectionManager.selectionBehavior;return r&&(n=t.format("longPressToSelect")),"replace"===o&&"none"!==i&&e.hasItemActions?n:void 0}),[e.selectionManager.selectionMode,e.selectionManager.selectionBehavior,e.hasItemActions,t,r]))}function gC(e,t,n){let{isVirtualized:r,keyboardDelegate:i,focusMode:o,scrollRef:a,getRowText:l,onRowAction:s,onCellAction:c}=e,{selectionManager:u}=t;e["aria-label"]||e["aria-labelledby"]||console.warn("An aria-label or aria-labelledby prop is required for accessibility.");let d=dt({usage:"search",sensitivity:"base"}),{direction:f}=ot(),h=t.selectionManager.disabledBehavior,p=(0,y.useMemo)((()=>i||new uC({collection:t.collection,disabledKeys:"selection"===h?new Set:t.disabledKeys,ref:n,direction:f,collator:d,focusMode:o})),[i,t.collection,t.disabledKeys,h,n,f,d,o]),{collectionProps:m}=fx({ref:n,selectionManager:u,keyboardDelegate:p,isVirtualized:r,scrollRef:a}),g=L(e.id);dC.set(t,{keyboardDelegate:p,actions:{onRowAction:s,onCellAction:c}});let v=mC({selectionManager:u,hasItemActions:!(!s&&!c)}),b=X(e,{labelable:!0}),x=(0,y.useCallback)((e=>{u.isFocused?e.currentTarget.contains(e.target)||u.setFocused(!1):e.currentTarget.contains(e.target)&&u.setFocused(!0)}),[u]),w=(0,y.useMemo)((()=>({onBlur:m.onBlur,onFocus:x})),[x,m.onBlur]),_=ui(n,{isDisabled:0!==t.collection.size}),k=q(b,{role:"grid",id:g,"aria-multiselectable":"multiple"===u.selectionMode?"true":void 0},t.isKeyboardNavigationDisabled?w:m,0===t.collection.size&&{tabIndex:_?-1:0},v);return r&&(k["aria-rowcount"]=t.collection.size,k["aria-colcount"]=t.collection.columnCount),hC({getRowText:l},t),{gridProps:k}}function vC(e,t,n){let{node:r,isVirtualized:i,shouldSelectOnPressUp:o,onAction:a}=e,{actions:{onRowAction:l}}=dC.get(t),{itemProps:s,...c}=hx({selectionManager:t.selectionManager,key:r.key,ref:n,isVirtualized:i,shouldSelectOnPressUp:o,onAction:l?()=>l(r.key):a,isDisabled:0===t.collection.size}),u=t.selectionManager.isSelected(r.key),d={role:"row","aria-selected":"none"!==t.selectionManager.selectionMode?u:void 0,"aria-disabled":c.isDisabled||void 0,...s};return i&&(d["aria-rowindex"]=r.index+1),{rowProps:d,...c}}function yC(e,t,n){let{node:r,isVirtualized:i,focusMode:o="child",shouldSelectOnPressUp:a,onAction:l}=e,{direction:s}=ot(),{keyboardDelegate:c,actions:{onCellAction:u}}=dC.get(t),d=(0,y.useRef)(null),f=()=>{let e=ei(n.current);if("child"===o){if(n.current.contains(document.activeElement)&&n.current!==document.activeElement)return;let r="last"===t.selectionManager.childFocusStrategy?bC(e):e.firstChild();if(r)return void Lr(r)}(null!=d.current&&r.key!==d.current||!n.current.contains(document.activeElement))&&Lr(n.current)},{itemProps:h,isPressed:p}=hx({selectionManager:t.selectionManager,key:r.key,ref:n,isVirtualized:i,focus:f,shouldSelectOnPressUp:a,onAction:u?()=>u(r.key):l,isDisabled:0===t.collection.size}),m=q(h,{role:"gridcell",onKeyDownCapture:e=>{if(!e.currentTarget.contains(e.target)||t.isKeyboardNavigationDisabled)return;let i=ei(n.current);switch(i.currentNode=document.activeElement,e.key){case"ArrowLeft":{let t="rtl"===s?i.nextNode():i.previousNode();if("child"===o&&t===n.current&&(t=null),t)e.preventDefault(),e.stopPropagation(),Lr(t),Re(t,{containingElement:_e(n.current)});else{if(c.getKeyLeftOf(r.key)!==r.key)break;e.preventDefault(),e.stopPropagation(),"cell"===o&&"rtl"===s?(Lr(n.current),Re(n.current,{containingElement:_e(n.current)})):(i.currentNode=n.current,t="rtl"===s?i.firstChild():bC(i),t&&(Lr(t),Re(t,{containingElement:_e(n.current)})))}break}case"ArrowRight":{let t="rtl"===s?i.previousNode():i.nextNode();if("child"===o&&t===n.current&&(t=null),t)e.preventDefault(),e.stopPropagation(),Lr(t),Re(t,{containingElement:_e(n.current)});else{if(c.getKeyRightOf(r.key)!==r.key)break;e.preventDefault(),e.stopPropagation(),"cell"===o&&"ltr"===s?(Lr(n.current),Re(n.current,{containingElement:_e(n.current)})):(i.currentNode=n.current,t="rtl"===s?bC(i):i.firstChild(),t&&(Lr(t),Re(t,{containingElement:_e(n.current)})))}break}case"ArrowUp":case"ArrowDown":!e.altKey&&n.current.contains(e.target)&&(e.stopPropagation(),e.preventDefault(),n.current.parentElement.dispatchEvent(new KeyboardEvent(e.nativeEvent.type,e.nativeEvent)))}},onFocus:e=>{d.current=r.key,e.target===n.current?requestAnimationFrame((()=>{"child"===o&&document.activeElement===n.current&&f()})):yr()||t.selectionManager.setFocusedKey(r.key)}});var g;return i&&(m["aria-colindex"]=(null!==(g=r.colIndex)&&void 0!==g?g:r.index)+1),a&&null!=m.tabIndex&&null==m.onPointerDown&&(m.onPointerDown=e=>{let t=e.currentTarget,n=t.getAttribute("tabindex");t.removeAttribute("tabindex"),requestAnimationFrame((()=>{t.setAttribute("tabindex",n)}))}),{gridCellProps:m,isPressed:p}}function bC(e){let t,n;do{n=e.lastChild(),n&&(t=n)}while(n);return t}function xC(e,t){let{key:n}=e,r=t.selectionManager,i=L(),o=!t.selectionManager.canSelectItem(n),a=t.selectionManager.isSelected(n);return{checkboxProps:{id:i,"aria-label":st(cC(fC),"@react-aria/grid").format("select"),isSelected:a,isDisabled:o,onChange:()=>r.select(n)}}}function wC(e){return e&&e.__esModule?e.default:e}fC={"ar-AE":SS,"bg-BG":CS,"cs-CZ":MS,"da-DK":TS,"de-DE":AS,"el-GR":DS,"en-US":FS,"es-ES":NS,"et-EE":RS,"fi-FI":zS,"fr-FR":PS,"he-IL":OS,"hr-HR":IS,"hu-HU":LS,"it-IT":BS,"ja-JP":jS,"ko-KR":US,"lt-LT":KS,"lv-LV":WS,"nb-NO":qS,"nl-NL":HS,"pl-PL":VS,"pt-BR":GS,"pt-PT":YS,"ro-RO":QS,"ru-RU":XS,"sk-SK":$S,"sl-SI":ZS,"sr-SP":JS,"sv-SE":eC,"tr-TR":tC,"uk-UA":nC,"zh-CN":rC,"zh-TW":iC};const _C=new WeakMap;function kC(e){return"string"===typeof e?e.replace(/\s*/g,""):""+e}function EC(e,t){let n=_C.get(e);if(!n)throw new Error("Unknown grid");return"".concat(n,"-").concat(kC(t))}function SC(e,t,n){let r=_C.get(e);if(!r)throw new Error("Unknown grid");return"".concat(r,"-").concat(kC(t),"-").concat(kC(n))}function CC(e,t){return[...e.collection.rowHeaderColumnKeys].map((n=>SC(e,t,n))).join(" ")}var MC={};MC={"ar-AE":HE,"bg-BG":VE,"cs-CZ":GE,"da-DK":YE,"de-DE":QE,"el-GR":XE,"en-US":$E,"es-ES":ZE,"et-EE":JE,"fi-FI":eS,"fr-FR":tS,"he-IL":nS,"hr-HR":rS,"hu-HU":iS,"it-IT":oS,"ja-JP":aS,"ko-KR":lS,"lt-LT":sS,"lv-LV":cS,"nb-NO":uS,"nl-NL":dS,"pl-PL":fS,"pt-BR":hS,"pt-PT":pS,"ro-RO":mS,"ru-RU":gS,"sk-SK":vS,"sl-SI":yS,"sr-SP":bS,"sv-SE":xS,"tr-TR":wS,"uk-UA":_S,"zh-CN":kS,"zh-TW":ES};class TC extends uC{isCell(e){return"cell"===e.type||"rowheader"===e.type||"column"===e.type}getKeyBelow(e){let t=this.collection.getItem(e);if(t){if("column"===t.type){let e=pv(hv(t,this.collection));if(e)return e.key;let n=this.getFirstKey();if(null==n)return;return mv(hv(this.collection.getItem(n),this.collection),t.index).key}return super.getKeyBelow(e)}}getKeyAbove(e){let t=this.collection.getItem(e);if(!t)return;if("column"===t.type){let e=this.collection.getItem(t.parentKey);return e&&"column"===e.type?e.key:void 0}let n=super.getKeyAbove(e);return null!=n&&"headerrow"!==this.collection.getItem(n).type?n:this.isCell(t)?this.collection.columns[t.index].key:this.collection.columns[0].key}findNextColumnKey(e){let t=this.findNextKey(e.key,(e=>"column"===e.type));if(null!=t)return t;let n=this.collection.headerRows[e.level];for(let r of hv(n,this.collection))if("column"===r.type)return r.key}findPreviousColumnKey(e){let t=this.findPreviousKey(e.key,(e=>"column"===e.type));if(null!=t)return t;let n=[...hv(this.collection.headerRows[e.level],this.collection)];for(let r=n.length-1;r>=0;r--){let e=n[r];if("column"===e.type)return e.key}}getKeyRightOf(e){let t=this.collection.getItem(e);if(t)return"column"===t.type?"rtl"===this.direction?this.findPreviousColumnKey(t):this.findNextColumnKey(t):super.getKeyRightOf(e)}getKeyLeftOf(e){let t=this.collection.getItem(e);if(t)return"column"===t.type?"rtl"===this.direction?this.findNextColumnKey(t):this.findPreviousColumnKey(t):super.getKeyLeftOf(e)}getKeyForSearch(e,t){if(!this.collator)return null;let n=this.collection,r=null!==t&&void 0!==t?t:this.getFirstKey();if(null==r)return null;let i=n.getItem(r);"cell"===i.type&&(r=i.parentKey);let o=!1;for(;null!=r;){let a=n.getItem(r);for(let r of hv(a,this.collection)){let o=n.columns[r.index];if(n.rowHeaderColumnKeys.has(o.key)&&r.textValue){let o=r.textValue.slice(0,e.length);if(0===this.collator.compare(o,e)){return"cell"===(null!=t?n.getItem(t):i).type?r.key:a.key}}}r=this.getKeyBelow(r),null!=r||o||(r=this.getFirstKey(),o=!0)}return null}}function AC(e,t,n){let{keyboardDelegate:r,isVirtualized:i,layout:o}=e,a=dt({usage:"search",sensitivity:"base"}),{direction:l}=ot(),s=t.selectionManager.disabledBehavior,c=(0,y.useMemo)((()=>r||new TC({collection:t.collection,disabledKeys:"selection"===s?new Set:t.disabledKeys,ref:n,direction:l,collator:a,layout:o})),[r,t.collection,t.disabledKeys,s,n,l,a,o]),u=L(e.id);_C.set(t,u);let{gridProps:d}=gC({...e,id:u,keyboardDelegate:c},t,n);i&&(d["aria-rowcount"]=t.collection.size+t.collection.headerRows.length),Tv()&&"expandedKeys"in t&&(d.role="treegrid");let{column:f,direction:h}=t.sortDescriptor||{},p=st(wC(MC),"@react-aria/table"),m=(0,y.useMemo)((()=>{var e;let n=null===(e=t.collection.columns.find((e=>e.key===f)))||void 0===e?void 0:e.textValue;return h&&f?p.format("".concat(h,"Sort"),{columnName:n}):void 0}),[h,f,t.collection.columns]),g=Ae(m);return be((()=>{lC(m,"assertive",500)}),[m]),{gridProps:q(d,g,{"aria-describedby":[g["aria-describedby"],d["aria-describedby"]].filter(Boolean).join(" ")})}}function DC(e,t,n){var r,i;let{node:o}=e,a=o.props.allowsSorting,{gridCellProps:l}=yC({...e,focusMode:"child"},t,n),s=o.props.isSelectionCell&&"single"===t.selectionManager.selectionMode,{pressProps:c}=qn({isDisabled:!a||s,onPress(){t.sort(o.key)},ref:n}),{focusableProps:u}=ci({},n),d=null,f=(null===(r=t.sortDescriptor)||void 0===r?void 0:r.column)===o.key,h=null===(i=t.sortDescriptor)||void 0===i?void 0:i.direction;o.props.allowsSorting&&!oe()&&(d=f?h:"none");let p,m=st(wC(MC),"@react-aria/table");a&&(p="".concat(m.format("sortable")),f&&h&&oe()&&(p="".concat(p,", ").concat(m.format(h))));let g=Ae(p),v=0===t.collection.size;return(0,y.useEffect)((()=>{v&&t.selectionManager.focusedKey===o.key&&t.selectionManager.setFocusedKey(null)}),[v,t.selectionManager,o.key]),{columnHeaderProps:{...q(l,c,u,g,v&&{tabIndex:-1}),role:"columnheader",id:EC(t,o.key),"aria-colspan":o.colspan&&o.colspan>1?o.colspan:null,"aria-sort":d}}}const FC={expand:{ltr:"ArrowRight",rtl:"ArrowLeft"},collapse:{ltr:"ArrowLeft",rtl:"ArrowRight"}};function NC(e,t,n){let{node:r,isVirtualized:i}=e,{rowProps:o,...a}=vC(e,t,n),{direction:l}=ot();!i||Tv()&&"expandedKeys"in t?delete o["aria-rowindex"]:o["aria-rowindex"]=r.index+1+t.collection.headerRows.length;let s={};if(Tv()&&"expandedKeys"in t){let e=t.keyMap.get(r.key);if(null!=e){var c,u,d;let n=(null===(c=e.props)||void 0===c?void 0:c.UNSTABLE_childItems)||(null===(d=e.props)||void 0===d||null===(u=d.children)||void 0===u?void 0:u.length)>t.userColumnCount;s={onKeyDown:r=>{(r.key===FC.expand[l]&&t.selectionManager.focusedKey===e.key&&n&&"all"!==t.expandedKeys&&!t.expandedKeys.has(e.key)||r.key===FC.collapse[l]&&t.selectionManager.focusedKey===e.key&&n&&("all"===t.expandedKeys||t.expandedKeys.has(e.key)))&&(t.toggleKey(e.key),r.stopPropagation())},"aria-expanded":n?"all"===t.expandedKeys||t.expandedKeys.has(r.key):void 0,"aria-level":e.level,"aria-posinset":e.indexOfType+1,"aria-setsize":e.level>1?gv(t.keyMap.get(null===e||void 0===e?void 0:e.parentKey).childNodes).indexOfType+1:gv(t.keyMap.get(t.collection.body.key).childNodes).indexOfType+1}}}return{rowProps:{...q(o,s,a.hasAction?de(r.props):{}),"aria-labelledby":CC(t,r.key)},...a}}function RC(e,t,n){let{node:r,isVirtualized:i}=e,o={role:"row"};return!i||Tv()&&"expandedKeys"in t||(o["aria-rowindex"]=r.index+1),{rowProps:o}}function zC(e,t,n){let{gridCellProps:r,isPressed:i}=yC(e,t,n),o=e.node.column.key;return t.collection.rowHeaderColumnKeys.has(o)&&(r.role="rowheader",r.id=SC(t,e.node.parentKey,o)),{gridCellProps:r,isPressed:i}}function PC(e,t){let{key:n}=e;const{checkboxProps:r}=xC(e,t);return{checkboxProps:{...r,"aria-labelledby":"".concat(r.id," ").concat(CC(t,n))}}}function OC(e){let{isEmpty:t,isSelectAll:n,selectionMode:r}=e.selectionManager;return{checkboxProps:{"aria-label":st(wC(MC),"@react-aria/table").format("single"===r?"select":"selectAll"),isSelected:n,isDisabled:"multiple"!==r||0===e.collection.size,isIndeterminate:!t&&!n,onChange:()=>e.selectionManager.toggleSelectAll()}}}function IC(e,t,n){let{column:r,triggerRef:i,isDisabled:o,onResizeStart:a,onResize:l,onResizeEnd:s,"aria-label":c}=e;const u=st(wC(MC),"@react-aria/table");let d=L(),f=t.resizingColumn===r.key,h=(0,y.useRef)(f),p=(0,y.useRef)(null),m=(0,y.useRef)(!1),g=t.tableState.isKeyboardNavigationDisabled,{direction:v}=ot(),{keyboardProps:b}=zr({onKeyDown:e=>{g?"Escape"!==e.key&&"Enter"!==e.key&&" "!==e.key&&"Tab"!==e.key||(e.preventDefault(),_(r)):(e.continuePropagation(),"Enter"===e.key&&x(r))}}),x=z((e=>{h.current||(p.current=t.updateResizedColumns(e.key,t.getColumnWidth(e.key)),t.startResize(e.key),t.tableState.setKeyboardNavigationDisabled(!0),null===a||void 0===a||a(p.current)),h.current=!0})),w=z(((e,n)=>{let r=t.updateResizedColumns(e.key,n);null===l||void 0===l||l(r),p.current=r})),_=z((e=>{h.current&&(null==p.current&&(p.current=t.updateResizedColumns(e.key,t.getColumnWidth(e.key))),t.endResize(),t.tableState.setKeyboardNavigationDisabled(!1),null===s||void 0===s||s(p.current),h.current=!1,(null===i||void 0===i?void 0:i.current)&&!m.current&&Lr(i.current)),p.current=null}));const k=(0,y.useRef)(0),{moveProps:E}=Pr({onMoveStart(){k.current=t.getColumnWidth(r.key),x(r)},onMove(e){let{deltaX:t,deltaY:n,pointerType:i}=e;"rtl"===v&&(t*=-1),"keyboard"===i&&(0!==n&&0===t&&(t=-1*n),t*=10),0!==t&&(k.current+=t,w(r,k.current))},onMoveEnd(e){let{pointerType:t}=e;k.current=0,("mouse"===t||"touch"===t&&m.current)&&_(r)}});let S=(0,y.useCallback)((e=>{g&&E.onKeyDown(e)}),[g,E]),C=Math.floor(t.getColumnMinWidth(r.key)),M=Math.floor(t.getColumnMaxWidth(r.key));M===1/0&&(M=Number.MAX_SAFE_INTEGER);let T=Math.floor(t.getColumnWidth(r.key)),A=wr();"virtual"===A&&"undefined"!==typeof window&&"ontouchstart"in window&&(A="touch");let D=Ae(null!=(null===i||void 0===i?void 0:i.current)||"keyboard"!==A&&"virtual"!==A||f?void 0:u.format("resizerDescription")),F={"aria-label":c,"aria-orientation":"horizontal","aria-labelledby":"".concat(d," ").concat(EC(t.tableState,r.key)),"aria-valuetext":u.format("columnSize",{value:T}),type:"range",min:C,max:M,value:T,...D};const N=(0,y.useCallback)((()=>{n.current&&Lr(n.current)}),[n]);let R=t.resizingColumn,P=(0,y.useRef)(null);(0,y.useEffect)((()=>{if(P.current!==R&&null!=R&&R===r.key){m.current=document.activeElement===n.current,x(r);let e=setTimeout((()=>N()),0),t=setTimeout(N,400);return()=>{clearTimeout(e),clearTimeout(t)}}P.current=R}),[R,r,N,n,x]);let{pressProps:O}=qn({onPressStart:e=>{e.ctrlKey||e.altKey||e.metaKey||e.shiftKey||"keyboard"===e.pointerType||("virtual"!==e.pointerType||null==t.resizingColumn?(N(),"virtual"!==e.pointerType&&x(r)):_(r))},onPress:e=>{("touch"===e.pointerType&&m.current||"mouse"===e.pointerType)&&null!=t.resizingColumn&&_(r)}}),{visuallyHiddenProps:I}=hi();return{resizerProps:q(b,{...E,onKeyDown:S},O,{style:{touchAction:"none"}}),inputProps:q(I,{id:d,onBlur:()=>{_(r)},onChange:e=>{let n=t.getColumnWidth(r.key),i=parseFloat(e.target.value);i=i>n?n+10:n-10,w(r,i)},disabled:o},F),isResizing:f}}function LC(e){return e&&e.__esModule?e.default:e}function BC(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var jC,UC,KC,WC,qC,HC,VC,GC,YC,QC,XC,$C,ZC,JC,eM,tM,nM,rM,iM,oM,aM,lM,sM={};function cM(e){let{dropState:t,dragAndDropHooks:n}=OT();const{target:r,rowProps:i}=e;let o=(0,y.useRef)(),{dropIndicatorProps:a}=n.useDropIndicator(e,t,o),{visuallyHiddenProps:l}=hi(),s=t.isDropTarget(r);return!s&&a["aria-hidden"]?null:y.createElement("div",{style:{position:"absolute",top:i.style.top+("after"===r.dropPosition?i.style.height:0),width:i.style.width},role:"row","aria-hidden":a["aria-hidden"]},y.createElement("div",{role:"gridcell",className:ht(LC(sM),"react-spectrum-Table-InsertionIndicator",{"react-spectrum-Table-InsertionIndicator--dropTarget":s})},y.createElement("div",{...l,role:"button",...a,ref:o})))}BC(sM,"focus-ring",(()=>jC),(e=>jC=e)),BC(sM,"react-spectrum-Table",(()=>UC),(e=>UC=e)),BC(sM,"react-spectrum-Table-InsertionIndicator",(()=>KC),(e=>KC=e)),BC(sM,"react-spectrum-Table-InsertionIndicator--dropTarget",(()=>WC),(e=>WC=e)),BC(sM,"react-spectrum-Table-body",(()=>qC),(e=>qC=e)),BC(sM,"react-spectrum-Table-body--dropTarget",(()=>HC),(e=>HC=e)),BC(sM,"react-spectrum-Table-cell",(()=>VC),(e=>VC=e)),BC(sM,"react-spectrum-Table-cell--alignCenter",(()=>GC),(e=>GC=e)),BC(sM,"react-spectrum-Table-cell--alignEnd",(()=>YC),(e=>YC=e)),BC(sM,"react-spectrum-Table-cell--alignStart",(()=>QC),(e=>QC=e)),BC(sM,"react-spectrum-Table-cellWrapper",(()=>XC),(e=>XC=e)),BC(sM,"react-spectrum-Table-cellWrapper--dropTarget",(()=>$C),(e=>$C=e)),BC(sM,"react-spectrum-Table-centeredWrapper",(()=>ZC),(e=>ZC=e)),BC(sM,"react-spectrum-Table-dragButton",(()=>JC),(e=>JC=e)),BC(sM,"react-spectrum-Table-dragButtonCell",(()=>eM),(e=>eM=e)),BC(sM,"react-spectrum-Table-dragButtonHeadCell",(()=>tM),(e=>tM=e)),BC(sM,"react-spectrum-Table-headCell",(()=>nM),(e=>nM=e)),BC(sM,"react-spectrum-Table-row",(()=>rM),(e=>rM=e)),BC(sM,"react-spectrum-Table-row--dropTarget",(()=>iM),(e=>iM=e)),BC(sM,"react-spectrum-Table-row-badge",(()=>oM),(e=>oM=e)),BC(sM,"react-spectrum-Table-row-dragPreview",(()=>aM),(e=>aM=e)),BC(sM,"react-spectrum-Table-row-dragPreview--multiple",(()=>lM),(e=>lM=e)),jC="EfWbna_focus-ring",UC="EfWbna_react-spectrum-Table",KC="EfWbna_react-spectrum-Table-InsertionIndicator",WC="EfWbna_react-spectrum-Table-InsertionIndicator--dropTarget",qC="EfWbna_react-spectrum-Table-body",HC="EfWbna_react-spectrum-Table-body--dropTarget",VC="EfWbna_react-spectrum-Table-cell",GC="EfWbna_react-spectrum-Table-cell--alignCenter",YC="EfWbna_react-spectrum-Table-cell--alignEnd",QC="EfWbna_react-spectrum-Table-cell--alignStart",XC="EfWbna_react-spectrum-Table-cellWrapper",$C="EfWbna_react-spectrum-Table-cellWrapper--dropTarget",ZC="EfWbna_react-spectrum-Table-centeredWrapper",JC="EfWbna_react-spectrum-Table-dragButton",eM="EfWbna_react-spectrum-Table-dragButtonCell",tM="EfWbna_react-spectrum-Table-dragButtonHeadCell",nM="EfWbna_react-spectrum-Table-headCell",rM="EfWbna_react-spectrum-Table-row",iM="EfWbna_react-spectrum-Table-row--dropTarget",oM="EfWbna_react-spectrum-Table-row-badge",aM="EfWbna_react-spectrum-Table-row-dragPreview",lM="EfWbna_react-spectrum-Table-row-dragPreview--multiple";var uM={};function dM(){return y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},y.createElement("g",{fill:"var(--spectrum-global-color-blue-600)",stroke:"var(--spectrum-global-color-blue-600)",strokeWidth:"2"},y.createElement("circle",{cx:"8",cy:"8",r:"8",stroke:"none"}),y.createElement("circle",{cx:"8",cy:"8",r:"7",fill:"none"})),y.createElement("path",{d:"M-2106-7380.263v5l2.5-2.551Z",transform:"translate(2116 7385.763)",fill:"#fff",stroke:"#fff",strokeLinejoin:"round",strokeWidth:"2"}),y.createElement("path",{d:"M-2106-7380.263v5l2.5-2.551Z",transform:"translate(-2100 -7369.763) rotate(180)",fill:"#fff",stroke:"#fff",strokeLinejoin:"round",strokeWidth:"2"}))}uM={"ar-AE":Eg,"bg-BG":Sg,"cs-CZ":Cg,"da-DK":Mg,"de-DE":Tg,"el-GR":Ag,"en-US":Dg,"es-ES":Fg,"et-EE":Ng,"fi-FI":Rg,"fr-FR":zg,"he-IL":Pg,"hr-HR":Og,"hu-HU":Ig,"it-IT":Lg,"ja-JP":Bg,"ko-KR":jg,"lt-LT":Ug,"lv-LV":Kg,"nb-NO":Wg,"nl-NL":qg,"pl-PL":Hg,"pt-BR":Vg,"pt-PT":Gg,"ro-RO":Yg,"ru-RU":Qg,"sk-SK":Xg,"sl-SI":$g,"sr-SP":Zg,"sv-SE":Jg,"tr-TR":ev,"uk-UA":tv,"zh-CN":nv,"zh-TW":rv};var fM,hM,pM,mM,gM,vM,yM,bM,xM,wM,_M,kM,EM,SM,CM,MM,TM,AM,DM,FM,NM,RM,zM,PM,OM,IM,LM,BM,jM,UM,KM,WM,qM,HM,VM,GM,YM,QM,XM,$M,ZM,JM,eT,tT,nT,rT,iT,oT,aT,lT,sT,cT,uT,dT,fT,hT,pT,mT,gT,vT,yT,bT,xT,wT={};BC(wT,"contents",(()=>fM),(e=>fM=e)),BC(wT,"expand-button",(()=>hM),(e=>hM=e)),BC(wT,"focus-ring",(()=>pM),(e=>pM=e)),BC(wT,"i18nFontFamily",(()=>mM),(e=>mM=e)),BC(wT,"is-active",(()=>gM),(e=>gM=e)),BC(wT,"is-disabled",(()=>vM),(e=>vM=e)),BC(wT,"is-drop-target",(()=>yM),(e=>yM=e)),BC(wT,"is-focused",(()=>bM),(e=>bM=e)),BC(wT,"is-hovered",(()=>xM),(e=>xM=e)),BC(wT,"is-next-selected",(()=>wM),(e=>wM=e)),BC(wT,"is-open",(()=>_M),(e=>_M=e)),BC(wT,"is-resizable",(()=>kM),(e=>kM=e)),BC(wT,"is-selected",(()=>EM),(e=>EM=e)),BC(wT,"is-sortable",(()=>SM),(e=>SM=e)),BC(wT,"is-sorted-asc",(()=>CM),(e=>CM=e)),BC(wT,"is-sorted-desc",(()=>MM),(e=>MM=e)),BC(wT,"spectrum-FocusRing-ring",(()=>TM),(e=>TM=e)),BC(wT,"spectrum-FocusRing",(()=>AM),(e=>AM=e)),BC(wT,"spectrum-FocusRing--quiet",(()=>DM),(e=>DM=e)),BC(wT,"spectrum-Table",(()=>FM),(e=>FM=e)),BC(wT,"spectrum-Table--compact",(()=>NM),(e=>NM=e)),BC(wT,"spectrum-Table--isHorizontalScrollbarVisible",(()=>RM),(e=>RM=e)),BC(wT,"spectrum-Table--isVerticalScrollbarVisible",(()=>zM),(e=>zM=e)),BC(wT,"spectrum-Table--loadingMore",(()=>PM),(e=>PM=e)),BC(wT,"spectrum-Table--quiet",(()=>OM),(e=>OM=e)),BC(wT,"spectrum-Table--regular",(()=>IM),(e=>IM=e)),BC(wT,"spectrum-Table--spacious",(()=>LM),(e=>LM=e)),BC(wT,"spectrum-Table--wrap",(()=>BM),(e=>BM=e)),BC(wT,"spectrum-Table-body",(()=>jM),(e=>jM=e)),BC(wT,"spectrum-Table-body--resizerAtTableEdge",(()=>UM),(e=>UM=e)),BC(wT,"spectrum-Table-bodyResizeIndicator",(()=>KM),(e=>KM=e)),BC(wT,"spectrum-Table-cell",(()=>WM),(e=>WM=e)),BC(wT,"spectrum-Table-cell--alignCenter",(()=>qM),(e=>qM=e)),BC(wT,"spectrum-Table-cell--alignEnd",(()=>HM),(e=>HM=e)),BC(wT,"spectrum-Table-cell--divider",(()=>VM),(e=>VM=e)),BC(wT,"spectrum-Table-cell--hasExpandCollapseButton",(()=>GM),(e=>GM=e)),BC(wT,"spectrum-Table-cell--hideHeader",(()=>YM),(e=>YM=e)),BC(wT,"spectrum-Table-cellContents",(()=>QM),(e=>QM=e)),BC(wT,"spectrum-Table-cellWrapper",(()=>XM),(e=>XM=e)),BC(wT,"spectrum-Table-checkbox",(()=>$M),(e=>$M=e)),BC(wT,"spectrum-Table-checkboxCell",(()=>ZM),(e=>ZM=e)),BC(wT,"spectrum-Table-colResizeIndicator",(()=>JM),(e=>JM=e)),BC(wT,"spectrum-Table-colResizeIndicator--resizing",(()=>eT),(e=>eT=e)),BC(wT,"spectrum-Table-colResizeIndicator--visible",(()=>tT),(e=>tT=e)),BC(wT,"spectrum-Table-colResizeNubbin",(()=>nT),(e=>nT=e)),BC(wT,"spectrum-Table-colResizeNubbin--visible",(()=>rT),(e=>rT=e)),BC(wT,"spectrum-Table-columnResizer",(()=>iT),(e=>iT=e)),BC(wT,"spectrum-Table-columnResizerPlaceholder",(()=>oT),(e=>oT=e)),BC(wT,"spectrum-Table-expandButton",(()=>aT),(e=>aT=e)),BC(wT,"spectrum-Table-headCell",(()=>lT),(e=>lT=e)),BC(wT,"spectrum-Table-headCellButton",(()=>sT),(e=>sT=e)),BC(wT,"spectrum-Table-headCellButton--alignCenter",(()=>cT),(e=>cT=e)),BC(wT,"spectrum-Table-headCellButton--alignEnd",(()=>uT),(e=>uT=e)),BC(wT,"spectrum-Table-headCellButton--alignStart",(()=>dT),(e=>dT=e)),BC(wT,"spectrum-Table-headCellContents",(()=>fT),(e=>fT=e)),BC(wT,"spectrum-Table-headWrapper",(()=>hT),(e=>hT=e)),BC(wT,"spectrum-Table-headerCellText",(()=>pT),(e=>pT=e)),BC(wT,"spectrum-Table-menuChevron",(()=>mT),(e=>mT=e)),BC(wT,"spectrum-Table-row",(()=>gT),(e=>gT=e)),BC(wT,"spectrum-Table-row--firstRow",(()=>vT),(e=>vT=e)),BC(wT,"spectrum-Table-row--isFlushBottom",(()=>yT),(e=>yT=e)),BC(wT,"spectrum-Table-row--lastRow",(()=>bT),(e=>bT=e)),BC(wT,"spectrum-Table-sortedIcon",(()=>xT),(e=>xT=e)),fM="_5uzlQq_contents",hM="_5uzlQq_expand-button",pM="_5uzlQq_focus-ring",mM="_5uzlQq_i18nFontFamily",gM="_5uzlQq_is-active",vM="_5uzlQq_is-disabled",yM="_5uzlQq_is-drop-target",bM="_5uzlQq_is-focused",xM="_5uzlQq_is-hovered",wM="_5uzlQq_is-next-selected",_M="_5uzlQq_is-open",kM="_5uzlQq_is-resizable",EM="_5uzlQq_is-selected",SM="_5uzlQq_is-sortable",CM="_5uzlQq_is-sorted-asc",MM="_5uzlQq_is-sorted-desc",AM="_5uzlQq_spectrum-FocusRing ".concat(TM="_5uzlQq_spectrum-FocusRing-ring"),DM="_5uzlQq_spectrum-FocusRing--quiet",FM="_5uzlQq_spectrum-Table",NM="_5uzlQq_spectrum-Table--compact",RM="_5uzlQq_spectrum-Table--isHorizontalScrollbarVisible",zM="_5uzlQq_spectrum-Table--isVerticalScrollbarVisible",PM="_5uzlQq_spectrum-Table--loadingMore",OM="_5uzlQq_spectrum-Table--quiet",IM="_5uzlQq_spectrum-Table--regular",LM="_5uzlQq_spectrum-Table--spacious",BM="_5uzlQq_spectrum-Table--wrap",jM="_5uzlQq_spectrum-Table-body",UM="_5uzlQq_spectrum-Table-body--resizerAtTableEdge",KM="_5uzlQq_spectrum-Table-bodyResizeIndicator",WM="_5uzlQq_spectrum-Table-cell",qM="_5uzlQq_spectrum-Table-cell--alignCenter",HM="_5uzlQq_spectrum-Table-cell--alignEnd",VM="_5uzlQq_spectrum-Table-cell--divider",GM="_5uzlQq_spectrum-Table-cell--hasExpandCollapseButton",YM="_5uzlQq_spectrum-Table-cell--hideHeader",QM="_5uzlQq_spectrum-Table-cellContents",XM="_5uzlQq_spectrum-Table-cellWrapper",$M="_5uzlQq_spectrum-Table-checkbox",ZM="_5uzlQq_spectrum-Table-checkboxCell",JM="_5uzlQq_spectrum-Table-colResizeIndicator",eT="_5uzlQq_spectrum-Table-colResizeIndicator--resizing",tT="_5uzlQq_spectrum-Table-colResizeIndicator--visible",nT="_5uzlQq_spectrum-Table-colResizeNubbin",rT="_5uzlQq_spectrum-Table-colResizeNubbin--visible",iT="_5uzlQq_spectrum-Table-columnResizer",oT="_5uzlQq_spectrum-Table-columnResizerPlaceholder",aT="_5uzlQq_spectrum-Table-expandButton",lT="_5uzlQq_spectrum-Table-headCell",sT="_5uzlQq_spectrum-Table-headCellButton",cT="_5uzlQq_spectrum-Table-headCellButton--alignCenter",uT="_5uzlQq_spectrum-Table-headCellButton--alignEnd",dT="_5uzlQq_spectrum-Table-headCellButton--alignStart",fT="_5uzlQq_spectrum-Table-headCellContents",hT="_5uzlQq_spectrum-Table-headWrapper",pT="_5uzlQq_spectrum-Table-headerCellText",mT="_5uzlQq_spectrum-Table-menuChevron",gT="_5uzlQq_spectrum-Table-row",vT="_5uzlQq_spectrum-Table-row--firstRow",yT="_5uzlQq_spectrum-Table-row--isFlushBottom",bT="_5uzlQq_spectrum-Table-row--lastRow",xT="_5uzlQq_spectrum-Table-sortedIcon";function _T(e,t){return ie()?'image-set(url("data:image/svg+xml,'.concat(encodeURIComponent(e),'") 1x, url("data:image/svg+xml,').concat(encodeURIComponent(e.replace('width="32" height="32"','width="64" height="64"')),'") 2x) 8 8, ').concat(t):'url("data:image/svg+xml,'.concat(encodeURIComponent(e),'") 8 8, ').concat(t)}const kT={ew:_T(LC('<?xml version="1.0" encoding="UTF-8"?>\n<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="-1 0 31 32">\n  <filter id="shadow">\n    <feDropShadow dx="0" dy="0.5" stdDeviation="1.2" flood-opacity="0.7"></feDropShadow>\n  </filter>\n  <g filter="url(\'#shadow\')" transform="translate(.5 0)">\n    <path fill="#fff" d="M9.5,2a.5.5,0,0,1,.5.5V9h3V7.2505A.25014.25014,0,0,1,13.24978,7h.00152a.246.246,0,0,1,.15875.05847L16,9.5l-2.58995,2.44153A.24611.24611,0,0,1,13.2513,12,.25016.25016,0,0,1,13,11.751V10H10v6.5a.5.5,0,0,1-.5.5h-1a.5.5,0,0,1-.5-.5V10H5v1.7495A.25014.25014,0,0,1,4.75022,12H4.7487A.246.246,0,0,1,4.59,11.94153L2,9.5,4.59,7.05847A.246.246,0,0,1,4.7487,7,.25016.25016,0,0,1,5,7.249V9H8V2.5A.5.5,0,0,1,8.5,2Zm0-1h-1A1.5,1.5,0,0,0,7,2.5V8H6V7.32389a1.33,1.33,0,0,0-.4816-1.05444,1.23962,1.23962,0,0,0-1.56876.021l-.02344.01953-.0222.02088L.92812,9.13618A.5.5,0,0,0,.90726,9.843l.02086.02085L3.904,12.66919l.02221.02088.02345.01965a1.23986,1.23986,0,0,0,1.56836.02116A1.3294,1.3294,0,0,0,6,11.6765V11H7v5.5A1.5,1.5,0,0,0,8.5,18h1A1.5,1.5,0,0,0,11,16.5V11h1v.67757a1.32792,1.32792,0,0,0,.482,1.05347,1.24,1.24,0,0,0,1.56839-.02144l.02343-.01953.02221-.02088,2.97588-2.80537a.5.5,0,0,0,.02086-.70679l-.02086-.02085L14.096,6.33081l-.02221-.02087-.02345-.01965A1.24978,1.24978,0,0,0,12,7.2505V8H11V2.5A1.5,1.5,0,0,0,9.5,1Z"></path>\n    <path d="M10,16.5V10h3v1.7495a.25.25,0,0,0,.41.19206L16,9.5,13.41,7.05842A.25.25,0,0,0,13,7.2505V9H10V2.5A.5.5,0,0,0,9.5,2h-1a.5.5,0,0,0-.5.5V9H5V7.2505a.25.25,0,0,0-.41-.19206L2,9.5l2.59,2.44158A.25.25,0,0,0,5,11.7495V10H8v6.5a.5.5,0,0,0,.5.5h1A.5.5,0,0,0,10,16.5Z"></path>\n  </g>\n</svg>\n'),"ew-resize"),w:_T(LC('<?xml version="1.0" encoding="UTF-8"?>\n<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="-1 0 31 32">\n  <filter id="shadow">\n    <feDropShadow dx="0" dy="0.5" stdDeviation="1.2" flood-opacity="0.7"></feDropShadow>\n  </filter>\n  <g filter="url(\'#shadow\')" transform="translate(.5 0)">\n    <path d="M9.5,2c.27614,0,.5,.22388,.5,.5v14c0,.27612-.22386,.5-.5,.5h-1c-.27614,0-.5-.22388-.5-.5v-6.5h-3v1.74951c0,.14893-.12215,.25049-.2513,.25049-.05457,0-.1104-.01819-.15875-.05847l-2.58995-2.44153,2.58995-2.44153c.04837-.04028,.10419-.05847,.15875-.05847,.12914,0,.2513,.10156,.2513,.25049v1.74951h3V2.5c0-.27612,.22386-.5,.5-.5h1Zm0-1h-1c-.82843,0-1.5,.67157-1.5,1.5v5.5h-1v-.67611c0-.40436-.1629-.80555-.48159-1.05444-.4961-.38744-1.14015-.33635-1.56876,.02095l-.02344,.01953-.0222,.02087L.92811,9.13618c-.20937,.19737-.20937,.53028,0,.72765l2.97589,2.80537,.0222,.02087,.02345,.01965c.42839,.35694,1.07208,.40833,1.56837,.02116,.31886-.24875,.48198-.64994,.48198-1.05435v-.67652s.99999,0,.99999,0v5.5c0,.82843,.67157,1.5,1.5,1.5h1c.82843,0,1.5-.67157,1.5-1.5V2.5c0-.82843-.67157-1.5-1.5-1.5Z" fill="#fff"></path>\n    <path d="M10,16.5V2.5c0-.27614-.22386-.5-.5-.5h-1c-.27614,0-.5,.22386-.5,.5v6.5h-3v-1.74952c0-.21196-.24721-.32775-.41005-.19206l-2.58995,2.44158,2.58995,2.44158c.16283,.13569,.41005,.0199,.41005-.19206v-1.74952h3v6.5c0,.27614,.22386,.5,.5,.5h1c.27614,0,.5-.22386,.5-.5Z"></path>\n  </g>\n</svg>\n'),"w-resize"),e:_T(LC('<?xml version="1.0" encoding="UTF-8"?>\n<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="-1 0 31 32">\n  <filter id="shadow">\n    <feDropShadow dx="0" dy="0.5" stdDeviation="1.2" flood-opacity="0.7"></feDropShadow>\n  </filter>\n  <g filter="url(\'#shadow\')" transform="translate(.5 0)">\n    <path d="M9.5,2c.27614,0,.5,.22388,.5,.5v6.5h3v-1.74951c0-.14893,.12215-.25049,.2513-.25049,.05457,0,.1104,.01819,.15875,.05847l2.58995,2.44153-2.58995,2.44153c-.04837,.04028-.10419,.05847-.15875,.05847-.12914,0-.2513-.10156-.2513-.25049v-1.74951h-3v6.5c0,.27612-.22386,.5-.5,.5h-1c-.27614,0-.5-.22388-.5-.5V2.5c0-.27612,.22386-.5,.5-.5h1Zm0-1h-1c-.82843,0-1.5,.67157-1.5,1.5v14c0,.82843,.67157,1.5,1.5,1.5h1c.82843,0,1.5-.67157,1.5-1.5v-5.5h1v.67757c0,.40416,.1632,.80501,.48197,1.05347,.49639,.3869,1.14001,.33571,1.56838-.02144l.02344-.01953,.0222-.02087,2.97589-2.80537c.20937-.19737,.20937-.53028,0-.72765l-2.97589-2.80537-.0222-.02087-.02345-.01965c-.22456-.18713-.5083-.29028-.79895-.29028-.3208,0-.62624,.12134-.86003,.34167-.24872,.23438-.39136,.56567-.39136,.90881v.74951h-1V2.5c0-.82843-.67157-1.5-1.5-1.5Z" fill="#fff"></path>\n    <path d="M10,16.5v-6.5h3v1.74952c0,.21196,.24721,.32775,.41005,.19206l2.58995-2.44158-2.58995-2.44158c-.16283-.13569-.41005-.0199-.41005,.19206v1.74952h-3V2.5c0-.27614-.22386-.5-.5-.5h-1c-.27614,0-.5,.22386-.5,.5v14c0,.27614,.22386,.5,.5,.5h1c.27614,0,.5-.22386,.5-.5Z"></path>\n  </g>\n</svg>\n'),"e-resize")};function ET(e,t){let{column:n,showResizer:r}=e,{isEmpty:i,layout:o,onFocusedResizer:a}=OT();(0,y.useContext)(IT);let l=st(LC(uM),"@react-spectrum/table"),{direction:s}=ot(),[c,u]=(0,y.useState)(!1);(0,y.useEffect)((()=>{let e=e=>{"mouse"===e.pointerType&&u(!0)},t=e=>{"mouse"===e.pointerType&&u(!1)};return document.addEventListener("pointerdown",e,{capture:!0}),document.addEventListener("pointerup",t,{capture:!0}),()=>{document.removeEventListener("pointerdown",e,{capture:!0}),document.removeEventListener("pointerup",t,{capture:!0})}}),[]);let{inputProps:d,resizerProps:f}=IC(q(e,{"aria-label":l.format("columnResizer"),isDisabled:i}),o,t),h=o.getColumnMinWidth(n.key)>=o.getColumnWidth(n.key),p=o.getColumnMaxWidth(n.key)<=o.getColumnWidth(n.key),m=o.resizingColumn===n.key,g="";g=h?"rtl"===s?kT.w:kT.e:p?"rtl"===s?kT.e:kT.w:kT.ew;let v={...f.style,height:"100%",display:r?void 0:"none",cursor:g};return y.createElement(y.Fragment,null,y.createElement(oi,{within:!0,focusRingClass:ht(LC(wT),"focus-ring")},y.createElement("div",{...f,role:"presentation",style:v,className:ht(LC(wT),"spectrum-Table-columnResizer")},y.createElement("input",{ref:t,...q(d,{onFocus:a})}))),y.createElement("div",{"aria-hidden":!0,role:"presentation",className:ht(LC(wT),"spectrum-Table-columnResizerPlaceholder")}),y.createElement(ST,{show:m&&c},y.createElement("div",{style:{position:"fixed",top:0,left:0,bottom:0,right:0,cursor:g}})))}function ST(e){let{show:t,children:n}=e;return t?di.createPortal(n,document.body):null}const CT=y.forwardRef(ET);function MT(){let{dropState:e,dragAndDropHooks:t,state:n}=OT(),r=(0,y.useRef)(),{dropIndicatorProps:i}=t.useDropIndicator({target:{type:"root"}},e,r),o=e.isDropTarget({type:"root"}),{visuallyHiddenProps:a}=hi();return!o&&i["aria-hidden"]?null:y.createElement("div",{role:"row","aria-hidden":i["aria-hidden"]},y.createElement("div",{role:"gridcell","aria-selected":"false","aria-colspan":n.collection.columns.length},y.createElement("div",{role:"button",...a,...i,ref:r})))}function TT(e){let{itemText:t,itemCount:n,height:r,maxWidth:i}=e,o=n>1;return y.createElement(va,{justifyContent:"space-between",height:r,maxWidth:i,UNSAFE_className:ht(LC(wT),"spectrum-Table-row",ht(LC(sM),"react-spectrum-Table-row","react-spectrum-Table-row-dragPreview",{"react-spectrum-Table-row-dragPreview--multiple":o}))},y.createElement("div",{className:ht(LC(wT),"spectrum-Table-cell",ht(LC(sM),"react-spectrum-Table-cell"))},y.createElement("span",{className:ht(LC(wT),"spectrum-Table-cellContents")},t)),o&&y.createElement("div",{className:ht(LC(sM),"react-spectrum-Table-row-badge")},n))}const AT={medium:34,large:40},DT={medium:38,large:46},FT={compact:{medium:32,large:40},regular:{medium:40,large:50},spacious:{medium:48,large:60}},NT={medium:38,large:48},RT={medium:16,large:20},zT={medium:16,large:20},PT=y.createContext(null);function OT(){return(0,y.useContext)(PT)}const IT=y.createContext(null);function LT(e,t){var n;e=Io(e);let{isQuiet:r,onAction:i,onResizeStart:o,onResizeEnd:a,dragAndDropHooks:l,state:s}=e,c=!!(null===l||void 0===l?void 0:l.useDraggableCollectionState),u=!!(null===l||void 0===l?void 0:l.useDroppableCollectionState),d=(0,y.useRef)(c),f=(0,y.useRef)(u);(0,y.useEffect)((()=>{d.current!==c&&console.warn("Drag hooks were provided during one render, but not another. This should be avoided as it may produce unexpected behavior."),f.current!==u&&console.warn("Drop hooks were provided during one render, but not another. This should be avoided as it may produce unexpected behavior."),"expandedKeys"in s&&(c||u)&&console.warn("Drag and drop is not yet fully supported with expandable rows and may produce unexpected results.")}),[c,u,s]);let{styleProps:h}=Lt(e),{direction:p}=ot(),{scale:m}=Oo();const g=(0,y.useCallback)((e=>{let{props:{hideHeader:t,isSelectionCell:n,showDivider:r,isDragButtonCell:i}}=e;if(t){let e=DT[m];return r?e+1:e}return n?NT[m]:i?RT[m]:void 0}),[m]),v=(0,y.useCallback)((e=>{let{props:{hideHeader:t,isSelectionCell:n,showDivider:r,isDragButtonCell:i}}=e;if(t){let e=DT[m];return r?e+1:e}return n?NT[m]:i?RT[m]:75}),[m]);let b,[x,w]=(0,y.useState)(!1),[,_]=(0,y.useState)(!1),k=vt(t),E=(0,y.useRef)(),S=(0,y.useRef)(),C=st(LC(uM),"@react-spectrum/table"),M=e.density||"regular",T=(0,y.useMemo)((()=>new Pv({getDefaultWidth:g,getDefaultMinWidth:v})),[g,v]),A=(0,y.useMemo)((()=>new Lk({rowHeight:"wrap"===e.overflowMode?null:FT[M][m],estimatedRowHeight:"wrap"===e.overflowMode?FT[M][m]:null,headingHeight:"wrap"===e.overflowMode?null:AT[m],estimatedHeadingHeight:"wrap"===e.overflowMode?AT[m]:null,columnLayout:T,initialCollection:s.collection})),[e.overflowMode,m,M,T]),D=(0,y.useMemo)((()=>{let e=new Proxy(A,{get:(e,t,n)=>"tableState"===t?s:Reflect.get(e,t,n)});return e}),[s,A]),F=(0,y.useRef)(null);c&&(b=l.useDraggableCollectionState({collection:s.collection,selectionManager:s.selectionManager,preview:F}),l.useDraggableCollection({},b,k));let N,R,z,P=null===l||void 0===l?void 0:l.DragPreview;u&&(N=l.useDroppableCollectionState({collection:s.collection,selectionManager:s.selectionManager}),R=l.useDroppableCollection({keyboardDelegate:D,dropTargetDelegate:D},N,k),z=N.isDropTarget({type:"root"}));let{gridProps:O}=AC({...e,isVirtualized:!0,layout:D,onRowAction:i},s,k),[I,L]=(0,y.useState)(!1),[B,j]=(0,y.useState)(!1),[U,K]=(0,y.useState)(!1),[W,H]=(0,y.useState)(!1),V=(0,y.useRef)({x:0,y:0,width:0,height:0}),G=(0,y.useCallback)((e=>{V.current.width===e.width&&V.current.height===e.height||(V.current=e,S.current&&(K(S.current.clientWidth+2<S.current.offsetWidth),H(S.current.clientHeight+2<S.current.offsetHeight)))}),[]),{isFocusVisible:Y,focusProps:Q}=ii(),X=0===s.collection.size,$=(0,y.useCallback)((e=>{_(!0),null===o||void 0===o||o(e)}),[_,o]),Z=(0,y.useCallback)((e=>{w(!1),_(!1),null===a||void 0===a||a(e)}),[a,w,_]),J=s.selectionManager.focusedKey;"item"===(null===N||void 0===N||null===(n=N.target)||void 0===n?void 0:n.type)&&(J=N.target.key);let ee=q(u&&(null===R||void 0===R?void 0:R.collectionProps),O,Q,(null===l||void 0===l?void 0:l.isVirtualDragging())&&{tabIndex:null});return y.createElement(PT.Provider,{value:{state:s,dragState:b,dropState:N,dragAndDropHooks:l,isTableDraggable:c,isTableDroppable:u,layout:D,onResizeStart:$,onResize:e.onResize,onResizeEnd:Z,headerRowHovered:B,isInResizeMode:x,setIsInResizeMode:w,isEmpty:X,onFocusedResizer:()=>{S.current.scrollLeft=E.current.scrollLeft},headerMenuOpen:I,setHeaderMenuOpen:L}},y.createElement(BT,{...ee,...h,className:ht(LC(wT),"spectrum-Table","spectrum-Table--".concat(M),{"spectrum-Table--quiet":r,"spectrum-Table--wrap":"wrap"===e.overflowMode,"spectrum-Table--loadingMore":"loadingMore"===s.collection.body.props.loadingState,"spectrum-Table--isVerticalScrollbarVisible":U,"spectrum-Table--isHorizontalScrollbarVisible":W},ht(LC(sM),"react-spectrum-Table"),h.className),layout:D,collection:s.collection,focusedKey:J,renderView:(t,n)=>{switch(t){case"header":case"rowgroup":case"section":case"row":case"headerrow":return null;case"cell":return n.props.isSelectionCell?y.createElement(JT,{cell:n}):n.props.isDragButtonCell?y.createElement(ZT,{cell:n}):y.createElement(eA,{cell:n});case"placeholder":return y.createElement("div",{role:"gridcell","aria-colindex":n.index+1,"aria-colspan":n.colspan>1?n.colspan:null});case"column":return n.props.isSelectionCell?y.createElement(HT,{column:n}):n.props.isDragButtonCell?y.createElement(VT,{column:n}):n.props.hideHeader?y.createElement(qE,{placement:"top",trigger:"focus"},y.createElement(UT,{column:n}),y.createElement(jE,{placement:"top"},n.rendered)):n.props.allowsResizing&&!n.hasChildNodes?y.createElement(qT,{tableRef:k,column:n}):y.createElement(UT,{column:n});case"loader":return y.createElement(nA,null,y.createElement(Ok,{isIndeterminate:!0,"aria-label":s.collection.size>0?C.format("loadingMore"):C.format("loading")}));case"empty":{let t=e.renderEmptyState?e.renderEmptyState():null;return null==t?null:y.createElement(nA,null,t)}}},renderWrapper:(e,t,n,r)=>{let o,a,l=O_(t.layoutInfo,p,e&&e.layoutInfo);return"hidden"===l.overflow&&(l.overflow="visible"),"rowgroup"===t.viewType?y.createElement(GT,{key:t.key,style:l},u&&y.createElement(MT,{key:"root"}),r(n)):"header"===t.viewType?y.createElement(jT,{key:t.key,style:l},r(n)):"row"===t.viewType?y.createElement(XT,{key:t.key,item:t.content,style:l,hasActions:i,isTableDroppable:u,isTableDraggable:c},r(n)):"headerrow"===t.viewType?y.createElement($T,{onHoverChange:j,key:t.key,style:l,item:t.content},r(n)):(u&&(e.content&&(o=N.isDropTarget({type:"item",dropPosition:"on",key:e.content.key})),a=N.isDropTarget({type:"root"})),y.createElement(z_,{key:t.key,layoutInfo:t.layoutInfo,virtualizer:t.virtualizer,parent:null===e||void 0===e?void 0:e.layoutInfo,className:ht(LC(wT),"spectrum-Table-cellWrapper",ht(LC(sM),{"react-spectrum-Table-cellWrapper":!t.layoutInfo.estimatedSize,"react-spectrum-Table-cellWrapper--dropTarget":o||a}))},t.rendered))},onVisibleRectChange:G,domRef:k,headerRef:E,bodyRef:S,isFocusVisible:Y,isVirtualDragging:null===l||void 0===l?void 0:l.isVirtualDragging(),isRootDropTarget:z}),P&&c&&y.createElement(P,{ref:F},(()=>{if(l.renderPreview)return l.renderPreview(b.draggingKeys,b.draggedKey);let e=b.draggingKeys.size,t=S.current.getBoundingClientRect().width,n=FT[M][m],r=s.collection.getTextValue(b.draggedKey);return y.createElement(TT,{itemText:r,itemCount:e,height:n,maxWidth:t})})))}function BT(e){var t;let{layout:n,collection:r,focusedKey:i,renderView:o,renderWrapper:a,domRef:l,bodyRef:s,headerRef:c,onVisibleRectChange:u,isFocusVisible:d,isVirtualDragging:f,isRootDropTarget:h,...p}=e,{direction:m}=ot(),g=r.body.props.loadingState,v="loading"===g||"loadingMore"===g,b=r.body.props.onLoadMore,x=220;v&&(x=160),null!=n.resizingColumn&&(x=0);let w=S_({layout:n,collection:r,renderView:o,renderWrapper:a,onVisibleRectChange(e){s.current.scrollTop=e.y,A_(s.current,m,e.x)},transitionDuration:x}),_=(0,y.useCallback)((e=>{let t=r.getItem(e),i=r.columns[0];w.virtualizer.scrollToItem(e,{duration:0,shouldScrollY:"column"!==(null===t||void 0===t?void 0:t.type),offsetX:i.props.isSelectionCell||i.props.isDragButtonCell?n.getColumnWidth(i.key):0}),c.current.scrollLeft=s.current.scrollLeft}),[r,s,c,n,w.virtualizer]),k=(0,y.useMemo)((()=>({tabIndex:p.tabIndex,focusedKey:i,scrollToItem:_,isLoading:v,onLoadMore:b})),[p.tabIndex,i,_,v,b]),{virtualizerProps:E,scrollViewProps:{onVisibleRectChange:S}}=I_(k,w,l);(0,y.useEffect)((()=>{"keyboard"===br()&&c.current.contains(document.activeElement)&&(Fe(c.current,document.activeElement),Re(document.activeElement,{containingElement:l.current}),s.current.scrollLeft=c.current.scrollLeft)}),[w.contentSize,c,s,l]);let C=(null===(t=n.getLayoutInfo("header"))||void 0===t?void 0:t.rect.height)||0,M=(0,y.useCallback)((()=>{c.current.scrollLeft=s.current.scrollLeft}),[s,c]),T=n.getResizerPosition()-2,A=T>Math.max(w.virtualizer.contentSize.width,w.virtualizer.visibleRect.width)-3,D=T<w.virtualizer.visibleRect.maxX,F=A&&D,N=n.getColumnWidth(n.resizingColumn),R=(0,y.useMemo)((()=>({width:N,key:n.resizingColumn})),[N,n.resizingColumn]),z=q(p,E,f&&{tabIndex:null});return y.createElement(IT.Provider,{value:R},y.createElement(Kr,null,y.createElement("div",{...z,ref:l},y.createElement("div",{role:"presentation",className:ht(LC(wT),"spectrum-Table-headWrapper"),style:{height:C,overflow:"hidden",position:"relative",willChange:w.isScrolling?"scroll-position":void 0,transition:w.isAnimating?"none ".concat(w.virtualizer.transitionDuration,"ms"):void 0},ref:c},w.visibleViews[0]),y.createElement(N_,{role:"presentation",className:ht(LC(wT),"spectrum-Table-body",{"focus-ring":d,"spectrum-Table-body--resizerAtTableEdge":F},ht(LC(sM),"react-spectrum-Table-body",{"react-spectrum-Table-body--dropTarget":!!h})),tabIndex:f?null:-1,style:{flex:1},innerStyle:{overflow:"visible",transition:w.isAnimating?"none ".concat(w.virtualizer.transitionDuration,"ms"):void 0},ref:s,contentSize:w.contentSize,onVisibleRectChange:U(S,u),onScrollStart:w.startScrolling,onScrollEnd:w.endScrolling,onScroll:M},w.visibleViews[1],y.createElement("div",{className:ht(LC(wT),"spectrum-Table-bodyResizeIndicator"),style:{["ltr"===m?"left":"right"]:"".concat(T,"px"),height:"".concat(Math.max(w.virtualizer.contentSize.height,w.virtualizer.visibleRect.height),"px"),display:n.resizingColumn?"block":"none"}})))))}function jT(e){let{children:t,...n}=e,{rowGroupProps:r}={rowGroupProps:{role:"rowgroup"}};return y.createElement("div",{...r,...n,className:ht(LC(wT),"spectrum-Table-head")},t)}function UT(e){var t,n,r,i;let{column:o}=e,a=(0,y.useRef)(null),{state:l,isEmpty:s}=OT(),{pressProps:c,isPressed:u}=qn({isDisabled:s}),d=o.props;(0,y.useEffect)((()=>{o.hasChildNodes&&d.allowsResizing&&console.warn("Column key: ".concat(o.key,". Columns with child columns don't allow resizing."))}),[o.hasChildNodes,o.key,d.allowsResizing]);let{columnHeaderProps:f}=DC({node:o,isVirtualized:!0},l,a),{hoverProps:h,isHovered:p}=Dr({...e,isDisabled:s});const m=[f,h,c];return y.createElement(oi,{focusRingClass:ht(LC(wT),"focus-ring")},y.createElement("div",{...q(...m),ref:a,className:ht(LC(wT),"spectrum-Table-headCell",{"is-active":u,"is-sortable":d.allowsSorting,"is-sorted-desc":(null===(t=l.sortDescriptor)||void 0===t?void 0:t.column)===o.key&&"descending"===(null===(n=l.sortDescriptor)||void 0===n?void 0:n.direction),"is-sorted-asc":(null===(r=l.sortDescriptor)||void 0===r?void 0:r.column)===o.key&&"ascending"===(null===(i=l.sortDescriptor)||void 0===i?void 0:i.direction),"is-hovered":p,"spectrum-Table-cell--hideHeader":d.hideHeader},ht(LC(sM),"react-spectrum-Table-cell",{"react-spectrum-Table-cell--alignCenter":"center"===d.align||o.colspan>1,"react-spectrum-Table-cell--alignEnd":"end"===d.align}))},d.allowsSorting&&y.createElement(ey,{UNSAFE_className:ht(LC(wT),"spectrum-Table-sortedIcon")}),d.hideHeader?y.createElement(pi,null,o.rendered):y.createElement("div",{className:ht(LC(wT),"spectrum-Table-headCellContents")},o.rendered)))}let KT=(e,t)=>{let{focusProps:n,alignment:r,...i}=e,{isEmpty:o}=OT(),a=yt(t),{buttonProps:l}=cd({...i,elementType:"div",isDisabled:o},a),{hoverProps:s,isHovered:c}=Dr({...i,isDisabled:o});return y.createElement("div",{className:ht(LC(wT),"spectrum-Table-headCellContents",{"is-hovered":c}),...s},y.createElement("div",{className:ht(LC(wT),"spectrum-Table-headCellButton",{"spectrum-Table-headCellButton--alignStart":"start"===r,"spectrum-Table-headCellButton--alignCenter":"center"===r,"spectrum-Table-headCellButton--alignEnd":"end"===r}),...q(l,n),ref:a},e.children))},WT=y.forwardRef(KT);function qT(e){var t,n,r,i,o;let{column:a}=e,l=(0,y.useRef)(null),s=(0,y.useRef)(null),c=(0,y.useRef)(null),{state:u,layout:d,onResizeStart:f,onResize:h,onResizeEnd:p,headerRowHovered:m,setIsInResizeMode:g,isEmpty:v,isInResizeMode:b,headerMenuOpen:x,setHeaderMenuOpen:w}=OT(),_=st(LC(uM),"@react-spectrum/table"),{pressProps:k,isPressed:E}=qn({isDisabled:v}),{columnHeaderProps:S}=DC({node:a,isVirtualized:!0},u,l),{hoverProps:C,isHovered:M}=Dr({...e,isDisabled:v||x});const T=[S,k,C];let A=a.props,{isFocusVisible:D,focusProps:F}=ii();let N=null===(t=a.props)||void 0===t?void 0:t.allowsSorting,R=(0,y.useMemo)((()=>[N?{label:_.format("sortAscending"),id:"sort-asc"}:void 0,N?{label:_.format("sortDescending"),id:"sort-desc"}:void 0,{label:_.format("resizeColumn"),id:"resize"}]),[N]),z=d.resizingColumn,P=!v&&(m&&"keyboard"!==br()||null!=z),O="start",I="start";return"center"===A.align||a.colspan>1?O="center":"end"===A.align&&(O="end",I="end"),y.createElement(oi,{focusRingClass:ht(LC(wT),"focus-ring")},y.createElement("div",{...q(...T),ref:l,className:ht(LC(wT),"spectrum-Table-headCell",{"is-active":E,"is-resizable":A.allowsResizing,"is-sortable":A.allowsSorting,"is-sorted-desc":(null===(n=u.sortDescriptor)||void 0===n?void 0:n.column)===a.key&&"descending"===(null===(r=u.sortDescriptor)||void 0===r?void 0:r.direction),"is-sorted-asc":(null===(i=u.sortDescriptor)||void 0===i?void 0:i.column)===a.key&&"ascending"===(null===(o=u.sortDescriptor)||void 0===o?void 0:o.direction),"is-hovered":M,"focus-ring":D,"spectrum-Table-cell--hideHeader":A.hideHeader},ht(LC(sM),"react-spectrum-Table-cell",{"react-spectrum-Table-cell--alignCenter":"center"===O,"react-spectrum-Table-cell--alignEnd":"end"===O}))},y.createElement(Ww,{onOpenChange:w,align:I},y.createElement(WT,{alignment:O,ref:s,focusProps:F},A.allowsSorting&&y.createElement(ey,{UNSAFE_className:ht(LC(wT),"spectrum-Table-sortedIcon")}),A.hideHeader?y.createElement(pi,null,a.rendered):y.createElement("div",{className:ht(LC(wT),"spectrum-Table-headerCellText")},a.rendered),A.allowsResizing&&y.createElement(Wy,{UNSAFE_className:ht(LC(wT),"spectrum-Table-menuChevron")})),y.createElement(Xw,{onAction:e=>{switch(e){case"sort-asc":u.sort(a.key,"ascending");break;case"sort-desc":u.sort(a.key,"descending");break;case"resize":d.startResize(a.key),g(!0),u.setKeyboardNavigationDisabled(!0)}},minWidth:"size-2000",items:R},(e=>y.createElement(av,null,e.label)))),y.createElement(CT,{ref:c,column:a,showResizer:P,onResizeStart:f,onResize:h,onResizeEnd:p,triggerRef:xt(s)}),y.createElement("div",{"aria-hidden":!0,className:ht(LC(wT),"spectrum-Table-colResizeIndicator",{"spectrum-Table-colResizeIndicator--visible":null!=z,"spectrum-Table-colResizeIndicator--resizing":z===a.key})},y.createElement("div",{className:ht(LC(wT),"spectrum-Table-colResizeNubbin",{"spectrum-Table-colResizeNubbin--visible":b&&z===a.key})},y.createElement(dM,null)))))}function HT(e){let{column:t}=e,n=(0,y.useRef)(),{state:r}=OT(),i="single"===r.selectionManager.selectionMode,{columnHeaderProps:o}=DC({node:t,isVirtualized:!0},r,n),{checkboxProps:a}=OC(r),{hoverProps:l,isHovered:s}=Dr({});return y.createElement(oi,{focusRingClass:ht(LC(wT),"focus-ring")},y.createElement("div",{...q(o,l),ref:n,className:ht(LC(wT),"spectrum-Table-headCell","spectrum-Table-checkboxCell",{"is-hovered":s})},i&&y.createElement(pi,null,a["aria-label"]),y.createElement(Ny,{...a,isEmphasized:!0,UNSAFE_style:i?{visibility:"hidden"}:void 0,UNSAFE_className:ht(LC(wT),"spectrum-Table-checkbox")})))}function VT(e){let{column:t}=e,n=(0,y.useRef)(),{state:r}=OT(),{columnHeaderProps:i}=DC({node:t,isVirtualized:!0},r,n),o=st(LC(uM),"@react-spectrum/table");return y.createElement(oi,{focusRingClass:ht(LC(wT),"focus-ring")},y.createElement("div",{...i,ref:n,className:ht(LC(wT),"spectrum-Table-headCell",ht(LC(sM),"react-spectrum-Table-headCell","react-spectrum-Table-dragButtonHeadCell"))},y.createElement(pi,null,o.format("drag"))))}function GT(e){let{children:t,...n}=e,{rowGroupProps:r}={rowGroupProps:{role:"rowgroup"}};return y.createElement("div",{...r,...n},t)}function YT(){let{dragButtonProps:e,dragButtonRef:t,isFocusVisibleWithin:n}=(0,y.useContext)(QT),{visuallyHiddenProps:r}=hi();return y.createElement(oi,{focusRingClass:ht(LC(sM),"focus-ring")},y.createElement("div",{...e,className:ht(LC(sM),"react-spectrum-Table-dragButton"),style:n?{}:{...r.style},ref:t,draggable:"true"},y.createElement(B_,{UNSAFE_className:ht(LC(sM))})))}const QT=y.createContext(null);function XT(e){let{item:t,children:n,hasActions:r,isTableDraggable:i,isTableDroppable:o,...a}=e;var l,s,c;let u,d,f,h=(0,y.useRef)(),{state:p,layout:m,dragAndDropHooks:g,dragState:v,dropState:b}=OT(),x=!("none"!==p.selectionManager.selectionMode||r)||p.disabledKeys.has(t.key),w=o&&!x,_=p.selectionManager.isSelected(t.key),{rowProps:k}=NC({node:t,isVirtualized:!0,shouldSelectOnPressUp:i},p,h),{pressProps:E,isPressed:S}=qn({isDisabled:x}),{isFocusVisible:C,focusProps:M}=ii({within:!0}),{isFocusVisible:T,focusProps:A}=ii(),{hoverProps:D,isHovered:F}=Dr({isDisabled:x}),N=(null===(l=p.collection.rows.find((e=>1===e.level)))||void 0===l?void 0:l.key)===t.key,R=null==t.nextKey,z=!1;R&&(null===(s=m.getContentSize())||void 0===s?void 0:s.height)>=(null===(c=m.virtualizer)||void 0===c?void 0:c.getVisibleRect().height)&&(z=!0),i&&(u=g.useDraggableItem({key:t.key,hasDragButton:!0},v),x&&(u=null));let P=(0,y.useRef)();if(o){let e={type:"item",key:t.key,dropPosition:"on"};d=b.isDropTarget(e),f=g.useDropIndicator({target:e},b,P)}let O=y.useRef(),{buttonProps:I}=cd({...null===u||void 0===u?void 0:u.dragButtonProps,elementType:"div"},O),L=q(k,a,M,A,D,E,null===u||void 0===u?void 0:u.dragProps,(null===g||void 0===g?void 0:g.isVirtualDragging())&&{tabIndex:null}),B=w?void 0:{"aria-hidden":void 0},{visuallyHiddenProps:j}=hi();return y.createElement(QT.Provider,{value:{dragButtonProps:I,dragButtonRef:O,isFocusVisibleWithin:C}},o&&N&&y.createElement(cM,{rowProps:L,key:"".concat(t.key,"-before"),target:{key:t.key,type:"item",dropPosition:"before"}}),o&&!(null===f||void 0===f?void 0:f.isHidden)&&y.createElement("div",{role:"row",...j},y.createElement("div",{role:"gridcell"},y.createElement("div",{role:"button",...null===f||void 0===f?void 0:f.dropIndicatorProps,ref:P}))),y.createElement("div",{...q(L,B),ref:h,className:ht(LC(wT),"spectrum-Table-row",{"is-active":S,"is-selected":_,"spectrum-Table-row--highlightSelection":"replace"===p.selectionManager.selectionBehavior,"is-next-selected":p.selectionManager.isSelected(t.nextKey),"is-focused":C,"focus-ring":T,"is-hovered":F,"is-disabled":x,"spectrum-Table-row--firstRow":N,"spectrum-Table-row--lastRow":R,"spectrum-Table-row--isFlushBottom":z},ht(LC(sM),"react-spectrum-Table-row",{"react-spectrum-Table-row--dropTarget":d}))},n),o&&y.createElement(cM,{rowProps:L,key:"".concat(t.key,"-after"),target:{key:t.key,type:"item",dropPosition:"after"}}))}function $T(e){let{item:t,children:n,style:r,...i}=e,{state:o,headerMenuOpen:a}=OT(),l=(0,y.useRef)(),{rowProps:s}=RC({node:t,isVirtualized:!0},o),{hoverProps:c}=Dr({...i,isDisabled:a});return y.createElement("div",{...q(s,c),ref:l,style:r},n)}function ZT(e){let{cell:t}=e,n=(0,y.useRef)(),{state:r,isTableDraggable:i}=OT(),o=r.disabledKeys.has(t.parentKey),{gridCellProps:a}=zC({node:t,isVirtualized:!0},r,n);return y.createElement(oi,{focusRingClass:ht(LC(wT),"focus-ring")},y.createElement("div",{...a,ref:n,className:ht(LC(wT),"spectrum-Table-cell",{"is-disabled":o},ht(LC(sM),"react-spectrum-Table-cell","react-spectrum-Table-dragButtonCell"))},i&&!o&&y.createElement(YT,null)))}function JT(e){let{cell:t}=e,n=(0,y.useRef)(),{state:r}=OT(),i=r.disabledKeys.has(t.parentKey),{gridCellProps:o}=zC({node:t,isVirtualized:!0},r,n),{checkboxProps:a}=PC({key:t.parentKey},r);return y.createElement(oi,{focusRingClass:ht(LC(wT),"focus-ring")},y.createElement("div",{...o,ref:n,className:ht(LC(wT),"spectrum-Table-cell","spectrum-Table-checkboxCell",{"is-disabled":i},ht(LC(sM),"react-spectrum-Table-cell"))},"none"!==r.selectionManager.selectionMode&&y.createElement(Ny,{...a,isEmphasized:!0,isDisabled:i,UNSAFE_className:ht(LC(wT),"spectrum-Table-checkbox")})))}function eA(e){let{cell:t}=e,{scale:n}=Oo(),{state:r}=OT(),i="expandedKeys"in r,o=(0,y.useRef)(),a=t.column.props,l=r.disabledKeys.has(t.parentKey),{gridCellProps:s}=zC({node:t,isVirtualized:!0},r,o),{id:c,...u}=s,d=r.collection.rowHeaderColumnKeys.keys().next().value===t.column.key,f=!1,h=!1,p=0;var m,g,v,b,x;"expandedKeys"in r&&(f=(null===(g=r.keyMap.get(t.parentKey))||void 0===g||null===(m=g.props.UNSTABLE_childItems)||void 0===m?void 0:m.length)>0||(null===(x=r.keyMap.get(t.parentKey))||void 0===x||null===(b=x.props)||void 0===b||null===(v=b.children)||void 0===v?void 0:v.length)>r.userColumnCount,h=d&&f,p=(t.level-2)*zT[n]+(h?0:2*zT[n]));return y.createElement(oi,{focusRingClass:ht(LC(wT),"focus-ring")},y.createElement("div",{...u,"aria-labelledby":c,ref:o,style:i&&d?{paddingInlineStart:p}:{},className:ht(LC(wT),"spectrum-Table-cell",{"spectrum-Table-cell--divider":a.showDivider&&null!==t.column.nextKey,"spectrum-Table-cell--hideHeader":a.hideHeader,"spectrum-Table-cell--hasExpandCollapseButton":h,"is-disabled":l},ht(LC(sM),"react-spectrum-Table-cell",{"react-spectrum-Table-cell--alignStart":"start"===a.align,"react-spectrum-Table-cell--alignCenter":"center"===a.align,"react-spectrum-Table-cell--alignEnd":"end"===a.align}))},h&&y.createElement(tA,{cell:t}),y.createElement("span",{id:c,className:ht(LC(wT),"spectrum-Table-cellContents")},t.rendered)))}function tA(e){let t,{cell:n}=e,{direction:r}=ot(),{state:i}=OT(),o=(0,y.useRef)(),a=st(LC(uM),"@react-spectrum/table");"expandedKeys"in i&&(t="all"===i.expandedKeys||i.expandedKeys.has(n.parentKey));let{buttonProps:l}=cd({onPress:()=>{i.toggleKey(n.parentKey),yr()||(i.selectionManager.setFocused(!0),i.selectionManager.setFocusedKey(n.parentKey))},elementType:"span","aria-label":t?a.format("collapse"):a.format("expand")},o);return y.createElement("span",{...l,ref:o,tabIndex:oe()?-1:void 0,className:ht(LC(wT),"spectrum-Table-expandButton",{"is-open":t})},"ltr"===r?y.createElement(Gy,null):y.createElement(Hy,null))}function nA(e){let t,{children:n}=e,{state:r}=OT();if("expandedKeys"in r){let e=[...r.keyMap.get(r.collection.body.key).childNodes].length;t={"aria-level":1,"aria-posinset":e+1,"aria-setsize":e+1}}else t={"aria-rowindex":r.collection.headerRows.length+r.collection.size+1};return y.createElement("div",{role:"row",...t,className:ht(LC(sM),"react-spectrum-Table-centeredWrapper")},y.createElement("div",{role:"rowheader","aria-colspan":r.collection.columns.length},n))}const rA=y.forwardRef(LT);function iA(e,t){let{selectionStyle:n,dragAndDropHooks:r}=e,[i,o]=(0,y.useState)("highlight"!==n),a=!!(null===r||void 0===r?void 0:r.useDraggableCollectionState),l=jv({...e,showSelectionCheckboxes:i,showDragButtons:a,selectionBehavior:"highlight"===e.selectionStyle?"replace":"toggle"}),s="replace"!==l.selectionManager.selectionBehavior;return s!==i&&o(s),y.createElement(rA,{...e,state:l,ref:t})}const oA=y.forwardRef(iA);function aA(e,t){let{selectionStyle:n,dragAndDropHooks:r}=e,[i,o]=(0,y.useState)("highlight"!==n),a=!!(null===r||void 0===r?void 0:r.useDraggableCollectionState),l=$v({...e,showSelectionCheckboxes:i,showDragButtons:a,selectionBehavior:"highlight"===e.selectionStyle?"replace":"toggle"}),s="replace"!==l.selectionManager.selectionBehavior;return s!==i&&o(s),y.createElement(rA,{...e,state:l,ref:t})}const lA=y.forwardRef(aA);function sA(e,t){let{UNSTABLE_allowsExpandableRows:n,...r}=e;return Tv()&&n?y.createElement(lA,{...r,ref:t}):y.createElement(oA,{...r,ref:t})}const cA=y.forwardRef(sA),uA=Vv;var dA=n(184);const fA=[{id:"song",name:"Song"},{id:"artist",name:"Artist"},{id:"duration",name:"Duration"}],hA=[{key:0,id:"danceability",minValue:0,maxValue:1,step:.01},{key:1,id:"energy",minValue:0,maxValue:1,step:.01},{key:2,id:"valence",minValue:0,maxValue:1,step:.01},{key:3,id:"instrumentalness",minValue:0,maxValue:1,step:.01}];function pA(e){const[t,n]=(0,y.useState)();return(0,dA.jsxs)(va,{width:"90%",alignItems:"start",children:[(0,dA.jsxs)(cA,{alignSelf:"start",width:"100%",maxHeight:"75vh",isQuiet:!0,selectionMode:"single",selectionStyle:"highlight",selectedKeys:t,onSelectionChange:n,children:[(0,dA.jsx)(Kv,{columns:fA,children:e=>(0,dA.jsx)(uA,{align:"center",children:e.name},e.id)}),(0,dA.jsx)(qv,{items:null!==e&&void 0!==e&&e.trackList?null===e||void 0===e?void 0:e.trackList:[],children:e=>(0,dA.jsx)(Yv,{children:t=>{switch(t){case"song":return(0,dA.jsx)(Xv,{children:e.song.name});case"artist":return(0,dA.jsx)(Xv,{children:e.song.artists[0].name});case"duration":return(0,dA.jsx)(Xv,{children:"".concat(Math.floor(e.song.duration_ms/6e4)," min, ").concat(Math.round(e.song.duration_ms/1e3%60)," sec")});default:return(0,dA.jsx)(Xv,{children:e.key})}}})})]}),t?function(){let r=e.trackList[t.currentKey];return console.log(),(0,dA.jsx)(bg,{isDismissable:!0,onDismiss:()=>n(),isKeyboardDismissDisabled:!1,children:(0,dA.jsxs)(pg,{size:"m",children:[(0,dA.jsx)(kg,{alignSelf:"start",children:(0,dA.jsx)(sd,{children:r.song.name})}),(0,dA.jsx)(yf,{}),(0,dA.jsx)(wg,{children:hA.map((e=>(0,dA.jsxs)(sd,{level:4,children:[(0,dA.jsx)(ad,{children:"".concat(e.id,": ").concat(r.features[e.id])}),(0,dA.jsx)("br",{})]})))})]})})}():null]})}function mA(e){return e&&e.__esModule?e.default:e}var gA,vA={};function yA(e,t){let n=e.alt;e=Io(e=Kt(e,"image"));let{objectFit:r,src:i,alt:o,...a}=e,{styleProps:l}=Lt(a),s=vt(t);return null==o&&console.warn('The `alt` prop was not provided to an image. Add `alt` text for screen readers, or set `alt=""` prop to indicate that the image is decorative or redundant with displayed text and should not be announced by screen readers.'),y.createElement("div",{...X(e),...l,className:ht(mA(vA),l.className),style:{...l.style,overflow:"hidden"},ref:s},y.createElement("img",{src:i,alt:n||o,style:{objectFit:r},className:ht(mA(vA),"spectrum-Image-img")}))}!function(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}(vA,"spectrum-Image-img",(()=>gA),(e=>gA=e)),gA="Gv9sRq_spectrum-Image-img";const bA=y.forwardRef(yA);function xA(e){let t={count:0,danceability:0,energy:0,valence:0};return null===e||void 0===e||e.trackList.forEach((e=>{t.count++,t.danceability+=e.features.danceability,t.energy+=e.features.energy,t.valence+=e.features.valence})),t.danceability=(t.danceability/t.count).toFixed(2),t.energy=(t.energy/t.count).toFixed(2),t.valence=(t.valence/t.count).toFixed(2),(0,dA.jsxs)("div",{children:[(0,dA.jsx)(sd,{level:3,children:(0,dA.jsx)("u",{children:e?e.name:"Playlist"})}),(0,dA.jsxs)(va,{direction:"row",width:"100%",children:[(0,dA.jsxs)(va,{direction:"column",alignItems:"center",children:[(0,dA.jsx)(bA,{src:null===e||void 0===e?void 0:e.imgSrc,width:"50%"}),(0,dA.jsx)(sd,{level:6,children:e?"Owner: ".concat(e.maker):null})]}),(0,dA.jsx)(va,{alignItems:"start",direction:"column",children:(0,dA.jsx)(sd,{level:6,children:Object.keys(t).map((n=>(0,dA.jsxs)("div",{children:[(0,dA.jsx)(ad,{children:e?"".concat(n,": "):null}),(0,dA.jsx)("br",{}),(0,dA.jsx)(ad,{children:e?t[n]:null}),(0,dA.jsx)("br",{})]})))})})]})]})}const wA={};function _A(e,t){void 0===e&&(e=wA),void 0===t&&(t=wA);const n=Object.keys(e),r=Object.keys(t);return e===t||n.length===r.length&&n.every((n=>e[n]===t[n]))}var kA=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),EA=Object.prototype.hasOwnProperty;function SA(e,t){return EA.call(e,t)}function CA(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)SA(e,i)&&r.push(i);return r}function MA(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function TA(e){for(var t,n=0,r=e.length;n<r;){if(!((t=e.charCodeAt(n))>=48&&t<=57))return!1;n++}return!0}function AA(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function DA(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function FA(e){if(void 0===e)return!0;if(e)if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(FA(e[t]))return!0}else if("object"===typeof e)for(var r=CA(e),i=r.length,o=0;o<i;o++)if(FA(e[r[o]]))return!0;return!1}function NA(e,t){var n=[e];for(var r in t){var i="object"===typeof t[r]?JSON.stringify(t[r],null,2):t[r];"undefined"!==typeof i&&n.push(r+": "+i)}return n.join("\n")}var RA=function(e){function t(t,n,r,i,o){var a=this.constructor,l=e.call(this,NA(t,{name:n,index:r,operation:i,tree:o}))||this;return l.name=n,l.index=r,l.operation=i,l.tree=o,Object.setPrototypeOf(l,a.prototype),l.message=NA(t,{name:n,index:r,operation:i,tree:o}),l}return kA(t,e),t}(Error),zA=RA,PA=MA,OA={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=LA(n,this.path);r&&(r=MA(r));var i=BA(n,{op:"remove",path:this.from}).removed;return BA(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=LA(n,this.from);return BA(n,{op:"add",path:this.path,value:MA(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:qA(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},IA={add:function(e,t,n){return TA(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){return{newDocument:n,removed:e.splice(t,1)[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:OA.move,copy:OA.copy,test:OA.test,_get:OA._get};function LA(e,t){if(""==t)return e;var n={op:"_get",path:t};return BA(e,n),n.value}function BA(e,t,n,r,i,o){if(void 0===n&&(n=!1),void 0===r&&(r=!0),void 0===i&&(i=!0),void 0===o&&(o=0),n&&("function"==typeof n?n(t,0,e,t.path):KA(t,0)),""===t.path){var a={newDocument:e};if("add"===t.op)return a.newDocument=t.value,a;if("replace"===t.op)return a.newDocument=t.value,a.removed=e,a;if("move"===t.op||"copy"===t.op)return a.newDocument=LA(e,t.from),"move"===t.op&&(a.removed=e),a;if("test"===t.op){if(a.test=qA(e,t.value),!1===a.test)throw new zA("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return a.newDocument=e,a}if("remove"===t.op)return a.removed=e,a.newDocument=null,a;if("_get"===t.op)return t.value=e,a;if(n)throw new zA("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,t,e);return a}r||(e=MA(e));var l=(t.path||"").split("/"),s=e,c=1,u=l.length,d=void 0,f=void 0,h=void 0;for(h="function"==typeof n?n:KA;;){if((f=l[c])&&-1!=f.indexOf("~")&&(f=DA(f)),i&&("__proto__"==f||"prototype"==f&&c>0&&"constructor"==l[c-1]))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&void 0===d&&(void 0===s[f]?d=l.slice(0,c).join("/"):c==u-1&&(d=t.path),void 0!==d&&h(t,0,e,d)),c++,Array.isArray(s)){if("-"===f)f=s.length;else{if(n&&!TA(f))throw new zA("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,t,e);TA(f)&&(f=~~f)}if(c>=u){if(n&&"add"===t.op&&f>s.length)throw new zA("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,t,e);if(!1===(a=IA[t.op].call(t,s,f,e)).test)throw new zA("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return a}}else if(c>=u){if(!1===(a=OA[t.op].call(t,s,f,e)).test)throw new zA("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return a}if(s=s[f],n&&c<u&&(!s||"object"!==typeof s))throw new zA("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,t,e)}}function jA(e,t,n,r,i){if(void 0===r&&(r=!0),void 0===i&&(i=!0),n&&!Array.isArray(t))throw new zA("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=MA(e));for(var o=new Array(t.length),a=0,l=t.length;a<l;a++)o[a]=BA(e,t[a],n,!0,i,a),e=o[a].newDocument;return o.newDocument=e,o}function UA(e,t,n){var r=BA(e,t);if(!1===r.test)throw new zA("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function KA(e,t,n,r){if("object"!==typeof e||null===e||Array.isArray(e))throw new zA("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(!OA[e.op])throw new zA("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n);if("string"!==typeof e.path)throw new zA("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(0!==e.path.indexOf("/")&&e.path.length>0)throw new zA('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if(("move"===e.op||"copy"===e.op)&&"string"!==typeof e.from)throw new zA("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&void 0===e.value)throw new zA("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&FA(e.value))throw new zA("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n)if("add"==e.op){var i=e.path.split("/").length,o=r.split("/").length;if(i!==o+1&&i!==o)throw new zA("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==r)throw new zA("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if("move"===e.op||"copy"===e.op){var a=WA([{op:"_get",path:e.from,value:void 0}],n);if(a&&"OPERATION_PATH_UNRESOLVABLE"===a.name)throw new zA("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}function WA(e,t,n){try{if(!Array.isArray(e))throw new zA("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)jA(MA(t),MA(e),n||!0);else{n=n||KA;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(BMe){if(BMe instanceof zA)return BMe;throw BMe}}function qA(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var n,r,i,o=Array.isArray(e),a=Array.isArray(t);if(o&&a){if((r=e.length)!=t.length)return!1;for(n=r;0!==n--;)if(!qA(e[n],t[n]))return!1;return!0}if(o!=a)return!1;var l=Object.keys(e);if((r=l.length)!==Object.keys(t).length)return!1;for(n=r;0!==n--;)if(!t.hasOwnProperty(l[n]))return!1;for(n=r;0!==n--;)if(!qA(e[i=l[n]],t[i]))return!1;return!0}return e!==e&&t!==t}var HA=new WeakMap,VA=function(e){this.observers=new Map,this.obj=e},GA=function(e,t){this.callback=e,this.observer=t};function YA(e,t){t.unobserve()}function QA(e,t){var n,r=function(e){return HA.get(e)}(e);if(r){var i=function(e,t){return e.observers.get(t)}(r,t);n=i&&i.observer}else r=new VA(e),HA.set(e,r);if(n)return n;if(n={},r.value=MA(e),t){n.callback=t,n.next=null;var o=function(){XA(n)},a=function(){clearTimeout(n.next),n.next=setTimeout(o)};"undefined"!==typeof window&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return n.patches=[],n.object=e,n.unobserve=function(){XA(n),clearTimeout(n.next),function(e,t){e.observers.delete(t.callback)}(r,n),"undefined"!==typeof window&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},r.observers.set(t,new GA(t,n)),n}function XA(e,t){void 0===t&&(t=!1);var n=HA.get(e.object);$A(n.value,e.object,e.patches,"",t),e.patches.length&&jA(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function $A(e,t,n,r,i){if(t!==e){"function"===typeof t.toJSON&&(t=t.toJSON());for(var o=CA(t),a=CA(e),l=!1,s=a.length-1;s>=0;s--){var c=e[d=a[s]];if(!SA(t,d)||void 0===t[d]&&void 0!==c&&!1===Array.isArray(t))Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+AA(d),value:MA(c)}),n.push({op:"remove",path:r+"/"+AA(d)}),l=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}),!0);else{var u=t[d];"object"==typeof c&&null!=c&&"object"==typeof u&&null!=u&&Array.isArray(c)===Array.isArray(u)?$A(c,u,n,r+"/"+AA(d),i):c!==u&&(!0,i&&n.push({op:"test",path:r+"/"+AA(d),value:MA(c)}),n.push({op:"replace",path:r+"/"+AA(d),value:MA(u)}))}}if(l||o.length!=a.length)for(s=0;s<o.length;s++){var d;SA(e,d=o[s])||void 0===t[d]||n.push({op:"add",path:r+"/"+AA(d),value:MA(t[d])})}}}function ZA(e,t,n){void 0===n&&(n=!1);var r=[];return $A(e,t,r,"",n),r}Object.assign({},e,t,{JsonPatchError:RA,deepClone:MA,escapePathComponent:AA,unescapePathComponent:DA});var JA=n(662),eD=n.n(JA);function tD(e,t,n){return e.fields=t||[],e.fname=n,e}function nD(e){return null==e?null:e.fname}function rD(e){return null==e?null:e.fields}function iD(e){return 1===e.length?oD(e[0]):aD(e)}const oD=e=>function(t){return t[e]},aD=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function lD(e){throw Error(e)}function sD(e){const t=[],n=e.length;let r,i,o,a=null,l=0,s="";function c(){t.push(s+e.substring(r,i)),s="",r=i+1}for(e+="",r=i=0;i<n;++i)if(o=e[i],"\\"===o)s+=e.substring(r,i++),r=i;else if(o===a)c(),a=null,l=-1;else{if(a)continue;r===l&&'"'===o||r===l&&"'"===o?(r=i+1,a=o):"."!==o||l?"["===o?(i>r&&c(),l=r=i+1):"]"===o&&(l||lD("Access path missing open bracket: "+e),l>0&&c(),l=0,r=i+1):i>r?c():r=i+1}return l&&lD("Access path missing closing bracket: "+e),a&&lD("Access path missing closing quote: "+e),i>r&&(i++,c()),t}function cD(e,t,n){const r=sD(e);return e=1===r.length?r[0]:e,tD((n&&n.get||iD)(r),[e],t||e)}const uD=cD("id"),dD=tD((e=>e),[],"identity"),fD=tD((()=>0),[],"zero"),hD=tD((()=>1),[],"one"),pD=tD((()=>!0),[],"true"),mD=tD((()=>!1),[],"false");function gD(e,t,n){const r=[t].concat([].slice.call(n));console[e].apply(console,r)}const vD=0,yD=1,bD=2,xD=3,wD=4;function _D(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gD,r=e||vD;return{level(e){return arguments.length?(r=+e,this):r},error(){return r>=yD&&n(t||"error","ERROR",arguments),this},warn(){return r>=bD&&n(t||"warn","WARN",arguments),this},info(){return r>=xD&&n(t||"log","INFO",arguments),this},debug(){return r>=wD&&n(t||"log","DEBUG",arguments),this}}}var kD=Array.isArray;function ED(e){return e===Object(e)}const SD=e=>"__proto__"!==e;function CD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>{for(const n in t)if("signals"===n)e.signals=TD(e.signals,t.signals);else{const r="legend"===n?{layout:1}:"style"===n||null;MD(e,n,t[n],r)}return e}),{})}function MD(e,t,n,r){if(!SD(t))return;let i,o;if(ED(n)&&!kD(n))for(i in o=ED(e[t])?e[t]:e[t]={},n)r&&(!0===r||r[i])?MD(o,i,n[i]):SD(i)&&(o[i]=n[i]);else e[t]=n}function TD(e,t){if(null==e)return t;const n={},r=[];function i(e){n[e.name]||(n[e.name]=1,r.push(e))}return t.forEach(i),e.forEach(i),r}function AD(e){return e[e.length-1]}function DD(e){return null==e||""===e?null:+e}const FD=e=>t=>e*Math.exp(t),ND=e=>t=>Math.log(e*t),RD=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),zD=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,PD=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function OD(e,t,n,r){const i=n(e[0]),o=n(AD(e)),a=(o-i)*t;return[r(i-a),r(o-a)]}function ID(e,t){return OD(e,t,DD,dD)}function LD(e,t){var n=Math.sign(e[0]);return OD(e,t,ND(n),FD(n))}function BD(e,t,n){return OD(e,t,PD(n),PD(1/n))}function jD(e,t,n){return OD(e,t,RD(n),zD(n))}function UD(e,t,n,r,i){const o=r(e[0]),a=r(AD(e)),l=null!=t?r(t):(o+a)/2;return[i(l+(o-l)*n),i(l+(a-l)*n)]}function KD(e,t,n){return UD(e,t,n,DD,dD)}function WD(e,t,n){const r=Math.sign(e[0]);return UD(e,t,n,ND(r),FD(r))}function qD(e,t,n,r){return UD(e,t,n,PD(r),PD(1/r))}function HD(e,t,n,r){return UD(e,t,n,RD(r),zD(r))}function VD(e){return 1+~~(new Date(e).getMonth()/3)}function GD(e){return 1+~~(new Date(e).getUTCMonth()/3)}function YD(e){return null!=e?kD(e)?e:[e]:[]}function QD(e,t,n){let r,i=e[0],o=e[1];return o<i&&(r=o,o=i,i=r),r=o-i,r>=n-t?[t,n]:[i=Math.min(Math.max(i,t),n-r),i+r]}function XD(e){return"function"===typeof e}const $D="descending";function ZD(e,t,n){n=n||{},t=YD(t)||[];const r=[],i=[],o={},a=n.comparator||eF;return YD(e).forEach(((e,a)=>{null!=e&&(r.push(t[a]===$D?-1:1),i.push(e=XD(e)?e:cD(e,null,n)),(rD(e)||[]).forEach((e=>o[e]=1)))})),0===i.length?null:tD(a(i,r),Object.keys(o))}const JD=(e,t)=>(e<t||null==e)&&null!=t?-1:(e>t||null==t)&&null!=e?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0),eF=(e,t)=>1===e.length?tF(e[0],t[0]):nF(e,t,e.length),tF=(e,t)=>function(n,r){return JD(e(n),e(r))*t},nF=(e,t,n)=>(t.push(0),function(r,i){let o,a=0,l=-1;for(;0===a&&++l<n;)o=e[l],a=JD(o(r),o(i));return a*t[l]});function rF(e){return XD(e)?e:()=>e}function iF(e,t){let n;return r=>{n&&clearTimeout(n),n=setTimeout((()=>(t(r),n=null)),e)}}function oF(e){for(let t,n,r=1,i=arguments.length;r<i;++r)for(n in t=arguments[r],t)e[n]=t[n];return e}function aF(e,t){let n,r,i,o,a=0;if(e&&(n=e.length))if(null==t){for(r=e[a];a<n&&(null==r||r!==r);r=e[++a]);for(i=o=r;a<n;++a)r=e[a],null!=r&&(r<i&&(i=r),r>o&&(o=r))}else{for(r=t(e[a]);a<n&&(null==r||r!==r);r=t(e[++a]));for(i=o=r;a<n;++a)r=t(e[a]),null!=r&&(r<i&&(i=r),r>o&&(o=r))}return[i,o]}function lF(e,t){const n=e.length;let r,i,o,a,l,s=-1;if(null==t){for(;++s<n;)if(i=e[s],null!=i&&i>=i){r=o=i;break}if(s===n)return[-1,-1];for(a=l=s;++s<n;)i=e[s],null!=i&&(r>i&&(r=i,a=s),o<i&&(o=i,l=s))}else{for(;++s<n;)if(i=t(e[s],s,e),null!=i&&i>=i){r=o=i;break}if(s===n)return[-1,-1];for(a=l=s;++s<n;)i=t(e[s],s,e),null!=i&&(r>i&&(r=i,a=s),o<i&&(o=i,l=s))}return[a,l]}const sF=Object.prototype.hasOwnProperty;function cF(e,t){return sF.call(e,t)}const uF={};function dF(e){let t,n={};function r(e){return cF(n,e)&&n[e]!==uF}const i={size:0,empty:0,object:n,has:r,get:e=>r(e)?n[e]:void 0,set(e,t){return r(e)||(++i.size,n[e]===uF&&--i.empty),n[e]=t,this},delete(e){return r(e)&&(--i.size,++i.empty,n[e]=uF),this},clear(){i.size=i.empty=0,i.object=n={}},test(e){return arguments.length?(t=e,i):t},clean(){const e={};let r=0;for(const i in n){const o=n[i];o===uF||t&&t(o)||(e[i]=o,++r)}i.size=r,i.empty=0,i.object=n=e}};return e&&Object.keys(e).forEach((t=>{i.set(t,e[t])})),i}function fF(e,t,n,r,i,o){if(!n&&0!==n)return o;const a=+n;let l,s=e[0],c=AD(e);c<s&&(l=s,s=c,c=l),l=Math.abs(t-s);const u=Math.abs(c-t);return l<u&&l<=a?r:u<=a?i:o}function hF(e,t,n){const r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),oF(r,n)}function pF(e,t,n,r){let i,o=t[0],a=t[t.length-1];return o>a&&(i=o,o=a,a=i),r=void 0===r||r,((n=void 0===n||n)?o<=e:o<e)&&(r?e<=a:e<a)}function mF(e){return"boolean"===typeof e}function gF(e){return"[object Date]"===Object.prototype.toString.call(e)}function vF(e){return e&&XD(e[Symbol.iterator])}function yF(e){return"number"===typeof e}function bF(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function xF(e){return"string"===typeof e}function wF(e,t,n){e&&(e=t?YD(e).map((e=>e.replace(/\\(.)/g,"$1"))):YD(e));const r=e&&e.length,i=n&&n.get||iD,o=e=>i(t?[e]:sD(e));let a;if(r)if(1===r){const t=o(e[0]);a=function(e){return""+t(e)}}else{const t=e.map(o);a=function(e){let n=""+t[0](e),i=0;for(;++i<r;)n+="|"+t[i](e);return n}}else a=function(){return""};return tD(a,e,"key")}function _F(e,t){const n=e[0],r=AD(e),i=+t;return i?1===i?r:n+i*(r-n):n}const kF=1e4;function EF(e){let t,n,r;e=+e||kF;const i=()=>{t={},n={},r=0},o=(i,o)=>(++r>e&&(n=t,t={},r=1),t[i]=o);return i(),{clear:i,has:e=>cF(t,e)||cF(n,e),get:e=>cF(t,e)?t[e]:cF(n,e)?o(e,n[e]):void 0,set:(e,n)=>cF(t,e)?t[e]=n:o(e,n)}}function SF(e,t,n,r){const i=t.length,o=n.length;if(!o)return t;if(!i)return n;const a=r||new t.constructor(i+o);let l=0,s=0,c=0;for(;l<i&&s<o;++c)a[c]=e(t[l],n[s])>0?n[s++]:t[l++];for(;l<i;++l,++c)a[c]=t[l];for(;s<o;++s,++c)a[c]=n[s];return a}function CF(e,t){let n="";for(;--t>=0;)n+=e;return n}function MF(e,t,n,r){const i=n||" ",o=e+"",a=t-o.length;return a<=0?o:"left"===r?CF(i,a)+o:"center"===r?CF(i,~~(a/2))+o+CF(i,Math.ceil(a/2)):o+CF(i,a)}function TF(e){return e&&AD(e)-e[0]||0}function AF(e){return kD(e)?"["+e.map(AF)+"]":ED(e)||xF(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function DF(e){return null==e||""===e?null:!(!e||"false"===e||"0"===e)&&!!e}const FF=e=>yF(e)||gF(e)?e:Date.parse(e);function NF(e,t){return t=t||FF,null==e||""===e?null:t(e)}function RF(e){return null==e||""===e?null:e+""}function zF(e){const t={},n=e.length;for(let r=0;r<n;++r)t[e[r]]=!0;return t}function PF(e,t,n,r){const i=null!=r?r:"\u2026",o=e+"",a=o.length,l=Math.max(0,t-i.length);return a<=t?o:"left"===n?i+o.slice(a-l):"center"===n?o.slice(0,Math.ceil(l/2))+i+o.slice(a-~~(l/2)):o.slice(0,l)+i}function OF(e,t,n){if(e)if(t){const r=e.length;for(let i=0;i<r;++i){const r=t(e[i]);r&&n(r,i,e)}}else e.forEach(n)}var IF={},LF={},BF=34,jF=10,UF=13;function KF(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function WF(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function qF(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function HF(e){var t,n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),o=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":((t=e.getUTCFullYear())<0?"-"+qF(-t,6):t>9999?"+"+qF(t,6):qF(t,4))+"-"+qF(e.getUTCMonth()+1,2)+"-"+qF(e.getUTCDate(),2)+(o?"T"+qF(n,2)+":"+qF(r,2)+":"+qF(i,2)+"."+qF(o,3)+"Z":i?"T"+qF(n,2)+":"+qF(r,2)+":"+qF(i,2)+"Z":r||n?"T"+qF(n,2)+":"+qF(r,2)+"Z":"")}function VF(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var r,i=[],o=e.length,a=0,l=0,s=o<=0,c=!1;function u(){if(s)return LF;if(c)return c=!1,IF;var t,r,i=a;if(e.charCodeAt(i)===BF){for(;a++<o&&e.charCodeAt(a)!==BF||e.charCodeAt(++a)===BF;);return(t=a)>=o?s=!0:(r=e.charCodeAt(a++))===jF?c=!0:r===UF&&(c=!0,e.charCodeAt(a)===jF&&++a),e.slice(i+1,t-1).replace(/""/g,'"')}for(;a<o;){if((r=e.charCodeAt(t=a++))===jF)c=!0;else if(r===UF)c=!0,e.charCodeAt(a)===jF&&++a;else if(r!==n)continue;return e.slice(i,t)}return s=!0,e.slice(i,o)}for(e.charCodeAt(o-1)===jF&&--o,e.charCodeAt(o-1)===UF&&--o;(r=u())!==LF;){for(var d=[];r!==IF&&r!==LF;)d.push(r),r=u();t&&null==(d=t(d,l++))||i.push(d)}return i}function i(t,n){return t.map((function(t){return n.map((function(e){return a(t[e])})).join(e)}))}function o(t){return t.map(a).join(e)}function a(e){return null==e?"":e instanceof Date?HF(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,i,o=r(e,(function(e,r){if(n)return n(e,r-1);i=e,n=t?function(e,t){var n=KF(e);return function(r,i){return t(n(r),i,e)}}(e,t):KF(e)}));return o.columns=i||[],o},parseRows:r,format:function(t,n){return null==n&&(n=WF(t)),[n.map(a).join(e)].concat(i(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=WF(e)),i(e,t).join("\n")},formatRows:function(e){return e.map(o).join("\n")},formatRow:o,formatValue:a}}function GF(e){return e}function YF(e,t){return"string"===typeof t&&(t=e.objects[t]),"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map((function(t){return QF(e,t)}))}:QF(e,t)}function QF(e,t){var n=t.id,r=t.bbox,i=null==t.properties?{}:t.properties,o=XF(e,t);return null==n&&null==r?{type:"Feature",properties:i,geometry:o}:null==r?{type:"Feature",id:n,properties:i,geometry:o}:{type:"Feature",id:n,bbox:r,properties:i,geometry:o}}function XF(e,t){var n=function(e){if(null==e)return GF;var t,n,r=e.scale[0],i=e.scale[1],o=e.translate[0],a=e.translate[1];return function(e,l){l||(t=n=0);var s=2,c=e.length,u=new Array(c);for(u[0]=(t+=e[0])*r+o,u[1]=(n+=e[1])*i+a;s<c;)u[s]=e[s],++s;return u}}(e.transform),r=e.arcs;function i(e,t){t.length&&t.pop();for(var i=r[e<0?~e:e],o=0,a=i.length;o<a;++o)t.push(n(i[o],o));e<0&&function(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}(t,a)}function o(e){return n(e)}function a(e){for(var t=[],n=0,r=e.length;n<r;++n)i(e[n],t);return t.length<2&&t.push(t[0]),t}function l(e){for(var t=a(e);t.length<4;)t.push(t[0]);return t}function s(e){return e.map(l)}return function e(t){var n,r=t.type;switch(r){case"GeometryCollection":return{type:r,geometries:t.geometries.map(e)};case"Point":n=o(t.coordinates);break;case"MultiPoint":n=t.coordinates.map(o);break;case"LineString":n=a(t.arcs);break;case"MultiLineString":n=t.arcs.map(a);break;case"Polygon":n=s(t.arcs);break;case"MultiPolygon":n=t.arcs.map(s);break;default:return null}return{type:r,coordinates:n}}(t)}function $F(e,t){var n={},r={},i={},o=[],a=-1;function l(e,t){for(var r in e){var i=e[r];delete t[i.start],delete i.start,delete i.end,i.forEach((function(e){n[e<0?~e:e]=1})),o.push(i)}}return t.forEach((function(n,r){var i,o=e.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(i=t[++a],t[a]=n,t[r]=i)})),t.forEach((function(t){var n,o,a=function(t){var n,r=e.arcs[t<0?~t:t],i=r[0];e.transform?(n=[0,0],r.forEach((function(e){n[0]+=e[0],n[1]+=e[1]}))):n=r[r.length-1];return t<0?[n,i]:[i,n]}(t),l=a[0],s=a[1];if(n=i[l])if(delete i[n.end],n.push(t),n.end=s,o=r[s]){delete r[o.start];var c=o===n?n:n.concat(o);r[c.start=n.start]=i[c.end=o.end]=c}else r[n.start]=i[n.end]=n;else if(n=r[s])if(delete r[n.start],n.unshift(t),n.start=l,o=i[l]){delete i[o.end];var u=o===n?n:o.concat(n);r[u.start=o.start]=i[u.end=n.end]=u}else r[n.start]=i[n.end]=n;else r[(n=[t]).start=l]=i[n.end=s]=n})),l(i,r),l(r,i),t.forEach((function(e){n[e<0?~e:e]||o.push([e])})),o}function ZF(e){return XF(e,JF.apply(this,arguments))}function JF(e,t,n){var r,i,o;if(arguments.length>1)r=function(e,t,n){var r,i=[],o=[];function a(e){var t=e<0?~e:e;(o[t]||(o[t]=[])).push({i:e,g:r})}function l(e){e.forEach(a)}function s(e){e.forEach(l)}function c(e){e.forEach(s)}function u(e){switch(r=e,e.type){case"GeometryCollection":e.geometries.forEach(u);break;case"LineString":l(e.arcs);break;case"MultiLineString":case"Polygon":s(e.arcs);break;case"MultiPolygon":c(e.arcs)}}return u(t),o.forEach(null==n?function(e){i.push(e[0].i)}:function(e){n(e[0].g,e[e.length-1].g)&&i.push(e[0].i)}),i}(0,t,n);else for(i=0,r=new Array(o=e.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:$F(e,r)}}const eN=Math.sqrt(50),tN=Math.sqrt(10),nN=Math.sqrt(2);function rN(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=eN?10:o>=tN?5:o>=nN?2:1;let l,s,c;return i<0?(c=Math.pow(10,-i)/a,l=Math.round(e*c),s=Math.round(t*c),l/c<e&&++l,s/c>t&&--s,c=-c):(c=Math.pow(10,i)*a,l=Math.round(e/c),s=Math.round(t/c),l*c<e&&++l,s*c>t&&--s),s<l&&.5<=n&&n<2?rN(e,t,2*n):[l,s,c]}function iN(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,o,a]=r?rN(t,e,n):rN(e,t,n);if(!(o>=i))return[];const l=o-i+1,s=new Array(l);if(r)if(a<0)for(let c=0;c<l;++c)s[c]=(o-c)/-a;else for(let c=0;c<l;++c)s[c]=(o-c)*a;else if(a<0)for(let c=0;c<l;++c)s[c]=(i+c)/-a;else for(let c=0;c<l;++c)s[c]=(i+c)*a;return s}function oN(e,t,n){return rN(e=+e,t=+t,n=+n)[2]}function aN(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?oN(t,e,n):oN(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}var lN,sN=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function cN(e){if(!(t=sN.exec(e)))throw new Error("invalid format: "+e);var t;return new uN({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function uN(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function dN(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function fN(e){return(e=dN(Math.abs(e)))?e[1]:NaN}function hN(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(fN(t)/3)))-fN(Math.abs(e)))}function pN(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,fN(t)-fN(e))+1}function mN(e){return Math.max(0,-fN(Math.abs(e)))}function gN(e,t){var n=dN(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}cN.prototype=uN.prototype,uN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const vN={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>gN(100*e,t),r:gN,s:function(e,t){var n=dN(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(lN=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+dN(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function yN(e){return e}var bN,xN,wN,_N=Array.prototype.map,kN=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function EN(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?yN:(t=_N.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,l=t[0],s=0;i>0&&l>0&&(s+l+1>r&&(l=Math.max(1,r-s)),o.push(e.substring(i-=l,i+l)),!((s+=l+1)>r));)l=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",l=void 0===e.numerals?yN:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(_N.call(e.numerals,String)),s=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=cN(e)).fill,n=e.align,d=e.sign,f=e.symbol,h=e.zero,p=e.width,m=e.comma,g=e.precision,v=e.trim,y=e.type;"n"===y?(m=!0,y="g"):vN[y]||(void 0===g&&(g=12),v=!0,y="g"),(h||"0"===t&&"="===n)&&(h=!0,t="0",n="=");var b="$"===f?i:"#"===f&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",x="$"===f?o:/[%p]/.test(y)?s:"",w=vN[y],_=/[defgprs%]/.test(y);function k(e){var i,o,s,f=b,k=x;if("c"===y)k=w(e)+k,e="";else{var E=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),g),v&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),E&&0===+e&&"+"!==d&&(E=!1),f=(E?"("===d?d:c:"-"===d||"("===d?"":d)+f,k=("s"===y?kN[8+lN/3]:"")+k+(E&&"("===d?")":""),_)for(i=-1,o=e.length;++i<o;)if(48>(s=e.charCodeAt(i))||s>57){k=(46===s?a+e.slice(i+1):e.slice(i))+k,e=e.slice(0,i);break}}m&&!h&&(e=r(e,1/0));var S=f.length+e.length+k.length,C=S<p?new Array(p-S+1).join(t):"";switch(m&&h&&(e=r(C+e,C.length?p-k.length:1/0),C=""),n){case"<":e=f+e+k+C;break;case"=":e=f+C+e+k;break;case"^":e=C.slice(0,S=C.length>>1)+f+e+k+C.slice(S);break;default:e=C+f+e+k}return l(e)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),k.toString=function(){return e+""},k}return{format:d,formatPrefix:function(e,t){var n=d(((e=cN(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(fN(t)/3))),i=Math.pow(10,-r),o=kN[8+r/3];return function(e){return n(i*e)+o}}}}!function(e){bN=EN(e),xN=bN.format,wN=bN.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});const SN=new Date,CN=new Date;function MN(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,o)=>{const a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return a;let l;do{a.push(l=new Date(+n)),t(n,o),e(n)}while(l<n&&n<r);return a},i.filter=n=>MN((t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),((e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})),n&&(i.count=(t,r)=>(SN.setTime(+t),CN.setTime(+r),e(SN),e(CN),Math.floor(n(SN,CN))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const TN=1e3,AN=6e4,DN=36e5,FN=864e5,NN=6048e5,RN=2592e6,zN=31536e6,PN=MN((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*AN)/FN),(e=>e.getDate()-1)),ON=(PN.range,MN((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/FN),(e=>e.getUTCDate()-1))),IN=(ON.range,MN((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/FN),(e=>Math.floor(e/FN))));IN.range;function LN(e){return MN((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*AN)/NN))}const BN=LN(0),jN=LN(1),UN=LN(2),KN=LN(3),WN=LN(4),qN=LN(5),HN=LN(6);BN.range,jN.range,UN.range,KN.range,WN.range,qN.range,HN.range;function VN(e){return MN((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/NN))}const GN=VN(0),YN=VN(1),QN=VN(2),XN=VN(3),$N=VN(4),ZN=VN(5),JN=VN(6),eR=(GN.range,YN.range,QN.range,XN.range,$N.range,ZN.range,JN.range,MN((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear())));eR.every=e=>isFinite(e=Math.floor(e))&&e>0?MN((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,n)=>{t.setFullYear(t.getFullYear()+n*e)})):null;eR.range;const tR=MN((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));tR.every=e=>isFinite(e=Math.floor(e))&&e>0?MN((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null;tR.range;const nR=MN((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,t)=>{e.setMonth(e.getMonth()+t)}),((e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())),(e=>e.getMonth())),rR=(nR.range,MN((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)}),((e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth()))),iR=(rR.range,MN((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*TN-e.getMinutes()*AN)}),((e,t)=>{e.setTime(+e+t*DN)}),((e,t)=>(t-e)/DN),(e=>e.getHours()))),oR=(iR.range,MN((e=>{e.setUTCMinutes(0,0,0)}),((e,t)=>{e.setTime(+e+t*DN)}),((e,t)=>(t-e)/DN),(e=>e.getUTCHours()))),aR=(oR.range,MN((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*TN)}),((e,t)=>{e.setTime(+e+t*AN)}),((e,t)=>(t-e)/AN),(e=>e.getMinutes()))),lR=(aR.range,MN((e=>{e.setUTCSeconds(0,0)}),((e,t)=>{e.setTime(+e+t*AN)}),((e,t)=>(t-e)/AN),(e=>e.getUTCMinutes()))),sR=(lR.range,MN((e=>{e.setTime(e-e.getMilliseconds())}),((e,t)=>{e.setTime(+e+t*TN)}),((e,t)=>(t-e)/TN),(e=>e.getUTCSeconds()))),cR=(sR.range,MN((()=>{}),((e,t)=>{e.setTime(+e+t)}),((e,t)=>t-e)));cR.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?MN((t=>{t.setTime(Math.floor(t/e)*e)}),((t,n)=>{t.setTime(+t+n*e)}),((t,n)=>(n-t)/e)):cR:null);cR.range;function uR(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function dR(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function fR(e){let t,n,r;function i(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<0?i=t+1:o=t}while(i<o)}return i}return 2!==e.length?(t=uR,n=(t,n)=>uR(e(t),n),r=(t,n)=>e(t)-n):(t=e===uR||e===dR?e:hR,n=e,r=e),{left:i,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const o=i(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return o>n&&r(e[o-1],t)>-r(e[o],t)?o-1:o},right:function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<=0?i=t+1:o=t}while(i<o)}return i}}}function hR(){return 0}const pR="year",mR="quarter",gR="month",vR="week",yR="date",bR="day",xR="dayofyear",wR="hours",_R="minutes",kR="seconds",ER="milliseconds",SR=[pR,mR,gR,vR,yR,bR,xR,wR,_R,kR,ER],CR=SR.reduce(((e,t,n)=>(e[t]=1+n,e)),{});function MR(e){const t=YD(e).slice(),n={};t.length||lD("Missing time unit."),t.forEach((e=>{cF(CR,e)?n[e]=1:lD("Invalid time unit: ".concat(e,"."))}));return(n[vR]||n[bR]?1:0)+(n[mR]||n[gR]||n[yR]?1:0)+(n[xR]?1:0)>1&&lD("Incompatible time units: ".concat(e)),t.sort(((e,t)=>CR[e]-CR[t])),t}const TR={[pR]:"%Y ",[mR]:"Q%q ",[gR]:"%b ",[yR]:"%d ",[vR]:"W%U ",[bR]:"%a ",[xR]:"%j ",[wR]:"%H:00",[_R]:"00:%M",[kR]:":%S",[ER]:".%L",["".concat(pR,"-").concat(gR)]:"%Y-%m ",["".concat(pR,"-").concat(gR,"-").concat(yR)]:"%Y-%m-%d ",["".concat(wR,"-").concat(_R)]:"%H:%M"};function AR(e,t){const n=oF({},TR,t),r=MR(e),i=r.length;let o,a,l="",s=0;for(s=0;s<i;)for(o=r.length;o>s;--o)if(a=r.slice(s,o).join("-"),null!=n[a]){l+=n[a],s=o;break}return l.trim()}const DR=new Date;function FR(e){return DR.setFullYear(e),DR.setMonth(0),DR.setDate(1),DR.setHours(0,0,0,0),DR}function NR(e){return zR(new Date(e))}function RR(e){return PR(new Date(e))}function zR(e){return PN.count(FR(e.getFullYear())-1,e)}function PR(e){return BN.count(FR(e.getFullYear())-1,e)}function OR(e){return FR(e).getDay()}function IR(e,t,n,r,i,o,a){if(0<=e&&e<100){const l=new Date(-1,t,n,r,i,o,a);return l.setFullYear(e),l}return new Date(e,t,n,r,i,o,a)}function LR(e){return jR(new Date(e))}function BR(e){return UR(new Date(e))}function jR(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return ON.count(t-1,e)}function UR(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return GN.count(t-1,e)}function KR(e){return DR.setTime(Date.UTC(e,0,1)),DR.getUTCDay()}function WR(e,t,n,r,i,o,a){if(0<=e&&e<100){const e=new Date(Date.UTC(-1,t,n,r,i,o,a));return e.setUTCFullYear(n.y),e}return new Date(Date.UTC(e,t,n,r,i,o,a))}function qR(e,t,n,r,i){const o=t||1,a=AD(e),l=(e,t,i)=>function(e,t,n,r){const i=n<=1?e:r?(t,i)=>r+n*Math.floor((e(t,i)-r)/n):(t,r)=>n*Math.floor(e(t,r)/n);return t?(e,n)=>t(i(e,n),n):i}(n[i=i||e],r[i],e===a&&o,t),s=new Date,c=zF(e),u=c[pR]?l(pR):rF(2012),d=c[gR]?l(gR):c[mR]?l(mR):fD,f=c[vR]&&c[bR]?l(bR,1,vR+bR):c[vR]?l(vR,1):c[bR]?l(bR,1):c[yR]?l(yR,1):c[xR]?l(xR,1):hD,h=c[wR]?l(wR):fD,p=c[_R]?l(_R):fD,m=c[kR]?l(kR):fD,g=c[ER]?l(ER):fD;return function(e){s.setTime(+e);const t=u(s);return i(t,d(s),f(s,t),h(s),p(s),m(s),g(s))}}function HR(e,t,n){return t+7*e-(n+6)%7}const VR={[pR]:e=>e.getFullYear(),[mR]:e=>Math.floor(e.getMonth()/3),[gR]:e=>e.getMonth(),[yR]:e=>e.getDate(),[wR]:e=>e.getHours(),[_R]:e=>e.getMinutes(),[kR]:e=>e.getSeconds(),[ER]:e=>e.getMilliseconds(),[xR]:e=>zR(e),[vR]:e=>PR(e),[vR+bR]:(e,t)=>HR(PR(e),e.getDay(),OR(t)),[bR]:(e,t)=>HR(1,e.getDay(),OR(t))},GR={[mR]:e=>3*e,[vR]:(e,t)=>HR(e,0,OR(t))};function YR(e,t){return qR(e,t||1,VR,GR,IR)}const QR={[pR]:e=>e.getUTCFullYear(),[mR]:e=>Math.floor(e.getUTCMonth()/3),[gR]:e=>e.getUTCMonth(),[yR]:e=>e.getUTCDate(),[wR]:e=>e.getUTCHours(),[_R]:e=>e.getUTCMinutes(),[kR]:e=>e.getUTCSeconds(),[ER]:e=>e.getUTCMilliseconds(),[xR]:e=>jR(e),[vR]:e=>UR(e),[bR]:(e,t)=>HR(1,e.getUTCDay(),KR(t)),[vR+bR]:(e,t)=>HR(UR(e),e.getUTCDay(),KR(t))},XR={[mR]:e=>3*e,[vR]:(e,t)=>HR(e,0,KR(t))};function $R(e,t){return qR(e,t||1,QR,XR,WR)}const ZR={[pR]:eR,[mR]:nR.every(3),[gR]:nR,[vR]:BN,[yR]:PN,[bR]:PN,[xR]:PN,[wR]:iR,[_R]:aR,[kR]:sR,[ER]:cR},JR={[pR]:tR,[mR]:rR.every(3),[gR]:rR,[vR]:GN,[yR]:ON,[bR]:ON,[xR]:ON,[wR]:oR,[_R]:lR,[kR]:sR,[ER]:cR};function ez(e){return ZR[e]}function tz(e){return JR[e]}function nz(e,t,n){return e?e.offset(t,n):void 0}function rz(e,t,n){return nz(ez(e),t,n)}function iz(e,t,n){return nz(tz(e),t,n)}function oz(e,t,n,r){return e?e.range(t,n,r):void 0}function az(e,t,n,r){return oz(ez(e),t,n,r)}function lz(e,t,n,r){return oz(tz(e),t,n,r)}const sz=1e3,cz=6e4,uz=36e5,dz=864e5,fz=2592e6,hz=31536e6,pz=[pR,gR,yR,wR,_R,kR,ER],mz=pz.slice(0,-1),gz=mz.slice(0,-1),vz=gz.slice(0,-1),yz=vz.slice(0,-1),bz=[pR,gR],xz=[pR],wz=[[mz,1,sz],[mz,5,5e3],[mz,15,15e3],[mz,30,3e4],[gz,1,cz],[gz,5,3e5],[gz,15,9e5],[gz,30,18e5],[vz,1,uz],[vz,3,108e5],[vz,6,216e5],[vz,12,432e5],[yz,1,dz],[[pR,vR],1,6048e5],[bz,1,fz],[bz,3,7776e6],[xz,1,hz]];function _z(e){const t=e.extent,n=e.maxbins||40,r=Math.abs(TF(t))/n;let i,o,a=fR((e=>e[2])).right(wz,r);return a===wz.length?(i=xz,o=aN(t[0]/hz,t[1]/hz,n)):a?(a=wz[r/wz[a-1][2]<wz[a][2]/r?a-1:a],i=a[0],o=a[1]):(i=pz,o=Math.max(aN(t[0],t[1],n),1)),{units:i,step:o}}function kz(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ez(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Sz(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Cz(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,l=e.months,s=e.shortMonths,c=Lz(i),u=Bz(i),d=Lz(o),f=Bz(o),h=Lz(a),p=Bz(a),m=Lz(l),g=Bz(l),v=Lz(s),y=Bz(s),b={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return s[e.getMonth()]},B:function(e){return l[e.getMonth()]},c:null,d:aP,e:aP,f:dP,g:_P,G:EP,H:lP,I:sP,j:cP,L:uP,m:fP,M:hP,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:GP,s:YP,S:pP,u:mP,U:gP,V:yP,w:bP,W:xP,x:null,X:null,y:wP,Y:kP,Z:SP,"%":VP},x={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return s[e.getUTCMonth()]},B:function(e){return l[e.getUTCMonth()]},c:null,d:CP,e:CP,f:FP,g:KP,G:qP,H:MP,I:TP,j:AP,L:DP,m:NP,M:RP,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:GP,s:YP,S:zP,u:PP,U:OP,V:LP,w:BP,W:jP,x:null,X:null,y:UP,Y:WP,Z:HP,"%":VP},w={a:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=f.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=v.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return E(e,t,n,r)},d:Xz,e:Xz,f:nP,g:Vz,G:Hz,H:Zz,I:Zz,j:$z,L:tP,m:Qz,M:Jz,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:Yz,Q:iP,s:oP,S:eP,u:Uz,U:Kz,V:Wz,w:jz,W:qz,x:function(e,t,r){return E(e,n,t,r)},X:function(e,t,n){return E(e,r,t,n)},y:Vz,Y:Hz,Z:Gz,"%":rP};function _(e,t){return function(n){var r,i,o,a=[],l=-1,s=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++l<c;)37===e.charCodeAt(l)&&(a.push(e.slice(s,l)),null!=(i=Nz[r=e.charAt(++l)])?r=e.charAt(++l):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),s=l+1);return a.push(e.slice(s,l)),a.join("")}}function k(e,t){return function(n){var r,i,o=Sz(1900,void 0,1);if(E(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Ez(Sz(o.y,0,1))).getUTCDay(),r=i>4||0===i?YN.ceil(r):YN(r),r=ON.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=kz(Sz(o.y,0,1))).getDay(),r=i>4||0===i?jN.ceil(r):jN(r),r=PN.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Ez(Sz(o.y,0,1)).getUTCDay():kz(Sz(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Ez(o)):kz(o)}}function E(e,t,n,r){for(var i,o,a=0,l=t.length,s=n.length;a<l;){if(r>=s)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=w[i in Nz?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=_(n,b),b.X=_(r,b),b.c=_(t,b),x.x=_(n,x),x.X=_(r,x),x.c=_(t,x),{format:function(e){var t=_(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=k(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=_(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=k(e+="",!0);return t.toString=function(){return e},t}}}var Mz,Tz,Az,Dz,Fz,Nz={"-":"",_:" ",0:"0"},Rz=/^\s*\d+/,zz=/^%/,Pz=/[\\^$*+?|[\]().{}]/g;function Oz(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function Iz(e){return e.replace(Pz,"\\$&")}function Lz(e){return new RegExp("^(?:"+e.map(Iz).join("|")+")","i")}function Bz(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function jz(e,t,n){var r=Rz.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Uz(e,t,n){var r=Rz.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Kz(e,t,n){var r=Rz.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Wz(e,t,n){var r=Rz.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function qz(e,t,n){var r=Rz.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Hz(e,t,n){var r=Rz.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Vz(e,t,n){var r=Rz.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Gz(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Yz(e,t,n){var r=Rz.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function Qz(e,t,n){var r=Rz.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Xz(e,t,n){var r=Rz.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function $z(e,t,n){var r=Rz.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Zz(e,t,n){var r=Rz.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Jz(e,t,n){var r=Rz.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function eP(e,t,n){var r=Rz.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function tP(e,t,n){var r=Rz.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function nP(e,t,n){var r=Rz.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function rP(e,t,n){var r=zz.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function iP(e,t,n){var r=Rz.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function oP(e,t,n){var r=Rz.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function aP(e,t){return Oz(e.getDate(),t,2)}function lP(e,t){return Oz(e.getHours(),t,2)}function sP(e,t){return Oz(e.getHours()%12||12,t,2)}function cP(e,t){return Oz(1+PN.count(eR(e),e),t,3)}function uP(e,t){return Oz(e.getMilliseconds(),t,3)}function dP(e,t){return uP(e,t)+"000"}function fP(e,t){return Oz(e.getMonth()+1,t,2)}function hP(e,t){return Oz(e.getMinutes(),t,2)}function pP(e,t){return Oz(e.getSeconds(),t,2)}function mP(e){var t=e.getDay();return 0===t?7:t}function gP(e,t){return Oz(BN.count(eR(e)-1,e),t,2)}function vP(e){var t=e.getDay();return t>=4||0===t?WN(e):WN.ceil(e)}function yP(e,t){return e=vP(e),Oz(WN.count(eR(e),e)+(4===eR(e).getDay()),t,2)}function bP(e){return e.getDay()}function xP(e,t){return Oz(jN.count(eR(e)-1,e),t,2)}function wP(e,t){return Oz(e.getFullYear()%100,t,2)}function _P(e,t){return Oz((e=vP(e)).getFullYear()%100,t,2)}function kP(e,t){return Oz(e.getFullYear()%1e4,t,4)}function EP(e,t){var n=e.getDay();return Oz((e=n>=4||0===n?WN(e):WN.ceil(e)).getFullYear()%1e4,t,4)}function SP(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Oz(t/60|0,"0",2)+Oz(t%60,"0",2)}function CP(e,t){return Oz(e.getUTCDate(),t,2)}function MP(e,t){return Oz(e.getUTCHours(),t,2)}function TP(e,t){return Oz(e.getUTCHours()%12||12,t,2)}function AP(e,t){return Oz(1+ON.count(tR(e),e),t,3)}function DP(e,t){return Oz(e.getUTCMilliseconds(),t,3)}function FP(e,t){return DP(e,t)+"000"}function NP(e,t){return Oz(e.getUTCMonth()+1,t,2)}function RP(e,t){return Oz(e.getUTCMinutes(),t,2)}function zP(e,t){return Oz(e.getUTCSeconds(),t,2)}function PP(e){var t=e.getUTCDay();return 0===t?7:t}function OP(e,t){return Oz(GN.count(tR(e)-1,e),t,2)}function IP(e){var t=e.getUTCDay();return t>=4||0===t?$N(e):$N.ceil(e)}function LP(e,t){return e=IP(e),Oz($N.count(tR(e),e)+(4===tR(e).getUTCDay()),t,2)}function BP(e){return e.getUTCDay()}function jP(e,t){return Oz(YN.count(tR(e)-1,e),t,2)}function UP(e,t){return Oz(e.getUTCFullYear()%100,t,2)}function KP(e,t){return Oz((e=IP(e)).getUTCFullYear()%100,t,2)}function WP(e,t){return Oz(e.getUTCFullYear()%1e4,t,4)}function qP(e,t){var n=e.getUTCDay();return Oz((e=n>=4||0===n?$N(e):$N.ceil(e)).getUTCFullYear()%1e4,t,4)}function HP(){return"+0000"}function VP(){return"%"}function GP(e){return+e}function YP(e){return Math.floor(+e/1e3)}function QP(e){const t={};return n=>t[n]||(t[n]=e(n))}function XP(e){const t=QP(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(e){const n=cN(e||",");if(null==n.precision){switch(n.precision=12,n.type){case"%":n.precision-=2;break;case"e":n.precision-=1}return function(e,t){return n=>{const r=e(n),i=r.indexOf(t);if(i<0)return r;let o=function(e,t){let n,r=e.lastIndexOf("e");if(r>0)return r;for(r=e.length;--r>t;)if(n=e.charCodeAt(r),n>=48&&n<=57)return r+1}(r,i);const a=o<r.length?r.slice(o):"";for(;--o>i;)if("0"!==r[o]){++o;break}return r.slice(0,o)+a}}(t(n),t(".1f")(1)[1])}return t(n)},formatSpan(e,r,i,o){o=cN(null==o?",f":o);const a=aN(e,r,i),l=Math.max(Math.abs(e),Math.abs(r));let s;if(null==o.precision)switch(o.type){case"s":return isNaN(s=hN(a,l))||(o.precision=s),n(o,l);case"":case"e":case"g":case"p":case"r":isNaN(s=pN(a,l))||(o.precision=s-("e"===o.type));break;case"f":case"%":isNaN(s=mN(a))||(o.precision=s-2*("%"===o.type))}return t(o)}}}let $P,ZP;function JP(){return $P=XP({format:xN,formatPrefix:wN})}function eO(e){return XP(EN(e))}function tO(e){return arguments.length?$P=eO(e):$P}function nO(e,t,n){ED(n=n||{})||lD("Invalid time multi-format specifier: ".concat(n));const r=t(kR),i=t(_R),o=t(wR),a=t(yR),l=t(vR),s=t(gR),c=t(mR),u=t(pR),d=e(n[ER]||".%L"),f=e(n[kR]||":%S"),h=e(n[_R]||"%I:%M"),p=e(n[wR]||"%I %p"),m=e(n[yR]||n[bR]||"%a %d"),g=e(n[vR]||"%b %d"),v=e(n[gR]||"%B"),y=e(n[mR]||"%B"),b=e(n[pR]||"%Y");return e=>(r(e)<e?d:i(e)<e?f:o(e)<e?h:a(e)<e?p:s(e)<e?l(e)<e?m:g:u(e)<e?c(e)<e?v:y:b)(e)}function rO(e){const t=QP(e.format),n=QP(e.utcFormat);return{timeFormat:e=>xF(e)?t(e):nO(t,ez,e),utcFormat:e=>xF(e)?n(e):nO(n,tz,e),timeParse:QP(e.parse),utcParse:QP(e.utcParse)}}function iO(){return ZP=rO({format:Tz,parse:Az,utcFormat:Dz,utcParse:Fz})}function oO(e){return rO(Cz(e))}function aO(e){return arguments.length?ZP=oO(e):ZP}!function(e){Mz=Cz(e),Tz=Mz.format,Az=Mz.parse,Dz=Mz.utcFormat,Fz=Mz.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),JP(),iO();const lO=(e,t)=>oF({},e,t);function sO(e,t){const n=e?eO(e):tO(),r=t?oO(t):aO();return lO(n,r)}function cO(e,t){const n=arguments.length;return n&&2!==n&&lD("defaultLocale expects either zero or two arguments."),n?lO(tO(e),aO(t)):lO(tO(),aO())}function uO(){return JP(),iO(),cO()}const dO=/^(data:|([A-Za-z]+:)?\/\/)/,fO=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,hO=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,pO="file://";async function mO(e,t){const n=await this.sanitize(e,t),r=n.href;return n.localFile?this.file(r):this.http(r,t)}async function gO(e,t){t=oF({},this.options,t);const n=this.fileAccess,r={href:null};let i,o,a;const l=fO.test(e.replace(hO,""));null!=e&&"string"===typeof e&&l||lD("Sanitize failure, invalid URI: "+AF(e));const s=dO.test(e);return(a=t.baseURL)&&!s&&(e.startsWith("/")||a.endsWith("/")||(e="/"+e),e=a+e),o=(i=e.startsWith(pO))||"file"===t.mode||"http"!==t.mode&&!s&&n,i?e=e.slice(pO.length):e.startsWith("//")&&("file"===t.defaultProtocol?(e=e.slice(2),o=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(r,"localFile",{value:!!o}),r.href=e,t.target&&(r.target=t.target+""),t.rel&&(r.rel=t.rel+""),"image"===t.context&&t.crossOrigin&&(r.crossOrigin=t.crossOrigin+""),r}function vO(e){return e?t=>new Promise(((n,r)=>{e.readFile(t,((e,t)=>{e?r(e):n(t)}))})):yO}async function yO(){lD("No file system access.")}function bO(e){return e?async function(t,n){const r=oF({},this.options.http,n),i=n&&n.response,o=await e(t,r);return o.ok?XD(o[i])?o[i]():o.text():lD(o.status+""+o.statusText)}:xO}async function xO(){lD("No HTTP fetch method available.")}const wO=e=>null!=e&&e===e,_O=e=>!Number.isNaN(+e)&&!(e instanceof Date),kO={boolean:DF,integer:DD,number:DD,date:NF,string:RF,unknown:dD},EO=[e=>"true"===e||"false"===e||!0===e||!1===e,e=>_O(e)&&Number.isInteger(+e),_O,e=>!Number.isNaN(Date.parse(e))],SO=["boolean","integer","number","date"];function CO(e,t){if(!e||!e.length)return"unknown";const n=e.length,r=EO.length,i=EO.map(((e,t)=>t+1));for(let o,a,l=0,s=0;l<n;++l)for(a=t?e[l][t]:e[l],o=0;o<r;++o)if(i[o]&&wO(a)&&!EO[o](a)&&(i[o]=0,++s,s===EO.length))return"string";return SO[i.reduce(((e,t)=>0===e?t:e),0)-1]}function MO(e,t){return t.reduce(((t,n)=>(t[n]=CO(e,n),t)),{})}function TO(e){const t=function(t,n){const r={delimiter:e};return AO(t,n?oF(n,r):r)};return t.responseType="text",t}function AO(e,t){return t.header&&(e=t.header.map(AF).join(t.delimiter)+"\n"+e),VF(t.delimiter).parse(e+"")}function DO(e,t){const n=t&&t.property?cD(t.property):dD;return!ED(e)||(r=e,"function"===typeof Buffer&&XD(Buffer.isBuffer)&&Buffer.isBuffer(r))?n(JSON.parse(e)):function(e,t){!kD(e)&&vF(e)&&(e=[...e]);return t&&t.copy?JSON.parse(JSON.stringify(e)):e}(n(e),t);var r}AO.responseType="text",DO.responseType="json";const FO={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function NO(e,t){let n,r,i,o;return e=DO(e,t),t&&t.feature?(n=YF,i=t.feature):t&&t.mesh?(n=ZF,i=t.mesh,o=FO[t.filter]):lD("Missing TopoJSON feature or mesh parameter."),r=(r=e.objects[i])?n(e,r,o):lD("Invalid TopoJSON object: "+i),r&&r.features||[r]}NO.responseType="json";const RO={dsv:AO,csv:TO(","),tsv:TO("\t"),json:DO,topojson:NO};function zO(e,t){return arguments.length>1?(RO[e]=t,this):cF(RO,e)?RO[e]:null}function PO(e){const t=zO(e);return t&&t.responseType||"text"}function OO(e,t,n,r){const i=zO((t=t||{}).type||"json");return i||lD("Unknown data format type: "+t.type),e=i(e,t),t.parse&&function(e,t,n,r){if(!e.length)return;const i=aO();n=n||i.timeParse,r=r||i.utcParse;let o,a,l,s,c,u,d=e.columns||Object.keys(e[0]);"auto"===t&&(t=MO(e,d));d=Object.keys(t);const f=d.map((e=>{const i=t[e];let o,a;if(i&&(i.startsWith("date:")||i.startsWith("utc:"))){o=i.split(/:(.+)?/,2),a=o[1],("'"===a[0]&&"'"===a[a.length-1]||'"'===a[0]&&'"'===a[a.length-1])&&(a=a.slice(1,-1));return("utc"===o[0]?r:n)(a)}if(!kO[i])throw Error("Illegal format pattern: "+e+":"+i);return kO[i]}));for(l=0,c=e.length,u=d.length;l<c;++l)for(o=e[l],s=0;s<u;++s)a=d[s],o[a]=f[s](o[a])}(e,t.parse,n,r),cF(e,"columns")&&delete e.columns,e}const IO=function(e,t){return n=>({options:n||{},sanitize:gO,load:mO,fileAccess:!!t,file:vO(t),http:bO(e)})}("undefined"!==typeof fetch&&fetch,null);function LO(e){const t=e||dD,n=[],r={};return n.add=e=>{const i=t(e);return r[i]||(r[i]=1,n.push(e)),n},n.remove=e=>{const i=t(e);if(r[i]){r[i]=0;const t=n.indexOf(e);t>=0&&n.splice(t,1)}return n},n}async function BO(e,t){try{await t(e)}catch(n){e.error(n)}}const jO=Symbol("vega_id");let UO=1;function KO(e){return!(!e||!WO(e))}function WO(e){return e[jO]}function qO(e,t){return e[jO]=t,e}function HO(e){const t=e===Object(e)?e:{data:e};return WO(t)?t:qO(t,UO++)}function VO(e){return GO(e,HO({}))}function GO(e,t){for(const n in e)t[n]=e[n];return t}function YO(e,t){return qO(t,WO(e))}function QO(e,t){return e?t?(n,r)=>e(n,r)||WO(t(n))-WO(t(r)):(t,n)=>e(t,n)||WO(t)-WO(n):null}function XO(e){return e&&e.constructor===$O}function $O(){const e=[],t=[],n=[],r=[],i=[];let o=null,a=!1;return{constructor:$O,insert(t){const n=YD(t),r=n.length;for(let i=0;i<r;++i)e.push(n[i]);return this},remove(e){const n=XD(e)?r:t,i=YD(e),o=i.length;for(let t=0;t<o;++t)n.push(i[t]);return this},modify(e,t,r){const o={field:t,value:rF(r)};return XD(e)?(o.filter=e,i.push(o)):(o.tuple=e,n.push(o)),this},encode(e,t){return XD(e)?i.push({filter:e,field:t}):n.push({tuple:e,field:t}),this},clean(e){return o=e,this},reflow(){return a=!0,this},pulse(l,s){const c={},u={};let d,f,h,p,m,g;for(d=0,f=s.length;d<f;++d)c[WO(s[d])]=1;for(d=0,f=t.length;d<f;++d)m=t[d],c[WO(m)]=-1;for(d=0,f=r.length;d<f;++d)p=r[d],s.forEach((e=>{p(e)&&(c[WO(e)]=-1)}));for(d=0,f=e.length;d<f;++d)m=e[d],g=WO(m),c[g]?c[g]=1:l.add.push(HO(e[d]));for(d=0,f=s.length;d<f;++d)m=s[d],c[WO(m)]<0&&l.rem.push(m);function v(e,t,n){n?e[t]=n(e):l.encode=t,a||(u[WO(e)]=e)}for(d=0,f=n.length;d<f;++d)h=n[d],m=h.tuple,p=h.field,g=c[WO(m)],g>0&&(v(m,p,h.value),l.modifies(p));for(d=0,f=i.length;d<f;++d)h=i[d],p=h.filter,s.forEach((e=>{p(e)&&c[WO(e)]>0&&v(e,h.field,h.value)})),l.modifies(h.field);if(a)l.mod=t.length||r.length?s.filter((e=>c[WO(e)]>0)):s.slice();else for(g in u)l.mod.push(u[g]);return(o||null==o&&(t.length||r.length))&&l.clean(!0),l}}}const ZO="_:mod:_";function JO(){Object.defineProperty(this,ZO,{writable:!0,value:{}})}JO.prototype={set(e,t,n,r){const i=this,o=i[e],a=i[ZO];return null!=t&&t>=0?(o[t]!==n||r)&&(o[t]=n,a[t+":"+e]=-1,a[e]=-1):(o!==n||r)&&(i[e]=n,a[e]=kD(n)?1+n.length:-1),i},modified(e,t){const n=this[ZO];if(!arguments.length){for(const e in n)if(n[e])return!0;return!1}if(kD(e)){for(let t=0;t<e.length;++t)if(n[e[t]])return!0;return!1}return null!=t&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear(){return this[ZO]={},this}};let eI=0;const tI=new JO;function nI(e,t,n,r){this.id=++eI,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}function rI(e){return function(t){const n=this.flags;return 0===arguments.length?!!(n&e):(this.flags=t?n|e:n&~e,this)}}nI.prototype={targets(){return this._targets||(this._targets=LO(uD))},set(e){return this.value!==e?(this.value=e,1):0},skip:rI(1),modified:rI(2),parameters(e,t,n){t=!1!==t;const r=this._argval=this._argval||new JO,i=this._argops=this._argops||[],o=[];let a,l,s,c;const u=(e,n,a)=>{a instanceof nI?(a!==this&&(t&&a.targets().add(this),o.push(a)),i.push({op:a,name:e,index:n})):r.set(e,n,a)};for(a in e)if(l=e[a],"pulse"===a)YD(l).forEach((e=>{e instanceof nI?e!==this&&(e.targets().add(this),o.push(e)):lD("Pulse parameters must be operator instances.")})),this.source=l;else if(kD(l))for(r.set(a,-1,Array(s=l.length)),c=0;c<s;++c)u(a,c,l[c]);else u(a,-1,l);return this.marshall().clear(),n&&(i.initonly=!0),o},marshall(e){const t=this._argval||tI,n=this._argops;let r,i,o,a;if(n){const l=n.length;for(i=0;i<l;++i)r=n[i],o=r.op,a=o.modified()&&o.stamp===e,t.set(r.name,r.index,o.value,a);if(n.initonly){for(i=0;i<l;++i)r=n[i],r.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const e=this._argops;let t,n,r,i;if(e)for(t=0,n=e.length;t<n;++t)r=e[t],i=r.op,i._targets&&i._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const t=this._update;if(t){const n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}};let iI=0;function oI(e,t,n){this.id=++iI,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function aI(e,t,n){return new oI(e,t,n)}oI.prototype={_filter:pD,_apply:dD,targets(){return this._targets||(this._targets=LO(uD))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const t=this.value=this._apply(e),n=this._targets,r=n?n.length:0;for(let e=0;e<r;++e)n[e].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const t=aI(e);return this.targets().add(t),t},apply(e){const t=aI(null,e);return this.targets().add(t),t},merge(){const e=aI();this.targets().add(e);for(let t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter((()=>{const n=Date.now();return n-t>e?(t=n,1):0}))},debounce(e){const t=aI();return this.targets().add(aI(null,null,iF(e,(e=>{const n=e.dataflow;t.receive(e),n&&n.run&&n.run()})))),t},between(e,t){let n=!1;return e.targets().add(aI(null,null,(()=>n=!0))),t.targets().add(aI(null,null,(()=>n=!1))),this.filter((()=>n))},detach(){this._filter=pD,this._targets=null}};const lI={skip:!0};function sI(e,t,n,r,i,o){const a=oF({},o,lI);let l,s;XD(n)||(n=rF(n)),void 0===r?l=t=>e.touch(n(t)):XD(r)?(s=new nI(null,r,i,!1),l=t=>{s.evaluate(t);const r=n(t),i=s.value;XO(i)?e.pulse(r,i,o):e.update(r,i,a)}):l=t=>e.update(n(t),r,a),t.apply(l)}function cI(e,t,n,r,i,o){if(void 0===r)t.targets().add(n);else{const a=o||{},l=new nI(null,function(e,t){return t=XD(t)?t:rF(t),e?function(n,r){const i=t(n,r);return e.skip()||(e.skip(i!==this.value).value=i),i}:t}(n,r),i,!1);l.modified(a.force),l.rank=t.rank,t.targets().add(l),n&&(l.skip(!0),l.value=n.value,l.targets().add(n),e.connect(n,[l]))}}const uI={};function dI(e,t,n){this.dataflow=e,this.stamp=null==t?-1:t,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function fI(e,t){const n=[];return OF(e,t,(e=>n.push(e))),n}function hI(e,t){const n={};return e.visit(t,(e=>{n[WO(e)]=1})),e=>n[WO(e)]?null:e}function pI(e,t){return e?(n,r)=>e(n,r)&&t(n,r):t}function mI(e,t,n,r){const i=this;let o=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n;for(const a of n)if(a.stamp===t){if(a.fields){const e=i.fields||(i.fields={});for(const t in a.fields)e[t]=1}a.changed(i.ADD)&&(o|=i.ADD),a.changed(i.REM)&&(o|=i.REM),a.changed(i.MOD)&&(o|=i.MOD)}this.changes=o}function gI(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}dI.prototype={StopPropagation:uI,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(e){return new dI(this.dataflow).init(this,e)},clone(){const e=this.fork(7);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(23)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new dI(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){const n=this;return n.stamp=e.stamp,n.encode=e.encode,!e.fields||64&t||(n.fields=e.fields),1&t?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),2&t?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),4&t?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),32&t?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter(e){this.dataflow.runAfter(e)},changed(e){const t=e||7;return 1&t&&this.add.length||2&t&&this.rem.length||4&t&&this.mod.length},reflow(e){if(e)return this.fork(7).reflow();const t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(4,hI(this,1))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const t=this.fields||(this.fields={});return kD(e)?e.forEach((e=>t[e]=!0)):t[e]=!0,this},modified(e,t){const n=this.fields;return!(!t&&!this.mod.length||!n)&&(arguments.length?kD(e)?e.some((e=>n[e])):n[e]:!!n)},filter(e,t){const n=this;return 1&e&&(n.addF=pI(n.addF,t)),2&e&&(n.remF=pI(n.remF,t)),4&e&&(n.modF=pI(n.modF,t)),16&e&&(n.srcF=pI(n.srcF,t)),n},materialize(e){const t=this;return 1&(e=e||7)&&t.addF&&(t.add=fI(t.add,t.addF),t.addF=null),2&e&&t.remF&&(t.rem=fI(t.rem,t.remF),t.remF=null),4&e&&t.modF&&(t.mod=fI(t.mod,t.modF),t.modF=null),16&e&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){const n=this,r=t;if(16&e)return OF(n.source,n.srcF,r),n;1&e&&OF(n.add,n.addF,r),2&e&&OF(n.rem,n.remF,r),4&e&&OF(n.mod,n.modF,r);const i=n.source;if(8&e&&i){const e=n.add.length+n.mod.length;e===i.length||OF(i,e?hI(n,5):n.srcF,r)}return n}},hF(mI,dI,{fork(e){const t=new dI(this.dataflow).init(this,e&this.NO_FIELDS);return void 0!==e&&(e&t.ADD&&this.visit(t.ADD,(e=>t.add.push(e))),e&t.REM&&this.visit(t.REM,(e=>t.rem.push(e))),e&t.MOD&&this.visit(t.MOD,(e=>t.mod.push(e)))),t},changed(e){return this.changes&e},modified(e){const t=this,n=t.fields;return n&&t.changes&t.MOD?kD(e)?e.some((e=>n[e])):n[e]:0},filter(){lD("MultiPulse does not support filtering.")},materialize(){lD("MultiPulse does not support materialization.")},visit(e,t){const n=this,r=n.pulses,i=r.length;let o=0;if(e&n.SOURCE)for(;o<i;++o)r[o].visit(e,t);else for(;o<i;++o)r[o].stamp===n.stamp&&r[o].visit(e,t);return n}});const vI={skip:!1,force:!1};function yI(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),bI(t,0,t.length-1,e)),pop:()=>{const n=t.pop();let r;return t.length?(r=t[0],t[0]=n,function(e,t,n){const r=t,i=e.length,o=e[t];let a,l=1+(t<<1);for(;l<i;)a=l+1,a<i&&n(e[l],e[a])>=0&&(l=a),e[t]=e[l],l=1+((t=l)<<1);e[t]=o,bI(e,r,t,n)}(t,0,e)):r=n,r}}}function bI(e,t,n,r){let i,o;const a=e[n];for(;n>t&&(o=n-1>>1,i=e[o],r(a,i)<0);)e[n]=i,n=o;return e[n]=a}function xI(){this.logger(_D()),this.logLevel(yD),this._clock=0,this._rank=0,this._locale=cO();try{this._loader=IO()}catch(BMe){}this._touched=LO(uD),this._input={},this._pulse=null,this._heap=yI(((e,t)=>e.qrank-t.qrank)),this._postrun=[]}function wI(e){return function(){return this._log[e].apply(this,arguments)}}function _I(e,t){nI.call(this,e,null,t)}xI.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:wI("error"),warn:wI("warn"),info:wI("info"),debug:wI("debug"),logLevel:wI("level"),cleanThreshold:1e4,add:function(e,t,n,r){let i,o=1;return e instanceof nI?i=e:e&&e.prototype instanceof nI?i=new e:XD(e)?i=new nI(null,e):(o=0,i=new nI(e,t)),this.rank(i),o&&(r=n,n=t),n&&this.connect(i,i.parameters(n,r)),this.touch(i),i},connect:function(e,t){const n=e.rank,r=t.length;for(let i=0;i<r;++i)if(n<t[i].rank)return void this.rerank(e)},rank:function(e){e.rank=++this._rank},rerank:function(e){const t=[e];let n,r,i;for(;t.length;)if(this.rank(n=t.pop()),r=n._targets)for(i=r.length;--i>=0;)t.push(n=r[i]),n===e&&lD("Cycle detected in dataflow graph.")},pulse:function(e,t,n){this.touch(e,n||vI);const r=new dI(this,this._clock+(this._pulse?0:1)),i=e.pulse&&e.pulse.source||[];return r.target=e,this._input[e.id]=t.pulse(r,i),this},touch:function(e,t){const n=t||vI;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this},update:function(e,t,n){const r=n||vI;return(e.set(t)||r.force)&&this.touch(e,r),this},changeset:$O,ingest:function(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))},parse:function(e,t){const n=this.locale();return OO(e,t,n.timeParse,n.utcParse)},preload:async function(e,t,n){const r=this,i=r._pending||function(e){let t;const n=new Promise((e=>t=e));return n.requests=0,n.done=()=>{0===--n.requests&&(e._pending=null,t(e))},e._pending=n}(r);i.requests+=1;const o=await r.request(t,n);return r.pulse(e,r.changeset().remove(pD).insert(o.data||[])),i.done(),o},request:async function(e,t){const n=this;let r,i=0;try{r=await n.loader().load(e,{context:"dataflow",response:PO(t&&t.type)});try{r=n.parse(r,t)}catch(o){i=-2,n.warn("Data ingestion failed",e,o)}}catch(o){i=-1,n.warn("Loading failed",e,o)}return{data:r,status:i}},events:function(e,t,n,r){const i=this,o=aI(n,r),a=function(e){e.dataflow=i;try{o.receive(e)}catch(lD){i.error(lD)}finally{i.run()}};let l;l="string"===typeof e&&"undefined"!==typeof document?document.querySelectorAll(e):YD(e);const s=l.length;for(let c=0;c<s;++c)l[c].addEventListener(t,a);return o},on:function(e,t,n,r,i){return(e instanceof nI?cI:sI)(this,e,t,n,r,i),this},evaluate:async function(e,t,n){const r=this,i=[];if(r._pulse)return gI(r);if(r._pending&&await r._pending,t&&await BO(r,t),!r._touched.length)return r.debug("Dataflow invoked, but nothing to do."),r;const o=++r._clock;r._pulse=new dI(r,o,e),r._touched.forEach((e=>r._enqueue(e,!0))),r._touched=LO(uD);let a,l,s,c=0;try{for(;r._heap.size()>0;)a=r._heap.pop(),a.rank===a.qrank?(l=a.run(r._getPulse(a,e)),l.then?l=await l:l.async&&(i.push(l.async),l=uI),l!==uI&&a._targets&&a._targets.forEach((e=>r._enqueue(e))),++c):r._enqueue(a,!0)}catch(u){r._heap.clear(),s=u}if(r._input={},r._pulse=null,r.debug("Pulse ".concat(o,": ").concat(c," operators")),s&&(r._postrun=[],r.error(s)),r._postrun.length){const e=r._postrun.sort(((e,t)=>t.priority-e.priority));r._postrun=[];for(let t=0;t<e.length;++t)await BO(r,e[t].callback)}return n&&await BO(r,n),i.length&&Promise.all(i).then((e=>r.runAsync(null,(()=>{e.forEach((e=>{try{e(r)}catch(u){r.error(u)}}))})))),r},run:function(e,t,n){return this._pulse?gI(this):(this.evaluate(e,t,n),this)},runAsync:async function(e,t,n){for(;this._running;)await this._running;const r=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(r,r),this._running},runAfter:function(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(r){this.error(r)}},_enqueue:function(e,t){const n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))},_getPulse:function(e,t){const n=e.source,r=this._clock;return n&&kD(n)?new mI(this,r,n.map((e=>e.pulse)),t):this._input[e.id]||function(e,t){if(t&&t.stamp===e.stamp)return t;e=e.fork(),t&&t!==uI&&(e.source=t.source);return e}(this._pulse,n&&n.pulse)}},hF(_I,nI,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then((e=>this.pulse=e)):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){const t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform(){}});const kI={};function EI(e){const t=SI(e);return t&&t.Definition||null}function SI(e){return e=e&&e.toLowerCase(),cF(kI,e)?kI[e]:null}function CI(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function MI(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function TI(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uR;if(e===uR)return AI;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function AI(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function DI(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?AI:TI(i);r>n;){if(r-n>600){const o=r-n+1,a=t-n+1,l=Math.log(o),s=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*s*(o-s)/o)*(a-o/2<0?-1:1);DI(e,t,Math.max(n,Math.floor(t-a*s/o+c)),Math.min(r,Math.floor(t+(o-a)*s/o+c)),i)}const o=e[t];let a=n,l=r;for(FI(e,n,t),i(e[r],o)>0&&FI(e,n,r);a<l;){for(FI(e,a,l),++a,--l;i(e[a],o)<0;)++a;for(;i(e[l],o)>0;)--l}0===i(e[n],o)?FI(e,n,l):(++l,FI(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function FI(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function NI(e){return null===e?NaN:+e}function RI(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return MI(e);if(t>=1)return CI(e);var r,i=(r-1)*t,o=Math.floor(i),a=CI(DI(e,o).subarray(0,o+1));return a+(MI(e.subarray(o+1))-a)*(i-o)}}function zI(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:NI;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(i-o)}}function PI(e,t){return RI(e,.5,t)}function*OI(e,t){if(null==t)for(let n of e)null!=n&&""!==n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)r=t(r,++n,e),null!=r&&""!==r&&(r=+r)>=r&&(yield r)}}function II(e,t,n){const r=Float64Array.from(OI(e,n));return r.sort(uR),t.map((e=>zI(r,e)))}function LI(e,t){return II(e,[.25,.5,.75],t)}function BI(e,t){const n=e.length,r=function(e,t){const n=function(e,t){let n,r=0,i=0,o=0;if(void 0===t)for(let a of e)null!=a&&(a=+a)>=a&&(n=a-i,i+=n/++r,o+=n*(a-i));else{let a=-1;for(let l of e)null!=(l=t(l,++a,e))&&(l=+l)>=l&&(n=l-i,i+=n/++r,o+=n*(l-i))}if(r>1)return o/(r-1)}(e,t);return n?Math.sqrt(n):n}(e,t),i=LI(e,t),o=(i[2]-i[0])/1.34;return 1.06*(Math.min(r,o)||r||Math.abs(i[0])||1)*Math.pow(n,-.2)}function jI(e){const t=e.maxbins||20,n=e.base||10,r=Math.log(n),i=e.divide||[5,2];let o,a,l,s,c,u,d=e.extent[0],f=e.extent[1];const h=e.span||f-d||Math.abs(d)||1;if(e.step)o=e.step;else if(e.steps){for(s=h/t,c=0,u=e.steps.length;c<u&&e.steps[c]<s;++c);o=e.steps[Math.max(0,c-1)]}else{for(a=Math.ceil(Math.log(t)/r),l=e.minstep||0,o=Math.max(l,Math.pow(n,Math.round(Math.log(h)/r)-a));Math.ceil(h/o)>t;)o*=n;for(c=0,u=i.length;c<u;++c)s=o/i[c],s>=l&&h/s<=t&&(o=s)}s=Math.log(o);const p=s>=0?0:1+~~(-s/r),m=Math.pow(n,-p-1);return(e.nice||void 0===e.nice)&&(s=Math.floor(d/o+m)*o,d=d<s?s-o:s,f=Math.ceil(f/o)*o),{start:d,stop:f===d?d+o:f,step:o}}var UI=Math.random;function KI(e){UI=e}function WI(e,t,n,r){if(!e.length)return[void 0,void 0];const i=Float64Array.from(OI(e,r)),o=i.length,a=t;let l,s,c,u;for(c=0,u=Array(a);c<a;++c){for(l=0,s=0;s<o;++s)l+=i[~~(UI()*o)];u[c]=l/o}return u.sort(uR),[RI(u,n/2),RI(u,1-n/2)]}function qI(e,t,n,r){r=r||(e=>e);const i=e.length,o=new Float64Array(i);let a,l=0,s=1,c=r(e[0]),u=c,d=c+t;for(;s<i;++s){if(a=r(e[s]),a>=d){for(u=(c+u)/2;l<s;++l)o[l]=u;d=a+t,c=a}u=a}for(u=(c+u)/2;l<s;++l)o[l]=u;return n?function(e,t){const n=e.length;let r,i,o=0,a=1;for(;e[o]===e[a];)++a;for(;a<n;){for(r=a+1;e[a]===e[r];)++r;if(e[a]-e[a-1]<t){for(i=a+(o+r-a-a>>1);i<a;)e[i++]=e[a];for(;i>a;)e[i--]=e[o]}o=a,a=r}return e}(o,t+t/4):o}function HI(e){return function(){return(e=(1103515245*e+12345)%2147483647)/2147483647}}function VI(e,t){let n,r,i;null==t&&(t=e,e=0);const o={min(e){return arguments.length?(n=e||0,i=r-n,o):n},max(e){return arguments.length?(r=e||0,i=r-n,o):r},sample:()=>n+Math.floor(i*UI()),pdf:e=>e===Math.floor(e)&&e>=n&&e<r?1/i:0,cdf(e){const t=Math.floor(e);return t<n?0:t>=r?1:(t-n+1)/i},icdf:e=>e>=0&&e<=1?n-1+Math.floor(e*i):NaN};return o.min(e).max(t)}const GI=Math.sqrt(2*Math.PI),YI=Math.SQRT2;let QI=NaN;function XI(e,t){e=e||0,t=null==t?1:t;let n,r,i=0,o=0;if(QI===QI)i=QI,QI=NaN;else{do{i=2*UI()-1,o=2*UI()-1,n=i*i+o*o}while(0===n||n>1);r=Math.sqrt(-2*Math.log(n)/n),i*=r,QI=o*r}return e+i*t}function $I(e,t,n){const r=(e-(t||0))/(n=null==n?1:n);return Math.exp(-.5*r*r)/(n*GI)}function ZI(e,t,n){const r=(e-(t=t||0))/(n=null==n?1:n),i=Math.abs(r);let o;if(i>37)o=0;else{const e=Math.exp(-i*i/2);let t;i<7.07106781186547?(t=.0352624965998911*i+.700383064443688,t=t*i+6.37396220353165,t=t*i+33.912866078383,t=t*i+112.079291497871,t=t*i+221.213596169931,t=t*i+220.206867912376,o=e*t,t=.0883883476483184*i+1.75566716318264,t=t*i+16.064177579207,t=t*i+86.7807322029461,t=t*i+296.564248779674,t=t*i+637.333633378831,t=t*i+793.826512519948,t=t*i+440.413735824752,o/=t):(t=i+.65,t=i+4/t,t=i+3/t,t=i+2/t,t=i+1/t,o=e/t/2.506628274631)}return r>0?1-o:o}function JI(e,t,n){return e<0||e>1?NaN:(t||0)+(null==n?1:n)*YI*function(e){let t,n=-Math.log((1-e)*(1+e));n<6.25?(n-=3.125,t=-364441206401782e-35,t=t*n-16850591381820166e-35,t=128584807152564e-32+t*n,t=11157877678025181e-33+t*n,t=t*n-1333171662854621e-31,t=20972767875968562e-33+t*n,t=6637638134358324e-30+t*n,t=t*n-4054566272975207e-29,t=t*n-8151934197605472e-29,t=26335093153082323e-28+t*n,t=t*n-12975133253453532e-27,t=t*n-5415412054294628e-26,t=1.0512122733215323e-9+t*n,t=t*n-4.112633980346984e-9,t=t*n-2.9070369957882005e-8,t=4.2347877827932404e-7+t*n,t=t*n-13654692000834679e-22,t=t*n-13882523362786469e-21,t=.00018673420803405714+t*n,t=t*n-.000740702534166267,t=t*n-.006033670871430149,t=.24015818242558962+t*n,t=1.6536545626831027+t*n):n<16?(n=Math.sqrt(n)-3.25,t=2.2137376921775787e-9,t=9.075656193888539e-8+t*n,t=t*n-2.7517406297064545e-7,t=1.8239629214389228e-8+t*n,t=15027403968909828e-22+t*n,t=t*n-4013867526981546e-21,t=29234449089955446e-22+t*n,t=12475304481671779e-21+t*n,t=t*n-47318229009055734e-21,t=6828485145957318e-20+t*n,t=24031110387097894e-21+t*n,t=t*n-.0003550375203628475,t=.0009532893797373805+t*n,t=t*n-.0016882755560235047,t=.002491442096107851+t*n,t=t*n-.003751208507569241,t=.005370914553590064+t*n,t=1.0052589676941592+t*n,t=3.0838856104922208+t*n):Number.isFinite(n)?(n=Math.sqrt(n)-5,t=-27109920616438573e-27,t=t*n-2.555641816996525e-10,t=1.5076572693500548e-9+t*n,t=t*n-3.789465440126737e-9,t=7.61570120807834e-9+t*n,t=t*n-1.496002662714924e-8,t=2.914795345090108e-8+t*n,t=t*n-6.771199775845234e-8,t=2.2900482228026655e-7+t*n,t=t*n-9.9298272942317e-7,t=4526062597223154e-21+t*n,t=t*n-1968177810553167e-20,t=7599527703001776e-20+t*n,t=t*n-.00021503011930044477,t=t*n-.00013871931833623122,t=1.0103004648645344+t*n,t=4.849906401408584+t*n):t=1/0;return t*e}(2*e-1)}function eL(e,t){let n,r;const i={mean(e){return arguments.length?(n=e||0,i):n},stdev(e){return arguments.length?(r=null==e?1:e,i):r},sample:()=>XI(n,r),pdf:e=>$I(e,n,r),cdf:e=>ZI(e,n,r),icdf:e=>JI(e,n,r)};return i.mean(e).stdev(t)}function tL(e,t){const n=eL();let r=0;const i={data(n){return arguments.length?(e=n,r=n?n.length:0,i.bandwidth(t)):e},bandwidth(n){return arguments.length?(!(t=n)&&e&&(t=BI(e)),i):t},sample:()=>e[~~(UI()*r)]+t*n.sample(),pdf(i){let o=0,a=0;for(;a<r;++a)o+=n.pdf((i-e[a])/t);return o/t/r},cdf(i){let o=0,a=0;for(;a<r;++a)o+=n.cdf((i-e[a])/t);return o/r},icdf(){throw Error("KDE icdf not supported.")}};return i.data(e)}function nL(e,t){return e=e||0,t=null==t?1:t,Math.exp(e+XI()*t)}function rL(e,t,n){if(e<=0)return 0;t=t||0,n=null==n?1:n;const r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*GI*e)}function iL(e,t,n){return ZI(Math.log(e),t,n)}function oL(e,t,n){return Math.exp(JI(e,t,n))}function aL(e,t){let n,r;const i={mean(e){return arguments.length?(n=e||0,i):n},stdev(e){return arguments.length?(r=null==e?1:e,i):r},sample:()=>nL(n,r),pdf:e=>rL(e,n,r),cdf:e=>iL(e,n,r),icdf:e=>oL(e,n,r)};return i.mean(e).stdev(t)}function lL(e,t){let n,r=0;const i={weights(e){return arguments.length?(n=function(e){const t=[];let n,i=0;for(n=0;n<r;++n)i+=t[n]=null==e[n]?1:+e[n];for(n=0;n<r;++n)t[n]/=i;return t}(t=e||[]),i):t},distributions(n){return arguments.length?(n?(r=n.length,e=n):(r=0,e=[]),i.weights(t)):e},sample(){const t=UI();let i=e[r-1],o=n[0],a=0;for(;a<r-1;o+=n[++a])if(t<o){i=e[a];break}return i.sample()},pdf(t){let i=0,o=0;for(;o<r;++o)i+=n[o]*e[o].pdf(t);return i},cdf(t){let i=0,o=0;for(;o<r;++o)i+=n[o]*e[o].cdf(t);return i},icdf(){throw Error("Mixture icdf not supported.")}};return i.distributions(e).weights(t)}function sL(e,t){return null==t&&(t=null==e?1:e,e=0),e+(t-e)*UI()}function cL(e,t,n){return null==n&&(n=null==t?1:t,t=0),e>=t&&e<=n?1/(n-t):0}function uL(e,t,n){return null==n&&(n=null==t?1:t,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function dL(e,t,n){return null==n&&(n=null==t?1:t,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function fL(e,t){let n,r;const i={min(e){return arguments.length?(n=e||0,i):n},max(e){return arguments.length?(r=null==e?1:e,i):r},sample:()=>sL(n,r),pdf:e=>cL(e,n,r),cdf:e=>uL(e,n,r),icdf:e=>dL(e,n,r)};return null==t&&(t=null==e?1:e,e=0),i.min(e).max(t)}function hL(e,t,n){let r=0,i=0;for(const o of e){const e=n(o);null==t(o)||null==e||isNaN(e)||(r+=(e-r)/++i)}return{coef:[r],predict:()=>r,rSquared:0}}function pL(e,t,n,r){const i=r-e*e,o=Math.abs(i)<1e-24?0:(n-e*t)/i;return[t-o*e,o]}function mL(e,t,n,r){e=e.filter((e=>{let r=t(e),i=n(e);return null!=r&&(r=+r)>=r&&null!=i&&(i=+i)>=i})),r&&e.sort(((e,n)=>t(e)-t(n)));const i=e.length,o=new Float64Array(i),a=new Float64Array(i);let l,s,c,u=0,d=0,f=0;for(c of e)o[u]=l=+t(c),a[u]=s=+n(c),++u,d+=(l-d)/u,f+=(s-f)/u;for(u=0;u<i;++u)o[u]-=d,a[u]-=f;return[o,a,d,f]}function gL(e,t,n,r){let i,o,a=-1;for(const l of e)i=t(l),o=n(l),null!=i&&(i=+i)>=i&&null!=o&&(o=+o)>=o&&r(i,o,++a)}function vL(e,t,n,r,i){let o=0,a=0;return gL(e,t,n,((e,t)=>{const n=t-i(e),l=t-r;o+=n*n,a+=l*l})),1-o/a}function yL(e,t,n){let r=0,i=0,o=0,a=0,l=0;gL(e,t,n,((e,t)=>{++l,r+=(e-r)/l,i+=(t-i)/l,o+=(e*t-o)/l,a+=(e*e-a)/l}));const s=pL(r,i,o,a),c=e=>s[0]+s[1]*e;return{coef:s,predict:c,rSquared:vL(e,t,n,i,c)}}function bL(e,t,n){let r=0,i=0,o=0,a=0,l=0;gL(e,t,n,((e,t)=>{++l,e=Math.log(e),r+=(e-r)/l,i+=(t-i)/l,o+=(e*t-o)/l,a+=(e*e-a)/l}));const s=pL(r,i,o,a),c=e=>s[0]+s[1]*Math.log(e);return{coef:s,predict:c,rSquared:vL(e,t,n,i,c)}}function xL(e,t,n){const[r,i,o,a]=mL(e,t,n);let l,s,c,u=0,d=0,f=0,h=0,p=0;gL(e,t,n,((e,t)=>{l=r[p++],s=Math.log(t),c=l*t,u+=(t*s-u)/p,d+=(c-d)/p,f+=(c*s-f)/p,h+=(l*c-h)/p}));const[m,g]=pL(d/a,u/a,f/a,h/a),v=e=>Math.exp(m+g*(e-o));return{coef:[Math.exp(m-g*o),g],predict:v,rSquared:vL(e,t,n,a,v)}}function wL(e,t,n){let r=0,i=0,o=0,a=0,l=0,s=0;gL(e,t,n,((e,t)=>{const n=Math.log(e),c=Math.log(t);++s,r+=(n-r)/s,i+=(c-i)/s,o+=(n*c-o)/s,a+=(n*n-a)/s,l+=(t-l)/s}));const c=pL(r,i,o,a),u=e=>c[0]*Math.pow(e,c[1]);return c[0]=Math.exp(c[0]),{coef:c,predict:u,rSquared:vL(e,t,n,l,u)}}function _L(e,t,n){const[r,i,o,a]=mL(e,t,n),l=r.length;let s,c,u,d,f=0,h=0,p=0,m=0,g=0;for(s=0;s<l;)c=r[s],u=i[s++],d=c*c,f+=(d-f)/s,h+=(d*c-h)/s,p+=(d*d-p)/s,m+=(c*u-m)/s,g+=(d*u-g)/s;const v=p-f*f,y=f*v-h*h,b=(g*f-m*h)/y,x=(m*v-g*h)/y,w=-b*f,_=e=>b*(e-=o)*e+x*e+w+a;return{coef:[w-x*o+b*o*o+a,x-2*b*o,b],predict:_,rSquared:vL(e,t,n,a,_)}}function kL(e,t,n,r){if(0===r)return hL(e,t,n);if(1===r)return yL(e,t,n);if(2===r)return _L(e,t,n);const[i,o,a,l]=mL(e,t,n),s=i.length,c=[],u=[],d=r+1;let f,h,p,m,g;for(f=0;f<d;++f){for(p=0,m=0;p<s;++p)m+=Math.pow(i[p],f)*o[p];for(c.push(m),g=new Float64Array(d),h=0;h<d;++h){for(p=0,m=0;p<s;++p)m+=Math.pow(i[p],f+h);g[h]=m}u.push(g)}u.push(c);const v=function(e){const t=e.length-1,n=[];let r,i,o,a,l;for(r=0;r<t;++r){for(a=r,i=r+1;i<t;++i)Math.abs(e[r][i])>Math.abs(e[r][a])&&(a=i);for(o=r;o<t+1;++o)l=e[o][r],e[o][r]=e[o][a],e[o][a]=l;for(i=r+1;i<t;++i)for(o=t;o>=r;o--)e[o][i]-=e[o][r]*e[r][i]/e[r][r]}for(i=t-1;i>=0;--i){for(l=0,o=i+1;o<t;++o)l+=e[o][i]*n[o];n[i]=(e[t][i]-l)/e[i][i]}return n}(u),y=e=>{e-=a;let t=l+v[0]+v[1]*e+v[2]*e*e;for(f=3;f<d;++f)t+=v[f]*Math.pow(e,f);return t};return{coef:EL(d,v,-a,l),predict:y,rSquared:vL(e,t,n,l,y)}}function EL(e,t,n,r){const i=Array(e);let o,a,l,s;for(o=0;o<e;++o)i[o]=0;for(o=e-1;o>=0;--o)for(l=t[o],s=1,i[o]+=l,a=1;a<=o;++a)s*=(o+1-a)/a,i[o-a]+=l*Math.pow(n,a)*s;return i[0]+=r,i}const SL=2,CL=1e-12;function ML(e,t,n,r){const[i,o,a,l]=mL(e,t,n,!0),s=i.length,c=Math.max(2,~~(r*s)),u=new Float64Array(s),d=new Float64Array(s),f=new Float64Array(s).fill(1);for(let h=-1;++h<=SL;){const e=[0,c-1];for(let n=0;n<s;++n){const t=i[n],r=e[0],a=e[1],l=t-i[r]>i[a]-t?r:a;let s=0,c=0,h=0,p=0,m=0;const g=1/Math.abs(i[l]-t||1);for(let e=r;e<=a;++e){const n=i[e],r=o[e],a=TL(Math.abs(t-n)*g)*f[e],l=n*a;s+=a,c+=l,h+=r*a,p+=r*l,m+=n*l}const[v,y]=pL(c/s,h/s,p/s,m/s);u[n]=v+y*t,d[n]=Math.abs(o[n]-u[n]),AL(i,n+1,e)}if(h===SL)break;const t=PI(d);if(Math.abs(t)<CL)break;for(let n,r,i=0;i<s;++i)n=d[i]/(6*t),f[i]=n>=1?CL:(r=1-n*n)*r}return function(e,t,n,r){const i=e.length,o=[];let a,l=0,s=0,c=[];for(;l<i;++l)a=e[l]+n,c[0]===a?c[1]+=(t[l]-c[1])/++s:(s=0,c[1]+=r,c=[a,t[l]],o.push(c));return c[1]+=r,o}(i,u,a,l)}function TL(e){return(e=1-e*e*e)*e*e}function AL(e,t,n){const r=e[t];let i=n[0],o=n[1]+1;if(!(o>=e.length))for(;t>i&&e[o]-r<=r-e[i];)n[0]=++i,n[1]=o,++o}const DL=.5*Math.PI/180;function FL(e,t,n,r){n=n||25,r=Math.max(n,r||200);const i=t=>[t,e(t)],o=t[0],a=t[1],l=a-o,s=l/r,c=[i(o)],u=[];if(n===r){for(let e=1;e<r;++e)c.push(i(o+e/n*l));return c.push(i(a)),c}u.push(i(a));for(let m=n;--m>0;)u.push(i(o+m/n*l));let d=c[0],f=u[u.length-1];const h=1/l,p=function(e,t){let n=e,r=e;const i=t.length;for(let o=0;o<i;++o){const e=t[o][1];e<n&&(n=e),e>r&&(r=e)}return 1/(r-n)}(d[1],u);for(;f;){const e=i((d[0]+f[0])/2);e[0]-d[0]>=s&&NL(d,e,f,h,p)>DL?u.push(e):(d=f,c.push(f),u.pop()),f=u[u.length-1]}return c}function NL(e,t,n,r,i){const o=Math.atan2(i*(n[1]-e[1]),r*(n[0]-e[0])),a=Math.atan2(i*(t[1]-e[1]),r*(t[0]-e[0]));return Math.abs(o-a)}function RL(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}function zL(e){return e&&e.length?1===e.length?e[0]:(t=e,e=>{const n=t.length;let r=1,i=String(t[0](e));for(;r<n;++r)i+="|"+t[r](e);return i}):function(){return""};var t}function PL(e,t,n){return n||e+(t?"_"+t:"")}const OL=()=>{},IL={init:OL,add:OL,rem:OL,idx:0},LL={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.valid?e.sum:void 0,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||void 0===e.min)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||void 0===e.max)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,n)=>{t<e.min&&(e.argmin=n)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,n)=>{t>e.max&&(e.argmax=n)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3},exponential:{init:(e,t)=>{e.exp=0,e.exp_r=t},value:e=>e.valid?e.exp*(1-e.exp_r)/(1-e.exp_r**e.valid):void 0,add:(e,t)=>e.exp=e.exp_r*e.exp+t,rem:(e,t)=>e.exp=(e.exp-t/e.exp_r**(e.valid-1))/e.exp_r},exponentialb:{value:e=>e.valid?e.exp*(1-e.exp_r):void 0,req:["exponential"],idx:1}},BL=Object.keys(LL).filter((e=>"__count__"!==e));function jL(e,t,n){return LL[e](n,t)}function UL(e,t){return e.idx-t.idx}function KL(){this.valid=0,this.missing=0,this._ops.forEach((e=>null==e.aggregate_param?e.init(this):e.init(this,e.aggregate_param)))}function WL(e,t){null!=e&&""!==e?e===e&&(++this.valid,this._ops.forEach((n=>n.add(this,e,t)))):++this.missing}function qL(e,t){null!=e&&""!==e?e===e&&(--this.valid,this._ops.forEach((n=>n.rem(this,e,t)))):--this.missing}function HL(e){return this._out.forEach((t=>e[t.out]=t.value(this))),e}function VL(e,t){const n=t||dD,r=function(e){const t={};e.forEach((e=>t[e.name]=e));const n=e=>{e.req&&e.req.forEach((e=>{t[e]||n(t[e]=LL[e]())}))};return e.forEach(n),Object.values(t).sort(UL)}(e),i=e.slice().sort(UL);function o(e){this._ops=r,this._out=i,this.cell=e,this.init()}return o.prototype.init=KL,o.prototype.add=WL,o.prototype.rem=qL,o.prototype.set=HL,o.prototype.get=n,o.fields=e.map((e=>e.out)),o}function GL(e){this._key=e?cD(e):WO,this.reset()}[...BL,"__count__"].forEach((e=>{LL[e]=function(e,t){return(n,r)=>oF({name:e,aggregate_param:r,out:n||e},IL,t)}(e,LL[e])}));const YL=GL.prototype;function QL(e){_I.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}YL.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},YL.add=function(e){this._add.push(e)},YL.rem=function(e){this._rem.push(e)},YL.values=function(){if(this._get=null,0===this._rem.length)return this._add;const e=this._add,t=this._rem,n=this._key,r=e.length,i=t.length,o=Array(r-i),a={};let l,s,c;for(l=0;l<i;++l)a[n(t[l])]=1;for(l=0,s=0;l<r;++l)a[n(c=e[l])]?a[n(c)]=0:o[s++]=c;return this._rem=[],this._add=o},YL.distinct=function(e){const t=this.values(),n={};let r,i=t.length,o=0;for(;--i>=0;)r=e(t[i])+"",cF(n,r)||(n[r]=1,++o);return o},YL.extent=function(e){if(this._get!==e||!this._ext){const t=this.values(),n=lF(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext},YL.argmin=function(e){return this.extent(e)[0]||{}},YL.argmax=function(e){return this.extent(e)[1]||{}},YL.min=function(e){const t=this.extent(e)[0];return null!=t?e(t):void 0},YL.max=function(e){const t=this.extent(e)[1];return null!=t?e(t):void 0},YL.quartile=function(e){return this._get===e&&this._q||(this._q=LI(this.values(),e),this._get=e),this._q},YL.q1=function(e){return this.quartile(e)[0]},YL.q2=function(e){return this.quartile(e)[1]},YL.q3=function(e){return this.quartile(e)[2]},YL.ci=function(e){return this._get===e&&this._ci||(this._ci=WI(this.values(),1e3,.05,e),this._get=e),this._ci},YL.ci0=function(e){return this.ci(e)[0]},YL.ci1=function(e){return this.ci(e)[1]},QL.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:BL},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]},hF(QL,_I,{transform(e,t){const n=this,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.modified();return n.stamp=r.stamp,n.value&&(i||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=i?n.init(e):Object.create(null),t.visit(t.SOURCE,(e=>n.add(e)))):(n.value=n.value||n.init(e),t.visit(t.REM,(e=>n.rem(e))),t.visit(t.ADD,(e=>n.add(e)))),r.modifies(n._outputs),n._drop=!1!==e.drop,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),t.clean()&&n._drop&&r.clean(!0).runAfter((()=>this.clean())),n.changes(r)},cross(){const e=this,t=e.value,n=e._dnames,r=n.map((()=>({}))),i=n.length;function o(e){let t,o,a,l;for(t in e)for(a=e[t].tuple,o=0;o<i;++o)r[o][l=a[n[o]]]=l}o(e._prev),o(t),function o(a,l,s){const c=n[s],u=r[s++];for(const n in u){const r=a?a+"|"+n:n;l[c]=u[n],s<i?o(r,l,s):t[r]||e.cell(r,l)}}("",{},0)},init(e){const t=this._inputs=[],n=this._outputs=[],r={};function i(e){const n=YD(rD(e)),i=n.length;let o,a=0;for(;a<i;++a)r[o=n[a]]||(r[o]=1,t.push(o))}this._dims=YD(e.groupby),this._dnames=this._dims.map((e=>{const t=nD(e);return i(e),n.push(t),t})),this.cellkey=e.key?e.key:zL(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const o=e.fields||[null],a=e.ops||["count"],l=e.aggregate_params||[null],s=e.as||[],c=o.length,u={};let d,f,h,p,m,g,v;for(c!==a.length&&lD("Unmatched number of fields and aggregate ops."),v=0;v<c;++v)d=o[v],f=a[v],h=l[v]||null,null==d&&"count"!==f&&lD("Null aggregate field specified."),m=nD(d),g=PL(f,m,s[v]),n.push(g),"count"!==f?(p=u[m],p||(i(d),p=u[m]=[],p.field=d,this._measures.push(p)),"count"!==f&&(this._countOnly=!1),p.push(jL(f,h,g))):this._counts.push(g);return this._measures=this._measures.map((e=>VL(e,e.field))),Object.create(null)},cellkey:zL(),cell(e,t){let n=this.value[e];return n?0===n.num&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell(e,t){const n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const e=this._measures,t=e.length;n.agg=Array(t);for(let r=0;r<t;++r)n.agg[r]=new e[r](n)}return n.store&&(n.data=new GL),n},newtuple(e,t){const n=this._dnames,r=this._dims,i=r.length,o={};for(let a=0;a<i;++a)o[n[a]]=r[a](e);return t?YO(t.tuple,o):HO(o)},clean(){const e=this.value;for(const t in e)0===e[t].num&&delete e[t]},add(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,this._countOnly)return;n.store&&n.data.add(e);const r=n.agg;for(let i=0,o=r.length;i<o;++i)r[i].add(r[i].get(e),e)},rem(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,this._countOnly)return;n.store&&n.data.rem(e);const r=n.agg;for(let i=0,o=r.length;i<o;++i)r[i].rem(r[i].get(e),e)},celltuple(e){const t=e.tuple,n=this._counts;e.store&&e.data.values();for(let r=0,i=n.length;r<i;++r)t[n[r]]=e.num;if(!this._countOnly){const n=e.agg;for(let e=0,r=n.length;e<r;++e)n[e].set(t)}return t},changes(e){const t=this._adds,n=this._mods,r=this._prev,i=this._drop,o=e.add,a=e.rem,l=e.mod;let s,c,u,d;if(r)for(c in r)s=r[c],i&&!s.num||a.push(s.tuple);for(u=0,d=this._alen;u<d;++u)o.push(this.celltuple(t[u])),t[u]=null;for(u=0,d=this._mlen;u<d;++u)s=n[u],(0===s.num&&i?a:l).push(this.celltuple(s)),n[u]=null;return this._alen=this._mlen=0,this._prev=null,e}});function XL(e){_I.call(this,null,e)}function $L(e,t,n){const r=e;let i=t||[],o=n||[],a={},l=0;return{add:e=>o.push(e),remove:e=>a[r(e)]=++l,size:()=>i.length,data:(e,t)=>(l&&(i=i.filter((e=>!a[r(e)])),a={},l=0),t&&e&&i.sort(e),o.length&&(i=e?SF(e,i,o.sort(e)):i.concat(o),o=[]),i)}}function ZL(e){_I.call(this,[],e)}function JL(e){nI.call(this,null,eB,e)}function eB(e){return this.value&&!e.modified()?this.value:ZD(e.fields,e.orders)}function tB(e){_I.call(this,null,e)}function nB(e){_I.call(this,null,e)}XL.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]},hF(XL,_I,{transform(e,t){const n=!1!==e.interval,r=this._bins(e),i=r.start,o=r.step,a=e.as||["bin0","bin1"],l=a[0],s=a[1];let c;return c=e.modified()?(t=t.reflow(!0)).SOURCE:t.modified(rD(e.field))?t.ADD_MOD:t.ADD,t.visit(c,n?e=>{const t=r(e);e[l]=t,e[s]=null==t?null:i+o*(1+(t-i)/o)}:e=>e[l]=r(e)),t.modifies(n?a:l)},_bins(e){if(this.value&&!e.modified())return this.value;const t=e.field,n=jI(e),r=n.step;let i,o,a=n.start,l=a+Math.ceil((n.stop-a)/r)*r;null!=(i=e.anchor)&&(o=i-(a+r*Math.floor((i-a)/r)),a+=o,l+=o);const s=function(e){let n=DD(t(e));return null==n?null:n<a?-1/0:n>l?1/0:(n=Math.max(a,Math.min(n,l-r)),a+r*Math.floor(1e-14+(n-a)/r))};return s.start=a,s.stop=n.stop,s.step=r,this.value=tD(s,rD(t),e.name||"bin_"+nD(t))}}),ZL.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]},hF(ZL,_I,{transform(e,t){const n=t.fork(t.ALL),r=$L(WO,this.value,n.materialize(n.ADD).add),i=e.sort,o=t.changed()||i&&(e.modified("sort")||t.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(o),this.value=n.source=r.data(QO(i),o),t.source&&t.source.root&&(this.value.root=t.source.root),n}}),hF(JL,nI),tB.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]},hF(tB,_I,{transform(e,t){const n=t=>n=>{for(var r,i=function(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e.match(n)}(l(n),e.case,o)||[],s=0,c=i.length;s<c;++s)a.test(r=i[s])||t(r)},r=this._parameterCheck(e,t),i=this._counts,o=this._match,a=this._stop,l=e.field,s=e.as||["text","count"],c=n((e=>i[e]=1+(i[e]||0))),u=n((e=>i[e]-=1));return r?t.visit(t.SOURCE,c):(t.visit(t.ADD,c),t.visit(t.REM,u)),this._finish(t,s)},_parameterCheck(e,t){let n=!1;return!e.modified("stopwords")&&this._stop||(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),!e.modified("pattern")&&this._match||(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish(e,t){const n=this._counts,r=this._tuples||(this._tuples={}),i=t[0],o=t[1],a=e.fork(e.NO_SOURCE|e.NO_FIELDS);let l,s,c;for(l in n)s=r[l],c=n[l]||0,!s&&c?(r[l]=s=HO({}),s[i]=l,s[o]=c,a.add.push(s)):0===c?(s&&a.rem.push(s),n[l]=null,r[l]=null):s[o]!==c&&(s[o]=c,a.mod.push(s));return a.modifies(t)}}),nB.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]},hF(nB,_I,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.as||["a","b"],i=r[0],o=r[1],a=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter");let l=this.value;return a?(l&&(n.rem=l),l=t.materialize(t.SOURCE).source,n.add=this.value=function(e,t,n,r){for(var i,o,a=[],l={},s=e.length,c=0;c<s;++c)for(l[t]=o=e[c],i=0;i<s;++i)l[n]=e[i],r(l)&&(a.push(HO(l)),(l={})[t]=o);return a}(l,i,o,e.filter||pD)):n.mod=l,n.source=this.value,n.modifies(r)}});const rB={kde:tL,mixture:lL,normal:eL,lognormal:aL,uniform:fL},iB="function";function oB(e,t){const n=e[iB];cF(rB,n)||lD("Unknown distribution function: "+n);const r=rB[n]();for(const i in e)"field"===i?r.data((e.from||t()).map(e[i])):"distributions"===i?r[i](e[i].map((e=>oB(e,t)))):typeof r[i]===iB&&r[i](e[i]);return r}function aB(e){_I.call(this,null,e)}const lB=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],sB={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:lB},{name:"weights",type:"number",array:!0}]};function cB(e,t){return e?e.map(((e,n)=>t[n]||nD(e))):null}function uB(e,t,n){const r=[],i=e=>e(s);let o,a,l,s,c,u;if(null==t)r.push(e.map(n));else for(o={},a=0,l=e.length;a<l;++a)s=e[a],c=t.map(i),u=o[c],u||(o[c]=u=[],u.dims=c,r.push(u)),u.push(n(s));return r}aB.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:lB.concat(sB)},{name:"as",type:"string",array:!0,default:["value","density"]}]},hF(aB,_I,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=oB(e.distribution,function(e){return()=>e.materialize(e.SOURCE).source}(t)),i=e.steps||e.minsteps||25,o=e.steps||e.maxsteps||200;let a=e.method||"pdf";"pdf"!==a&&"cdf"!==a&&lD("Invalid density method: "+a),e.extent||r.data||lD("Missing density extent parameter."),a=r[a];const l=e.as||["value","density"],s=FL(a,e.extent||aF(r.data()),i,o).map((e=>{const t={};return t[l[0]]=e[0],t[l[1]]=e[1],HO(t)}));this.value&&(n.rem=this.value),this.value=n.add=n.source=s}return n}});function dB(e){_I.call(this,null,e)}dB.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:"bin"}]};function fB(e){nI.call(this,null,hB,e),this.modified(!0)}function hB(e){const t=e.expr;return this.value&&!e.modified("expr")?this.value:tD((n=>t(n,e)),rD(t),nD(t))}function pB(e){_I.call(this,[void 0,void 0],e)}function mB(e,t){nI.call(this,e),this.parent=t,this.count=0}function gB(e){_I.call(this,{},e),this._keys=dF();const t=this._targets=[];t.active=0,t.forEach=e=>{for(let n=0,r=t.active;n<r;++n)e(t[n],n,t)}}function vB(e){nI.call(this,null,yB,e)}function yB(e){return this.value&&!e.modified()?this.value:kD(e.name)?YD(e.name).map((e=>cD(e))):cD(e.name,e.as)}function bB(e){_I.call(this,dF(),e)}function xB(e){_I.call(this,[],e)}function wB(e){_I.call(this,[],e)}function _B(e){_I.call(this,null,e)}function kB(e){_I.call(this,[],e)}hF(dB,_I,{transform(e,t){if(this.value&&!e.modified()&&!t.changed())return t;const n=t.materialize(t.SOURCE).source,r=uB(t.source,e.groupby,dD),i=e.smooth||!1,o=e.field,a=e.step||((e,t)=>TF(aF(e,t))/30)(n,o),l=QO(((e,t)=>o(e)-o(t))),s=e.as||"bin",c=r.length;let u,d=1/0,f=-1/0,h=0;for(;h<c;++h){const e=r[h].sort(l);u=-1;for(const t of qI(e,a,i,o))t<d&&(d=t),t>f&&(f=t),e[++u][s]=t}return this.value={start:d,stop:f,step:a},t.reflow(!0).modifies(s)}}),hF(fB,nI),pB.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]},hF(pB,_I,{transform(e,t){const n=this.value,r=e.field,i=t.changed()||t.modified(r.fields)||e.modified("field");let o=n[0],a=n[1];if((i||null==o)&&(o=1/0,a=-1/0),t.visit(i?t.SOURCE:t.ADD,(e=>{const t=DD(r(e));null!=t&&(t<o&&(o=t),t>a&&(a=t))})),!Number.isFinite(o)||!Number.isFinite(a)){let e=nD(r);e&&(e=' for field "'.concat(e,'"')),t.dataflow.warn("Infinite extent".concat(e,": [").concat(o,", ").concat(a,"]")),o=a=void 0}this.value=[o,a]}}),hF(mB,nI,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}}),hF(gB,_I,{activate(e){this._targets[this._targets.active++]=e},subflow(e,t,n,r){const i=this.value;let o,a,l=cF(i,e)&&i[e];return l?l.value.stamp<n.stamp&&(l.init(n),this.activate(l)):(a=r||(a=this._group[e])&&a.tuple,o=n.dataflow,l=new mB(n.fork(n.NO_SOURCE),this),o.add(l).connect(t(o,e,a)),i[e]=l,this.activate(l)),l},clean(){const e=this.value;let t=0;for(const n in e)if(0===e[n].count){const r=e[n].detachSubflow;r&&r(),delete e[n],++t}if(t){const e=this._targets.filter((e=>e&&e.count>0));this.initTargets(e)}},initTargets(e){const t=this._targets,n=t.length,r=e?e.length:0;let i=0;for(;i<r;++i)t[i]=e[i];for(;i<n&&null!=t[i];++i)t[i]=null;t.active=r},transform(e,t){const n=t.dataflow,r=e.key,i=e.subflow,o=this._keys,a=e.modified("key"),l=e=>this.subflow(e,i,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,(e=>{const t=WO(e),n=o.get(t);void 0!==n&&(o.delete(t),l(n).rem(e))})),t.visit(t.ADD,(e=>{const t=r(e);o.set(WO(e),t),l(t).add(e)})),a||t.modified(r.fields)?t.visit(t.MOD,(e=>{const t=WO(e),n=o.get(t),i=r(e);n===i?l(i).mod(e):(o.set(t,i),l(n).rem(e),l(i).add(e))})):t.changed(t.MOD)&&t.visit(t.MOD,(e=>{l(o.get(WO(e))).mod(e)})),a&&t.visit(t.REFLOW,(e=>{const t=WO(e),n=o.get(t),i=r(e);n!==i&&(o.set(t,i),l(n).rem(e),l(i).add(e))})),t.clean()?n.runAfter((()=>{this.clean(),o.clean()})):o.empty>n.cleanThreshold&&n.runAfter(o.clean),t}}),hF(vB,nI),bB.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]},hF(bB,_I,{transform(e,t){const n=t.dataflow,r=this.value,i=t.fork(),o=i.add,a=i.rem,l=i.mod,s=e.expr;let c=!0;function u(t){const n=WO(t),i=s(t,e),u=r.get(n);i&&u?(r.delete(n),o.push(t)):i||u?c&&i&&!u&&l.push(t):(r.set(n,1),a.push(t))}return t.visit(t.REM,(e=>{const t=WO(e);r.has(t)?r.delete(t):a.push(e)})),t.visit(t.ADD,(t=>{s(t,e)?o.push(t):r.set(WO(t),1)})),t.visit(t.MOD,u),e.modified()&&(c=!1,t.visit(t.REFLOW,u)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),i}}),xB.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]},hF(xB,_I,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=cB(r,e.as||[]),o=e.index||null,a=i.length;return n.rem=this.value,t.visit(t.SOURCE,(e=>{const t=r.map((t=>t(e))),l=t.reduce(((e,t)=>Math.max(e,t.length)),0);let s,c,u,d=0;for(;d<l;++d){for(c=VO(e),s=0;s<a;++s)c[i[s]]=null==(u=t[s][d])?null:u;o&&(c[o]=d),n.add.push(c)}})),this.value=n.source=n.add,o&&n.modifies(o),n.modifies(i)}}),wB.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]},hF(wB,_I,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=r.map(nD),o=e.as||["key","value"],a=o[0],l=o[1],s=r.length;return n.rem=this.value,t.visit(t.SOURCE,(e=>{for(let t,o=0;o<s;++o)t=VO(e),t[a]=i[o],t[l]=r[o](e),n.add.push(t)})),this.value=n.source=n.add,n.modifies(o)}}),_B.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]},hF(_B,_I,{transform(e,t){const n=e.expr,r=e.as,i=e.modified(),o=e.initonly?t.ADD:i?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(o,(t=>t[r]=n(t,e)))}}),hF(kB,_I,{transform(e,t){const n=t.fork(t.ALL),r=e.generator;let i,o,a,l=this.value,s=e.size-l.length;if(s>0){for(i=[];--s>=0;)i.push(a=HO(r(e))),l.push(a);n.add=n.add.length?n.materialize(n.ADD).add.concat(i):i}else o=l.slice(0,-s),n.rem=n.rem.length?n.materialize(n.REM).rem.concat(o):o,l=l.slice(-s);return n.source=this.value=l,n}});const EB={value:"value",median:PI,mean:function(e,t){let n=0,r=0;if(void 0===t)for(let i of e)null!=i&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of e)null!=(o=t(o,++i,e))&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n},min:MI,max:CI},SB=[];function CB(e){_I.call(this,[],e)}function MB(e){QL.call(this,e)}function TB(e){_I.call(this,null,e)}function AB(e){nI.call(this,null,DB,e)}function DB(e){return this.value&&!e.modified()?this.value:wF(e.fields,e.flat)}function FB(e){_I.call(this,[],e),this._pending=null}function NB(e,t,n){n.forEach(HO);const r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=e.value,e.value=r.source=r.add=n,e._pending=null,r.rem.length&&r.clean(!0),r}function RB(e){_I.call(this,{},e)}function zB(e){nI.call(this,null,PB,e)}function PB(e){if(this.value&&!e.modified())return this.value;const t=e.extents,n=t.length;let r,i,o=1/0,a=-1/0;for(r=0;r<n;++r)i=t[r],i[0]<o&&(o=i[0]),i[1]>a&&(a=i[1]);return[o,a]}function OB(e){nI.call(this,null,IB,e)}function IB(e){return this.value&&!e.modified()?this.value:e.values.reduce(((e,t)=>e.concat(t)),[])}function LB(e){_I.call(this,null,e)}function BB(e){QL.call(this,e)}function jB(e){gB.call(this,e)}function UB(e){_I.call(this,null,e)}function KB(e){_I.call(this,null,e)}function WB(e){_I.call(this,null,e)}CB.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]},hF(CB,_I,{transform(e,t){var n,r,i,o,a,l,s,c,u,d,f=t.fork(t.ALL),h=function(e){var t,n=e.method||EB.value;if(null!=EB[n])return n===EB.value?(t=void 0!==e.value?e.value:0,()=>t):EB[n];lD("Unrecognized imputation method: "+n)}(e),p=function(e){const t=e.field;return e=>e?t(e):NaN}(e),m=nD(e.field),g=nD(e.key),v=(e.groupby||[]).map(nD),y=function(e,t,n,r){var i,o,a,l,s,c,u,d,f=e=>e(d),h=[],p=r?r.slice():[],m={},g={};for(p.forEach(((e,t)=>m[e]=t+1)),l=0,u=e.length;l<u;++l)c=n(d=e[l]),s=m[c]||(m[c]=p.push(c)),(a=g[o=(i=t?t.map(f):SB)+""])||(a=g[o]=[],h.push(a),a.values=i),a[s-1]=d;return h.domain=p,h}(t.source,e.groupby,e.key,e.keyvals),b=[],x=this.value,w=y.domain.length;for(a=0,c=y.length;a<c;++a)for(i=(n=y[a]).values,r=NaN,s=0;s<w;++s)if(null==n[s]){for(o=y.domain[s],d={_impute:!0},l=0,u=i.length;l<u;++l)d[v[l]]=i[l];d[g]=o,d[m]=Number.isNaN(r)?r=h(n,p):r,b.push(HO(d))}return b.length&&(f.add=f.materialize(f.ADD).add.concat(b)),x.length&&(f.rem=f.materialize(f.REM).rem.concat(x)),this.value=b,f}}),MB.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:BL},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]},hF(MB,QL,{transform(e,t){const n=this,r=e.modified();let i;return n.value&&(r||t.modified(n._inputs,!0))?(i=n.value=r?n.init(e):{},t.visit(t.SOURCE,(e=>n.add(e)))):(i=n.value=n.value||this.init(e),t.visit(t.REM,(e=>n.rem(e))),t.visit(t.ADD,(e=>n.add(e)))),n.changes(),t.visit(t.SOURCE,(e=>{oF(e,i[n.cellkey(e)].tuple)})),t.reflow(r).modifies(this._outputs)},changes(){const e=this._adds,t=this._mods;let n,r;for(n=0,r=this._alen;n<r;++n)this.celltuple(e[n]),e[n]=null;for(n=0,r=this._mlen;n<r;++n)this.celltuple(t[n]),t[n]=null;this._alen=this._mlen=0}}),TB.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]},hF(TB,_I,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=uB(r,e.groupby,e.field),o=(e.groupby||[]).map(nD),a=e.bandwidth,l=e.cumulative?"cdf":"pdf",s=e.as||["value","density"],c=[];let u=e.extent,d=e.steps||e.minsteps||25,f=e.steps||e.maxsteps||200;"pdf"!==l&&"cdf"!==l&&lD("Invalid density method: "+l),"shared"===e.resolve&&(u||(u=aF(r,e.field)),d=f=e.steps||f),i.forEach((t=>{const n=tL(t,a)[l],r=e.counts?t.length:1;FL(n,u||aF(t),d,f).forEach((e=>{const n={};for(let r=0;r<o.length;++r)n[o[r]]=t.dims[r];n[s[0]]=e[0],n[s[1]]=e[1]*r,c.push(HO(n))}))})),this.value&&(n.rem=this.value),this.value=n.add=n.source=c}return n}}),hF(AB,nI),hF(FB,_I,{transform(e,t){const n=t.dataflow;if(this._pending)return NB(this,t,this._pending);if(function(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}(e))return t.StopPropagation;if(e.values)return NB(this,t,n.parse(e.values,e.format));if(e.async){const t=n.request(e.url,e.format).then((e=>(this._pending=YD(e.data),e=>e.touch(this))));return{async:t}}return n.request(e.url,e.format).then((e=>NB(this,t,YD(e.data))))}}),RB.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]},hF(RB,_I,{transform(e,t){const n=e.fields,r=e.index,i=e.values,o=null==e.default?null:e.default,a=e.modified(),l=n.length;let s,c,u,d=a?t.SOURCE:t.ADD,f=t,h=e.as;return i?(c=i.length,l>1&&!h&&lD('Multi-field lookup requires explicit "as" parameter.'),h&&h.length!==l*c&&lD('The "as" parameter has too few output field names.'),h=h||i.map(nD),s=function(e){for(var t,a,s=0,u=0;s<l;++s)if(null==(a=r.get(n[s](e))))for(t=0;t<c;++t,++u)e[h[u]]=o;else for(t=0;t<c;++t,++u)e[h[u]]=i[t](a)}):(h||lD("Missing output field names."),s=function(e){for(var t,i=0;i<l;++i)t=r.get(n[i](e)),e[h[i]]=null==t?o:t}),a?f=t.reflow(!0):(u=n.some((e=>t.modified(e.fields))),d|=u?t.MOD:0),t.visit(d,s),f.modifies(h)}}),hF(zB,nI),hF(OB,nI),hF(LB,_I,{transform(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}}),BB.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:BL,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]},hF(BB,QL,{_transform:QL.prototype.transform,transform(e,t){return this._transform(function(e,t){const n=e.field,r=e.value,i=("count"===e.op?"__count__":e.op)||"sum",o=rD(n).concat(rD(r)),a=function(e,t,n){const r={},i=[];return n.visit(n.SOURCE,(t=>{const n=e(t);r[n]||(r[n]=1,i.push(n))})),i.sort(JD),t?i.slice(0,t):i}(n,e.limit||0,t);t.changed()&&e.set("__pivot__",null,null,!0);return{key:e.key,groupby:e.groupby,ops:a.map((()=>i)),fields:a.map((e=>function(e,t,n,r){return tD((r=>t(r)===e?n(r):NaN),r,e+"")}(e,n,r,o))),as:a.map((e=>e+"")),modified:e.modified.bind(e)}}(e,t),t)}}),hF(jB,gB,{transform(e,t){const n=e.subflow,r=e.field,i=e=>this.subflow(WO(e),n,t,e);return(e.modified("field")||r&&t.modified(rD(r)))&&lD("PreFacet does not support field modification."),this.initTargets(),r?(t.visit(t.MOD,(e=>{const t=i(e);r(e).forEach((e=>t.mod(e)))})),t.visit(t.ADD,(e=>{const t=i(e);r(e).forEach((e=>t.add(HO(e))))})),t.visit(t.REM,(e=>{const t=i(e);r(e).forEach((e=>t.rem(e)))}))):(t.visit(t.MOD,(e=>i(e).mod(e))),t.visit(t.ADD,(e=>i(e).add(e))),t.visit(t.REM,(e=>i(e).rem(e)))),t.clean()&&t.runAfter((()=>this.clean())),t}}),UB.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]},hF(UB,_I,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=cB(e.fields,e.as||[]),o=r?(e,t)=>function(e,t,n,r){for(let i=0,o=n.length;i<o;++i)t[r[i]]=n[i](e);return t}(e,t,r,i):GO;let a;return this.value?a=this.value:(t=t.addAll(),a=this.value={}),t.visit(t.REM,(e=>{const t=WO(e);n.rem.push(a[t]),a[t]=null})),t.visit(t.ADD,(e=>{const t=o(e,HO({}));a[WO(e)]=t,n.add.push(t)})),t.visit(t.MOD,(e=>{n.mod.push(o(e,a[WO(e)]))})),n}}),hF(KB,_I,{transform(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}}),WB.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};function qB(e){_I.call(this,null,e)}function HB(e){_I.call(this,[],e),this.count=0}function VB(e){_I.call(this,null,e)}function GB(e){_I.call(this,null,e),this.modified(!0)}function YB(e){_I.call(this,null,e)}hF(WB,_I,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;const i=uB(t.materialize(t.SOURCE).source,e.groupby,e.field),o=(e.groupby||[]).map(nD),a=[],l=e.step||.01,s=e.probs||RL(l/2,1-1e-14,l),c=s.length;return i.forEach((e=>{const t=II(e,s);for(let n=0;n<c;++n){const i={};for(let t=0;t<o.length;++t)i[o[t]]=e.dims[t];i[r[0]]=s[n],i[r[1]]=t[n],a.push(HO(i))}})),this.value&&(n.rem=this.value),this.value=n.add=n.source=a,n}}),hF(qB,_I,{transform(e,t){let n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,(e=>{const t=WO(e);n.rem.push(r[t]),r[t]=null})),t.visit(t.ADD,(e=>{const t=VO(e);r[WO(e)]=t,n.add.push(t)})),t.visit(t.MOD,(e=>{const t=r[WO(e)];for(const r in e)t[r]=e[r],n.modifies(r);n.mod.push(t)}))),n}}),HB.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]},hF(HB,_I,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.modified("size"),i=e.size,o=this.value.reduce(((e,t)=>(e[WO(t)]=1,e)),{});let a=this.value,l=this.count,s=0;function c(e){let t,r;a.length<i?a.push(e):(r=~~((l+1)*UI()),r<a.length&&r>=s&&(t=a[r],o[WO(t)]&&n.rem.push(t),a[r]=e)),++l}if(t.rem.length&&(t.visit(t.REM,(e=>{const t=WO(e);o[t]&&(o[t]=-1,n.rem.push(e)),--l})),a=a.filter((e=>-1!==o[WO(e)]))),(t.rem.length||r)&&a.length<i&&t.source&&(s=l=a.length,t.visit(t.SOURCE,(e=>{o[WO(e)]||c(e)})),s=-1),r&&a.length>i){const e=a.length-i;for(let t=0;t<e;++t)o[WO(a[t])]=-1,n.rem.push(a[t]);a=a.slice(e)}return t.mod.length&&t.visit(t.MOD,(e=>{o[WO(e)]&&n.mod.push(e)})),t.add.length&&t.visit(t.ADD,c),(t.add.length||s<0)&&(n.add=a.filter((e=>!o[WO(e)]))),this.count=l,this.value=n.source=a,n}}),VB.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]},hF(VB,_I,{transform(e,t){if(this.value&&!e.modified())return;const n=t.materialize().fork(t.MOD),r=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=RL(e.start,e.stop,e.step||1).map((e=>{const t={};return t[r]=e,HO(t)})),n.add=t.add.concat(this.value),n}}),hF(GB,_I,{transform(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});const QB=["unit0","unit1"];function XB(e){_I.call(this,dF(),e)}function $B(e){_I.call(this,null,e)}YB.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:SR,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:QB}]},hF(YB,_I,{transform(e,t){const n=e.field,r=!1!==e.interval,i="utc"===e.timezone,o=this._floor(e,t),a=(i?tz:ez)(o.unit).offset,l=e.as||QB,s=l[0],c=l[1],u=o.step;let d=o.start||1/0,f=o.stop||-1/0,h=t.ADD;return(e.modified()||t.changed(t.REM)||t.modified(rD(n)))&&(h=(t=t.reflow(!0)).SOURCE,d=1/0,f=-1/0),t.visit(h,(e=>{const t=n(e);let i,l;null==t?(e[s]=null,r&&(e[c]=null)):(e[s]=i=l=o(t),r&&(e[c]=l=a(i,u)),i<d&&(d=i),l>f&&(f=l))})),o.start=d,o.stop=f,t.modifies(r?l:s)},_floor(e,t){const n="utc"===e.timezone,{units:r,step:i}=e.units?{units:e.units,step:e.step||1}:_z({extent:e.extent||aF(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),o=MR(r),a=this.value||{},l=(n?$R:YR)(o,i);return l.unit=AD(o),l.units=o,l.step=i,l.start=a.start,l.stop=a.stop,this.value=l}}),hF(XB,_I,{transform(e,t){const n=t.dataflow,r=e.field,i=this.value,o=e=>i.set(r(e),e);let a=!0;return e.modified("field")||t.modified(r.fields)?(i.clear(),t.visit(t.SOURCE,o)):t.changed()?(t.visit(t.REM,(e=>i.delete(r(e)))),t.visit(t.ADD,o)):a=!1,this.modified(a),i.empty>n.cleanThreshold&&n.runAfter(i.clean),t.fork()}}),hF($B,_I,{transform(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(QO(e.sort)):t.source).map(e.field))}});const ZB={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){const e=ZB.rank(),t=e.next;return{init:e.init,next:e=>(t(e)-1)/(e.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{const n=t.data,r=t.compare;let i=t.index;if(e<i){for(;i+1<n.length&&!r(n[i],n[i+1]);)++i;e=i}return(1+e)/n.length}}},ntile:function(e,t){(t=+t)>0||lD("ntile num must be greater than zero.");const n=ZB.cume_dist(),r=n.next;return{init:n.init,next:e=>Math.ceil(t*r(e))}},lag:function(e,t){return t=+t||1,{next:n=>{const r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:n=>{const r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return(t=+t)>0||lD("nth_value nth must be greater than zero."),{next:n=>{const r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:n=>{const r=e(n.data[n.index]);return null!=r?t=r:t}}},next_value:function(e){let t,n;return{init:()=>(t=null,n=-1),next:r=>{const i=r.data;return r.index<=n?t:(n=function(e,t,n){for(let r=t.length;n<r;++n){if(null!=e(t[n]))return n}return-1}(e,i,r.index))<0?(n=i.length,t=null):t=e(i[n])}}}};const JB=Object.keys(ZB);function ej(e){const t=YD(e.ops),n=YD(e.fields),r=YD(e.params),i=YD(e.aggregate_params),o=YD(e.as),a=this.outputs=[],l=this.windows=[],s={},c={},u=[],d=[];let f=!0;function h(e){YD(rD(e)).forEach((e=>s[e]=1))}h(e.sort),t.forEach(((e,t)=>{const s=n[t],p=r[t],m=i[t]||null,g=nD(s),v=PL(e,g,o[t]);if(h(s),a.push(v),cF(ZB,e))l.push(function(e,t,n,r){const i=ZB[e](t,n);return{init:i.init||fD,update:function(e,t){t[r]=i.next(e)}}}(e,s,p,v));else{if(null==s&&"count"!==e&&lD("Null aggregate field specified."),"count"===e)return void u.push(v);f=!1;let t=c[g];t||(t=c[g]=[],t.field=s,d.push(t)),t.push(jL(e,m,v))}})),(u.length||d.length)&&(this.cell=function(e,t,n){e=e.map((e=>VL(e,e.field)));const r={num:0,agg:null,store:!1,count:t};if(!n)for(var i=e.length,o=r.agg=Array(i),a=0;a<i;++a)o[a]=new e[a](r);if(r.store)var l=r.data=new GL;return r.add=function(e){if(r.num+=1,!n){l&&l.add(e);for(let t=0;t<i;++t)o[t].add(o[t].get(e),e)}},r.rem=function(e){if(r.num-=1,!n){l&&l.rem(e);for(let t=0;t<i;++t)o[t].rem(o[t].get(e),e)}},r.set=function(e){let i,a;for(l&&l.values(),i=0,a=t.length;i<a;++i)e[t[i]]=r.num;if(!n)for(i=0,a=o.length;i<a;++i)o[i].set(e)},r.init=function(){r.num=0,l&&l.reset();for(let e=0;e<i;++e)o[e].init()},r}(d,u,f)),this.inputs=Object.keys(s)}const tj=ej.prototype;function nj(e){_I.call(this,{},e),this._mlen=0,this._mods=[]}function rj(e,t,n,r){const i=r.sort,o=i&&!r.ignorePeers,a=r.frame||[null,0],l=e.data(n),s=l.length,c=o?fR(i):null,u={i0:0,i1:0,p0:0,p1:0,index:0,data:l,compare:i||rF(-1)};t.init();for(let d=0;d<s;++d)ij(u,a,d,s),o&&oj(u,c),t.update(u,l[d])}function ij(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=null==t[0]?0:Math.max(0,n-Math.abs(t[0])),e.i1=null==t[1]?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function oj(e,t){const n=e.i0,r=e.i1-1,i=e.compare,o=e.data,a=o.length-1;n>0&&!i(o[n],o[n-1])&&(e.i0=t.left(o,o[n])),r<a&&!i(o[r],o[r+1])&&(e.i1=t.right(o,o[r]))}function aj(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function lj(e){this._context=e}function sj(){}function cj(e){this._context=e}function uj(e){this._context=e}function dj(e,t){this._basis=new lj(e),this._beta=t}tj.init=function(){this.windows.forEach((e=>e.init())),this.cell&&this.cell.init()},tj.update=function(e,t){const n=this.cell,r=this.windows,i=e.data,o=r&&r.length;let a;if(n){for(a=e.p0;a<e.i0;++a)n.rem(i[a]);for(a=e.p1;a<e.i1;++a)n.add(i[a]);n.set(t)}for(a=0;a<o;++a)r[a].update(e,t)},nj.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:JB.concat(BL)},{name:"params",type:"number",null:!0,array:!0},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]},hF(nj,_I,{transform(e,t){this.stamp=t.stamp;const n=e.modified(),r=QO(e.sort),i=zL(e.groupby),o=e=>this.group(i(e));let a=this.state;a&&!n||(a=this.state=new ej(e)),n||t.modified(a.inputs)?(this.value={},t.visit(t.SOURCE,(e=>o(e).add(e)))):(t.visit(t.REM,(e=>o(e).remove(e))),t.visit(t.ADD,(e=>o(e).add(e))));for(let l=0,s=this._mlen;l<s;++l)rj(this._mods[l],a,r,e);return this._mlen=0,this._mods=[],t.reflow(n).modifies(a.outputs)},group(e){let t=this.value[e];return t||(t=this.value[e]=$L(WO),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}}),lj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:aj(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:aj(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},cj.prototype={areaStart:sj,areaEnd:sj,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:aj(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},uj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:aj(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},dj.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,i=e[0],o=t[0],a=e[n]-i,l=t[n]-o,s=-1;++s<=n;)r=s/n,this._basis.point(this._beta*e[s]+(1-this._beta)*(i+r*a),this._beta*t[s]+(1-this._beta)*(o+r*l));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const fj=function e(t){function n(e){return 1===t?new lj(e):new dj(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function hj(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function pj(e,t){this._context=e,this._k=(1-t)/6}pj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:hj(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:hj(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const mj=function e(t){function n(e){return new pj(e,t)}return n.tension=function(t){return e(+t)},n}(0);function gj(e,t){this._context=e,this._k=(1-t)/6}gj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:hj(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const vj=function e(t){function n(e){return new gj(e,t)}return n.tension=function(t){return e(+t)},n}(0);function yj(e,t){this._context=e,this._k=(1-t)/6}yj.prototype={areaStart:sj,areaEnd:sj,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:hj(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const bj=function e(t){function n(e){return new yj(e,t)}return n.tension=function(t){return e(+t)},n}(0),xj=Math.abs,wj=Math.atan2,_j=Math.cos,kj=Math.max,Ej=Math.min,Sj=Math.sin,Cj=Math.sqrt,Mj=1e-12,Tj=Math.PI,Aj=Tj/2,Dj=2*Tj;function Fj(e){return e>=1?Aj:e<=-1?-Aj:Math.asin(e)}function Nj(e,t,n){var r=e._x1,i=e._y1,o=e._x2,a=e._y2;if(e._l01_a>Mj){var l=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,s=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*l-e._x0*e._l12_2a+e._x2*e._l01_2a)/s,i=(i*l-e._y0*e._l12_2a+e._y2*e._l01_2a)/s}if(e._l23_a>Mj){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*c+e._x1*e._l23_2a-t*e._l12_2a)/u,a=(a*c+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(r,i,o,a,e._x2,e._y2)}function Rj(e,t){this._context=e,this._alpha=t}Rj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Nj(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const zj=function e(t){function n(e){return t?new Rj(e,t):new pj(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Pj(e,t){this._context=e,this._alpha=t}Pj.prototype={areaStart:sj,areaEnd:sj,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Nj(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Oj=function e(t){function n(e){return t?new Pj(e,t):new yj(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Ij(e,t){this._context=e,this._alpha=t}Ij.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Nj(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Lj=function e(t){function n(e){return t?new Ij(e,t):new gj(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Bj(e){this._context=e}function jj(e){return new Bj(e)}function Uj(e){this._context=e}function Kj(e){return e<0?-1:1}function Wj(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),l=(o*i+a*r)/(r+i);return(Kj(o)+Kj(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(l))||0}function qj(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Hj(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,l=(o-r)/3;e._context.bezierCurveTo(r+l,i+l*t,o-l,a-l*n,o,a)}function Vj(e){this._context=e}function Gj(e){this._context=new Yj(e)}function Yj(e){this._context=e}function Qj(e){this._context=e}function Xj(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function $j(e,t){this._context=e,this._t=t}function Zj(e){return function(){return e}}function Jj(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var eU,tU,nU,rU,iU,oU,aU,lU,sU,cU,uU,dU,fU,hU;Bj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},Uj.prototype={areaStart:sj,areaEnd:sj,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},Vj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Hj(this,this._t0,qj(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Hj(this,qj(this,n=Wj(this,e,t)),n);break;default:Hj(this,this._t0,n=Wj(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(Gj.prototype=Object.create(Vj.prototype)).point=function(e,t){Vj.prototype.point.call(this,t,e)},Yj.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},Qj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=Xj(e),i=Xj(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},$j.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};const pU=Math.PI,mU=2*pU,gU=1e-6,vU=mU-gU;function yU(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class bU{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?yU:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return yU;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append(eU||(eU=Jj(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(tU||(tU=Jj(["Z"]))))}lineTo(e,t){this._append(nU||(nU=Jj(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,n,r){this._append(rU||(rU=Jj(["Q",",",",",",",""])),+e,+t,this._x1=+n,this._y1=+r)}bezierCurveTo(e,t,n,r,i,o){this._append(iU||(iU=Jj(["C",",",",",",",",",",",""])),+e,+t,+n,+r,this._x1=+i,this._y1=+o)}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error("negative radius: ".concat(i));let o=this._x1,a=this._y1,l=n-e,s=r-t,c=o-e,u=a-t,d=c*c+u*u;if(null===this._x1)this._append(oU||(oU=Jj(["M",",",""])),this._x1=e,this._y1=t);else if(d>gU)if(Math.abs(u*l-s*c)>gU&&i){let f=n-o,h=r-a,p=l*l+s*s,m=f*f+h*h,g=Math.sqrt(p),v=Math.sqrt(d),y=i*Math.tan((pU-Math.acos((p+d-m)/(2*g*v)))/2),b=y/v,x=y/g;Math.abs(b-1)>gU&&this._append(lU||(lU=Jj(["L",",",""])),e+b*c,t+b*u),this._append(sU||(sU=Jj(["A",",",",0,0,",",",",",""])),i,i,+(u*f>c*h),this._x1=e+x*l,this._y1=t+x*s)}else this._append(aU||(aU=Jj(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,n,r,i,o){if(e=+e,t=+t,o=!!o,(n=+n)<0)throw new Error("negative radius: ".concat(n));let a=n*Math.cos(r),l=n*Math.sin(r),s=e+a,c=t+l,u=1^o,d=o?r-i:i-r;null===this._x1?this._append(cU||(cU=Jj(["M",",",""])),s,c):(Math.abs(this._x1-s)>gU||Math.abs(this._y1-c)>gU)&&this._append(uU||(uU=Jj(["L",",",""])),s,c),n&&(d<0&&(d=d%mU+mU),d>vU?this._append(dU||(dU=Jj(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,u,e-a,t-l,n,n,u,this._x1=s,this._y1=c):d>gU&&this._append(fU||(fU=Jj(["A",",",",0,",",",",",",",""])),n,n,+(d>=pU),u,this._x1=e+n*Math.cos(i),this._y1=t+n*Math.sin(i)))}rect(e,t,n,r){this._append(hU||(hU=Jj(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,n=+n,+r,-n)}toString(){return this._}}function xU(){return new bU}function wU(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError("invalid digits: ".concat(n));t=e}return e},()=>new bU(t)}function _U(e){return e.innerRadius}function kU(e){return e.outerRadius}function EU(e){return e.startAngle}function SU(e){return e.endAngle}function CU(e){return e&&e.padAngle}function MU(e,t,n,r,i,o,a){var l=e-n,s=t-r,c=(a?o:-o)/Cj(l*l+s*s),u=c*s,d=-c*l,f=e+u,h=t+d,p=n+u,m=r+d,g=(f+p)/2,v=(h+m)/2,y=p-f,b=m-h,x=y*y+b*b,w=i-o,_=f*m-p*h,k=(b<0?-1:1)*Cj(kj(0,w*w*x-_*_)),E=(_*b-y*k)/x,S=(-_*y-b*k)/x,C=(_*b+y*k)/x,M=(-_*y+b*k)/x,T=E-g,A=S-v,D=C-g,F=M-v;return T*T+A*A>D*D+F*F&&(E=C,S=M),{cx:E,cy:S,x01:-u,y01:-d,x11:E*(i/w-1),y11:S*(i/w-1)}}xU.prototype=bU.prototype;Array.prototype.slice;function TU(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function AU(e){return e[0]}function DU(e){return e[1]}function FU(e,t){var n=Zj(!0),r=null,i=jj,o=null,a=wU(l);function l(l){var s,c,u,d=(l=TU(l)).length,f=!1;for(null==r&&(o=i(u=a())),s=0;s<=d;++s)!(s<d&&n(c=l[s],s,l))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+e(c,s,l),+t(c,s,l));if(u)return o=null,u+""||null}return e="function"===typeof e?e:void 0===e?AU:Zj(e),t="function"===typeof t?t:void 0===t?DU:Zj(t),l.x=function(t){return arguments.length?(e="function"===typeof t?t:Zj(+t),l):e},l.y=function(e){return arguments.length?(t="function"===typeof e?e:Zj(+e),l):t},l.defined=function(e){return arguments.length?(n="function"===typeof e?e:Zj(!!e),l):n},l.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),l):i},l.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),l):r},l}function NU(e,t,n){var r=null,i=Zj(!0),o=null,a=jj,l=null,s=wU(c);function c(c){var u,d,f,h,p,m=(c=TU(c)).length,g=!1,v=new Array(m),y=new Array(m);for(null==o&&(l=a(p=s())),u=0;u<=m;++u){if(!(u<m&&i(h=c[u],u,c))===g)if(g=!g)d=u,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),f=u-1;f>=d;--f)l.point(v[f],y[f]);l.lineEnd(),l.areaEnd()}g&&(v[u]=+e(h,u,c),y[u]=+t(h,u,c),l.point(r?+r(h,u,c):v[u],n?+n(h,u,c):y[u]))}if(p)return l=null,p+""||null}function u(){return FU().defined(i).curve(a).context(o)}return e="function"===typeof e?e:void 0===e?AU:Zj(+e),t="function"===typeof t?t:Zj(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?DU:Zj(+n),c.x=function(t){return arguments.length?(e="function"===typeof t?t:Zj(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:Zj(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:Zj(+e),c):r},c.y=function(e){return arguments.length?(t="function"===typeof e?e:Zj(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:Zj(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:Zj(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(i="function"===typeof e?e:Zj(!!e),c):i},c.curve=function(e){return arguments.length?(a=e,null!=o&&(l=a(o)),c):a},c.context=function(e){return arguments.length?(null==e?o=l=null:l=a(o=e),c):o},c}Cj(3);const RU={draw(e,t){const n=Cj(t/Tj);e.moveTo(n,0),e.arc(0,0,n,0,Dj)}},zU=(Cj(1/3),Sj(Tj/10)/Sj(7*Tj/10));Sj(Dj/10),_j(Dj/10),Cj(3),Cj(3),Cj(3),Cj(12);function PU(e,t){if("undefined"!==typeof document&&document.createElement){const n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}const OU=()=>"undefined"!==typeof Image?Image:null,IU=fR(uR),LU=IU.right,BU=IU.left,jU=(fR(NI).center,LU);function UU(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function KU(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function WU(){}var qU=.7,HU=1/qU,VU="\\s*([+-]?\\d+)\\s*",GU="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",YU="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",QU=/^#([0-9a-f]{3,8})$/,XU=new RegExp("^rgb\\(".concat(VU,",").concat(VU,",").concat(VU,"\\)$")),$U=new RegExp("^rgb\\(".concat(YU,",").concat(YU,",").concat(YU,"\\)$")),ZU=new RegExp("^rgba\\(".concat(VU,",").concat(VU,",").concat(VU,",").concat(GU,"\\)$")),JU=new RegExp("^rgba\\(".concat(YU,",").concat(YU,",").concat(YU,",").concat(GU,"\\)$")),eK=new RegExp("^hsl\\(".concat(GU,",").concat(YU,",").concat(YU,"\\)$")),tK=new RegExp("^hsla\\(".concat(GU,",").concat(YU,",").concat(YU,",").concat(GU,"\\)$")),nK={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function rK(){return this.rgb().formatHex()}function iK(){return this.rgb().formatRgb()}function oK(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=QU.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?aK(t):3===n?new uK(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?lK(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?lK(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=XU.exec(e))?new uK(t[1],t[2],t[3],1):(t=$U.exec(e))?new uK(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=ZU.exec(e))?lK(t[1],t[2],t[3],t[4]):(t=JU.exec(e))?lK(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=eK.exec(e))?gK(t[1],t[2]/100,t[3]/100,1):(t=tK.exec(e))?gK(t[1],t[2]/100,t[3]/100,t[4]):nK.hasOwnProperty(e)?aK(nK[e]):"transparent"===e?new uK(NaN,NaN,NaN,0):null}function aK(e){return new uK(e>>16&255,e>>8&255,255&e,1)}function lK(e,t,n,r){return r<=0&&(e=t=n=NaN),new uK(e,t,n,r)}function sK(e){return e instanceof WU||(e=oK(e)),e?new uK((e=e.rgb()).r,e.g,e.b,e.opacity):new uK}function cK(e,t,n,r){return 1===arguments.length?sK(e):new uK(e,t,n,null==r?1:r)}function uK(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function dK(){return"#".concat(mK(this.r)).concat(mK(this.g)).concat(mK(this.b))}function fK(){const e=hK(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(pK(this.r),", ").concat(pK(this.g),", ").concat(pK(this.b)).concat(1===e?")":", ".concat(e,")"))}function hK(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function pK(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function mK(e){return((e=pK(e))<16?"0":"")+e.toString(16)}function gK(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new bK(e,t,n,r)}function vK(e){if(e instanceof bK)return new bK(e.h,e.s,e.l,e.opacity);if(e instanceof WU||(e=oK(e)),!e)return new bK;if(e instanceof bK)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,l=o-i,s=(o+i)/2;return l?(a=t===o?(n-r)/l+6*(n<r):n===o?(r-t)/l+2:(t-n)/l+4,l/=s<.5?o+i:2-o-i,a*=60):l=s>0&&s<1?0:a,new bK(a,l,s,e.opacity)}function yK(e,t,n,r){return 1===arguments.length?vK(e):new bK(e,t,n,null==r?1:r)}function bK(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function xK(e){return(e=(e||0)%360)<0?e+360:e}function wK(e){return Math.max(0,Math.min(1,e||0))}function _K(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function kK(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}function EK(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,l=r<t-1?e[r+2]:2*o-i;return kK((n-r/t)*t,a,i,o,l)}}function SK(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],l=e[(r+2)%t];return kK((n-r/t)*t,i,o,a,l)}}UU(WU,oK,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:rK,formatHex:rK,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return vK(this).formatHsl()},formatRgb:iK,toString:iK}),UU(uK,cK,KU(WU,{brighter(e){return e=null==e?HU:Math.pow(HU,e),new uK(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?qU:Math.pow(qU,e),new uK(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new uK(pK(this.r),pK(this.g),pK(this.b),hK(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:dK,formatHex:dK,formatHex8:function(){return"#".concat(mK(this.r)).concat(mK(this.g)).concat(mK(this.b)).concat(mK(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:fK,toString:fK})),UU(bK,yK,KU(WU,{brighter(e){return e=null==e?HU:Math.pow(HU,e),new bK(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?qU:Math.pow(qU,e),new bK(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new uK(_K(e>=240?e-240:e+120,i,r),_K(e,i,r),_K(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new bK(xK(this.h),wK(this.s),wK(this.l),hK(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=hK(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(xK(this.h),", ").concat(100*wK(this.s),"%, ").concat(100*wK(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const CK=e=>()=>e;function MK(e,t){return function(n){return e+n*t}}function TK(e,t){var n=t-e;return n?MK(e,n>180||n<-180?n-360*Math.round(n/360):n):CK(isNaN(e)?t:e)}function AK(e){return 1===(e=+e)?DK:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):CK(isNaN(t)?n:t)}}function DK(e,t){var n=t-e;return n?MK(e,n):CK(isNaN(e)?t:e)}const FK=function e(t){var n=AK(t);function r(e,t){var r=n((e=cK(e)).r,(t=cK(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=DK(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function NK(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),l=new Array(i);for(n=0;n<i;++n)r=cK(t[n]),o[n]=r.r||0,a[n]=r.g||0,l[n]=r.b||0;return o=e(o),a=e(a),l=e(l),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=l(e),r+""}}}var RK=NK(EK),zK=NK(SK);function PK(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function OK(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function IK(e,t){return(OK(t)?PK:LK)(e,t)}function LK(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=HK(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function BK(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function jK(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function UK(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=HK(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var KK=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,WK=new RegExp(KK.source,"g");function qK(e,t){var n,r,i,o=KK.lastIndex=WK.lastIndex=0,a=-1,l=[],s=[];for(e+="",t+="";(n=KK.exec(e))&&(r=WK.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),l[a]?l[a]+=i:l[++a]=i),(n=n[0])===(r=r[0])?l[a]?l[a]+=r:l[++a]=r:(l[++a]=null,s.push({i:a,x:jK(n,r)})),o=WK.lastIndex;return o<t.length&&(i=t.slice(o),l[a]?l[a]+=i:l[++a]=i),l.length<2?s[0]?function(e){return function(t){return e(t)+""}}(s[0].x):function(e){return function(){return e}}(t):(t=s.length,function(e){for(var n,r=0;r<t;++r)l[(n=s[r]).i]=n.x(e);return l.join("")})}function HK(e,t){var n,r=typeof t;return null==t||"boolean"===r?CK(t):("number"===r?jK:"string"===r?(n=oK(t))?(t=n,FK):qK:t instanceof oK?FK:t instanceof Date?BK:OK(t)?PK:Array.isArray(t)?LK:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?UK:jK)(e,t)}function VK(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function GK(e){return+e}var YK=[0,1];function QK(e){return e}function XK(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function $K(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=XK(i,r),o=n(a,o)):(r=XK(r,i),o=n(o,a)),function(e){return o(r(e))}}function ZK(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=XK(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=jU(e,t,1,r)-1;return o[n](i[n](t))}}function JK(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function eW(){var e,t,n,r,i,o,a=YK,l=YK,s=HK,c=QK;function u(){var e=Math.min(a.length,l.length);return c!==QK&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(a[0],a[e-1])),r=e>2?ZK:$K,i=o=null,d}function d(t){return null==t||isNaN(t=+t)?n:(i||(i=r(a.map(e),l,s)))(e(c(t)))}return d.invert=function(n){return c(t((o||(o=r(l,a.map(e),jK)))(n)))},d.domain=function(e){return arguments.length?(a=Array.from(e,GK),u()):a.slice()},d.range=function(e){return arguments.length?(l=Array.from(e),u()):l.slice()},d.rangeRound=function(e){return l=Array.from(e),s=VK,u()},d.clamp=function(e){return arguments.length?(c=!!e||QK,u()):c!==QK},d.interpolate=function(e){return arguments.length?(s=e,u()):s},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function tW(){return eW()(QK,QK)}function nW(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function rW(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}function iW(e,t,n,r){var i,o=aN(e,t,n);switch((r=cN(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=hN(o,a))||(r.precision=i),wN(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=pN(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=mN(o))||(r.precision=i-2*("%"===r.type))}return xN(r)}function oW(e){var t=e.domain;return e.ticks=function(e){var n=t();return iN(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return iW(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),a=0,l=o.length-1,s=o[a],c=o[l],u=10;for(c<s&&(i=s,s=c,c=i,i=a,a=l,l=i);u-- >0;){if((i=oN(s,c,n))===r)return o[a]=s,o[l]=c,t(o);if(i>0)s=Math.floor(s/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;s=Math.ceil(s*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function aW(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function lW(e){return Math.log(e)}function sW(e){return Math.exp(e)}function cW(e){return-Math.log(-e)}function uW(e){return-Math.exp(-e)}function dW(e){return isFinite(e)?+("1e"+e):e<0?0:e}function fW(e){return(t,n)=>-e(-t,n)}function hW(e){const t=e(lW,sW),n=t.domain;let r,i,o=10;function a(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(o),i=function(e){return 10===e?dW:e===Math.E?Math.exp:t=>Math.pow(e,t)}(o),n()[0]<0?(r=fW(r),i=fW(i),e(cW,uW)):e(lW,sW),t}return t.base=function(e){return arguments.length?(o=+e,a()):o},t.domain=function(e){return arguments.length?(n(e),a()):n()},t.ticks=e=>{const t=n();let a=t[0],l=t[t.length-1];const s=l<a;s&&([a,l]=[l,a]);let c,u,d=r(a),f=r(l);const h=null==e?10:+e;let p=[];if(!(o%1)&&f-d<h){if(d=Math.floor(d),f=Math.ceil(f),a>0){for(;d<=f;++d)for(c=1;c<o;++c)if(u=d<0?c/i(-d):c*i(d),!(u<a)){if(u>l)break;p.push(u)}}else for(;d<=f;++d)for(c=o-1;c>=1;--c)if(u=d>0?c/i(-d):c*i(d),!(u<a)){if(u>l)break;p.push(u)}2*p.length<h&&(p=iN(a,l,h))}else p=iN(d,f,Math.min(f-d,h)).map(i);return s?p.reverse():p},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===o?"s":","),"function"!==typeof n&&(o%1||null!=(n=cN(n)).precision||(n.trim=!0),n=xN(n)),e===1/0)return n;const a=Math.max(1,o*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*o<o-.5&&(t*=o),t<=a?n(e):""}},t.nice=()=>n(aW(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function pW(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function mW(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function gW(e){return e<0?-e*e:e*e}function vW(e){var t=e(QK,QK),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(QK,QK):.5===n?e(mW,gW):e(pW(n),pW(1/n)):n},oW(t)}function yW(){var e=vW(eW());return e.copy=function(){return JK(e,yW()).exponent(e.exponent())},nW.apply(e,arguments),e}function bW(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function xW(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function wW(e){var t=1,n=e(bW(t),xW(t));return n.constant=function(n){return arguments.length?e(bW(t=+n),xW(t)):t},oW(n)}function _W(e,t,n,r,i,o){const a=[[sR,1,TN],[sR,5,5e3],[sR,15,15e3],[sR,30,3e4],[o,1,AN],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,DN],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,FN],[r,2,1728e5],[n,1,NN],[t,1,RN],[t,3,7776e6],[e,1,zN]];function l(t,n,r){const i=Math.abs(n-t)/r,o=fR((e=>{let[,,t]=e;return t})).right(a,i);if(o===a.length)return e.every(aN(t/zN,n/zN,r));if(0===o)return cR.every(Math.max(aN(t,n,r),1));const[l,s]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return l.every(s)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"===typeof n.range?n:l(e,t,n),o=i?i.range(e,+t+1):[];return r?o.reverse():o},l]}const[kW,EW]=_W(tR,rR,GN,IN,oR,lR),[SW,CW]=_W(eR,nR,BN,PN,iR,aR);function MW(e){return new Date(e)}function TW(e){return e instanceof Date?+e:+new Date(+e)}function AW(e,t,n,r,i,o,a,l,s,c){var u=tW(),d=u.invert,f=u.domain,h=c(".%L"),p=c(":%S"),m=c("%I:%M"),g=c("%I %p"),v=c("%a %d"),y=c("%b %d"),b=c("%B"),x=c("%Y");function w(e){return(s(e)<e?h:l(e)<e?p:a(e)<e?m:o(e)<e?g:r(e)<e?i(e)<e?v:y:n(e)<e?b:x)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?f(Array.from(e,TW)):f().map(MW)},u.ticks=function(t){var n=f();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:c(t)},u.nice=function(e){var n=f();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?f(aW(n,e)):u},u.copy=function(){return JK(u,AW(e,t,n,r,i,o,a,l,s,c))},u}function DW(){var e,t,n,r,i,o=0,a=1,l=QK,s=!1;function c(t){return null==t||isNaN(t=+t)?i:l(0===n?.5:(t=(r(t)-e)*n,s?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,l=e(n,r),c):[l(0),l(1)]}}return c.domain=function(i){return arguments.length?([o,a]=i,e=r(o=+o),t=r(a=+a),n=e===t?0:1/(t-e),c):[o,a]},c.clamp=function(e){return arguments.length?(s=!!e,c):s},c.interpolator=function(e){return arguments.length?(l=e,c):l},c.range=u(HK),c.rangeRound=u(VK),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(o),t=i(a),n=e===t?0:1/(t-e),c}}function FW(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function NW(){var e=oW(DW()(QK));return e.copy=function(){return FW(e,NW())},rW.apply(e,arguments)}function RW(){var e=vW(DW());return e.copy=function(){return FW(e,RW()).exponent(e.exponent())},rW.apply(e,arguments)}function zW(e,t){void 0===t&&(t=e,e=HK);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return o[t](e-t)}}function PW(){var e,t,n,r,i,o,a,l=0,s=.5,c=1,u=1,d=QK,f=!1;function h(e){return isNaN(e=+e)?a:(e=.5+((e=+o(e))-t)*(u*e<u*t?r:i),d(f?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,d=zW(e,[n,r,i]),h):[d(0),d(.5),d(1)]}}return h.domain=function(a){return arguments.length?([l,s,c]=a,e=o(l=+l),t=o(s=+s),n=o(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,h):[l,s,c]},h.clamp=function(e){return arguments.length?(f=!!e,h):f},h.interpolator=function(e){return arguments.length?(d=e,h):d},h.range=p(HK),h.rangeRound=p(VK),h.unknown=function(e){return arguments.length?(a=e,h):a},function(a){return o=a,e=a(l),t=a(s),n=a(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,h}}function OW(){var e=vW(PW());return e.copy=function(){return FW(e,OW()).exponent(e.exponent())},rW.apply(e,arguments)}class IW extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:KW;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(BW(this,e))}has(e){return super.has(BW(this,e))}set(e,t){return super.set(jW(this,e),t)}delete(e){return super.delete(UW(this,e))}}class LW extends Set{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:KW;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const n of e)this.add(n)}has(e){return super.has(BW(this,e))}add(e){return super.add(jW(this,e))}delete(e){return super.delete(UW(this,e))}}function BW(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):t}function jW(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function UW(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function KW(e){return null!==e&&"object"===typeof e?e.valueOf():e}const WW=Symbol("implicit");function qW(){var e=new IW,t=[],n=[],r=WW;function i(i){let o=e.get(i);if(void 0===o){if(r!==WW)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new IW;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return qW(t,n).unknown(r)},nW.apply(i,arguments),i}function HW(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function VW(e,t){var n=TK(+e,+t);return function(e){var t=n(e);return t-360*Math.floor(t/360)}}var GW,YW=180/Math.PI,QW={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function XW(e,t,n,r,i,o){var a,l,s;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(s=e*n+t*r)&&(n-=e*s,r-=t*s),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,s/=l),e*r<t*n&&(e=-e,t=-t,s=-s,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*YW,skewX:Math.atan(s)*YW,scaleX:a,scaleY:l}}function $W(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(o,a){var l=[],s=[];return o=e(o),a=e(a),function(e,r,i,o,a,l){if(e!==i||r!==o){var s=a.push("translate(",null,t,null,n);l.push({i:s-4,x:jK(e,i)},{i:s-2,x:jK(r,o)})}else(i||o)&&a.push("translate("+i+t+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,l,s),function(e,t,n,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:jK(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(o.rotate,a.rotate,l,s),function(e,t,n,o){e!==t?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:jK(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(o.skewX,a.skewX,l,s),function(e,t,n,r,o,a){if(e!==n||t!==r){var l=o.push(i(o)+"scale(",null,",",null,")");a.push({i:l-4,x:jK(e,n)},{i:l-2,x:jK(t,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,l,s),o=a=null,function(e){for(var t,n=-1,r=s.length;++n<r;)l[(t=s[n]).i]=t.x(e);return l.join("")}}}var ZW=$W((function(e){const t=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?QW:XW(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),JW=$W((function(e){return null==e?QW:(GW||(GW=document.createElementNS("http://www.w3.org/2000/svg","g")),GW.setAttribute("transform",e),(e=GW.transform.baseVal.consolidate())?XW((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):QW)}),", ",")",")");function eq(e){return((e=Math.exp(e))+1/e)/2}const tq=function e(t,n,r){function i(e,i){var o,a,l=e[0],s=e[1],c=e[2],u=i[0],d=i[1],f=i[2],h=u-l,p=d-s,m=h*h+p*p;if(m<1e-12)a=Math.log(f/c)/t,o=function(e){return[l+e*h,s+e*p,c*Math.exp(t*e*a)]};else{var g=Math.sqrt(m),v=(f*f-c*c+r*m)/(2*c*n*g),y=(f*f-c*c-r*m)/(2*f*n*g),b=Math.log(Math.sqrt(v*v+1)-v),x=Math.log(Math.sqrt(y*y+1)-y);a=(x-b)/t,o=function(e){var r=e*a,i=eq(b),o=c/(n*g)*(i*function(e){return((e=Math.exp(2*e))-1)/(e+1)}(t*r+b)-function(e){return((e=Math.exp(e))-1/e)/2}(b));return[l+o*h,s+o*p,c*i/eq(t*r+b)]}}return o.duration=1e3*a*t/Math.SQRT2,o}return i.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},i}(Math.SQRT2,2,4);function nq(e){return function(t,n){var r=e((t=yK(t)).h,(n=yK(n)).h),i=DK(t.s,n.s),o=DK(t.l,n.l),a=DK(t.opacity,n.opacity);return function(e){return t.h=r(e),t.s=i(e),t.l=o(e),t.opacity=a(e),t+""}}}const rq=nq(TK);var iq=nq(DK);const oq=Math.PI/180,aq=180/Math.PI,lq=.96422,sq=1,cq=.82521,uq=4/29,dq=6/29,fq=3*dq*dq,hq=.008856451679035631;function pq(e){if(e instanceof gq)return new gq(e.l,e.a,e.b,e.opacity);if(e instanceof kq)return Eq(e);e instanceof uK||(e=sK(e));var t,n,r=xq(e.r),i=xq(e.g),o=xq(e.b),a=vq((.2225045*r+.7168786*i+.0606169*o)/sq);return r===i&&i===o?t=n=a:(t=vq((.4360747*r+.3850649*i+.1430804*o)/lq),n=vq((.0139322*r+.0971045*i+.7141733*o)/cq)),new gq(116*a-16,500*(t-a),200*(a-n),e.opacity)}function mq(e,t,n,r){return 1===arguments.length?pq(e):new gq(e,t,n,null==r?1:r)}function gq(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function vq(e){return e>hq?Math.pow(e,1/3):e/fq+uq}function yq(e){return e>dq?e*e*e:fq*(e-uq)}function bq(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function xq(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function wq(e){if(e instanceof kq)return new kq(e.h,e.c,e.l,e.opacity);if(e instanceof gq||(e=pq(e)),0===e.a&&0===e.b)return new kq(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*aq;return new kq(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function _q(e,t,n,r){return 1===arguments.length?wq(e):new kq(e,t,n,null==r?1:r)}function kq(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function Eq(e){if(isNaN(e.h))return new gq(e.l,0,0,e.opacity);var t=e.h*oq;return new gq(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}function Sq(e,t){var n=DK((e=mq(e)).l,(t=mq(t)).l),r=DK(e.a,t.a),i=DK(e.b,t.b),o=DK(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=i(t),e.opacity=o(t),e+""}}function Cq(e){return function(t,n){var r=e((t=_q(t)).h,(n=_q(n)).h),i=DK(t.c,n.c),o=DK(t.l,n.l),a=DK(t.opacity,n.opacity);return function(e){return t.h=r(e),t.c=i(e),t.l=o(e),t.opacity=a(e),t+""}}}UU(gq,mq,KU(WU,{brighter(e){return new gq(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker(e){return new gq(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new uK(bq(3.1338561*(t=lq*yq(t))-1.6168667*(e=sq*yq(e))-.4906146*(n=cq*yq(n))),bq(-.9787684*t+1.9161415*e+.033454*n),bq(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),UU(kq,_q,KU(WU,{brighter(e){return new kq(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker(e){return new kq(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb(){return Eq(this).rgb()}}));const Mq=Cq(TK);var Tq=Cq(DK),Aq=-.14861,Dq=1.78277,Fq=-.29227,Nq=-.90649,Rq=1.97294,zq=Rq*Nq,Pq=Rq*Dq,Oq=Dq*Fq-Nq*Aq;function Iq(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof Lq)return new Lq(e.h,e.s,e.l,e.opacity);e instanceof uK||(e=sK(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(Oq*r+zq*t-Pq*n)/(Oq+zq-Pq),o=r-i,a=(Rq*(n-i)-Fq*o)/Nq,l=Math.sqrt(a*a+o*o)/(Rq*i*(1-i)),s=l?Math.atan2(a,o)*aq-120:NaN;return new Lq(s<0?s+360:s,l,i,e.opacity)}(e):new Lq(e,t,n,null==r?1:r)}function Lq(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Bq(e){return function t(n){function r(t,r){var i=e((t=Iq(t)).h,(r=Iq(r)).h),o=DK(t.s,r.s),a=DK(t.l,r.l),l=DK(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=o(e),t.l=a(Math.pow(e,n)),t.opacity=l(e),t+""}}return n=+n,r.gamma=t,r}(1)}UU(Lq,Iq,KU(WU,{brighter(e){return e=null==e?HU:Math.pow(HU,e),new Lq(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?qU:Math.pow(qU,e),new Lq(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*oq,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new uK(255*(t+n*(Aq*r+Dq*i)),255*(t+n*(Fq*r+Nq*i)),255*(t+n*(Rq*r)),this.opacity)}}));const jq=Bq(TK);var Uq=Bq(DK);function Kq(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}function Wq(e,t,n){const r=e-t+2*n;return e?r>0?r:1:0}const qq="linear",Hq="log",Vq="pow",Gq="sqrt",Yq="symlog",Qq="time",Xq="utc",$q="sequential",Zq="diverging",Jq="quantile",eH="quantize",tH="threshold",nH="ordinal",rH="point",iH="band",oH="bin-ordinal",aH="continuous",lH="discrete",sH="discretizing",cH="interpolating",uH="temporal";function dH(){const e=qW().unknown(void 0),t=e.domain,n=e.range;let r,i,o=[0,1],a=!1,l=0,s=0,c=.5;function u(){const e=t().length,u=o[1]<o[0],d=o[1-u],f=Wq(e,l,s);let h=o[u-0];r=(d-h)/(f||1),a&&(r=Math.floor(r)),h+=(d-h-r*(e-l))*c,i=r*(1-l),a&&(h=Math.round(h),i=Math.round(i));const p=RL(e).map((e=>h+r*e));return n(u?p.reverse():p)}return delete e.unknown,e.domain=function(e){return arguments.length?(t(e),u()):t()},e.range=function(e){return arguments.length?(o=[+e[0],+e[1]],u()):o.slice()},e.rangeRound=function(e){return o=[+e[0],+e[1]],a=!0,u()},e.bandwidth=function(){return i},e.step=function(){return r},e.round=function(e){return arguments.length?(a=!!e,u()):a},e.padding=function(e){return arguments.length?(s=Math.max(0,Math.min(1,e)),l=s,u()):l},e.paddingInner=function(e){return arguments.length?(l=Math.max(0,Math.min(1,e)),u()):l},e.paddingOuter=function(e){return arguments.length?(s=Math.max(0,Math.min(1,e)),u()):s},e.align=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),u()):c},e.invertRange=function(e){if(null==e[0]||null==e[1])return;const r=o[1]<o[0],a=r?n().reverse():n(),l=a.length-1;let s,c,u,d=+e[0],f=+e[1];return d!==d||f!==f||(f<d&&(u=d,d=f,f=u),f<a[0]||d>o[1-r])?void 0:(s=Math.max(0,LU(a,d)-1),c=d===f?s:LU(a,f)-1,d-a[s]>i+1e-10&&++s,r&&(u=s,s=l-c,c=l-u),s>c?void 0:t().slice(s,c+1))},e.invert=function(t){const n=e.invertRange([t,t]);return n?n[0]:n},e.copy=function(){return dH().domain(t()).range(o).round(a).paddingInner(l).paddingOuter(s).align(c)},u()}function fH(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return fH(t())},e}var hH=Array.prototype.map;const pH=Array.prototype.slice;const mH=new Map,gH=Symbol("vega_scale");function vH(e){return e[gH]=!0,e}function yH(e,t,n){return arguments.length>1?(mH.set(e,function(e,t,n){const r=function(){const n=t();return n.invertRange||(n.invertRange=n.invert?function(e){return function(t){let n,r=t[0],i=t[1];return i<r&&(n=r,r=i,i=n),[e.invert(r),e.invert(i)]}}(n):n.invertExtent?function(e){return function(t){const n=e.range();let r,i,o,a,l=t[0],s=t[1],c=-1;for(s<l&&(i=l,l=s,s=i),o=0,a=n.length;o<a;++o)n[o]>=l&&n[o]<=s&&(c<0&&(c=o),r=o);if(!(c<0))return l=e.invertExtent(n[c]),s=e.invertExtent(n[r]),[void 0===l[0]?l[1]:l[0],void 0===s[1]?s[0]:s[1]]}}(n):void 0),n.type=e,vH(n)};return r.metadata=zF(YD(n)),r}(e,t,n)),this):bH(e)?mH.get(e):void 0}function bH(e){return mH.has(e)}function xH(e,t){const n=mH.get(e);return n&&n.metadata[t]}function wH(e){return xH(e,aH)}function _H(e){return xH(e,lH)}function kH(e){return xH(e,sH)}function EH(e){return xH(e,Hq)}function SH(e){return xH(e,cH)}function CH(e){return xH(e,Jq)}yH("identity",(function e(t){var n;function r(e){return null==e||isNaN(e=+e)?n:e}return r.invert=r,r.domain=r.range=function(e){return arguments.length?(t=Array.from(e,GK),r):t.slice()},r.unknown=function(e){return arguments.length?(n=e,r):n},r.copy=function(){return e(t).unknown(n)},t=arguments.length?Array.from(t,GK):[0,1],oW(r)})),yH(qq,(function e(){var t=tW();return t.copy=function(){return JK(t,e())},nW.apply(t,arguments),oW(t)}),aH),yH(Hq,(function e(){const t=hW(eW()).domain([1,10]);return t.copy=()=>JK(t,e()).base(t.base()),nW.apply(t,arguments),t}),[aH,Hq]),yH(Vq,yW,aH),yH(Gq,(function(){return yW.apply(null,arguments).exponent(.5)}),aH),yH(Yq,(function e(){var t=wW(eW());return t.copy=function(){return JK(t,e()).constant(t.constant())},nW.apply(t,arguments)}),aH),yH(Qq,(function(){return nW.apply(AW(SW,CW,eR,nR,BN,PN,iR,aR,sR,Tz).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}),[aH,uH]),yH(Xq,(function(){return nW.apply(AW(kW,EW,tR,rR,GN,ON,oR,lR,sR,Dz).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}),[aH,uH]),yH($q,NW,[aH,cH]),yH("".concat($q,"-").concat(qq),NW,[aH,cH]),yH("".concat($q,"-").concat(Hq),(function e(){var t=hW(DW()).domain([1,10]);return t.copy=function(){return FW(t,e()).base(t.base())},rW.apply(t,arguments)}),[aH,cH,Hq]),yH("".concat($q,"-").concat(Vq),RW,[aH,cH]),yH("".concat($q,"-").concat(Gq),(function(){return RW.apply(null,arguments).exponent(.5)}),[aH,cH]),yH("".concat($q,"-").concat(Yq),(function e(){var t=wW(DW());return t.copy=function(){return FW(t,e()).constant(t.constant())},rW.apply(t,arguments)}),[aH,cH]),yH("".concat(Zq,"-").concat(qq),(function e(){var t=oW(PW()(QK));return t.copy=function(){return FW(t,e())},rW.apply(t,arguments)}),[aH,cH]),yH("".concat(Zq,"-").concat(Hq),(function e(){var t=hW(PW()).domain([.1,1,10]);return t.copy=function(){return FW(t,e()).base(t.base())},rW.apply(t,arguments)}),[aH,cH,Hq]),yH("".concat(Zq,"-").concat(Vq),OW,[aH,cH]),yH("".concat(Zq,"-").concat(Gq),(function(){return OW.apply(null,arguments).exponent(.5)}),[aH,cH]),yH("".concat(Zq,"-").concat(Yq),(function e(){var t=wW(PW());return t.copy=function(){return FW(t,e()).constant(t.constant())},rW.apply(t,arguments)}),[aH,cH]),yH(Jq,(function e(){var t,n=[],r=[],i=[];function o(){var e=0,t=Math.max(1,r.length);for(i=new Array(t-1);++e<t;)i[e-1]=zI(n,e/t);return a}function a(e){return null==e||isNaN(e=+e)?t:r[jU(i,e)]}return a.invertExtent=function(e){var t=r.indexOf(e);return t<0?[NaN,NaN]:[t>0?i[t-1]:n[0],t<i.length?i[t]:n[n.length-1]]},a.domain=function(e){if(!arguments.length)return n.slice();n=[];for(let t of e)null==t||isNaN(t=+t)||n.push(t);return n.sort(uR),o()},a.range=function(e){return arguments.length?(r=Array.from(e),o()):r.slice()},a.unknown=function(e){return arguments.length?(t=e,a):t},a.quantiles=function(){return i.slice()},a.copy=function(){return e().domain(n).range(r).unknown(t)},nW.apply(a,arguments)}),[sH,Jq]),yH(eH,(function e(){var t,n=0,r=1,i=1,o=[.5],a=[0,1];function l(e){return null!=e&&e<=e?a[jU(o,e,0,i)]:t}function s(){var e=-1;for(o=new Array(i);++e<i;)o[e]=((e+1)*r-(e-i)*n)/(i+1);return l}return l.domain=function(e){return arguments.length?([n,r]=e,n=+n,r=+r,s()):[n,r]},l.range=function(e){return arguments.length?(i=(a=Array.from(e)).length-1,s()):a.slice()},l.invertExtent=function(e){var t=a.indexOf(e);return t<0?[NaN,NaN]:t<1?[n,o[0]]:t>=i?[o[i-1],r]:[o[t-1],o[t]]},l.unknown=function(e){return arguments.length?(t=e,l):l},l.thresholds=function(){return o.slice()},l.copy=function(){return e().domain([n,r]).range(a).unknown(t)},nW.apply(oW(l),arguments)}),sH),yH(tH,(function e(){var t,n=[.5],r=[0,1],i=1;function o(e){return null!=e&&e<=e?r[jU(n,e,0,i)]:t}return o.domain=function(e){return arguments.length?(n=Array.from(e),i=Math.min(n.length,r.length-1),o):n.slice()},o.range=function(e){return arguments.length?(r=Array.from(e),i=Math.min(n.length,r.length-1),o):r.slice()},o.invertExtent=function(e){var t=r.indexOf(e);return[n[t-1],n[t]]},o.unknown=function(e){return arguments.length?(t=e,o):t},o.copy=function(){return e().domain(n).range(r).unknown(t)},nW.apply(o,arguments)}),sH),yH(oH,(function e(){let t=[],n=[];function r(e){return null==e||e!==e?void 0:n[(jU(t,e)-1)%n.length]}return r.domain=function(e){return arguments.length?(t=function(e){return hH.call(e,DD)}(e),r):t.slice()},r.range=function(e){return arguments.length?(n=pH.call(e),r):n.slice()},r.tickFormat=function(e,n){return iW(t[0],AD(t),null==e?10:e,n)},r.copy=function(){return e().domain(r.domain()).range(r.range())},r}),[lH,sH]),yH(nH,qW,lH),yH(iH,dH,lH),yH(rH,(function(){return fH(dH().paddingInner(1))}),lH);const MH=["clamp","base","constant","exponent"];function TH(e,t){const n=t[0],r=AD(t)-n;return function(t){return e(n+t*r)}}function AH(e,t,n){return zW(NH(t||"rgb",n),e)}function DH(e,t){const n=new Array(t),r=t+1;for(let i=0;i<t;)n[i]=e(++i/r);return n}function FH(e,t,n){const r=n-t;let i,o,a;return r&&Number.isFinite(r)?(i=(o=e.type).indexOf("-"),o=i<0?o:o.slice(i+1),a=yH(o)().domain([t,n]).range([0,1]),MH.forEach((t=>e[t]?a[t](e[t]()):0)),a):rF(.5)}function NH(e,t){const n=i[function(e){return"interpolate"+e.toLowerCase().split("-").map((e=>e[0].toUpperCase()+e.slice(1))).join("")}(e)];return null!=t&&n&&n.gamma?n.gamma(t):n}function RH(e){const t=e.length/6|0,n=new Array(t);for(let r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}function zH(e,t){for(const n in e)OH(n,t(e[n]))}const PH={};function OH(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(PH[e]=t,this):PH[e]}zH({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},RH),zH({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},(e=>AH(RH(e))));const IH="symbol",LH="discrete",BH=e=>kD(e)?e.map((e=>String(e))):String(e),jH=(e,t)=>e[1]-t[1],UH=(e,t)=>t[1]-e[1];function KH(e,t,n){let r;return yF(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),null!=n&&(t=Math.min(t,Math.floor(TF(e.domain())/n||1)+1))),ED(t)&&(r=t.step,t=t.interval),xF(t)&&(t=e.type===Qq?ez(t):e.type==Xq?tz(t):lD("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function WH(e,t,n){let r=e.range(),i=r[0],o=AD(r),a=jH;if(i>o&&(r=o,o=i,i=r,a=UH),i=Math.floor(i),o=Math.ceil(o),t=t.map((t=>[t,e(t)])).filter((e=>i<=e[1]&&e[1]<=o)).sort(a).map((e=>e[0])),n>0&&t.length>1){const e=[t[0],AD(t)];for(;t.length>n&&t.length>=3;)t=t.filter(((e,t)=>!(t%2)));t.length<3&&(t=e)}return t}function qH(e,t){return e.bins?WH(e,e.bins):e.ticks?e.ticks(t):e.domain()}function HH(e,t,n,r,i,o){const a=t.type;let l=BH;if(a===Qq||i===Qq)l=e.timeFormat(r);else if(a===Xq||i===Xq)l=e.utcFormat(r);else if(EH(a)){const i=e.formatFloat(r);if(o||t.bins)l=i;else{const e=VH(t,n,!1);l=t=>e(t)?i(t):""}}else if(t.tickFormat){const i=t.domain();l=e.formatSpan(i[0],i[i.length-1],n,r)}else r&&(l=e.format(r));return l}function VH(e,t,n){const r=qH(e,t),i=e.base(),o=Math.log(i),a=Math.max(1,i*t/r.length),l=e=>{let t=e/Math.pow(i,Math.round(Math.log(e)/o));return t*i<i-.5&&(t*=i),t<=a};return n?r.filter(l):l}const GH={[Jq]:"quantiles",[eH]:"thresholds",[tH]:"domain"},YH={[Jq]:"quantiles",[eH]:"domain"};function QH(e,t){return e.bins?function(e){const t=e.slice(0,-1);return t.max=AD(e),t}(e.bins):e.type===Hq?VH(e,t,!0):GH[e.type]?function(e){const t=[-1/0].concat(e);return t.max=1/0,t}(e[GH[e.type]]()):qH(e,t)}const XH=e=>GH[e.type]||e.bins;function $H(e,t,n,r,i,o,a){const l=YH[t.type]&&o!==Qq&&o!==Xq?function(e,t,n){const r=t[YH[t.type]](),i=r.length;let o,a=i>1?r[1]-r[0]:r[0];for(o=1;o<i;++o)a=Math.min(a,r[o]-r[o-1]);return e.formatSpan(0,a,30,n)}(e,t,i):HH(e,t,n,i,o,a);return r===IH&&XH(t)?ZH(l):r===LH?eV(l):tV(l)}const ZH=e=>(t,n,r)=>{const i=JH(r[n+1],JH(r.max,1/0)),o=nV(t,e),a=nV(i,e);return o&&a?o+" \u2013 "+a:a?"< "+a:"\u2265 "+o},JH=(e,t)=>null!=e?e:t,eV=e=>(t,n)=>n?e(t):null,tV=e=>t=>e(t),nV=(e,t)=>Number.isFinite(e)?t(e):null;function rV(e,t,n,r){const i=r||t.type;return xF(n)&&function(e){return xH(e,uH)}(i)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),n||i!==Qq?n||i!==Xq?$H(e,t,5,null,n,r,!0):e.utcFormat("%A, %d %B %Y, %X UTC"):e.timeFormat("%A, %d %B %Y, %X")}function iV(e,t,n){n=n||{};const r=Math.max(3,n.maxlen||7),i=rV(e,t,n.format,n.formatType);if(kH(t.type)){const e=QH(t).slice(1).map(i),n=e.length;return"".concat(n," boundar").concat(1===n?"y":"ies",": ").concat(e.join(", "))}if(_H(t.type)){const e=t.domain(),n=e.length,o=n>r?e.slice(0,r-2).map(i).join(", ")+", ending with "+e.slice(-1).map(i):e.map(i).join(", ");return"".concat(n," value").concat(1===n?"":"s",": ").concat(o)}{const e=t.domain();return"values from ".concat(i(e[0])," to ").concat(i(AD(e)))}}let oV=0;const aV="p_";function lV(e){return e&&e.gradient}function sV(e,t,n){const r=e.gradient;let i=e.id,o="radial"===r?aV:"";return i||(i=e.id="gradient_"+oV++,"radial"===r?(e.x1=cV(e.x1,.5),e.y1=cV(e.y1,.5),e.r1=cV(e.r1,0),e.x2=cV(e.x2,.5),e.y2=cV(e.y2,.5),e.r2=cV(e.r2,.5),o=aV):(e.x1=cV(e.x1,0),e.y1=cV(e.y1,0),e.x2=cV(e.x2,1),e.y2=cV(e.y2,0))),t[i]=e,"url("+(n||"")+"#"+o+i+")"}function cV(e,t){return null!=e?e:t}function uV(e,t){var n,r=[];return n={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:r,stop:function(e,t){return r.push({offset:e,color:t}),n}}}const dV={basis:{curve:function(e){return new lj(e)}},"basis-closed":{curve:function(e){return new cj(e)}},"basis-open":{curve:function(e){return new uj(e)}},bundle:{curve:fj,tension:"beta",value:.85},cardinal:{curve:mj,tension:"tension",value:0},"cardinal-open":{curve:vj,tension:"tension",value:0},"cardinal-closed":{curve:bj,tension:"tension",value:0},"catmull-rom":{curve:zj,tension:"alpha",value:.5},"catmull-rom-closed":{curve:Oj,tension:"alpha",value:.5},"catmull-rom-open":{curve:Lj,tension:"alpha",value:.5},linear:{curve:jj},"linear-closed":{curve:function(e){return new Uj(e)}},monotone:{horizontal:function(e){return new Gj(e)},vertical:function(e){return new Vj(e)}},natural:{curve:function(e){return new Qj(e)}},step:{curve:function(e){return new $j(e,.5)}},"step-after":{curve:function(e){return new $j(e,1)}},"step-before":{curve:function(e){return new $j(e,0)}}};function fV(e,t,n){var r=cF(dV,e)&&dV[e],i=null;return r&&(i=r.curve||r[t||"vertical"],r.tension&&null!=n&&(i=i[r.tension](n))),i}const hV={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},pV=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,mV=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,gV=/^((\s+,?\s*)|(,\s*))/,vV=/^[01]/;function yV(e){const t=[];return(e.match(pV)||[]).forEach((e=>{let n=e[0];const r=n.toLowerCase(),i=hV[r],o=function(e,t,n){const r=[];for(let i=0;t&&i<n.length;)for(let o=0;o<t;++o){const t="a"!==e||3!==o&&4!==o?mV:vV,a=n.slice(i).match(t);if(null===a)throw Error("Invalid SVG path, incorrect parameter type");i+=a[0].length,r.push(+a[0]);const l=n.slice(i).match(gV);null!==l&&(i+=l[0].length)}return r}(r,i,e.slice(1).trim()),a=o.length;if(a<i||a&&a%i!==0)throw Error("Invalid SVG path, incorrect parameter count");if(t.push([n,...o.slice(0,i)]),a!==i){"m"===r&&(n="M"===n?"L":"l");for(let e=i;e<a;e+=i)t.push([n,...o.slice(e,e+i)])}})),t}const bV=Math.PI/180,xV=Math.PI/2,wV=2*Math.PI,_V=Math.sqrt(3)/2;var kV={},EV={},SV=[].join;function CV(e){const t=SV.call(e);if(EV[t])return EV[t];var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],l=e[5],s=e[6],c=e[7];const u=c*a,d=-s*l,f=s*a,h=c*l,p=Math.cos(i),m=Math.sin(i),g=Math.cos(o),v=Math.sin(o),y=.5*(o-i),b=Math.sin(.5*y),x=8/3*b*b/Math.sin(y),w=n+p-x*m,_=r+m+x*p,k=n+g,E=r+v,S=k+x*v,C=E-x*g;return EV[t]=[u*w+d*_,f*w+h*_,u*S+d*C,f*S+h*C,u*k+d*E,f*k+h*E]}const MV=["l",0,0,0,0,0,0,0];function TV(e,t,n){const r=MV[0]=e[0];if("a"===r||"A"===r)MV[1]=t*e[1],MV[2]=n*e[2],MV[3]=e[3],MV[4]=e[4],MV[5]=e[5],MV[6]=t*e[6],MV[7]=n*e[7];else if("h"===r||"H"===r)MV[1]=t*e[1];else if("v"===r||"V"===r)MV[1]=n*e[1];else for(var i=1,o=e.length;i<o;++i)MV[i]=(i%2==1?t:n)*e[i];return MV}function AV(e,t,n,r,i,o){var a,l,s,c,u,d=null,f=0,h=0,p=0,m=0,g=0,v=0;null==n&&(n=0),null==r&&(r=0),null==i&&(i=1),null==o&&(o=i),e.beginPath&&e.beginPath();for(var y=0,b=t.length;y<b;++y){switch(a=t[y],1===i&&1===o||(a=TV(a,i,o)),a[0]){case"l":f+=a[1],h+=a[2],e.lineTo(f+n,h+r);break;case"L":f=a[1],h=a[2],e.lineTo(f+n,h+r);break;case"h":f+=a[1],e.lineTo(f+n,h+r);break;case"H":f=a[1],e.lineTo(f+n,h+r);break;case"v":h+=a[1],e.lineTo(f+n,h+r);break;case"V":h=a[1],e.lineTo(f+n,h+r);break;case"m":g=f+=a[1],v=h+=a[2],e.moveTo(f+n,h+r);break;case"M":g=f=a[1],v=h=a[2],e.moveTo(f+n,h+r);break;case"c":l=f+a[5],s=h+a[6],p=f+a[3],m=h+a[4],e.bezierCurveTo(f+a[1]+n,h+a[2]+r,p+n,m+r,l+n,s+r),f=l,h=s;break;case"C":f=a[5],h=a[6],p=a[3],m=a[4],e.bezierCurveTo(a[1]+n,a[2]+r,p+n,m+r,f+n,h+r);break;case"s":l=f+a[3],s=h+a[4],p=2*f-p,m=2*h-m,e.bezierCurveTo(p+n,m+r,f+a[1]+n,h+a[2]+r,l+n,s+r),p=f+a[1],m=h+a[2],f=l,h=s;break;case"S":l=a[3],s=a[4],p=2*f-p,m=2*h-m,e.bezierCurveTo(p+n,m+r,a[1]+n,a[2]+r,l+n,s+r),f=l,h=s,p=a[1],m=a[2];break;case"q":l=f+a[3],s=h+a[4],p=f+a[1],m=h+a[2],e.quadraticCurveTo(p+n,m+r,l+n,s+r),f=l,h=s;break;case"Q":l=a[3],s=a[4],e.quadraticCurveTo(a[1]+n,a[2]+r,l+n,s+r),f=l,h=s,p=a[1],m=a[2];break;case"t":l=f+a[1],s=h+a[2],null===d[0].match(/[QqTt]/)?(p=f,m=h):"t"===d[0]?(p=2*f-c,m=2*h-u):"q"===d[0]&&(p=2*f-p,m=2*h-m),c=p,u=m,e.quadraticCurveTo(p+n,m+r,l+n,s+r),h=s,p=(f=l)+a[1],m=h+a[2];break;case"T":l=a[1],s=a[2],p=2*f-p,m=2*h-m,e.quadraticCurveTo(p+n,m+r,l+n,s+r),f=l,h=s;break;case"a":DV(e,f+n,h+r,[a[1],a[2],a[3],a[4],a[5],a[6]+f+n,a[7]+h+r]),f+=a[6],h+=a[7];break;case"A":DV(e,f+n,h+r,[a[1],a[2],a[3],a[4],a[5],a[6]+n,a[7]+r]),f=a[6],h=a[7];break;case"z":case"Z":f=g,h=v,e.closePath()}d=a}}function DV(e,t,n,r){const i=function(e,t,n,r,i,o,a,l,s){const c=SV.call(arguments);if(kV[c])return kV[c];const u=a*bV,d=Math.sin(u),f=Math.cos(u),h=f*(l-e)*.5+d*(s-t)*.5,p=f*(s-t)*.5-d*(l-e)*.5;let m=h*h/((n=Math.abs(n))*n)+p*p/((r=Math.abs(r))*r);m>1&&(m=Math.sqrt(m),n*=m,r*=m);const g=f/n,v=d/n,y=-d/r,b=f/r,x=g*l+v*s,w=y*l+b*s,_=g*e+v*t,k=y*e+b*t;let E=1/((_-x)*(_-x)+(k-w)*(k-w))-.25;E<0&&(E=0);let S=Math.sqrt(E);o==i&&(S=-S);const C=.5*(x+_)-S*(k-w),M=.5*(w+k)+S*(_-x),T=Math.atan2(w-M,x-C);let A=Math.atan2(k-M,_-C)-T;A<0&&1===o?A+=wV:A>0&&0===o&&(A-=wV);const D=Math.ceil(Math.abs(A/(xV+.001))),F=[];for(let N=0;N<D;++N){const e=T+N*A/D,t=T+(N+1)*A/D;F[N]=[C,M,e,t,n,r,d,f]}return kV[c]=F}(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n);for(let o=0;o<i.length;++o){const t=CV(i[o]);e.bezierCurveTo(t[0],t[1],t[2],t[3],t[4],t[5])}}const FV=.5773502691896257,NV={circle:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,wV)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,i=n/2.5,o=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-o),e.lineTo(i,-o),e.lineTo(0,-n),e.lineTo(-i,-o),e.lineTo(-r,-o),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=_V*n,i=r-n*FV,o=n/4;e.moveTo(0,-r-i),e.lineTo(-o,r-i),e.lineTo(o,r-i),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=_V*n,i=r-n*FV;e.moveTo(0,-r-i),e.lineTo(-n,r-i),e.lineTo(n,r-i),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=_V*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=_V*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=_V*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=_V*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function RV(e){return cF(NV,e)?NV[e]:function(e){if(!cF(zV,e)){const t=yV(e);zV[e]={draw:function(e,n){AV(e,t,0,0,Math.sqrt(n)/2)}}}return zV[e]}(e)}var zV={};const PV=.448084975506;function OV(e){return e.x}function IV(e){return e.y}function LV(e){return e.width}function BV(e){return e.height}function jV(e){return"function"===typeof e?e:()=>+e}function UV(e,t,n){return Math.max(t,Math.min(e,n))}function KV(){var e=OV,t=IV,n=LV,r=BV,i=jV(0),o=i,a=i,l=i,s=null;function c(c,u,d){var f,h=null!=u?u:+e.call(this,c),p=null!=d?d:+t.call(this,c),m=+n.call(this,c),g=+r.call(this,c),v=Math.min(m,g)/2,y=UV(+i.call(this,c),0,v),b=UV(+o.call(this,c),0,v),x=UV(+a.call(this,c),0,v),w=UV(+l.call(this,c),0,v);if(s||(s=f=xU()),y<=0&&b<=0&&x<=0&&w<=0)s.rect(h,p,m,g);else{var _=h+m,k=p+g;s.moveTo(h+y,p),s.lineTo(_-b,p),s.bezierCurveTo(_-PV*b,p,_,p+PV*b,_,p+b),s.lineTo(_,k-w),s.bezierCurveTo(_,k-PV*w,_-PV*w,k,_-w,k),s.lineTo(h+x,k),s.bezierCurveTo(h+PV*x,k,h,k-PV*x,h,k-x),s.lineTo(h,p+y),s.bezierCurveTo(h,p+PV*y,h+PV*y,p,h+y,p),s.closePath()}if(f)return s=null,f+""||null}return c.x=function(t){return arguments.length?(e=jV(t),c):e},c.y=function(e){return arguments.length?(t=jV(e),c):t},c.width=function(e){return arguments.length?(n=jV(e),c):n},c.height=function(e){return arguments.length?(r=jV(e),c):r},c.cornerRadius=function(e,t,n,r){return arguments.length?(i=jV(e),o=null!=t?jV(t):i,l=null!=n?jV(n):i,a=null!=r?jV(r):o,c):i},c.context=function(e){return arguments.length?(s=null==e?null:e,c):s},c}function WV(){var e,t,n,r,i,o,a,l,s=null;function c(e,t,n){const r=n/2;if(i){var c=a-t,u=e-o;if(c||u){var d=Math.hypot(c,u),f=(c/=d)*l,h=(u/=d)*l,p=Math.atan2(u,c);s.moveTo(o-f,a-h),s.lineTo(e-c*r,t-u*r),s.arc(e,t,r,p-Math.PI,p),s.lineTo(o+f,a+h),s.arc(o,a,l,p,p+Math.PI)}else s.arc(e,t,r,0,wV);s.closePath()}else i=1;o=e,a=t,l=r}function u(o){var a,l,u,d=o.length,f=!1;for(null==s&&(s=u=xU()),a=0;a<=d;++a)!(a<d&&r(l=o[a],a,o))===f&&(f=!f)&&(i=0),f&&c(+e(l,a,o),+t(l,a,o),+n(l,a,o));if(u)return s=null,u+""||null}return u.x=function(t){return arguments.length?(e=t,u):e},u.y=function(e){return arguments.length?(t=e,u):t},u.size=function(e){return arguments.length?(n=e,u):n},u.defined=function(e){return arguments.length?(r=e,u):r},u.context=function(e){return arguments.length?(s=null==e?null:e,u):s},u}function qV(e,t){return null!=e?e:t}const HV=e=>e.x||0,VV=e=>e.y||0,GV=e=>!(!1===e.defined),YV=function(){var e=_U,t=kU,n=Zj(0),r=null,i=EU,o=SU,a=CU,l=null,s=wU(c);function c(){var c,u,d=+e.apply(this,arguments),f=+t.apply(this,arguments),h=i.apply(this,arguments)-Aj,p=o.apply(this,arguments)-Aj,m=xj(p-h),g=p>h;if(l||(l=c=s()),f<d&&(u=f,f=d,d=u),f>Mj)if(m>Dj-Mj)l.moveTo(f*_j(h),f*Sj(h)),l.arc(0,0,f,h,p,!g),d>Mj&&(l.moveTo(d*_j(p),d*Sj(p)),l.arc(0,0,d,p,h,g));else{var v,y,b=h,x=p,w=h,_=p,k=m,E=m,S=a.apply(this,arguments)/2,C=S>Mj&&(r?+r.apply(this,arguments):Cj(d*d+f*f)),M=Ej(xj(f-d)/2,+n.apply(this,arguments)),T=M,A=M;if(C>Mj){var D=Fj(C/d*Sj(S)),F=Fj(C/f*Sj(S));(k-=2*D)>Mj?(w+=D*=g?1:-1,_-=D):(k=0,w=_=(h+p)/2),(E-=2*F)>Mj?(b+=F*=g?1:-1,x-=F):(E=0,b=x=(h+p)/2)}var N=f*_j(b),R=f*Sj(b),z=d*_j(_),P=d*Sj(_);if(M>Mj){var O,I=f*_j(x),L=f*Sj(x),B=d*_j(w),j=d*Sj(w);if(m<Tj)if(O=function(e,t,n,r,i,o,a,l){var s=n-e,c=r-t,u=a-i,d=l-o,f=d*s-u*c;if(!(f*f<Mj))return[e+(f=(u*(t-o)-d*(e-i))/f)*s,t+f*c]}(N,R,B,j,I,L,z,P)){var U=N-O[0],K=R-O[1],W=I-O[0],q=L-O[1],H=1/Sj(function(e){return e>1?0:e<-1?Tj:Math.acos(e)}((U*W+K*q)/(Cj(U*U+K*K)*Cj(W*W+q*q)))/2),V=Cj(O[0]*O[0]+O[1]*O[1]);T=Ej(M,(d-V)/(H-1)),A=Ej(M,(f-V)/(H+1))}else T=A=0}E>Mj?A>Mj?(v=MU(B,j,N,R,f,A,g),y=MU(I,L,z,P,f,A,g),l.moveTo(v.cx+v.x01,v.cy+v.y01),A<M?l.arc(v.cx,v.cy,A,wj(v.y01,v.x01),wj(y.y01,y.x01),!g):(l.arc(v.cx,v.cy,A,wj(v.y01,v.x01),wj(v.y11,v.x11),!g),l.arc(0,0,f,wj(v.cy+v.y11,v.cx+v.x11),wj(y.cy+y.y11,y.cx+y.x11),!g),l.arc(y.cx,y.cy,A,wj(y.y11,y.x11),wj(y.y01,y.x01),!g))):(l.moveTo(N,R),l.arc(0,0,f,b,x,!g)):l.moveTo(N,R),d>Mj&&k>Mj?T>Mj?(v=MU(z,P,I,L,d,-T,g),y=MU(N,R,B,j,d,-T,g),l.lineTo(v.cx+v.x01,v.cy+v.y01),T<M?l.arc(v.cx,v.cy,T,wj(v.y01,v.x01),wj(y.y01,y.x01),!g):(l.arc(v.cx,v.cy,T,wj(v.y01,v.x01),wj(v.y11,v.x11),!g),l.arc(0,0,d,wj(v.cy+v.y11,v.cx+v.x11),wj(y.cy+y.y11,y.cx+y.x11),g),l.arc(y.cx,y.cy,T,wj(y.y11,y.x11),wj(y.y01,y.x01),!g))):l.arc(0,0,d,_,w,g):l.lineTo(z,P)}else l.moveTo(0,0);if(l.closePath(),c)return l=null,c+""||null}return c.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Tj/2;return[_j(r)*n,Sj(r)*n]},c.innerRadius=function(t){return arguments.length?(e="function"===typeof t?t:Zj(+t),c):e},c.outerRadius=function(e){return arguments.length?(t="function"===typeof e?e:Zj(+e),c):t},c.cornerRadius=function(e){return arguments.length?(n="function"===typeof e?e:Zj(+e),c):n},c.padRadius=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:Zj(+e),c):r},c.startAngle=function(e){return arguments.length?(i="function"===typeof e?e:Zj(+e),c):i},c.endAngle=function(e){return arguments.length?(o="function"===typeof e?e:Zj(+e),c):o},c.padAngle=function(e){return arguments.length?(a="function"===typeof e?e:Zj(+e),c):a},c.context=function(e){return arguments.length?(l=null==e?null:e,c):l},c}().startAngle((e=>e.startAngle||0)).endAngle((e=>e.endAngle||0)).padAngle((e=>e.padAngle||0)).innerRadius((e=>e.innerRadius||0)).outerRadius((e=>e.outerRadius||0)).cornerRadius((e=>e.cornerRadius||0)),QV=NU().x(HV).y1(VV).y0((e=>(e.y||0)+(e.height||0))).defined(GV),XV=NU().y(VV).x1(HV).x0((e=>(e.x||0)+(e.width||0))).defined(GV),$V=FU().x(HV).y(VV).defined(GV),ZV=KV().x(HV).y(VV).width((e=>e.width||0)).height((e=>e.height||0)).cornerRadius((e=>qV(e.cornerRadiusTopLeft,e.cornerRadius)||0),(e=>qV(e.cornerRadiusTopRight,e.cornerRadius)||0),(e=>qV(e.cornerRadiusBottomRight,e.cornerRadius)||0),(e=>qV(e.cornerRadiusBottomLeft,e.cornerRadius)||0)),JV=function(e,t){let n=null,r=wU(i);function i(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"===typeof e?e:Zj(e||RU),t="function"===typeof t?t:Zj(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"===typeof t?t:Zj(t),i):e},i.size=function(e){return arguments.length?(t="function"===typeof e?e:Zj(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}().type((e=>RV(e.shape||"circle"))).size((e=>qV(e.size,64))),eG=WV().x(HV).y(VV).defined(GV).size((e=>e.size||1));function tG(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function nG(e,t,n,r){return ZV.context(e)(t,n,r)}var rG=1;function iG(){rG=1}function oG(e,t,n){var r=t.clip,i=e._defs,o=t.clip_id||(t.clip_id="clip"+rG++),a=i.clipping[o]||(i.clipping[o]={id:o});return XD(r)?a.path=r(null):tG(n)?a.path=nG(null,n,0,0):(a.width=n.width||0,a.height=n.height||0),"url(#"+o+")"}function aG(e){this.clear(),e&&this.union(e)}function lG(e){this.mark=e,this.bounds=this.bounds||new aG}function sG(e){lG.call(this,e),this.items=this.items||[]}function cG(e){this._pending=0,this._loader=e||IO()}function uG(e){e._pending+=1}function dG(e){e._pending-=1}function fG(e,t,n){if(t.stroke&&0!==t.opacity&&0!==t.strokeOpacity){const r=null!=t.strokeWidth?+t.strokeWidth:1;e.expand(r+(n?function(e,t){return e.strokeJoin&&"miter"!==e.strokeJoin?0:t}(t,r):0))}return e}aG.prototype={clone(){return new aG(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,n){const r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(e,t,n){var{x1:r,y1:i,x2:o,y2:a}=this,l=Math.cos(e),s=Math.sin(e),c=t-t*l+n*s,u=n-t*s-n*l;return[l*r-s*i+c,s*r+l*i+u,l*r-s*a+c,s*r+l*a+u,l*o-s*i+c,s*o+l*i+u,l*o-s*a+c,s*o+l*a+u]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}},hF(sG,lG),cG.prototype={pending(){return this._pending},sanitizeURL(e){const t=this;return uG(t),t._loader.sanitize(e,{context:"href"}).then((e=>(dG(t),e))).catch((()=>(dG(t),null)))},loadImage(e){const t=this,n=OU();return uG(t),t._loader.sanitize(e,{context:"image"}).then((e=>{const r=e.href;if(!r||!n)throw{url:r};const i=new n,o=cF(e,"crossOrigin")?e.crossOrigin:"anonymous";return null!=o&&(i.crossOrigin=o),i.onload=()=>dG(t),i.onerror=()=>dG(t),i.src=r,i})).catch((e=>(dG(t),{complete:!1,width:0,height:0,src:e&&e.url||""})))},ready(){const e=this;return new Promise((t=>{!function n(r){e.pending()?setTimeout((()=>{n(!0)}),10):t(r)}(!1)}))}};const hG=wV-1e-8;let pG,mG,gG,vG,yG,bG,xG,wG;const _G=(e,t)=>pG.add(e,t),kG=(e,t)=>_G(mG=e,gG=t),EG=e=>_G(e,pG.y1),SG=e=>_G(pG.x1,e),CG=(e,t)=>yG*e+xG*t,MG=(e,t)=>bG*e+wG*t,TG=(e,t)=>_G(CG(e,t),MG(e,t)),AG=(e,t)=>kG(CG(e,t),MG(e,t));function DG(e,t){return pG=e,t?(vG=t*bV,yG=wG=Math.cos(vG),bG=Math.sin(vG),xG=-bG):(yG=wG=1,vG=bG=xG=0),FG}const FG={beginPath(){},closePath(){},moveTo:AG,lineTo:AG,rect(e,t,n,r){vG?(TG(e+n,t),TG(e+n,t+r),TG(e,t+r),AG(e,t)):(_G(e+n,t+r),kG(e,t))},quadraticCurveTo(e,t,n,r){const i=CG(e,t),o=MG(e,t),a=CG(n,r),l=MG(n,r);NG(mG,i,a,EG),NG(gG,o,l,SG),kG(a,l)},bezierCurveTo(e,t,n,r,i,o){const a=CG(e,t),l=MG(e,t),s=CG(n,r),c=MG(n,r),u=CG(i,o),d=MG(i,o);RG(mG,a,s,u,EG),RG(gG,l,c,d,SG),kG(u,d)},arc(e,t,n,r,i,o){if(r+=vG,i+=vG,mG=n*Math.cos(i)+e,gG=n*Math.sin(i)+t,Math.abs(i-r)>hG)_G(e-n,t-n),_G(e+n,t+n);else{const a=r=>_G(n*Math.cos(r)+e,n*Math.sin(r)+t);let l,s;if(a(r),a(i),i!==r)if((r%=wV)<0&&(r+=wV),(i%=wV)<0&&(i+=wV),i<r&&(o=!o,l=r,r=i,i=l),o)for(i-=wV,l=r-r%xV,s=0;s<4&&l>i;++s,l-=xV)a(l);else for(l=r-r%xV+xV,s=0;s<4&&l<i;++s,l+=xV)a(l)}}};function NG(e,t,n,r){const i=(e-t)/(e+n-2*t);0<i&&i<1&&r(e+(t-e)*i)}function RG(e,t,n,r,i){const o=r-e+3*t-3*n,a=e+n-2*t,l=e-t;let s,c=0,u=0;Math.abs(o)>1e-14?(s=a*a+l*o,s>=0&&(s=Math.sqrt(s),c=(-a+s)/o,u=(-a-s)/o)):c=.5*l/a,0<c&&c<1&&i(zG(c,e,t,n,r)),0<u&&u<1&&i(zG(u,e,t,n,r))}function zG(e,t,n,r,i){const o=1-e,a=o*o,l=e*e;return a*o*t+3*a*e*n+3*o*l*r+l*e*i}var PG=(PG=PU(1,1))?PG.getContext("2d"):null;const OG=new aG;function IG(e){return function(t,n){if(!PG)return!0;e(PG,t),OG.clear().union(t.bounds).intersect(n).round();const{x1:r,y1:i,x2:o,y2:a}=OG;for(let e=i;e<=a;++e)for(let t=r;t<=o;++t)if(PG.isPointInPath(t,e))return!0;return!1}}function LG(e,t){return t.contains(e.x||0,e.y||0)}function BG(e,t){const n=e.x||0,r=e.y||0,i=e.width||0,o=e.height||0;return t.intersects(OG.set(n,r,n+i,r+o))}function jG(e,t){const n=e.x||0,r=e.y||0;return UG(t,n,r,null!=e.x2?e.x2:n,null!=e.y2?e.y2:r)}function UG(e,t,n,r,i){const{x1:o,y1:a,x2:l,y2:s}=e,c=r-t,u=i-n;let d,f,h,p,m=0,g=1;for(p=0;p<4;++p){if(0===p&&(d=-c,f=-(o-t)),1===p&&(d=c,f=l-t),2===p&&(d=-u,f=-(a-n)),3===p&&(d=u,f=s-n),Math.abs(d)<1e-10&&f<0)return!1;if(h=f/d,d<0){if(h>g)return!1;h>m&&(m=h)}else if(d>0){if(h<m)return!1;h<g&&(g=h)}}return!0}function KG(e,t){e.globalCompositeOperation=t.blend||"source-over"}function WG(e,t){return null==e?t:e}function qG(e,t){const n=t.length;for(let r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}function HG(e,t,n){return lV(n)?function(e,t,n){const r=n.width(),i=n.height();let o;if("radial"===t.gradient)o=e.createRadialGradient(n.x1+WG(t.x1,.5)*r,n.y1+WG(t.y1,.5)*i,Math.max(r,i)*WG(t.r1,0),n.x1+WG(t.x2,.5)*r,n.y1+WG(t.y2,.5)*i,Math.max(r,i)*WG(t.r2,.5));else{const a=WG(t.x1,0),l=WG(t.y1,0),s=WG(t.x2,1),c=WG(t.y2,0);if(a!==s&&l!==c&&r!==i){const n=PU(Math.ceil(r),Math.ceil(i)),o=n.getContext("2d");return o.scale(r,i),o.fillStyle=qG(o.createLinearGradient(a,l,s,c),t.stops),o.fillRect(0,0,r,i),e.createPattern(n,"no-repeat")}o=e.createLinearGradient(n.x1+a*r,n.y1+l*i,n.x1+s*r,n.y1+c*i)}return qG(o,t.stops)}(e,n,t.bounds):n}function VG(e,t,n){return(n*=null==t.fillOpacity?1:t.fillOpacity)>0&&(e.globalAlpha=n,e.fillStyle=HG(e,t,t.fill),!0)}var GG=[];function YG(e,t,n){var r=null!=(r=t.strokeWidth)?r:1;return!(r<=0)&&((n*=null==t.strokeOpacity?1:t.strokeOpacity)>0&&(e.globalAlpha=n,e.strokeStyle=HG(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||GG),e.lineDashOffset=t.strokeDashOffset||0),!0))}function QG(e,t){return e.zindex-t.zindex||e.index-t.index}function XG(e){if(!e.zdirty)return e.zitems;var t,n,r,i=e.items,o=[];for(n=0,r=i.length;n<r;++n)(t=i[n]).index=n,t.zindex&&o.push(t);return e.zdirty=!1,e.zitems=o.sort(QG)}function $G(e,t){var n,r,i=e.items;if(!i||!i.length)return;const o=XG(e);if(o&&o.length){for(n=0,r=i.length;n<r;++n)i[n].zindex||t(i[n]);i=o}for(n=0,r=i.length;n<r;++n)t(i[n])}function ZG(e,t){var n,r,i=e.items;if(!i||!i.length)return null;const o=XG(e);for(o&&o.length&&(i=o),r=i.length;--r>=0;)if(n=t(i[r]))return n;if(i===o)for(r=(i=e.items).length;--r>=0;)if(!i[r].zindex&&(n=t(i[r])))return n;return null}function JG(e){return function(t,n,r){$G(n,(n=>{r&&!r.intersects(n.bounds)||tY(e,t,n,n)}))}}function eY(e){return function(t,n,r){!n.items.length||r&&!r.intersects(n.bounds)||tY(e,t,n.items[0],n.items)}}function tY(e,t,n,r){var i=null==n.opacity?1:n.opacity;0!==i&&(e(t,r)||(KG(t,n),n.fill&&VG(t,n,i)&&t.fill(),n.stroke&&YG(t,n,i)&&t.stroke()))}function nY(e){return e=e||pD,function(t,n,r,i,o,a){return r*=t.pixelRatio,i*=t.pixelRatio,ZG(n,(n=>{const l=n.bounds;if((!l||l.contains(o,a))&&l)return e(t,n,r,i,o,a)?n:void 0}))}}function rY(e,t){return function(n,r,i,o){var a,l,s=Array.isArray(r)?r[0]:r,c=null==t?s.fill:t,u=s.stroke&&n.isPointInStroke;return u&&(a=s.strokeWidth,l=s.strokeCap,n.lineWidth=null!=a?a:1,n.lineCap=null!=l?l:"butt"),!e(n,r)&&(c&&n.isPointInPath(i,o)||u&&n.isPointInStroke(i,o))}}function iY(e){return nY(rY(e))}function oY(e,t){return"translate("+e+","+t+")"}function aY(e){return"rotate("+e+")"}function lY(e){return oY(e.x||0,e.y||0)}function sY(e,t,n){function r(e,n){var r=n.x||0,i=n.y||0,o=n.angle||0;e.translate(r,i),o&&e.rotate(o*=bV),e.beginPath(),t(e,n),o&&e.rotate(-o),e.translate(-r,-i)}return{type:e,tag:"path",nested:!1,attr:function(e,n){e("transform",function(e){return oY(e.x||0,e.y||0)+(e.angle?" "+aY(e.angle):"")}(n)),e("d",t(null,n))},bound:function(e,n){return t(DG(e,n.angle),n),fG(e,n).translate(n.x||0,n.y||0)},draw:JG(r),pick:iY(r),isect:n||IG(r)}}var cY=sY("arc",(function(e,t){return YV.context(e)(t)}));function uY(e,t,n){function r(e,n){e.beginPath(),t(e,n)}const i=rY(r);return{type:e,tag:"path",nested:!0,attr:function(e,n){var r=n.mark.items;r.length&&e("d",t(null,r))},bound:function(e,n){var r=n.items;return 0===r.length?e:(t(DG(e),r),fG(e,r[0]))},draw:eY(r),pick:function(e,t,n,r,o,a){var l=t.items,s=t.bounds;return!l||!l.length||s&&!s.contains(o,a)?null:(n*=e.pixelRatio,r*=e.pixelRatio,i(e,l,n,r)?l[0]:null)},isect:LG,tip:n}}var dY=uY("area",(function(e,t){const n=t[0],r=n.interpolate||"linear";return("horizontal"===n.orient?XV:QV).curve(fV(r,n.orient,n.tension)).context(e)(t)}),(function(e,t){for(var n,r,i="horizontal"===e[0].orient?t[1]:t[0],o="horizontal"===e[0].orient?"y":"x",a=e.length,l=1/0;--a>=0;)!1!==e[a].defined&&(r=Math.abs(e[a][o]-i))<l&&(l=r,n=e[a]);return n}));function fY(e,t){e.beginPath(),tG(t)?nG(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function hY(e){const t=WG(e.strokeWidth,1);return null!=e.strokeOffset?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function pY(e,t){const n=hY(t);e("d",nG(null,t,n,n))}function mY(e,t,n,r){const i=hY(t);e.beginPath(),nG(e,t,(n||0)+i,(r||0)+i)}const gY=rY(mY),vY=rY(mY,!1),yY=rY(mY,!0);var bY={type:"group",tag:"g",nested:!1,attr:function(e,t){e("transform",lY(t))},bound:function(e,t){if(!t.clip&&t.items){const n=t.items,r=n.length;for(let t=0;t<r;++t)e.union(n[t].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),fG(e,t),e.translate(t.x||0,t.y||0)},draw:function(e,t,n,r){$G(t,(t=>{const i=t.x||0,o=t.y||0,a=t.strokeForeground,l=null==t.opacity?1:t.opacity;(t.stroke||t.fill)&&l&&(mY(e,t,i,o),KG(e,t),t.fill&&VG(e,t,l)&&e.fill(),t.stroke&&!a&&YG(e,t,l)&&e.stroke()),e.save(),e.translate(i,o),t.clip&&fY(e,t),n&&n.translate(-i,-o),$G(t,(t=>{("group"===t.marktype||null==r||r.includes(t.marktype))&&this.draw(e,t,n,r)})),n&&n.translate(i,o),e.restore(),a&&t.stroke&&l&&(mY(e,t,i,o),KG(e,t),YG(e,t,l)&&e.stroke())}))},pick:function(e,t,n,r,i,o){if(t.bounds&&!t.bounds.contains(i,o)||!t.items)return null;const a=n*e.pixelRatio,l=r*e.pixelRatio;return ZG(t,(s=>{let c,u,d;const f=s.bounds;if(f&&!f.contains(i,o))return;u=s.x||0,d=s.y||0;const h=u+(s.width||0),p=d+(s.height||0),m=s.clip;if(m&&(i<u||i>h||o<d||o>p))return;if(e.save(),e.translate(u,d),u=i-u,d=o-d,m&&tG(s)&&!yY(e,s,a,l))return e.restore(),null;const g=s.strokeForeground,v=!1!==t.interactive;return v&&g&&s.stroke&&vY(e,s,a,l)?(e.restore(),s):(c=ZG(s,(e=>function(e,t,n){return(!1!==e.interactive||"group"===e.marktype)&&e.bounds&&e.bounds.contains(t,n)}(e,u,d)?this.pick(e,n,r,u,d):null)),!c&&v&&(s.fill||!g&&s.stroke)&&gY(e,s,a,l)&&(c=s),e.restore(),c||null)}))},isect:BG,content:function(e,t,n){e("clip-path",t.clip?oG(n,t,t):null)},background:function(e,t){e("class","background"),e("aria-hidden",!0),pY(e,t)},foreground:function(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?pY(e,t):e("d","")}},xY={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function wY(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then((t=>{e.image=t,e.image.url=e.url}))),n}function _Y(e,t){return null!=e.width?e.width:t&&t.width?!1!==e.aspect&&e.height?e.height*t.width/t.height:t.width:0}function kY(e,t){return null!=e.height?e.height:t&&t.height?!1!==e.aspect&&e.width?e.width*t.height/t.width:t.height:0}function EY(e,t){return"center"===e?t/2:"right"===e?t:0}function SY(e,t){return"middle"===e?t/2:"bottom"===e?t:0}var CY={type:"image",tag:"image",nested:!1,attr:function(e,t,n){const r=wY(t,n),i=_Y(t,r),o=kY(t,r),a=(t.x||0)-EY(t.align,i),l=(t.y||0)-SY(t.baseline,o);e("href",!r.src&&r.toDataURL?r.toDataURL():r.src||"",xY["xmlns:xlink"],"xlink:href"),e("transform",oY(a,l)),e("width",i),e("height",o),e("preserveAspectRatio",!1===t.aspect?"none":"xMidYMid")},bound:function(e,t){const n=t.image,r=_Y(t,n),i=kY(t,n),o=(t.x||0)-EY(t.align,r),a=(t.y||0)-SY(t.baseline,i);return e.set(o,a,o+r,a+i)},draw:function(e,t,n){$G(t,(t=>{if(n&&!n.intersects(t.bounds))return;const r=wY(t,this);let i=_Y(t,r),o=kY(t,r);if(0===i||0===o)return;let a,l,s,c,u=(t.x||0)-EY(t.align,i),d=(t.y||0)-SY(t.baseline,o);!1!==t.aspect&&(l=r.width/r.height,s=t.width/t.height,l===l&&s===s&&l!==s&&(s<l?(c=i/l,d+=(o-c)/2,o=c):(c=o*l,u+=(i-c)/2,i=c))),(r.complete||r.toDataURL)&&(KG(e,t),e.globalAlpha=null!=(a=t.opacity)?a:1,e.imageSmoothingEnabled=!1!==t.smooth,e.drawImage(r,u,d,i,o))}))},pick:nY(),isect:pD,get:wY,xOffset:EY,yOffset:SY},MY=uY("line",(function(e,t){const n=t[0],r=n.interpolate||"linear";return $V.curve(fV(r,n.orient,n.tension)).context(e)(t)}),(function(e,t){for(var n,r,i=Math.pow(e[0].strokeWidth||1,2),o=e.length;--o>=0;)if(!1!==e[o].defined&&(n=e[o].x-t[0])*n+(r=e[o].y-t[1])*r<i)return e[o];return null}));function TY(e,t){var n=t.path;if(null==n)return!0;var r=t.x||0,i=t.y||0,o=t.scaleX||1,a=t.scaleY||1,l=(t.angle||0)*bV,s=t.pathCache;s&&s.path===n||((t.pathCache=s=yV(n)).path=n),l&&e.rotate&&e.translate?(e.translate(r,i),e.rotate(l),AV(e,s,0,0,o,a),e.rotate(-l),e.translate(-r,-i)):AV(e,s,r,i,o,a)}var AY={type:"path",tag:"path",nested:!1,attr:function(e,t){var n=t.scaleX||1,r=t.scaleY||1;1===n&&1===r||e("vector-effect","non-scaling-stroke"),e("transform",function(e){return oY(e.x||0,e.y||0)+(e.angle?" "+aY(e.angle):"")+(e.scaleX||e.scaleY?" "+function(e,t){return"scale("+e+","+t+")"}(e.scaleX||1,e.scaleY||1):"")}(t)),e("d",t.path)},bound:function(e,t){return TY(DG(e,t.angle),t)?e.set(0,0,0,0):fG(e,t,!0)},draw:JG(TY),pick:iY(TY),isect:IG(TY)};function DY(e,t){e.beginPath(),nG(e,t)}var FY={type:"rect",tag:"path",nested:!1,attr:function(e,t){e("d",nG(null,t))},bound:function(e,t){var n,r;return fG(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)},draw:JG(DY),pick:iY(DY),isect:BG};function NY(e,t,n){var r,i,o,a;return!(!t.stroke||!YG(e,t,n))&&(r=t.x||0,i=t.y||0,o=null!=t.x2?t.x2:r,a=null!=t.y2?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(o,a),!0)}var RY={type:"rule",tag:"line",nested:!1,attr:function(e,t){e("transform",lY(t)),e("x2",null!=t.x2?t.x2-(t.x||0):0),e("y2",null!=t.y2?t.y2-(t.y||0):0)},bound:function(e,t){var n,r;return fG(e.set(n=t.x||0,r=t.y||0,null!=t.x2?t.x2:n,null!=t.y2?t.y2:r),t)},draw:function(e,t,n){$G(t,(t=>{if(!n||n.intersects(t.bounds)){var r=null==t.opacity?1:t.opacity;r&&NY(e,t,r)&&(KG(e,t),e.stroke())}}))},pick:nY((function(e,t,n,r){return!!e.isPointInStroke&&(NY(e,t,1)&&e.isPointInStroke(n,r))})),isect:jG},zY=sY("shape",(function(e,t){return(t.mark.shape||t.shape).context(e)(t)})),PY=sY("symbol",(function(e,t){return JV.context(e)(t)}),LG);const OY=EF();var IY={height:WY,measureWidth:UY,estimateWidth:BY,width:BY,canvas:LY};function LY(e){IY.width=e&&PG?UY:BY}function BY(e,t){return jY(GY(e,t),WY(e))}function jY(e,t){return~~(.8*e.length*t)}function UY(e,t){return WY(e)<=0||!(t=GY(e,t))?0:KY(t,QY(e))}function KY(e,t){const n="(".concat(t,") ").concat(e);let r=OY.get(n);return void 0===r&&(PG.font=t,r=PG.measureText(e).width,OY.set(n,r)),r}function WY(e){return null!=e.fontSize?+e.fontSize||0:11}function qY(e){return null!=e.lineHeight?e.lineHeight:WY(e)+2}function HY(e){return t=e.lineBreak&&e.text&&!kD(e.text)?e.text.split(e.lineBreak):e.text,kD(t)?t.length>1?t:t[0]:t;var t}function VY(e){const t=HY(e);return(kD(t)?t.length-1:0)*qY(e)}function GY(e,t){const n=null==t?"":(t+"").trim();return e.limit>0&&n.length?function(e,t){var n=+e.limit,r=function(e){if(IY.width===UY){const t=QY(e);return e=>KY(e,t)}if(IY.width===BY){const t=WY(e);return e=>jY(e,t)}return t=>IY.width(e,t)}(e);if(r(t)<n)return t;var i,o=e.ellipsis||"\u2026",a="rtl"===e.dir,l=0,s=t.length;if(n-=r(o),a){for(;l<s;)i=l+s>>>1,r(t.slice(i))>n?l=i+1:s=i;return o+t.slice(l)}for(;l<s;)i=1+(l+s>>>1),r(t.slice(0,i))<n?l=i:s=i-1;return t.slice(0,l)+o}(e,n):n}function YY(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function QY(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+WY(e)+"px "+YY(e,t)}function XY(e){var t=e.baseline,n=WY(e);return Math.round("top"===t?.79*n:"middle"===t?.3*n:"bottom"===t?-.21*n:"line-top"===t?.29*n+.5*qY(e):"line-bottom"===t?.29*n-.5*qY(e):0)}LY(!0);const $Y={left:"start",center:"middle",right:"end"},ZY=new aG;function JY(e){var t,n=e.x||0,r=e.y||0,i=e.radius||0;return i&&(t=(e.theta||0)-xV,n+=i*Math.cos(t),r+=i*Math.sin(t)),ZY.x1=n,ZY.y1=r,ZY}function eQ(e,t,n){var r,i=IY.height(t),o=t.align,a=JY(t),l=a.x1,s=a.y1,c=t.dx||0,u=(t.dy||0)+XY(t)-Math.round(.8*i),d=HY(t);if(kD(d)?(i+=qY(t)*(d.length-1),r=d.reduce(((e,n)=>Math.max(e,IY.width(t,n))),0)):r=IY.width(t,d),"center"===o?c-=r/2:"right"===o&&(c-=r),e.set(c+=l,u+=s,c+r,u+i),t.angle&&!n)e.rotate(t.angle*bV,l,s);else if(2===n)return e.rotatedPoints(t.angle*bV,l,s);return e}var tQ={type:"text",tag:"text",nested:!1,attr:function(e,t){var n,r=t.dx||0,i=(t.dy||0)+XY(t),o=JY(t),a=o.x1,l=o.y1,s=t.angle||0;e("text-anchor",$Y[t.align]||"start"),s?(n=oY(a,l)+" "+aY(s),(r||i)&&(n+=" "+oY(r,i))):n=oY(a+r,l+i),e("transform",n)},bound:eQ,draw:function(e,t,n){$G(t,(t=>{var r,i,o,a,l,s,c,u=null==t.opacity?1:t.opacity;if(!(n&&!n.intersects(t.bounds)||0===u||t.fontSize<=0||null==t.text||0===t.text.length)){if(e.font=QY(t),e.textAlign=t.align||"left",i=(r=JY(t)).x1,o=r.y1,t.angle&&(e.save(),e.translate(i,o),e.rotate(t.angle*bV),i=o=0),i+=t.dx||0,o+=(t.dy||0)+XY(t),s=HY(t),KG(e,t),kD(s))for(l=qY(t),a=0;a<s.length;++a)c=GY(t,s[a]),t.fill&&VG(e,t,u)&&e.fillText(c,i,o),t.stroke&&YG(e,t,u)&&e.strokeText(c,i,o),o+=l;else c=GY(t,s),t.fill&&VG(e,t,u)&&e.fillText(c,i,o),t.stroke&&YG(e,t,u)&&e.strokeText(c,i,o);t.angle&&e.restore()}}))},pick:nY((function(e,t,n,r,i,o){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var a=JY(t),l=a.x1,s=a.y1,c=eQ(ZY,t,1),u=-t.angle*bV,d=Math.cos(u),f=Math.sin(u),h=d*i-f*o+(l-d*l+f*s),p=f*i+d*o+(s-f*l-d*s);return c.contains(h,p)})),isect:function(e,t){const n=eQ(ZY,e,2);return UG(t,n[0],n[1],n[2],n[3])||UG(t,n[0],n[1],n[4],n[5])||UG(t,n[4],n[5],n[6],n[7])||UG(t,n[2],n[3],n[6],n[7])}},nQ=uY("trail",(function(e,t){return eG.context(e)(t)}),(function(e,t){for(var n,r,i=e.length;--i>=0;)if(!1!==e[i].defined&&(n=e[i].x-t[0])*n+(r=e[i].y-t[1])*r<(n=e[i].size||1)*n)return e[i];return null})),rQ={arc:cY,area:dY,group:bY,image:CY,line:MY,path:AY,rect:FY,rule:RY,shape:zY,symbol:PY,text:tQ,trail:nQ};function iQ(e,t,n){var r=rQ[e.mark.marktype],i=t||r.bound;return r.nested&&(e=e.mark),i(e.bounds||(e.bounds=new aG),e,n)}var oQ={mark:null};function aQ(e,t,n){var r,i,o,a,l=rQ[e.marktype],s=l.bound,c=e.items,u=c&&c.length;if(l.nested)return u?o=c[0]:(oQ.mark=e,o=oQ),a=iQ(o,s,n),t=t&&t.union(a)||a;if(t=t||e.bounds&&e.bounds.clear()||new aG,u)for(r=0,i=c.length;r<i;++r)t.union(iQ(c[r],s,n));return e.bounds=t}const lQ=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function sQ(e,t){return JSON.stringify(e,lQ,t)}function cQ(e){return uQ("string"===typeof e?JSON.parse(e):e)}function uQ(e){var t,n,r,i=e.marktype,o=e.items;if(o)for(n=0,r=o.length;n<r;++n)t=i?"mark":"group",o[n][t]=e,o[n].zindex&&(o[n][t].zdirty=!0),"group"===(i||t)&&uQ(o[n]);return i&&aQ(e),e}function dQ(e){arguments.length?this.root=cQ(e):(this.root=fQ({marktype:"group",name:"root",role:"frame"}),this.root.items=[new sG(this.root)])}function fQ(e,t){const n={bounds:new aG,clip:!!e.clip,group:t,interactive:!1!==e.interactive,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return null!=e.aria&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function hQ(e,t,n){return!e&&"undefined"!==typeof document&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function pQ(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function mQ(e,t,n,r){var i,o=e.childNodes[t];return o&&o.tagName.toLowerCase()===n.toLowerCase()||(i=o||null,o=hQ(e.ownerDocument,n,r),e.insertBefore(o,i)),o}function gQ(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function vQ(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function yQ(e,t){const n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function bQ(e,t){this._active=null,this._handlers={},this._loader=e||IO(),this._tooltip=t||xQ}function xQ(e,t,n,r){e.element().setAttribute("title",r||"")}function wQ(e){this._el=null,this._bgcolor=null,this._loader=new cG(e)}dQ.prototype={toJSON(e){return sQ(this.root,e||0)},mark(e,t,n){const r=fQ(e,t=t||this.root.items[0]);return t.items[n]=r,r.zindex&&(r.group.zdirty=!0),r}},bQ.prototype={initialize(e,t,n){return this._el=e,this._obj=n||null,this.origin(t)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(e){return arguments.length?(this._origin=e||[0,0],this):this._origin.slice()},scene(e){return arguments.length?(this._scene=e,this):this._scene},on(){},off(){},_handlerIndex(e,t,n){for(let r=e?e.length:0;--r>=0;)if(e[r].type===t&&(!n||e[r].handler===n))return r;return-1},handlers(e){const t=this._handlers,n=[];if(e)n.push(...t[this.eventName(e)]);else for(const r in t)n.push(...t[r]);return n},eventName(e){const t=e.indexOf(".");return t<0?e:e.slice(0,t)},handleHref(e,t,n){this._loader.sanitize(n,{context:"href"}).then((t=>{const n=new MouseEvent(e.type,e),r=hQ(null,"a");for(const e in t)r.setAttribute(e,t[e]);r.dispatchEvent(n)})).catch((()=>{}))},handleTooltip(e,t,n){if(t&&null!=t.tooltip){t=function(e,t,n,r){var i,o,a=e&&e.mark;if(a&&(i=rQ[a.marktype]).tip){for((o=yQ(t,n))[0]-=r[0],o[1]-=r[1];e=e.mark.group;)o[0]-=e.x||0,o[1]-=e.y||0;e=i.tip(a.items,o)}return e}(t,e,this.canvas(),this._origin);const r=n&&t&&t.tooltip||null;this._tooltip.call(this._obj,this,e,t,r)}},getItemBoundingClientRect(e){const t=this.canvas();if(!t)return;const n=t.getBoundingClientRect(),r=this._origin,i=e.bounds,o=i.width(),a=i.height();let l=i.x1+r[0]+n.left,s=i.y1+r[1]+n.top;for(;e.mark&&(e=e.mark.group);)l+=e.x||0,s+=e.y||0;return{x:l,y:s,width:o,height:a,left:l,top:s,right:l+o,bottom:s+a}}},wQ.prototype={initialize(e,t,n,r,i){return this._el=e,this.resize(t,n,r,i)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(e){return 0===arguments.length?this._bgcolor:(this._bgcolor=e,this)},resize(e,t,n,r){return this._width=e,this._height=t,this._origin=n||[0,0],this._scale=r||1,this},dirty(){},render(e,t){const n=this;return n._call=function(){n._render(e,t)},n._call(),n._call=null,n},_render(){},renderAsync(e,t){const n=this.render(e,t);return this._ready?this._ready.then((()=>n)):Promise.resolve(n)},_load(e,t){var n=this,r=n._loader[e](t);if(!n._ready){const e=n._call;n._ready=n._loader.ready().then((t=>{t&&e(),n._ready=null}))}return r},sanitizeURL(e){return this._load("sanitizeURL",e)},loadImage(e){return this._load("loadImage",e)}};const _Q="dragenter",kQ="dragleave",EQ="dragover",SQ="pointerdown",CQ="pointermove",MQ="pointerout",TQ="pointerover",AQ="mousedown",DQ="mousemove",FQ="mouseout",NQ="mouseover",RQ="click",zQ="mousewheel",PQ="touchstart",OQ="touchmove",IQ="touchend",LQ=CQ,BQ=MQ,jQ=RQ;function UQ(e,t){bQ.call(this,e,t),this._down=null,this._touch=null,this._first=!0,this._events={}}function KQ(e,t){(e=>e===PQ||e===OQ||e===IQ?[PQ,OQ,IQ]:[e])(t).forEach((t=>function(e,t){const n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?n=>e[t](n):n=>e.fire(t,n)))}(e,t)))}function WQ(e,t,n){t.forEach((t=>e.fire(t,n)))}function qQ(e,t,n){return function(r){const i=this._active,o=this.pickEvent(r);o===i||(i&&i.exit||WQ(this,n,r),this._active=o,WQ(this,t,r)),WQ(this,e,r)}}function HQ(e){return function(t){WQ(this,e,t),this._active=null}}function VQ(e,t,n,r,i,o){const a="undefined"!==typeof HTMLElement&&e instanceof HTMLElement&&null!=e.parentNode,l=e.getContext("2d"),s=a?"undefined"!==typeof window&&window.devicePixelRatio||1:i;e.width=t*s,e.height=n*s;for(const c in o)l[c]=o[c];return a&&1!==s&&(e.style.width=t+"px",e.style.height=n+"px"),l.pixelRatio=s,l.setTransform(s,0,0,s,s*r[0],s*r[1]),e}function GQ(e){wQ.call(this,e),this._options={},this._redraw=!1,this._dirty=new aG,this._tempb=new aG}hF(UQ,bQ,{initialize(e,t,n){return this._canvas=e&&pQ(e,"canvas"),[RQ,AQ,SQ,CQ,MQ,kQ].forEach((e=>KQ(this,e))),bQ.prototype.initialize.call(this,e,t,n)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:["keydown","keypress","keyup",_Q,kQ,EQ,SQ,"pointerup",CQ,MQ,TQ,AQ,"mouseup",DQ,FQ,NQ,RQ,"dblclick","wheel",zQ,PQ,OQ,IQ],DOMMouseScroll(e){this.fire(zQ,e)},pointermove:qQ([CQ,DQ],[TQ,NQ],[MQ,FQ]),dragover:qQ([EQ],[_Q],[kQ]),pointerout:HQ([MQ,FQ]),dragleave:HQ([kQ]),pointerdown(e){this._down=this._active,this.fire(SQ,e)},mousedown(e){this._down=this._active,this.fire(AQ,e)},click(e){this._down===this._active&&(this.fire(RQ,e),this._down=null)},touchstart(e){this._touch=this.pickEvent(e.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(PQ,e,!0)},touchmove(e){this.fire(OQ,e,!0)},touchend(e){this.fire(IQ,e,!0),this._touch=null},fire(e,t,n){const r=n?this._touch:this._active,i=this._handlers[e];if(t.vegaType=e,e===jQ&&r&&r.href?this.handleHref(t,r,r.href):e!==LQ&&e!==BQ||this.handleTooltip(t,r,e!==BQ),i)for(let o=0,a=i.length;o<a;++o)i[o].handler.call(this._obj,t,r)},on(e,t){const n=this.eventName(e),r=this._handlers;return this._handlerIndex(r[n],e,t)<0&&(KQ(this,e),(r[n]||(r[n]=[])).push({type:e,handler:t})),this},off(e,t){const n=this.eventName(e),r=this._handlers[n],i=this._handlerIndex(r,e,t);return i>=0&&r.splice(i,1),this},pickEvent(e){const t=yQ(e,this._canvas),n=this._origin;return this.pick(this._scene,t[0],t[1],t[0]-n[0],t[1]-n[1])},pick(e,t,n,r,i){const o=this.context();return rQ[e.marktype].pick.call(this,o,e,t,n,r,i)}});const YQ=wQ.prototype;function QQ(e,t){bQ.call(this,e,t);const n=this;n._hrefHandler=XQ(n,((e,t)=>{t&&t.href&&n.handleHref(e,t,t.href)})),n._tooltipHandler=XQ(n,((e,t)=>{n.handleTooltip(e,t,e.type!==BQ)}))}hF(GQ,wQ,{initialize(e,t,n,r,i,o){return this._options=o||{},this._canvas=this._options.externalContext?null:PU(1,1,this._options.type),e&&this._canvas&&(gQ(e,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),YQ.initialize.call(this,e,t,n,r,i)},resize(e,t,n,r){if(YQ.resize.call(this,e,t,n,r),this._canvas)VQ(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const e=this._options.externalContext;e||lD("CanvasRenderer is missing a valid canvas or context"),e.scale(this._scale,this._scale),e.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(e){const t=this._tempb.clear().union(e.bounds);let n=e.mark.group;for(;n;)t.translate(n.x||0,n.y||0),n=n.mark.group;this._dirty.union(t)},_render(e,t){const n=this.context(),r=this._origin,i=this._width,o=this._height,a=this._dirty,l=((e,t,n)=>(new aG).set(0,0,t,n).translate(-e[0],-e[1]))(r,i,o);n.save();const s=this._redraw||a.empty()?(this._redraw=!1,l.expand(1)):function(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-n[0]%1,-n[1]%1),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}(n,l.intersect(a),r);return this.clear(-r[0],-r[1],i,o),this.draw(n,e,s,t),n.restore(),a.clear(),this},draw(e,t,n,r){if("group"!==t.marktype&&null!=r&&!r.includes(t.marktype))return;const i=rQ[t.marktype];t.clip&&function(e,t){var n=t.clip;e.save(),XD(n)?(e.beginPath(),n(e),e.clip()):fY(e,t.group)}(e,t),i.draw.call(this,e,t,n,r),t.clip&&e.restore()},clear(e,t,n,r){const i=this._options,o=this.context();"pdf"===i.type||i.externalContext||o.clearRect(e,t,n,r),null!=this._bgcolor&&(o.fillStyle=this._bgcolor,o.fillRect(e,t,n,r))}});const XQ=(e,t)=>n=>{let r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,t.call(e._obj,n,r)};hF(QQ,bQ,{initialize(e,t,n){let r=this._svg;return r&&(r.removeEventListener(jQ,this._hrefHandler),r.removeEventListener(LQ,this._tooltipHandler),r.removeEventListener(BQ,this._tooltipHandler)),this._svg=r=e&&pQ(e,"svg"),r&&(r.addEventListener(jQ,this._hrefHandler),r.addEventListener(LQ,this._tooltipHandler),r.addEventListener(BQ,this._tooltipHandler)),bQ.prototype.initialize.call(this,e,t,n)},canvas(){return this._svg},on(e,t){const n=this.eventName(e),r=this._handlers;if(this._handlerIndex(r[n],e,t)<0){const i={type:e,handler:t,listener:XQ(this,t)};(r[n]||(r[n]=[])).push(i),this._svg&&this._svg.addEventListener(n,i.listener)}return this},off(e,t){const n=this.eventName(e),r=this._handlers[n],i=this._handlerIndex(r,e,t);return i>=0&&(this._svg&&this._svg.removeEventListener(n,r[i].listener),r.splice(i,1)),this}});const $Q="aria-hidden",ZQ="aria-label",JQ="role",eX="aria-roledescription",tX="graphics-object",nX="graphics-symbol",rX=(e,t,n)=>({[JQ]:e,[eX]:t,[ZQ]:n||void 0}),iX=zF(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),oX={axis:{desc:"axis",caption:function(e){const t=e.datum,n=e.orient,r=t.title?uX(e):null,i=e.context,o=i.scales[t.scale].value,a=i.dataflow.locale(),l=o.type,s="left"===n||"right"===n?"Y":"X";return"".concat(s,"-axis")+(r?" titled '".concat(r,"'"):"")+" for a ".concat(_H(l)?"discrete":l," scale")+" with ".concat(iV(a,o,e))}},legend:{desc:"legend",caption:function(e){const t=e.datum,n=t.title?uX(e):null,r="".concat(t.type||""," legend").trim(),i=t.scales,o=Object.keys(i),a=e.context,l=a.scales[i[o[0]]].value,s=a.dataflow.locale();return function(e){return e.length?e[0].toUpperCase()+e.slice(1):e}(r)+(n?" titled '".concat(n,"'"):"")+" for ".concat(function(e){return e=e.map((e=>e+("fill"===e||"stroke"===e?" color":""))),e.length<2?e[0]:e.slice(0,-1).join(", ")+" and "+AD(e)}(o))+" with ".concat(iV(s,l,e))}},"title-text":{desc:"title",caption:e=>"Title text '".concat(cX(e),"'")},"title-subtitle":{desc:"subtitle",caption:e=>"Subtitle text '".concat(cX(e),"'")}},aX={ariaRole:JQ,ariaRoleDescription:eX,description:ZQ};function lX(e,t){const n=!1===t.aria;if(e($Q,n||void 0),n||null==t.description)for(const r in aX)e(aX[r],void 0);else{const n=t.mark.marktype;e(ZQ,t.description),e(JQ,t.ariaRole||("group"===n?tX:nX)),e(eX,t.ariaRoleDescription||"".concat(n," mark"))}}function sX(e){return!1===e.aria?{[$Q]:!0}:iX[e.role]?null:oX[e.role]?function(e,t){try{const n=e.items[0],r=t.caption||(()=>"");return rX(t.role||nX,t.desc,n.description||r(n))}catch(n){return null}}(e,oX[e.role]):function(e){const t=e.marktype,n="group"===t||"text"===t||e.items.some((e=>null!=e.description&&!1!==e.aria));return rX(n?tX:nX,"".concat(t," mark container"),e.description)}(e)}function cX(e){return YD(e.text).join(" ")}function uX(e){try{return YD(AD(e.items).items[0].text).join(" ")}catch(t){return null}}const dX=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),fX=e=>dX(e).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function hX(){let e="",t="",n="";const r=[],i=()=>t=n="",o=(e,n)=>(null!=n&&(t+=" ".concat(e,'="').concat(fX(n),'"')),a),a={open(l){(o=>{t&&(e+="".concat(t,">").concat(n),i()),r.push(o)})(l),t="<"+l;for(var s=arguments.length,c=new Array(s>1?s-1:0),u=1;u<s;u++)c[u-1]=arguments[u];for(const e of c)for(const t in e)o(t,e[t]);return a},close(){const o=r.pop();return e+=t?t+(n?">".concat(n,"</").concat(o,">"):"/>"):"</".concat(o,">"),i(),a},attr:o,text:e=>(n+=dX(e),a),toString:()=>e};return a}const pX=e=>mX(hX(),e)+"";function mX(e,t){if(e.open(t.tagName),t.hasAttributes()){const n=t.attributes,r=n.length;for(let t=0;t<r;++t)e.attr(n[t].name,n[t].value)}if(t.hasChildNodes()){const n=t.childNodes;for(const t of n)3===t.nodeType?e.text(t.nodeValue):mX(e,t)}return e.close()}const gX={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},vX={blend:"mix-blend-mode"},yX={fill:"none","stroke-miterlimit":10},bX="http://www.w3.org/2000/xmlns/",xX=xY.xmlns;function wX(e){wQ.call(this,e),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}const _X=wQ.prototype;function kX(e,t){for(;e&&e.dirty!==t;e=e.mark.group){if(e.dirty=t,!e.mark||e.mark.dirty===t)return;e.mark.dirty=t}}function EX(e,t,n){let r,i,o;if("radial"===t.gradient){let r=mQ(e,n++,"pattern",xX);NX(r,{id:aV+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),r=mQ(r,0,"rect",xX),NX(r,{width:1,height:1,fill:"url(".concat(zX(),"#").concat(t.id,")")}),NX(e=mQ(e,n++,"radialGradient",xX),{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else NX(e=mQ(e,n++,"linearGradient",xX),{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(r=0,i=t.stops.length;r<i;++r)o=mQ(e,r,"stop",xX),o.setAttribute("offset",t.stops[r].offset),o.setAttribute("stop-color",t.stops[r].color);return gQ(e,r),n}function SX(e,t,n){let r;return(e=mQ(e,n,"clipPath",xX)).setAttribute("id",t.id),t.path?(r=mQ(e,0,"path",xX),r.setAttribute("d",t.path)):(r=mQ(e,0,"rect",xX),NX(r,{x:0,y:0,width:t.width,height:t.height})),gQ(e,1),n+1}function CX(e,t,n,r,i){let o,a=e._svg;if(!a&&(o=t.ownerDocument,a=hQ(o,r,xX),e._svg=a,e.mark&&(a.__data__=e,a.__values__={fill:"default"},"g"===r))){const t=hQ(o,"path",xX);a.appendChild(t),t.__data__=e;const n=hQ(o,"g",xX);a.appendChild(n),n.__data__=e;const r=hQ(o,"path",xX);a.appendChild(r),r.__data__=e,r.__values__={fill:"default"}}return(a.ownerSVGElement!==i||function(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}(a,n))&&t.insertBefore(a,n?n.nextSibling:t.firstChild),a}hF(wX,wQ,{initialize(e,t,n,r,i){return this._defs={},this._clearDefs(),e&&(this._svg=mQ(e,0,"svg",xX),this._svg.setAttributeNS(bX,"xmlns",xX),this._svg.setAttributeNS(bX,"xmlns:xlink",xY["xmlns:xlink"]),this._svg.setAttribute("version",xY.version),this._svg.setAttribute("class","marks"),gQ(e,1),this._root=mQ(this._svg,0,"g",xX),NX(this._root,yX),gQ(this._svg,1)),this.background(this._bgcolor),_X.initialize.call(this,e,t,n,r,i)},background(e){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",e),_X.background.apply(this,arguments)},resize(e,t,n,r){return _X.resize.call(this,e,t,n,r),this._svg&&(NX(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 ".concat(this._width," ").concat(this._height)}),this._root.setAttribute("transform","translate(".concat(this._origin,")"))),this._dirty=[],this},canvas(){return this._svg},svg(){const e=this._svg,t=this._bgcolor;if(!e)return null;let n;t&&(e.removeAttribute("style"),n=mQ(e,0,"rect",xX),NX(n,{width:this._width,height:this._height,fill:t}));const r=pX(e);return t&&(e.removeChild(n),this._svg.style.setProperty("background-color",t)),r},_render(e,t){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,e,void 0,t),gQ(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this},dirty(e){e.dirty!==this._dirtyID&&(e.dirty=this._dirtyID,this._dirty.push(e))},isDirty(e){return this._dirtyAll||!e._svg||!e._svg.ownerSVGElement||e.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const e=this._dirty;if(!e.length||!this._dirtyID)return!0;const t=++this._dirtyID;let n,r,i,o,a,l,s;for(a=0,l=e.length;a<l;++a)n=e[a],r=n.mark,r.marktype!==i&&(i=r.marktype,o=rQ[i]),r.zdirty&&r.dirty!==t&&(this._dirtyAll=!1,kX(n,t),r.items.forEach((e=>{e.dirty=t}))),r.zdirty||(n.exit?(o.nested&&r.items.length?(s=r.items[0],s._svg&&this._update(o,s._svg,s)):n._svg&&(s=n._svg.parentNode,s&&s.removeChild(n._svg)),n._svg=null):(n=o.nested?r.items[0]:n,n._update!==t&&(n._svg&&n._svg.ownerSVGElement?this._update(o,n._svg,n):(this._dirtyAll=!1,kX(n,t)),n._update=t)));return!this._dirtyAll},mark(e,t,n,r){if(!this.isDirty(t))return t._svg;const i=this._svg,o=t.marktype,a=rQ[o],l=!1===t.interactive?"none":null,s="g"===a.tag,c=CX(t,e,n,"g",i);if("group"!==o&&null!=r&&!r.includes(o))return gQ(c,0),t._svg;c.setAttribute("class",vQ(t));const u=sX(t);for(const p in u)RX(c,p,u[p]);s||RX(c,"pointer-events",l),RX(c,"clip-path",t.clip?oG(this,t,t.group):null);let d=null,f=0;const h=e=>{const t=this.isDirty(e),n=CX(e,c,d,a.tag,i);t&&(this._update(a,n,e),s&&function(e,t,n,r){t=t.lastChild.previousSibling;let i,o=0;$G(n,(n=>{i=e.mark(t,n,i,r),++o})),gQ(t,1+o)}(this,n,e,r)),d=n,++f};return a.nested?t.items.length&&h(t.items[0]):$G(t,h),gQ(c,f),c},_update(e,t,n){MX=t,TX=t.__values__,lX(DX,n),e.attr(DX,n,this);const r=AX[e.type];r&&r.call(this,e,t,n),MX&&this.style(MX,n)},style(e,t){if(null!=t){for(const n in gX){let r="font"===n?YY(t):t[n];if(r===TX[n])continue;const i=gX[n];null==r?e.removeAttribute(i):(lV(r)&&(r=sV(r,this._defs.gradient,zX())),e.setAttribute(i,r+"")),TX[n]=r}for(const n in vX)FX(e,vX[n],t[n])}},defs(){const e=this._svg,t=this._defs;let n=t.el,r=0;for(const i in t.gradient)n||(t.el=n=mQ(e,1,"defs",xX)),r=EX(n,t.gradient[i],r);for(const i in t.clipping)n||(t.el=n=mQ(e,1,"defs",xX)),r=SX(n,t.clipping[i],r);n&&(0===r?(e.removeChild(n),t.el=null):gQ(n,r))},_clearDefs(){const e=this._defs;e.gradient={},e.clipping={}}});let MX=null,TX=null;const AX={group(e,t,n){const r=MX=t.childNodes[2];TX=r.__values__,e.foreground(DX,n,this),TX=t.__values__,MX=t.childNodes[1],e.content(DX,n,this);const i=MX=t.childNodes[0];e.background(DX,n,this);const o=!1===n.mark.interactive?"none":null;if(o!==TX.events&&(RX(r,"pointer-events",o),RX(i,"pointer-events",o),TX.events=o),n.strokeForeground&&n.stroke){const e=n.fill;RX(r,"display",null),this.style(i,n),RX(i,"stroke",null),e&&(n.fill=null),TX=r.__values__,this.style(r,n),e&&(n.fill=e),MX=null}else RX(r,"display","none")},image(e,t,n){!1===n.smooth?(FX(t,"image-rendering","optimizeSpeed"),FX(t,"image-rendering","pixelated")):FX(t,"image-rendering",null)},text(e,t,n){const r=HY(n);let i,o,a,l;kD(r)?(o=r.map((e=>GY(n,e))),i=o.join("\n"),i!==TX.text&&(gQ(t,0),a=t.ownerDocument,l=qY(n),o.forEach(((e,r)=>{const i=hQ(a,"tspan",xX);i.__data__=n,i.textContent=e,r&&(i.setAttribute("x",0),i.setAttribute("dy",l)),t.appendChild(i)})),TX.text=i)):(o=GY(n,r),o!==TX.text&&(t.textContent=o,TX.text=o)),RX(t,"font-family",YY(n)),RX(t,"font-size",WY(n)+"px"),RX(t,"font-style",n.fontStyle),RX(t,"font-variant",n.fontVariant),RX(t,"font-weight",n.fontWeight)}};function DX(e,t,n){t!==TX[e]&&(n?function(e,t,n,r){null!=n?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}(MX,e,t,n):RX(MX,e,t),TX[e]=t)}function FX(e,t,n){n!==TX[t]&&(null==n?e.style.removeProperty(t):e.style.setProperty(t,n+""),TX[t]=n)}function NX(e,t){for(const n in t)RX(e,n,t[n])}function RX(e,t,n){null!=n?e.setAttribute(t,n):e.removeAttribute(t)}function zX(){let e;return"undefined"===typeof window?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}function PX(e){wQ.call(this,e),this._text=null,this._defs={gradient:{},clipping:{}}}hF(PX,wQ,{svg(){return this._text},_render(e){const t=hX();t.open("svg",oF({},xY,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 ".concat(this._width," ").concat(this._height)}));const n=this._bgcolor;return n&&"transparent"!==n&&"none"!==n&&t.open("rect",{width:this._width,height:this._height,fill:n}).close(),t.open("g",yX,{transform:"translate("+this._origin+")"}),this.mark(t,e),t.close(),this.defs(t),this._text=t.close()+"",this},mark(e,t){const n=rQ[t.marktype],r=n.tag,i=[lX,n.attr];e.open("g",{class:vQ(t),"clip-path":t.clip?oG(this,t,t.group):null},sX(t),{"pointer-events":"g"!==r&&!1===t.interactive?"none":null});const o=o=>{const a=this.href(o);if(a&&e.open("a",a),e.open(r,this.attr(t,o,i,"g"!==r?r:null)),"text"===r){const t=HY(o);if(kD(t)){const n={x:0,dy:qY(o)};for(let r=0;r<t.length;++r)e.open("tspan",r?n:null).text(GY(o,t[r])).close()}else e.text(GY(o,t))}else if("g"===r){const r=o.strokeForeground,i=o.fill,a=o.stroke;r&&a&&(o.stroke=null),e.open("path",this.attr(t,o,n.background,"bgrect")).close(),e.open("g",this.attr(t,o,n.content)),$G(o,(t=>this.mark(e,t))),e.close(),r&&a?(i&&(o.fill=null),o.stroke=a,e.open("path",this.attr(t,o,n.foreground,"bgrect")).close(),i&&(o.fill=i)):e.open("path",this.attr(t,o,n.foreground,"bgfore")).close()}e.close(),a&&e.close()};return n.nested?t.items&&t.items.length&&o(t.items[0]):$G(t,o),e.close()},href(e){const t=e.href;let n;if(t){if(n=this._hrefs&&this._hrefs[t])return n;this.sanitizeURL(t).then((e=>{e["xlink:href"]=e.href,e.href=null,(this._hrefs||(this._hrefs={}))[t]=e}))}return null},attr(e,t,n,r){const i={},o=(e,t,n,r)=>{i[r||e]=t};return Array.isArray(n)?n.forEach((e=>e(o,t,this))):n(o,t,this),r&&function(e,t,n,r,i){let o;if(null==t)return e;"bgrect"===r&&!1===n.interactive&&(e["pointer-events"]="none");if("bgfore"===r&&(!1===n.interactive&&(e["pointer-events"]="none"),e.display="none",null!==t.fill))return e;"image"===r&&!1===t.smooth&&(o=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]);"text"===r&&(e["font-family"]=YY(t),e["font-size"]=WY(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(const a in gX){let n=t[a];const r=gX[a];("transparent"!==n||"fill"!==r&&"stroke"!==r)&&null!=n&&(lV(n)&&(n=sV(n,i.gradient,"")),e[r]=n)}for(const a in vX){const e=t[a];null!=e&&(o=o||[],o.push("".concat(vX[a],": ").concat(e,";")))}o&&(e.style=o.join(" "))}(i,t,e,r,this._defs),i},defs(e){const t=this._defs.gradient,n=this._defs.clipping;if(0!==Object.keys(t).length+Object.keys(n).length){e.open("defs");for(const n in t){const r=t[n],i=r.stops;"radial"===r.gradient?(e.open("pattern",{id:aV+n,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),e.open("rect",{width:"1",height:"1",fill:"url(#"+n+")"}).close(),e.close(),e.open("radialGradient",{id:n,fx:r.x1,fy:r.y1,fr:r.r1,cx:r.x2,cy:r.y2,r:r.r2})):e.open("linearGradient",{id:n,x1:r.x1,x2:r.x2,y1:r.y1,y2:r.y2});for(let t=0;t<i.length;++t)e.open("stop",{offset:i[t].offset,"stop-color":i[t].color}).close();e.close()}for(const t in n){const r=n[t];e.open("clipPath",{id:t}),r.path?e.open("path",{d:r.path}).close():e.open("rect",{x:0,y:0,width:r.width,height:r.height}).close(),e.close()}e.close()}}});const OX={svgMarkTypes:["text"],svgOnTop:!0,debug:!1};function IX(e){var t,n,r;OX.svgMarkTypes=null!==(t=e.svgMarkTypes)&&void 0!==t?t:["text"],OX.svgOnTop=null===(n=e.svgOnTop)||void 0===n||n,OX.debug=null!==(r=e.debug)&&void 0!==r&&r}function LX(e){wQ.call(this,e),this._svgRenderer=new wX(e),this._canvasRenderer=new GQ(e)}const BX=wQ.prototype;function jX(e,t){UQ.call(this,e,t)}hF(LX,wQ,{initialize(e,t,n,r,i){this._root_el=mQ(e,0,"div");const o=mQ(this._root_el,0,"div"),a=mQ(this._root_el,1,"div");return this._root_el.style.position="relative",OX.debug||(o.style.height="100%",a.style.position="absolute",a.style.top="0",a.style.left="0",a.style.height="100%",a.style.width="100%"),this._svgEl=OX.svgOnTop?a:o,this._canvasEl=OX.svgOnTop?o:a,this._svgEl.style.pointerEvents="none",this._canvasRenderer.initialize(this._canvasEl,t,n,r,i),this._svgRenderer.initialize(this._svgEl,t,n,r,i),BX.initialize.call(this,e,t,n,r,i)},dirty(e){return OX.svgMarkTypes.includes(e.mark.marktype)?this._svgRenderer.dirty(e):this._canvasRenderer.dirty(e),this},_render(e,t){const n=(null!==t&&void 0!==t?t:["arc","area","image","line","path","rect","rule","shape","symbol","text","trail"]).filter((e=>!OX.svgMarkTypes.includes(e)));this._svgRenderer.render(e,OX.svgMarkTypes),this._canvasRenderer.render(e,n)},resize(e,t,n,r){return BX.resize.call(this,e,t,n,r),this._svgRenderer.resize(e,t,n,r),this._canvasRenderer.resize(e,t,n,r),this},background(e){return OX.svgOnTop?this._canvasRenderer.background(e):this._svgRenderer.background(e),this}}),hF(jX,UQ,{initialize(e,t,n){const r=mQ(mQ(e,0,"div"),OX.svgOnTop?0:1,"div");return UQ.prototype.initialize.call(this,r,t,n)}});const UX="canvas",KX="hybrid",WX="none",qX={Canvas:UX,PNG:"png",SVG:"svg",Hybrid:KX,None:WX},HX={};function VX(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(HX[e]=t,this):HX[e]}function GX(e,t,n){const r=[],i=(new aG).union(t),o=e.marktype;return o?YX(e,i,n,r):"group"===o?QX(e,i,n,r):lD("Intersect scene must be mark node or group item.")}function YX(e,t,n,r){if(function(e,t,n){return e.bounds&&t.intersects(e.bounds)&&("group"===e.marktype||!1!==e.interactive&&(!n||n(e)))}(e,t,n)){const i=e.items,o=e.marktype,a=i.length;let l=0;if("group"===o)for(;l<a;++l)QX(i[l],t,n,r);else for(const e=rQ[o].isect;l<a;++l){const n=i[l];XX(n,t,e)&&r.push(n)}}return r}function QX(e,t,n,r){n&&n(e.mark)&&XX(e,t,rQ.group.isect)&&r.push(e);const i=e.items,o=i&&i.length;if(o){const a=e.x||0,l=e.y||0;t.translate(-a,-l);for(let e=0;e<o;++e)YX(i[e],t,n,r);t.translate(a,l)}return r}function XX(e,t,n){const r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}HX[UX]=HX.png={renderer:GQ,headless:GQ,handler:UQ},HX.svg={renderer:wX,headless:PX,handler:QQ},HX[KX]={renderer:LX,headless:LX,handler:jX},HX[WX]={};const $X=new aG;function ZX(e){const t=e.clip;if(XD(t))t(DG($X.clear()));else{if(!t)return;$X.set(0,0,e.group.width,e.group.height)}e.bounds.intersect($X)}const JX=1e-9;function e$(e,t,n){return e===t||("path"===n?t$(e,t):e instanceof Date&&t instanceof Date?+e===+t:yF(e)&&yF(t)?Math.abs(e-t)<=JX:e&&t&&(ED(e)||ED(t))?function(e,t){var n,r,i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(i.sort(),o.sort(),r=i.length-1;r>=0;r--)if(i[r]!=o[r])return!1;for(r=i.length-1;r>=0;r--)if(!e$(e[n=i[r]],t[n],n))return!1;return typeof e===typeof t}(e,t):e==t)}function t$(e,t){return e$(yV(e),yV(t))}function n$(){iG(),oV=0}const r$="top",i$="left",o$="right",a$="bottom",l$="top-left",s$="top-right",c$="bottom-left",u$="bottom-right",d$="start",f$="middle",h$="end",p$="x",m$="y",g$="group",v$="axis",y$="title",b$="frame",x$="scope",w$="legend",_$="row-header",k$="row-footer",E$="row-title",S$="column-header",C$="column-footer",M$="column-title",T$="padding",A$="symbol",D$="fit",F$="fit-x",N$="fit-y",R$="pad",z$="none",P$="all",O$="each",I$="flush",L$="column",B$="row";function j$(e){_I.call(this,null,e)}function U$(e,t,n){return t(e.bounds.clear(),e,n)}hF(j$,_I,{transform(e,t){const n=t.dataflow,r=e.mark,i=r.marktype,o=rQ[i],a=o.bound;let l,s=r.bounds;if(o.nested)r.items.length&&n.dirty(r.items[0]),s=U$(r,a),r.items.forEach((e=>{e.bounds.clear().union(s)}));else if(i===g$||e.modified())switch(t.visit(t.MOD,(e=>n.dirty(e))),s.clear(),r.items.forEach((e=>s.union(U$(e,a)))),r.role){case v$:case w$:case y$:t.reflow()}else l=t.changed(t.REM),t.visit(t.ADD,(e=>{s.union(U$(e,a))})),t.visit(t.MOD,(e=>{l=l||s.alignsWith(e.bounds),n.dirty(e),s.union(U$(e,a))})),l&&(s.clear(),r.items.forEach((e=>s.union(e.bounds))));return ZX(r),t.modifies("bounds")}});const K$=":vega_identifier:";function W$(e){_I.call(this,0,e)}function q$(e){_I.call(this,null,e)}function H$(e){_I.call(this,null,e)}W$.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]},hF(W$,_I,{transform(e,t){const n=(i=t.dataflow)._signals[K$]||(i._signals[K$]=i.add(0)),r=e.as;var i;let o=n.value;return t.visit(t.ADD,(e=>e[r]=e[r]||++o)),n.set(this.value=o),t}}),hF(q$,_I,{transform(e,t){let n=this.value;n||(n=t.dataflow.scenegraph().mark(e.markdef,function(e){const t=e.groups,n=e.parent;return t&&1===t.size?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}(e),e.index),n.group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);const r=n.marktype===g$?sG:lG;return t.visit(t.ADD,(e=>r.call(e,n))),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}});const V$={parity:e=>e.filter(((e,t)=>t%2?e.opacity=0:1)),greedy:(e,t)=>{let n;return e.filter(((e,r)=>r&&G$(n.bounds,e.bounds,t)?e.opacity=0:(n=e,1)))}},G$=(e,t,n)=>n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2),Y$=(e,t)=>{for(var n,r=1,i=e.length,o=e[0].bounds;r<i;o=n,++r)if(G$(o,n=e[r].bounds,t))return!0},Q$=e=>{const t=e.bounds;return t.width()>1&&t.height()>1},X$=e=>(e.forEach((e=>e.opacity=1)),e),$$=(e,t)=>e.reflow(t.modified()).modifies("opacity");function Z$(e){_I.call(this,null,e)}hF(H$,_I,{transform(e,t){const n=V$[e.method]||V$.parity,r=e.separation||0;let i,o,a=t.materialize(t.SOURCE).source;if(!a||!a.length)return;if(!e.method)return e.modified("method")&&(X$(a),t=$$(t,e)),t;if(a=a.filter(Q$),!a.length)return;if(e.sort&&(a=a.slice().sort(e.sort)),i=X$(a),t=$$(t,e),i.length>=3&&Y$(i,r)){do{i=n(i,r)}while(i.length>=3&&Y$(i,r));i.length<3&&!AD(a).opacity&&(i.length>1&&(AD(i).opacity=0),AD(a).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(o=((e,t,n)=>{var r=e.range(),i=new aG;return t===r$||t===a$?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(n||1),e=>i.encloses(e.bounds)})(e.boundScale,e.boundOrient,+e.boundTolerance),a.forEach((e=>{o(e)||(e.opacity=0)})));const l=i[0].mark.bounds.clear();return a.forEach((e=>{e.opacity&&l.union(e.bounds)})),t}}),hF(Z$,_I,{transform(e,t){const n=t.dataflow;if(t.visit(t.ALL,(e=>n.dirty(e))),t.fields&&t.fields.zindex){const e=t.source&&t.source[0];e&&(e.mark.zdirty=!0)}}});const J$=new aG;function eZ(e,t,n){return e[t]===n?0:(e[t]=n,1)}function tZ(e){var t=e.items[0].orient;return t===i$||t===o$}function nZ(e,t,n,r){var i,o,a=t.items[0],l=a.datum,s=null!=a.translate?a.translate:.5,c=a.orient,u=function(e){let t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}(l),d=a.range,f=a.offset,h=a.position,p=a.minExtent,m=a.maxExtent,g=l.title&&a.items[u[2]].items[0],v=a.titlePadding,y=a.bounds,b=g&&VY(g),x=0,w=0;switch(J$.clear().union(y),y.clear(),(i=u[0])>-1&&y.union(a.items[i].bounds),(i=u[1])>-1&&y.union(a.items[i].bounds),c){case r$:x=h||0,w=-f,o=Math.max(p,Math.min(m,-y.y1)),y.add(0,-o).add(d,0),g&&rZ(e,g,o,v,b,0,-1,y);break;case i$:x=-f,w=h||0,o=Math.max(p,Math.min(m,-y.x1)),y.add(-o,0).add(0,d),g&&rZ(e,g,o,v,b,1,-1,y);break;case o$:x=n+f,w=h||0,o=Math.max(p,Math.min(m,y.x2)),y.add(0,0).add(o,d),g&&rZ(e,g,o,v,b,1,1,y);break;case a$:x=h||0,w=r+f,o=Math.max(p,Math.min(m,y.y2)),y.add(0,0).add(d,o),g&&rZ(e,g,o,v,0,0,1,y);break;default:x=a.x,w=a.y}return fG(y.translate(x,w),a),eZ(a,"x",x+s)|eZ(a,"y",w+s)&&(a.bounds=J$,e.dirty(a),a.bounds=y,e.dirty(a)),a.mark.bounds.clear().union(y)}function rZ(e,t,n,r,i,o,a,l){const s=t.bounds;if(t.auto){const l=a*(n+i+r);let c=0,u=0;e.dirty(t),o?c=(t.x||0)-(t.x=l):u=(t.y||0)-(t.y=l),t.mark.bounds.clear().union(s.translate(-c,-u)),e.dirty(t)}l.union(s)}const iZ=(e,t)=>Math.floor(Math.min(e,t)),oZ=(e,t)=>Math.ceil(Math.max(e,t));function aZ(e){return(new aG).set(0,0,e.width||0,e.height||0)}function lZ(e){const t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function sZ(e,t,n){const r=ED(e)?e[t]:e;return null!=r?r:void 0!==n?n:0}function cZ(e){return e<0?Math.ceil(-e):0}function uZ(e,t,n){var r,i,o,a,l,s,c,u,d,f,h,p=!n.nodirty,m=n.bounds===I$?aZ:lZ,g=J$.set(0,0,0,0),v=sZ(n.align,L$),y=sZ(n.align,B$),b=sZ(n.padding,L$),x=sZ(n.padding,B$),w=n.columns||t.length,_=w<=0?1:Math.ceil(t.length/w),k=t.length,E=Array(k),S=Array(w),C=0,M=Array(k),T=Array(_),A=0,D=Array(k),F=Array(k),N=Array(k);for(i=0;i<w;++i)S[i]=0;for(i=0;i<_;++i)T[i]=0;for(i=0;i<k;++i)s=t[i],l=N[i]=m(s),s.x=s.x||0,D[i]=0,s.y=s.y||0,F[i]=0,o=i%w,a=~~(i/w),C=Math.max(C,c=Math.ceil(l.x2)),A=Math.max(A,u=Math.ceil(l.y2)),S[o]=Math.max(S[o],c),T[a]=Math.max(T[a],u),E[i]=b+cZ(l.x1),M[i]=x+cZ(l.y1),p&&e.dirty(t[i]);for(i=0;i<k;++i)i%w===0&&(E[i]=0),i<w&&(M[i]=0);if(v===O$)for(o=1;o<w;++o){for(h=0,i=o;i<k;i+=w)h<E[i]&&(h=E[i]);for(i=o;i<k;i+=w)E[i]=h+S[o-1]}else if(v===P$){for(h=0,i=0;i<k;++i)i%w&&h<E[i]&&(h=E[i]);for(i=0;i<k;++i)i%w&&(E[i]=h+C)}else for(v=!1,o=1;o<w;++o)for(i=o;i<k;i+=w)E[i]+=S[o-1];if(y===O$)for(a=1;a<_;++a){for(h=0,r=(i=a*w)+w;i<r;++i)h<M[i]&&(h=M[i]);for(i=a*w;i<r;++i)M[i]=h+T[a-1]}else if(y===P$){for(h=0,i=w;i<k;++i)h<M[i]&&(h=M[i]);for(i=w;i<k;++i)M[i]=h+A}else for(y=!1,a=1;a<_;++a)for(r=(i=a*w)+w;i<r;++i)M[i]+=T[a-1];for(d=0,i=0;i<k;++i)d=E[i]+(i%w?d:0),D[i]+=d-t[i].x;for(o=0;o<w;++o)for(f=0,i=o;i<k;i+=w)f+=M[i],F[i]+=f-t[i].y;if(v&&sZ(n.center,L$)&&_>1)for(i=0;i<k;++i)(d=(l=v===P$?C:S[i%w])-N[i].x2-t[i].x-D[i])>0&&(D[i]+=d/2);if(y&&sZ(n.center,B$)&&1!==w)for(i=0;i<k;++i)(f=(l=y===P$?A:T[~~(i/w)])-N[i].y2-t[i].y-F[i])>0&&(F[i]+=f/2);for(i=0;i<k;++i)g.union(N[i].translate(D[i],F[i]));switch(d=sZ(n.anchor,p$),f=sZ(n.anchor,m$),sZ(n.anchor,L$)){case h$:d-=g.width();break;case f$:d-=g.width()/2}switch(sZ(n.anchor,B$)){case h$:f-=g.height();break;case f$:f-=g.height()/2}for(d=Math.round(d),f=Math.round(f),g.clear(),i=0;i<k;++i)t[i].mark.bounds.clear();for(i=0;i<k;++i)(s=t[i]).x+=D[i]+=d,s.y+=F[i]+=f,g.union(s.mark.bounds.union(s.bounds.translate(D[i],F[i]))),p&&e.dirty(s);return g}function dZ(e,t,n){var r,i,o,a,l,s,c,u=function(e){var t,n,r=e.items,i=r.length,o=0;const a={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;o<i;++o)if(n=(t=r[o]).items,t.marktype===g$)switch(t.role){case v$:case w$:case y$:break;case _$:a.rowheaders.push(...n);break;case k$:a.rowfooters.push(...n);break;case S$:a.colheaders.push(...n);break;case C$:a.colfooters.push(...n);break;case E$:a.rowtitle=n[0];break;case M$:a.coltitle=n[0];break;default:a.marks.push(...n)}return a}(t),d=u.marks,f=n.bounds===I$?fZ:hZ,h=n.offset,p=n.columns||d.length,m=p<=0?1:Math.ceil(d.length/p),g=m*p;const v=uZ(e,d,n);v.empty()&&v.set(0,0,0,0),u.rowheaders&&(s=sZ(n.headerBand,B$,null),r=pZ(e,u.rowheaders,d,p,m,-sZ(h,"rowHeader"),iZ,0,f,"x1",0,p,1,s)),u.colheaders&&(s=sZ(n.headerBand,L$,null),i=pZ(e,u.colheaders,d,p,p,-sZ(h,"columnHeader"),iZ,1,f,"y1",0,1,p,s)),u.rowfooters&&(s=sZ(n.footerBand,B$,null),o=pZ(e,u.rowfooters,d,p,m,sZ(h,"rowFooter"),oZ,0,f,"x2",p-1,p,1,s)),u.colfooters&&(s=sZ(n.footerBand,L$,null),a=pZ(e,u.colfooters,d,p,p,sZ(h,"columnFooter"),oZ,1,f,"y2",g-p,1,p,s)),u.rowtitle&&(l=sZ(n.titleAnchor,B$),c=sZ(h,"rowTitle"),c=l===h$?o+c:r-c,s=sZ(n.titleBand,B$,.5),mZ(e,u.rowtitle,c,0,v,s)),u.coltitle&&(l=sZ(n.titleAnchor,L$),c=sZ(h,"columnTitle"),c=l===h$?a+c:i-c,s=sZ(n.titleBand,L$,.5),mZ(e,u.coltitle,c,1,v,s))}function fZ(e,t){return"x1"===t?e.x||0:"y1"===t?e.y||0:"x2"===t?(e.x||0)+(e.width||0):"y2"===t?(e.y||0)+(e.height||0):void 0}function hZ(e,t){return e.bounds[t]}function pZ(e,t,n,r,i,o,a,l,s,c,u,d,f,h){var p,m,g,v,y,b,x,w,_,k=n.length,E=0,S=0;if(!k)return E;for(p=u;p<k;p+=d)n[p]&&(E=a(E,s(n[p],c)));if(!t.length)return E;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),E+=o,m=0,v=t.length;m<v;++m)e.dirty(t[m]),t[m].mark.bounds.clear();for(p=u,m=0,v=t.length;m<v;++m,p+=d){for(y=(b=t[m]).mark.bounds,g=p;g>=0&&null==(x=n[g]);g-=f);l?(w=null==h?x.x:Math.round(x.bounds.x1+h*x.bounds.width()),_=E):(w=E,_=null==h?x.y:Math.round(x.bounds.y1+h*x.bounds.height())),y.union(b.bounds.translate(w-(b.x||0),_-(b.y||0))),b.x=w,b.y=_,e.dirty(b),S=a(S,y[c])}return S}function mZ(e,t,n,r,i,o){if(t){e.dirty(t);var a=n,l=n;r?a=Math.round(i.x1+o*i.width()):l=Math.round(i.y1+o*i.height()),t.bounds.translate(a-(t.x||0),l-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=a,t.y=l,e.dirty(t)}}function gZ(e,t,n,r,i,o,a){const l=function(e,t){const n=e[t]||{};return(t,r)=>null!=n[t]?n[t]:null!=e[t]?e[t]:r}(n,t),s=function(e,t){let n=-1/0;return e.forEach((e=>{null!=e.offset&&(n=Math.max(n,e.offset))})),n>-1/0?n:t}(e,l("offset",0)),c=l("anchor",d$),u=c===h$?1:c===f$?.5:0,d={align:O$,bounds:l("bounds",I$),columns:"vertical"===l("direction")?1:e.length,padding:l("margin",8),center:l("center"),nodirty:!0};switch(t){case i$:d.anchor={x:Math.floor(r.x1)-s,column:h$,y:u*(a||r.height()+2*r.y1),row:c};break;case o$:d.anchor={x:Math.ceil(r.x2)+s,y:u*(a||r.height()+2*r.y1),row:c};break;case r$:d.anchor={y:Math.floor(i.y1)-s,row:h$,x:u*(o||i.width()+2*i.x1),column:c};break;case a$:d.anchor={y:Math.ceil(i.y2)+s,x:u*(o||i.width()+2*i.x1),column:c};break;case l$:d.anchor={x:s,y:s};break;case s$:d.anchor={x:o-s,y:s,column:h$};break;case c$:d.anchor={x:s,y:a-s,row:h$};break;case u$:d.anchor={x:o-s,y:a-s,column:h$,row:h$}}return d}function vZ(e,t){var n,r,i=t.items[0],o=i.datum,a=i.orient,l=i.bounds,s=i.x,c=i.y;return i._bounds?i._bounds.clear().union(l):i._bounds=l.clone(),l.clear(),function(e,t,n){var r=t.padding,i=r-n.x,o=r-n.y;if(t.datum.title){var a=t.items[1].items[0],l=a.anchor,s=t.titlePadding||0,c=r-a.x,u=r-a.y;switch(a.orient){case i$:i+=Math.ceil(a.bounds.width())+s;break;case o$:case a$:break;default:o+=a.bounds.height()+s}switch((i||o)&&bZ(e,n,i,o),a.orient){case i$:u+=yZ(t,n,a,l,1,1);break;case o$:c+=yZ(t,n,a,h$,0,0)+s,u+=yZ(t,n,a,l,1,1);break;case a$:c+=yZ(t,n,a,l,0,0),u+=yZ(t,n,a,h$,-1,0,1)+s;break;default:c+=yZ(t,n,a,l,0,0)}(c||u)&&bZ(e,a,c,u),(c=Math.round(a.bounds.x1-r))<0&&(bZ(e,n,-c,0),bZ(e,a,-c,0))}else(i||o)&&bZ(e,n,i,o)}(e,i,i.items[0].items[0]),l=function(e,t){return e.items.forEach((e=>t.union(e.bounds))),t.x1=e.padding,t.y1=e.padding,t}(i,l),n=2*i.padding,r=2*i.padding,l.empty()||(n=Math.ceil(l.width()+n),r=Math.ceil(l.height()+r)),o.type===A$&&function(e){const t=e.reduce(((e,t)=>(e[t.column]=Math.max(t.bounds.x2-t.x,e[t.column]||0),e)),{});e.forEach((e=>{e.width=t[e.column],e.height=e.bounds.y2-e.y}))}(i.items[0].items[0].items[0].items),a!==z$&&(i.x=s=0,i.y=c=0),i.width=n,i.height=r,fG(l.set(s,c,s+n,c+r),i),i.mark.bounds.clear().union(l),i}function yZ(e,t,n,r,i,o,a){const l="symbol"!==e.datum.type,s=n.datum.vgrad,c=(!l||!o&&s||a?t:t.items[0]).bounds[i?"y2":"x2"]-e.padding,u=s&&o?c:0,d=s&&o?0:c,f=i<=0?0:VY(n);return Math.round(r===d$?u:r===h$?d-f:.5*(c-f))}function bZ(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}function xZ(e){_I.call(this,null,e)}function wZ(e,t){let n=0;if(void 0===t)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function _Z(e){_I.call(this,null,e)}function kZ(e){_I.call(this,null,e)}function EZ(){return HO({})}function SZ(e){_I.call(this,null,e)}function CZ(e){_I.call(this,[],e)}hF(xZ,_I,{transform(e,t){const n=t.dataflow;return e.mark.items.forEach((t=>{e.layout&&dZ(n,t,e.layout),function(e,t,n){var r,i,o,a,l,s=t.items,c=Math.max(0,t.width||0),u=Math.max(0,t.height||0),d=(new aG).set(0,0,c,u),f=d.clone(),h=d.clone(),p=[];for(a=0,l=s.length;a<l;++a)switch((i=s[a]).role){case v$:(tZ(i)?f:h).union(nZ(e,i,c,u));break;case y$:r=i;break;case w$:p.push(vZ(e,i));break;case b$:case x$:case _$:case k$:case E$:case S$:case C$:case M$:f.union(i.bounds),h.union(i.bounds);break;default:d.union(i.bounds)}if(p.length){const t={};p.forEach((e=>{(o=e.orient||o$)!==z$&&(t[o]||(t[o]=[])).push(e)}));for(const r in t){const i=t[r];uZ(e,i,gZ(i,r,n.legends,f,h,c,u))}p.forEach((t=>{const r=t.bounds;if(r.equals(t._bounds)||(t.bounds=t._bounds,e.dirty(t),t.bounds=r,e.dirty(t)),!n.autosize||n.autosize.type!==D$&&n.autosize.type!==F$&&n.autosize.type!==N$)d.union(r);else switch(t.orient){case i$:case o$:d.add(r.x1,0).add(r.x2,0);break;case r$:case a$:d.add(0,r.y1).add(0,r.y2)}}))}d.union(f).union(h),r&&d.union(function(e,t,n,r,i){var o,a=t.items[0],l=a.frame,s=a.orient,c=a.anchor,u=a.offset,d=a.padding,f=a.items[0].items[0],h=a.items[1]&&a.items[1].items[0],p=s===i$||s===o$?r:n,m=0,g=0,v=0,y=0,b=0;if(l!==g$?s===i$?(m=i.y2,p=i.y1):s===o$?(m=i.y1,p=i.y2):(m=i.x1,p=i.x2):s===i$&&(m=r,p=0),o=c===d$?m:c===h$?p:(m+p)/2,h&&h.text){switch(s){case r$:case a$:b=f.bounds.height()+d;break;case i$:y=f.bounds.width()+d;break;case o$:y=-f.bounds.width()-d}J$.clear().union(h.bounds),J$.translate(y-(h.x||0),b-(h.y||0)),eZ(h,"x",y)|eZ(h,"y",b)&&(e.dirty(h),h.bounds.clear().union(J$),h.mark.bounds.clear().union(J$),e.dirty(h)),J$.clear().union(h.bounds)}else J$.clear();switch(J$.union(f.bounds),s){case r$:g=o,v=i.y1-J$.height()-u;break;case i$:g=i.x1-J$.width()-u,v=o;break;case o$:g=i.x2+J$.width()+u,v=o;break;case a$:g=o,v=i.y2+u;break;default:g=a.x,v=a.y}return eZ(a,"x",g)|eZ(a,"y",v)&&(J$.translate(g,v),e.dirty(a),a.bounds.clear().union(J$),t.bounds.clear().union(J$),e.dirty(a)),a.bounds}(e,r,c,u,d));t.clip&&d.set(0,0,t.width||0,t.height||0);!function(e,t,n,r){const i=r.autosize||{},o=i.type;if(e._autosize<1||!o)return;let a=e._width,l=e._height,s=Math.max(0,t.width||0),c=Math.max(0,Math.ceil(-n.x1)),u=Math.max(0,t.height||0),d=Math.max(0,Math.ceil(-n.y1));const f=Math.max(0,Math.ceil(n.x2-s)),h=Math.max(0,Math.ceil(n.y2-u));if(i.contains===T$){const t=e.padding();a-=t.left+t.right,l-=t.top+t.bottom}o===z$?(c=0,d=0,s=a,u=l):o===D$?(s=Math.max(0,a-c-f),u=Math.max(0,l-d-h)):o===F$?(s=Math.max(0,a-c-f),l=u+d+h):o===N$?(a=s+c+f,u=Math.max(0,l-d-h)):o===R$&&(a=s+c+f,l=u+d+h);e._resizeView(a,l,s,u,[c,d],i.resize)}(e,t,d,n)}(n,t,e)})),function(e){return e&&"legend-entry"!==e.mark.role}(e.mark.group)?t.reflow():t}}),hF(_Z,_I,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,o=e.scale,a=KH(o,null==e.count?e.values?e.values.length:10:e.count,e.minstep),l=e.format||HH(n,o,a,e.formatSpecifier,e.formatType,!!e.values),s=e.values?WH(o,e.values,a):qH(o,a);return i&&(r.rem=i),i=s.map(((e,t)=>HO({index:t/(s.length-1||1),value:e,label:l(e)}))),e.extra&&i.length&&i.push(HO({index:-1,extra:{value:i[0].value},label:""})),r.source=i,r.add=i,this.value=i,r}}),hF(kZ,_I,{transform(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.item||EZ,o=e.key||WO,a=this.value;return kD(r.encode)&&(r.encode=null),a&&(e.modified("key")||t.modified(o))&&lD("DataJoin does not support modified key function or fields."),a||(t=t.addAll(),this.value=a=function(e){const t=dF().test((e=>e.exit));return t.lookup=n=>t.get(e(n)),t}(o)),t.visit(t.ADD,(e=>{const t=o(e);let n=a.get(t);n?n.exit?(a.empty--,r.add.push(n)):r.mod.push(n):(n=i(e),a.set(t,n),r.add.push(n)),n.datum=e,n.exit=!1})),t.visit(t.MOD,(e=>{const t=o(e),n=a.get(t);n&&(n.datum=e,r.mod.push(n))})),t.visit(t.REM,(e=>{const t=o(e),n=a.get(t);e!==n.datum||n.exit||(r.rem.push(n),n.exit=!0,++a.empty)})),t.changed(t.ADD_MOD)&&r.modifies("datum"),(t.clean()||e.clean&&a.empty>n.cleanThreshold)&&n.runAfter(a.clean),r}}),hF(SZ,_I,{transform(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,i=e.encoders,o=t.encode;if(kD(o)){if(!n.changed()&&!o.every((e=>i[e])))return t.StopPropagation;o=o[0],n.encode=null}var a="enter"===o,l=i.update||mD,s=i.enter||mD,c=i.exit||mD,u=(o&&!a?i[o]:l)||mD;if(t.changed(t.ADD)&&(t.visit(t.ADD,(t=>{s(t,e),l(t,e)})),n.modifies(s.output),n.modifies(l.output),u!==mD&&u!==l&&(t.visit(t.ADD,(t=>{u(t,e)})),n.modifies(u.output))),t.changed(t.REM)&&c!==mD&&(t.visit(t.REM,(t=>{c(t,e)})),n.modifies(c.output)),a||u!==mD){const i=t.MOD|(e.modified()?t.REFLOW:0);a?(t.visit(i,(t=>{const i=s(t,e)||r;(u(t,e)||i)&&n.mod.push(t)})),n.mod.length&&n.modifies(s.output)):t.visit(i,(t=>{(u(t,e)||r)&&n.mod.push(t)})),n.mod.length&&n.modifies(u.output)}return n.changed()?n:t.StopPropagation}}),hF(CZ,_I,{transform(e,t){if(null!=this.value&&!e.modified())return t.StopPropagation;var n,r,i,o,a,l=t.dataflow.locale(),s=t.fork(t.NO_SOURCE|t.NO_FIELDS),c=this.value,u=e.type||IH,d=e.scale,f=+e.limit,h=KH(d,null==e.count?5:e.count,e.minstep),p=!!e.values||u===IH,m=e.format||$H(l,d,h,u,e.formatSpecifier,e.formatType,p),g=e.values||QH(d,h);return c&&(s.rem=c),u===IH?(f&&g.length>f?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),c=g.slice(0,f-1),a=!0):c=g,XD(i=e.size)?(e.values||0!==d(c[0])||(c=c.slice(1)),o=c.reduce(((t,n)=>Math.max(t,i(n,e))),0)):i=rF(o=i||8),c=c.map(((t,n)=>HO({index:n,label:m(t,n,c),value:t,offset:o,size:i(t,e)}))),a&&(a=g[c.length],c.push(HO({index:c.length,label:"\u2026".concat(g.length-c.length," entries"),value:a,offset:o,size:i(a,e)})))):"gradient"===u?(n=d.domain(),r=FH(d,n[0],AD(n)),g.length<3&&!e.values&&n[0]!==AD(n)&&(g=[n[0],AD(n)]),c=g.map(((e,t)=>HO({index:t,label:m(e,t,g),value:e,perc:r(e)})))):(i=g.length-1,r=function(e){const t=e.domain(),n=t.length-1;let r=+t[0],i=+AD(t),o=i-r;if(e.type===tH){const e=n?o/n:.1;r-=e,i+=e,o=i-r}return e=>(e-r)/o}(d),c=g.map(((e,t)=>HO({index:t,label:m(e,t,g),value:e,perc:t?r(e):0,perc2:t===i?1:r(g[t+1])})))),s.source=c,s.add=c,this.value=c,s}});const MZ=e=>e.source.x,TZ=e=>e.source.y,AZ=e=>e.target.x,DZ=e=>e.target.y;function FZ(e){_I.call(this,{},e)}FZ.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]},hF(FZ,_I,{transform(e,t){var n=e.sourceX||MZ,r=e.sourceY||TZ,i=e.targetX||AZ,o=e.targetY||DZ,a=e.as||"path",l=e.orient||"vertical",s=e.shape||"line",c=PZ.get(s+"-"+l)||PZ.get(s);return c||lD("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,(e=>{e[a]=c(n(e),r(e),i(e),o(e))})),t.reflow(e.modified()).modifies(a)}});const NZ=(e,t,n,r)=>"M"+e+","+t+"L"+n+","+r,RZ=(e,t,n,r)=>{var i=n-e,o=r-t,a=Math.hypot(i,o)/2;return"M"+e+","+t+"A"+a+","+a+" "+180*Math.atan2(o,i)/Math.PI+" 0 1 "+n+","+r},zZ=(e,t,n,r)=>{const i=n-e,o=r-t,a=.2*(i+o),l=.2*(o-i);return"M"+e+","+t+"C"+(e+a)+","+(t+l)+" "+(n+l)+","+(r-a)+" "+n+","+r},PZ=dF({line:NZ,"line-radial":(e,t,n,r)=>NZ(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),arc:RZ,"arc-radial":(e,t,n,r)=>RZ(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),curve:zZ,"curve-radial":(e,t,n,r)=>zZ(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),"orthogonal-horizontal":(e,t,n,r)=>"M"+e+","+t+"V"+r+"H"+n,"orthogonal-vertical":(e,t,n,r)=>"M"+e+","+t+"H"+n+"V"+r,"orthogonal-radial":(e,t,n,r)=>{const i=Math.cos(e),o=Math.sin(e),a=Math.cos(n),l=Math.sin(n);return"M"+t*i+","+t*o+"A"+t+","+t+" 0 0,"+((Math.abs(n-e)>Math.PI?n<=e:n>e)?1:0)+" "+t*a+","+t*l+"L"+r*a+","+r*l},"diagonal-horizontal":(e,t,n,r)=>{const i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r},"diagonal-vertical":(e,t,n,r)=>{const i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r},"diagonal-radial":(e,t,n,r)=>{const i=Math.cos(e),o=Math.sin(e),a=Math.cos(n),l=Math.sin(n),s=(t+r)/2;return"M"+t*i+","+t*o+"C"+s*i+","+s*o+" "+s*a+","+s*l+" "+r*a+","+r*l}});function OZ(e){_I.call(this,null,e)}OZ.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]},hF(OZ,_I,{transform(e,t){var n,r,i,o=e.as||["startAngle","endAngle"],a=o[0],l=o[1],s=e.field||hD,c=e.startAngle||0,u=null!=e.endAngle?e.endAngle:2*Math.PI,d=t.source,f=d.map(s),h=f.length,p=c,m=(u-c)/wZ(f),g=RL(h);for(e.sort&&g.sort(((e,t)=>f[e]-f[t])),n=0;n<h;++n)i=f[g[n]],(r=d[g[n]])[a]=p,r[l]=p+=i*m;return this.value=f,t.reflow(e.modified()).modifies(o)}});const IZ=5;function LZ(e){return wH(e)&&e!==$q}const BZ=zF(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function jZ(e){_I.call(this,null,e),this.modified(!0)}function UZ(e,t,n){if(EH(e)){var r=Math.abs(t.reduce(((e,t)=>e+(t<0?-1:t>0?1:0)),0));r!==t.length&&n.warn("Log scale domain includes zero: "+AF(t))}return t}function KZ(e,t,n){return XD(e)&&(t||n)?TH(e,WZ(t||[0,1],n)):e}function WZ(e,t){return t?e.slice().reverse():e}function qZ(e){_I.call(this,null,e)}hF(jZ,_I,{transform(e,t){var n=t.dataflow,r=this.value,i=function(e){var t,n=e.type,r="";if(n===$q)return $q+"-"+qq;(function(e){const t=e.type;return wH(t)&&t!==Qq&&t!==Xq&&(e.scheme||e.range&&e.range.length&&e.range.every(xF))})(e)&&(r=2===(t=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(null!=e.domainMid):0)?$q+"-":3===t?Zq+"-":"");return(r+n||qq).toLowerCase()}(e);for(i in r&&i===r.type||(this.value=r=yH(i)()),e)if(!BZ[i]){if("padding"===i&&LZ(r.type))continue;XD(r[i])?r[i](e[i]):n.warn("Unsupported scale property: "+i)}return function(e,t,n){var r=e.type,i=t.round||!1,o=t.range;if(null!=t.rangeStep)o=function(e,t,n){e!==iH&&e!==rH&&lD("Only band and point scales support rangeStep.");var r=(null!=t.paddingOuter?t.paddingOuter:t.padding)||0,i=e===rH?1:(null!=t.paddingInner?t.paddingInner:t.padding)||0;return[0,t.rangeStep*Wq(n,i,r)]}(r,t,n);else if(t.scheme&&(o=function(e,t,n){var r,i=t.schemeExtent;kD(t.scheme)?r=AH(t.scheme,t.interpolate,t.interpolateGamma):(r=OH(t.scheme.toLowerCase()))||lD("Unrecognized scheme name: ".concat(t.scheme));return n=e===tH?n+1:e===oH?n-1:e===Jq||e===eH?+t.schemeCount||IZ:n,SH(e)?KZ(r,i,t.reverse):XD(r)?DH(KZ(r,i),n):e===nH?r:r.slice(0,n)}(r,t,n),XD(o))){if(e.interpolator)return e.interpolator(o);lD("Scale type ".concat(r," does not support interpolating color schemes."))}if(o&&SH(r))return e.interpolator(AH(WZ(o,t.reverse),t.interpolate,t.interpolateGamma));o&&t.interpolate&&e.interpolate?e.interpolate(NH(t.interpolate,t.interpolateGamma)):XD(e.round)?e.round(i):XD(e.rangeRound)&&e.interpolate(i?VK:HK);o&&e.range(WZ(o,t.reverse))}(r,e,function(e,t,n){let r=t.bins;if(r&&!kD(r)){const t=e.domain(),n=t[0],i=AD(t),o=r.step;let a=null==r.start?n:r.start,l=null==r.stop?i:r.stop;o||lD("Scale bins parameter missing step property."),a<n&&(a=o*Math.ceil(n/o)),l>i&&(l=o*Math.floor(i/o)),r=RL(a,l+o/2,o)}r?e.bins=r:e.bins&&delete e.bins;e.type===oH&&(r?t.domain||t.domainRaw||(e.domain(r),n=r.length):e.bins=e.domain());return n}(r,e,function(e,t,n){const r=function(e,t,n){return t?(e.domain(UZ(e.type,t,n)),t.length):-1}(e,t.domainRaw,n);if(r>-1)return r;var i,o,a=t.domain,l=e.type,s=t.zero||void 0===t.zero&&function(e){const t=e.type;return!e.bins&&(t===qq||t===Vq||t===Gq)}(e);if(!a)return 0;LZ(l)&&t.padding&&a[0]!==AD(a)&&(a=function(e,t,n,r,i,o){var a=Math.abs(AD(n)-n[0]),l=a/(a-2*r),s=e===Hq?WD(t,null,l):e===Gq?qD(t,null,l,.5):e===Vq?qD(t,null,l,i||1):e===Yq?HD(t,null,l,o||1):KD(t,null,l);return t=t.slice(),t[0]=s[0],t[t.length-1]=s[1],t}(l,a,t.range,t.padding,t.exponent,t.constant));if((s||null!=t.domainMin||null!=t.domainMax||null!=t.domainMid)&&(i=(a=a.slice()).length-1||1,s&&(a[0]>0&&(a[0]=0),a[i]<0&&(a[i]=0)),null!=t.domainMin&&(a[0]=t.domainMin),null!=t.domainMax&&(a[i]=t.domainMax),null!=t.domainMid)){const e=(o=t.domainMid)>a[i]?i+1:o<a[0]?0:i;e!==i&&n.warn("Scale domainMid exceeds domain min or max.",o),a.splice(e,0,o)}e.domain(UZ(l,a,n)),l===nH&&e.unknown(t.domainImplicit?WW:void 0);t.nice&&e.nice&&e.nice(!0!==t.nice&&KH(e,t.nice)||null);return a.length}(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}}),hF(qZ,_I,{transform(e,t){const n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(QO(e.sort)),this.modified(n),t}});const HZ="zero",VZ="center",GZ="normalize",YZ=["y0","y1"];function QZ(e){_I.call(this,null,e)}function XZ(e,t,n,r,i){for(var o,a=(t-e.sum)/2,l=e.length,s=0;s<l;++s)(o=e[s])[r]=a,o[i]=a+=Math.abs(n(o))}function $Z(e,t,n,r,i){for(var o,a=1/e.sum,l=0,s=e.length,c=0,u=0;c<s;++c)(o=e[c])[r]=l,o[i]=l=a*(u+=Math.abs(n(o)))}function ZZ(e,t,n,r,i){for(var o,a,l=0,s=0,c=e.length,u=0;u<c;++u)(o=+n(a=e[u]))<0?(a[r]=s,a[i]=s+=o):(a[r]=l,a[i]=l+=o)}QZ.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:HZ,values:[HZ,VZ,GZ]},{name:"as",type:"string",array:!0,length:2,default:YZ}]},hF(QZ,_I,{transform(e,t){var n,r,i,o,a=e.as||YZ,l=a[0],s=a[1],c=QO(e.sort),u=e.field||hD,d=e.offset===VZ?XZ:e.offset===GZ?$Z:ZZ;for(n=function(e,t,n,r){var i,o,a,l,s,c,u,d,f,h=[],p=e=>e(s);if(null==t)h.push(e.slice());else for(i={},o=0,a=e.length;o<a;++o)s=e[o],(u=i[c=t.map(p)])||(i[c]=u=[],h.push(u)),u.push(s);for(c=0,f=0,l=h.length;c<l;++c){for(o=0,d=0,a=(u=h[c]).length;o<a;++o)d+=Math.abs(r(u[o]));u.sum=d,d>f&&(f=d),n&&u.sort(n)}return h.max=f,h}(t.source,e.groupby,c,u),r=0,i=n.length,o=n.max;r<i;++r)d(n[r],o,u,l,s);return t.reflow(e.modified()).modifies(a)}});const JZ=e=>e;function eJ(e,t){e&&nJ.hasOwnProperty(e.type)&&nJ[e.type](e,t)}var tJ={Feature:function(e,t){eJ(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)eJ(n[r].geometry,t)}},nJ={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){rJ(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)rJ(n[r],t,0)},Polygon:function(e,t){iJ(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)iJ(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)eJ(n[r],t)}};function rJ(e,t,n){var r,i=-1,o=e.length-n;for(t.lineStart();++i<o;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function iJ(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)rJ(e[n],t,1);t.polygonEnd()}function oJ(e,t){e&&tJ.hasOwnProperty(e.type)?tJ[e.type](e,t):eJ(e,t)}class aJ{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const t=this._partials;let n=0;for(let r=0;r<this._n&&r<32;r++){const i=t[r],o=e+i,a=Math.abs(e)<Math.abs(i)?e-(o-i):i-(o-e);a&&(t[n++]=a),e=o}return t[n]=e,this._n=n+1,this}valueOf(){const e=this._partials;let t,n,r,i=this._n,o=0;if(i>0){for(o=e[--i];i>0&&(t=o,n=e[--i],o=t+n,r=n-(o-t),!r););i>0&&(r<0&&e[i-1]<0||r>0&&e[i-1]>0)&&(n=2*r,t=o+n,n==t-o&&(o=t))}return o}}var lJ=1e-6,sJ=1e-12,cJ=Math.PI,uJ=cJ/2,dJ=cJ/4,fJ=2*cJ,hJ=180/cJ,pJ=cJ/180,mJ=Math.abs,gJ=Math.atan,vJ=Math.atan2,yJ=Math.cos,bJ=Math.ceil,xJ=Math.exp,wJ=(Math.floor,Math.hypot),_J=Math.log,kJ=Math.pow,EJ=Math.sin,SJ=Math.sign||function(e){return e>0?1:e<0?-1:0},CJ=Math.sqrt,MJ=Math.tan;function TJ(e){return e>1?0:e<-1?cJ:Math.acos(e)}function AJ(e){return e>1?uJ:e<-1?-uJ:Math.asin(e)}function DJ(){}var FJ,NJ,RJ,zJ,PJ=new aJ,OJ=new aJ,IJ={point:DJ,lineStart:DJ,lineEnd:DJ,polygonStart:function(){IJ.lineStart=LJ,IJ.lineEnd=UJ},polygonEnd:function(){IJ.lineStart=IJ.lineEnd=IJ.point=DJ,PJ.add(mJ(OJ)),OJ=new aJ},result:function(){var e=PJ/2;return PJ=new aJ,e}};function LJ(){IJ.point=BJ}function BJ(e,t){IJ.point=jJ,FJ=RJ=e,NJ=zJ=t}function jJ(e,t){OJ.add(zJ*e-RJ*t),RJ=e,zJ=t}function UJ(){jJ(FJ,NJ)}const KJ=IJ;var WJ=1/0,qJ=WJ,HJ=-WJ,VJ=HJ,GJ={point:function(e,t){e<WJ&&(WJ=e);e>HJ&&(HJ=e);t<qJ&&(qJ=t);t>VJ&&(VJ=t)},lineStart:DJ,lineEnd:DJ,polygonStart:DJ,polygonEnd:DJ,result:function(){var e=[[WJ,qJ],[HJ,VJ]];return HJ=VJ=-(qJ=WJ=1/0),e}};const YJ=GJ;var QJ,XJ,$J,ZJ,JJ=0,e0=0,t0=0,n0=0,r0=0,i0=0,o0=0,a0=0,l0=0,s0={point:c0,lineStart:u0,lineEnd:h0,polygonStart:function(){s0.lineStart=p0,s0.lineEnd=m0},polygonEnd:function(){s0.point=c0,s0.lineStart=u0,s0.lineEnd=h0},result:function(){var e=l0?[o0/l0,a0/l0]:i0?[n0/i0,r0/i0]:t0?[JJ/t0,e0/t0]:[NaN,NaN];return JJ=e0=t0=n0=r0=i0=o0=a0=l0=0,e}};function c0(e,t){JJ+=e,e0+=t,++t0}function u0(){s0.point=d0}function d0(e,t){s0.point=f0,c0($J=e,ZJ=t)}function f0(e,t){var n=e-$J,r=t-ZJ,i=CJ(n*n+r*r);n0+=i*($J+e)/2,r0+=i*(ZJ+t)/2,i0+=i,c0($J=e,ZJ=t)}function h0(){s0.point=c0}function p0(){s0.point=g0}function m0(){v0(QJ,XJ)}function g0(e,t){s0.point=v0,c0(QJ=$J=e,XJ=ZJ=t)}function v0(e,t){var n=e-$J,r=t-ZJ,i=CJ(n*n+r*r);n0+=i*($J+e)/2,r0+=i*(ZJ+t)/2,i0+=i,o0+=(i=ZJ*e-$J*t)*($J+e),a0+=i*(ZJ+t),l0+=3*i,c0($J=e,ZJ=t)}const y0=s0;function b0(e){this._context=e}b0.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,fJ)}},result:DJ};var x0,w0,_0,k0,E0,S0=new aJ,C0={point:DJ,lineStart:function(){C0.point=M0},lineEnd:function(){x0&&T0(w0,_0),C0.point=DJ},polygonStart:function(){x0=!0},polygonEnd:function(){x0=null},result:function(){var e=+S0;return S0=new aJ,e}};function M0(e,t){C0.point=T0,w0=k0=e,_0=E0=t}function T0(e,t){k0-=e,E0-=t,S0.add(CJ(k0*k0+E0*E0)),k0=e,E0=t}const A0=C0;var D0,F0,N0,R0;let z0,P0,O0,I0;class L0{constructor(e){this._append=null==e?B0:function(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError("invalid digits: ".concat(e));if(t>15)return B0;if(t!==z0){const e=10**t;z0=t,P0=function(t){let n=1;this._+=t[0];for(const r=t.length;n<r;++n)this._+=Math.round(arguments[n]*e)/e+t[n]}}return P0}(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(e,t){switch(this._point){case 0:this._append(D0||(D0=Jj(["M",",",""])),e,t),this._point=1;break;case 1:this._append(F0||(F0=Jj(["L",",",""])),e,t);break;default:if(this._append(N0||(N0=Jj(["M",",",""])),e,t),this._radius!==O0||this._append!==P0){const e=this._radius,t=this._;this._="",this._append(R0||(R0=Jj(["m0,","a",","," 0 1,1 0,","a",","," 0 1,1 0,","z"])),e,e,e,-2*e,e,e,2*e),O0=e,P0=this._append,I0=this._,this._=t}this._+=I0}}result(){const e=this._;return this._="",e.length?e:null}}function B0(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function j0(e,t){let n,r,i=3,o=4.5;function a(e){return e&&("function"===typeof o&&r.pointRadius(+o.apply(this,arguments)),oJ(e,n(r))),r.result()}return a.area=function(e){return oJ(e,n(KJ)),KJ.result()},a.measure=function(e){return oJ(e,n(A0)),A0.result()},a.bounds=function(e){return oJ(e,n(YJ)),YJ.result()},a.centroid=function(e){return oJ(e,n(y0)),y0.result()},a.projection=function(t){return arguments.length?(n=null==t?(e=null,JZ):(e=t).stream,a):e},a.context=function(e){return arguments.length?(r=null==e?(t=null,new L0(i)):new b0(t=e),"function"!==typeof o&&r.pointRadius(o),a):t},a.pointRadius=function(e){return arguments.length?(o="function"===typeof e?e:(r.pointRadius(+e),+e),a):o},a.digits=function(e){if(!arguments.length)return i;if(null==e)i=null;else{const t=Math.floor(e);if(!(t>=0))throw new RangeError("invalid digits: ".concat(e));i=t}return null===t&&(r=new L0(i)),a},a.projection(e).digits(i).context(t)}function U0(){var e,t=[];return{point:function(t,n,r){e.push([t,n,r])},lineStart:function(){t.push(e=[])},lineEnd:DJ,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function K0(e,t){return mJ(e[0]-t[0])<lJ&&mJ(e[1]-t[1])<lJ}function W0(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function q0(e,t,n,r,i){var o,a,l=[],s=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],a=e[t];if(K0(r,a)){if(!r[2]&&!a[2]){for(i.lineStart(),o=0;o<t;++o)i.point((r=e[o])[0],r[1]);return void i.lineEnd()}a[0]+=2*lJ}l.push(n=new W0(r,e,null,!0)),s.push(n.o=new W0(r,null,n,!1)),l.push(n=new W0(a,e,null,!1)),s.push(n.o=new W0(a,null,n,!0))}})),l.length){for(s.sort(t),H0(l),H0(s),o=0,a=s.length;o<a;++o)s[o].e=n=!n;for(var c,u,d=l[0];;){for(var f=d,h=!0;f.v;)if((f=f.n)===d)return;c=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(h)for(o=0,a=c.length;o<a;++o)i.point((u=c[o])[0],u[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(h)for(c=f.p.z,o=c.length-1;o>=0;--o)i.point((u=c[o])[0],u[1]);else r(f.x,f.p.x,-1,i);f=f.p}c=(f=f.o).z,h=!h}while(!f.v);i.lineEnd()}}}function H0(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function V0(e){return[vJ(e[1],e[0]),AJ(e[2])]}function G0(e){var t=e[0],n=e[1],r=yJ(n);return[r*yJ(t),r*EJ(t),EJ(n)]}function Y0(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Q0(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function X0(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function $0(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Z0(e){var t=CJ(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function J0(e){return mJ(e[0])<=cJ?e[0]:SJ(e[0])*((mJ(e[0])+cJ)%fJ-cJ)}function e1(e){return Array.from(function*(e){for(const t of e)yield*t}(e))}function t1(e,t,n,r){return function(i){var o,a,l,s=t(i),c=U0(),u=t(c),d=!1,f={point:h,lineStart:m,lineEnd:g,polygonStart:function(){f.point=v,f.lineStart=y,f.lineEnd=b,a=[],o=[]},polygonEnd:function(){f.point=h,f.lineStart=m,f.lineEnd=g,a=e1(a);var e=function(e,t){var n=J0(t),r=t[1],i=EJ(r),o=[EJ(n),-yJ(n),0],a=0,l=0,s=new aJ;1===i?r=uJ+lJ:-1===i&&(r=-uJ-lJ);for(var c=0,u=e.length;c<u;++c)if(f=(d=e[c]).length)for(var d,f,h=d[f-1],p=J0(h),m=h[1]/2+dJ,g=EJ(m),v=yJ(m),y=0;y<f;++y,p=x,g=_,v=k,h=b){var b=d[y],x=J0(b),w=b[1]/2+dJ,_=EJ(w),k=yJ(w),E=x-p,S=E>=0?1:-1,C=S*E,M=C>cJ,T=g*_;if(s.add(vJ(T*S*EJ(C),v*k+T*yJ(C))),a+=M?E+S*fJ:E,M^p>=n^x>=n){var A=Q0(G0(h),G0(b));Z0(A);var D=Q0(o,A);Z0(D);var F=(M^E>=0?-1:1)*AJ(D[2]);(r>F||r===F&&(A[0]||A[1]))&&(l+=M^E>=0?1:-1)}}return(a<-lJ||a<lJ&&s<-sJ)^1&l}(o,r);a.length?(d||(i.polygonStart(),d=!0),q0(a,r1,e,n,i)):e&&(d||(i.polygonStart(),d=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),d&&(i.polygonEnd(),d=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(t,n){e(t,n)&&i.point(t,n)}function p(e,t){s.point(e,t)}function m(){f.point=p,s.lineStart()}function g(){f.point=h,s.lineEnd()}function v(e,t){l.push([e,t]),u.point(e,t)}function y(){u.lineStart(),l=[]}function b(){v(l[0][0],l[0][1]),u.lineEnd();var e,t,n,r,s=u.clean(),f=c.result(),h=f.length;if(l.pop(),o.push(l),l=null,h)if(1&s){if((t=(n=f[0]).length-1)>0){for(d||(i.polygonStart(),d=!0),i.lineStart(),e=0;e<t;++e)i.point((r=n[e])[0],r[1]);i.lineEnd()}}else h>1&&2&s&&f.push(f.pop().concat(f.shift())),a.push(f.filter(n1))}return f}}function n1(e){return e.length>1}function r1(e,t){return((e=e.x)[0]<0?e[1]-uJ-lJ:uJ-e[1])-((t=t.x)[0]<0?t[1]-uJ-lJ:uJ-t[1])}const i1=t1((function(){return!0}),(function(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,a){var l=o>0?cJ:-cJ,s=mJ(o-n);mJ(s-cJ)<lJ?(e.point(n,r=(r+a)/2>0?uJ:-uJ),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(l,r),e.point(o,r),t=0):i!==l&&s>=cJ&&(mJ(n-i)<lJ&&(n-=i*lJ),mJ(o-l)<lJ&&(o-=l*lJ),r=function(e,t,n,r){var i,o,a=EJ(e-n);return mJ(a)>lJ?gJ((EJ(t)*(o=yJ(r))*EJ(n)-EJ(r)*(i=yJ(t))*EJ(e))/(i*o*a)):(t+r)/2}(n,r,o,a),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(l,r),t=0),e.point(n=o,r=a),i=l},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}),(function(e,t,n,r){var i;if(null==e)i=n*uJ,r.point(-cJ,i),r.point(0,i),r.point(cJ,i),r.point(cJ,0),r.point(cJ,-i),r.point(0,-i),r.point(-cJ,-i),r.point(-cJ,0),r.point(-cJ,i);else if(mJ(e[0]-t[0])>lJ){var o=e[0]<t[0]?cJ:-cJ;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}),[-cJ,-uJ]);function o1(e,t,n,r,i,o){if(n){var a=yJ(t),l=EJ(t),s=r*n;null==i?(i=t+r*fJ,o=t-s/2):(i=a1(a,i),o=a1(a,o),(r>0?i<o:i>o)&&(i+=r*fJ));for(var c,u=i;r>0?u>o:u<o;u-=s)c=V0([a,-l*yJ(u),-l*EJ(u)]),e.point(c[0],c[1])}}function a1(e,t){(t=G0(t))[0]-=e,Z0(t);var n=TJ(-t[1]);return((-t[2]<0?-n:n)+fJ-lJ)%fJ}var l1=1e9,s1=-l1;function c1(e,t,n,r){function i(i,o){return e<=i&&i<=n&&t<=o&&o<=r}function o(i,o,l,c){var u=0,d=0;if(null==i||(u=a(i,l))!==(d=a(o,l))||s(i,o)<0^l>0)do{c.point(0===u||3===u?e:n,u>1?r:t)}while((u=(u+l+4)%4)!==d);else c.point(o[0],o[1])}function a(r,i){return mJ(r[0]-e)<lJ?i>0?0:3:mJ(r[0]-n)<lJ?i>0?2:1:mJ(r[1]-t)<lJ?i>0?1:0:i>0?3:2}function l(e,t){return s(e.x,t.x)}function s(e,t){var n=a(e,1),r=a(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(a){var s,c,u,d,f,h,p,m,g,v,y,b=a,x=U0(),w={point:_,lineStart:function(){w.point=k,c&&c.push(u=[]);v=!0,g=!1,p=m=NaN},lineEnd:function(){s&&(k(d,f),h&&g&&x.rejoin(),s.push(x.result()));w.point=_,g&&b.lineEnd()},polygonStart:function(){b=x,s=[],c=[],y=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,i=c.length;n<i;++n)for(var o,a,l=c[n],s=1,u=l.length,d=l[0],f=d[0],h=d[1];s<u;++s)o=f,a=h,f=(d=l[s])[0],h=d[1],a<=r?h>r&&(f-o)*(r-a)>(h-a)*(e-o)&&++t:h<=r&&(f-o)*(r-a)<(h-a)*(e-o)&&--t;return t}(),n=y&&t,i=(s=e1(s)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&q0(s,l,t,o,a),a.polygonEnd());b=a,s=c=u=null}};function _(e,t){i(e,t)&&b.point(e,t)}function k(o,a){var l=i(o,a);if(c&&u.push([o,a]),v)d=o,f=a,h=l,v=!1,l&&(b.lineStart(),b.point(o,a));else if(l&&g)b.point(o,a);else{var s=[p=Math.max(s1,Math.min(l1,p)),m=Math.max(s1,Math.min(l1,m))],x=[o=Math.max(s1,Math.min(l1,o)),a=Math.max(s1,Math.min(l1,a))];!function(e,t,n,r,i,o){var a,l=e[0],s=e[1],c=0,u=1,d=t[0]-l,f=t[1]-s;if(a=n-l,d||!(a>0)){if(a/=d,d<0){if(a<c)return;a<u&&(u=a)}else if(d>0){if(a>u)return;a>c&&(c=a)}if(a=i-l,d||!(a<0)){if(a/=d,d<0){if(a>u)return;a>c&&(c=a)}else if(d>0){if(a<c)return;a<u&&(u=a)}if(a=r-s,f||!(a>0)){if(a/=f,f<0){if(a<c)return;a<u&&(u=a)}else if(f>0){if(a>u)return;a>c&&(c=a)}if(a=o-s,f||!(a<0)){if(a/=f,f<0){if(a>u)return;a>c&&(c=a)}else if(f>0){if(a<c)return;a<u&&(u=a)}return c>0&&(e[0]=l+c*d,e[1]=s+c*f),u<1&&(t[0]=l+u*d,t[1]=s+u*f),!0}}}}}(s,x,e,t,n,r)?l&&(b.lineStart(),b.point(o,a),y=!1):(g||(b.lineStart(),b.point(s[0],s[1])),b.point(x[0],x[1]),l||b.lineEnd(),y=!1)}p=o,m=a,g=l}return w}}function u1(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n}function d1(e,t){return mJ(e)>cJ&&(e-=Math.round(e/fJ)*fJ),[e,t]}function f1(e,t,n){return(e%=fJ)?t||n?u1(p1(e),m1(t,n)):p1(e):t||n?m1(t,n):d1}function h1(e){return function(t,n){return mJ(t+=e)>cJ&&(t-=Math.round(t/fJ)*fJ),[t,n]}}function p1(e){var t=h1(e);return t.invert=h1(-e),t}function m1(e,t){var n=yJ(e),r=EJ(e),i=yJ(t),o=EJ(t);function a(e,t){var a=yJ(t),l=yJ(e)*a,s=EJ(e)*a,c=EJ(t),u=c*n+l*r;return[vJ(s*i-u*o,l*n-c*r),AJ(u*i+s*o)]}return a.invert=function(e,t){var a=yJ(t),l=yJ(e)*a,s=EJ(e)*a,c=EJ(t),u=c*i-s*o;return[vJ(s*i+c*o,l*n+u*r),AJ(u*n-l*r)]},a}function g1(e){return function(t){var n=new v1;for(var r in e)n[r]=e[r];return n.stream=t,n}}function v1(){}function y1(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),oJ(n,e.stream(YJ)),t(YJ.result()),null!=r&&e.clipExtent(r),e}function b1(e,t,n){return y1(e,(function(n){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+t[0][0]+(r-o*(n[1][0]+n[0][0]))/2,l=+t[0][1]+(i-o*(n[1][1]+n[0][1]))/2;e.scale(150*o).translate([a,l])}),n)}function x1(e,t,n){return b1(e,[[0,0],t],n)}function w1(e,t,n){return y1(e,(function(n){var r=+t,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];e.scale(150*i).translate([o,a])}),n)}function _1(e,t,n){return y1(e,(function(n){var r=+t,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([o,a])}),n)}d1.invert=d1,v1.prototype={constructor:v1,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var k1=16,E1=yJ(30*pJ);function S1(e,t){return+t?function(e,t){function n(r,i,o,a,l,s,c,u,d,f,h,p,m,g){var v=c-r,y=u-i,b=v*v+y*y;if(b>4*t&&m--){var x=a+f,w=l+h,_=s+p,k=CJ(x*x+w*w+_*_),E=AJ(_/=k),S=mJ(mJ(_)-1)<lJ||mJ(o-d)<lJ?(o+d)/2:vJ(w,x),C=e(S,E),M=C[0],T=C[1],A=M-r,D=T-i,F=y*A-v*D;(F*F/b>t||mJ((v*A+y*D)/b-.5)>.3||a*f+l*h+s*p<E1)&&(n(r,i,o,a,l,s,M,T,S,x/=k,w/=k,_,m,g),g.point(M,T),n(M,T,S,x,w,_,c,u,d,f,h,p,m,g))}}return function(t){var r,i,o,a,l,s,c,u,d,f,h,p,m={point:g,lineStart:v,lineEnd:b,polygonStart:function(){t.polygonStart(),m.lineStart=x},polygonEnd:function(){t.polygonEnd(),m.lineStart=v}};function g(n,r){n=e(n,r),t.point(n[0],n[1])}function v(){u=NaN,m.point=y,t.lineStart()}function y(r,i){var o=G0([r,i]),a=e(r,i);n(u,d,c,f,h,p,u=a[0],d=a[1],c=r,f=o[0],h=o[1],p=o[2],k1,t),t.point(u,d)}function b(){m.point=g,t.lineEnd()}function x(){v(),m.point=w,m.lineEnd=_}function w(e,t){y(r=e,t),i=u,o=d,a=f,l=h,s=p,m.point=y}function _(){n(u,d,c,f,h,p,i,o,r,a,l,s,k1,t),m.lineEnd=b,b()}return m}}(e,t):function(e){return g1({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)}var C1=g1({point:function(e,t){this.stream.point(e*pJ,t*pJ)}});function M1(e,t,n,r,i,o){if(!o)return function(e,t,n,r,i){function o(o,a){return[t+e*(o*=r),n-e*(a*=i)]}return o.invert=function(o,a){return[(o-t)/e*r,(n-a)/e*i]},o}(e,t,n,r,i);var a=yJ(o),l=EJ(o),s=a*e,c=l*e,u=a/e,d=l/e,f=(l*n-a*t)/e,h=(l*t+a*n)/e;function p(e,o){return[s*(e*=r)-c*(o*=i)+t,n-c*e-s*o]}return p.invert=function(e,t){return[r*(u*e-d*t+f),i*(h-d*e-u*t)]},p}function T1(e){return A1((function(){return e}))()}function A1(e){var t,n,r,i,o,a,l,s,c,u,d=150,f=480,h=250,p=0,m=0,g=0,v=0,y=0,b=0,x=1,w=1,_=null,k=i1,E=null,S=JZ,C=.5;function M(e){return s(e[0]*pJ,e[1]*pJ)}function T(e){return(e=s.invert(e[0],e[1]))&&[e[0]*hJ,e[1]*hJ]}function A(){var e=M1(d,0,0,x,w,b).apply(null,t(p,m)),r=M1(d,f-e[0],h-e[1],x,w,b);return n=f1(g,v,y),l=u1(t,r),s=u1(n,l),a=S1(l,C),D()}function D(){return c=u=null,M}return M.stream=function(e){return c&&u===e?c:c=C1(function(e){return g1({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}(n)(k(a(S(u=e)))))},M.preclip=function(e){return arguments.length?(k=e,_=void 0,D()):k},M.postclip=function(e){return arguments.length?(S=e,E=r=i=o=null,D()):S},M.clipAngle=function(e){return arguments.length?(k=+e?function(e){var t=yJ(e),n=6*pJ,r=t>0,i=mJ(t)>lJ;function o(e,n){return yJ(e)*yJ(n)>t}function a(e,n,r){var i=[1,0,0],o=Q0(G0(e),G0(n)),a=Y0(o,o),l=o[0],s=a-l*l;if(!s)return!r&&e;var c=t*a/s,u=-t*l/s,d=Q0(i,o),f=$0(i,c);X0(f,$0(o,u));var h=d,p=Y0(f,h),m=Y0(h,h),g=p*p-m*(Y0(f,f)-1);if(!(g<0)){var v=CJ(g),y=$0(h,(-p-v)/m);if(X0(y,f),y=V0(y),!r)return y;var b,x=e[0],w=n[0],_=e[1],k=n[1];w<x&&(b=x,x=w,w=b);var E=w-x,S=mJ(E-cJ)<lJ;if(!S&&k<_&&(b=_,_=k,k=b),S||E<lJ?S?_+k>0^y[1]<(mJ(y[0]-x)<lJ?_:k):_<=y[1]&&y[1]<=k:E>cJ^(x<=y[0]&&y[0]<=w)){var C=$0(h,(-p+v)/m);return X0(C,f),[y,V0(C)]}}}function l(t,n){var i=r?e:cJ-e,o=0;return t<-i?o|=1:t>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return t1(o,(function(e){var t,n,s,c,u;return{lineStart:function(){c=s=!1,u=1},point:function(d,f){var h,p=[d,f],m=o(d,f),g=r?m?0:l(d,f):m?l(d+(d<0?cJ:-cJ),f):0;if(!t&&(c=s=m)&&e.lineStart(),m!==s&&(!(h=a(t,p))||K0(t,h)||K0(p,h))&&(p[2]=1),m!==s)u=0,m?(e.lineStart(),h=a(p,t),e.point(h[0],h[1])):(h=a(t,p),e.point(h[0],h[1],2),e.lineEnd()),t=h;else if(i&&t&&r^m){var v;g&n||!(v=a(p,t,!0))||(u=0,r?(e.lineStart(),e.point(v[0][0],v[0][1]),e.point(v[1][0],v[1][1]),e.lineEnd()):(e.point(v[1][0],v[1][1]),e.lineEnd(),e.lineStart(),e.point(v[0][0],v[0][1],3)))}!m||t&&K0(t,p)||e.point(p[0],p[1]),t=p,s=m,n=g},lineEnd:function(){s&&e.lineEnd(),t=null},clean:function(){return u|(c&&s)<<1}}}),(function(t,r,i,o){o1(o,e,n,i,t,r)}),r?[0,-e]:[-cJ,e-cJ])}(_=e*pJ):(_=null,i1),D()):_*hJ},M.clipExtent=function(e){return arguments.length?(S=null==e?(E=r=i=o=null,JZ):c1(E=+e[0][0],r=+e[0][1],i=+e[1][0],o=+e[1][1]),D()):null==E?null:[[E,r],[i,o]]},M.scale=function(e){return arguments.length?(d=+e,A()):d},M.translate=function(e){return arguments.length?(f=+e[0],h=+e[1],A()):[f,h]},M.center=function(e){return arguments.length?(p=e[0]%360*pJ,m=e[1]%360*pJ,A()):[p*hJ,m*hJ]},M.rotate=function(e){return arguments.length?(g=e[0]%360*pJ,v=e[1]%360*pJ,y=e.length>2?e[2]%360*pJ:0,A()):[g*hJ,v*hJ,y*hJ]},M.angle=function(e){return arguments.length?(b=e%360*pJ,A()):b*hJ},M.reflectX=function(e){return arguments.length?(x=e?-1:1,A()):x<0},M.reflectY=function(e){return arguments.length?(w=e?-1:1,A()):w<0},M.precision=function(e){return arguments.length?(a=S1(l,C=e*e),D()):CJ(C)},M.fitExtent=function(e,t){return b1(M,e,t)},M.fitSize=function(e,t){return x1(M,e,t)},M.fitWidth=function(e,t){return w1(M,e,t)},M.fitHeight=function(e,t){return _1(M,e,t)},function(){return t=e.apply(this,arguments),M.invert=t.invert&&T,A()}}function D1(e){var t=0,n=cJ/3,r=A1(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*pJ,n=e[1]*pJ):[t*hJ,n*hJ]},i}function F1(e,t){var n=EJ(e),r=(n+EJ(t))/2;if(mJ(r)<lJ)return function(e){var t=yJ(e);function n(e,n){return[e*t,EJ(n)/t]}return n.invert=function(e,n){return[e/t,AJ(n*t)]},n}(e);var i=1+n*(2*r-n),o=CJ(i)/r;function a(e,t){var n=CJ(i-2*r*EJ(t))/r;return[n*EJ(e*=r),o-n*yJ(e)]}return a.invert=function(e,t){var n=o-t,a=vJ(e,mJ(n))*SJ(n);return n*r<0&&(a-=cJ*SJ(e)*SJ(n)),[a/r,AJ((i-(e*e+n*n)*r*r)/(2*r))]},a}function N1(){return D1(F1).scale(155.424).center([0,33.6442])}function R1(){return N1().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function z1(e){return function(t,n){var r=yJ(t),i=yJ(n),o=e(r*i);return o===1/0?[2,0]:[o*i*EJ(t),o*EJ(n)]}}function P1(e){return function(t,n){var r=CJ(t*t+n*n),i=e(r),o=EJ(i),a=yJ(i);return[vJ(t*o,r*a),AJ(r&&n*o/r)]}}var O1=z1((function(e){return CJ(2/(1+e))}));O1.invert=P1((function(e){return 2*AJ(e/2)}));var I1=z1((function(e){return(e=TJ(e))&&e/EJ(e)}));function L1(e,t){return[e,_J(MJ((uJ+t)/2))]}function B1(e){var t,n,r,i=T1(e),o=i.center,a=i.scale,l=i.translate,s=i.clipExtent,c=null;function u(){var o=cJ*a(),l=i(function(e){function t(t){return(t=e(t[0]*pJ,t[1]*pJ))[0]*=hJ,t[1]*=hJ,t}return e=f1(e[0]*pJ,e[1]*pJ,e.length>2?e[2]*pJ:0),t.invert=function(t){return(t=e.invert(t[0]*pJ,t[1]*pJ))[0]*=hJ,t[1]*=hJ,t},t}(i.rotate()).invert([0,0]));return s(null==c?[[l[0]-o,l[1]-o],[l[0]+o,l[1]+o]]:e===L1?[[Math.max(l[0]-o,c),t],[Math.min(l[0]+o,n),r]]:[[c,Math.max(l[1]-o,t)],[n,Math.min(l[1]+o,r)]])}return i.scale=function(e){return arguments.length?(a(e),u()):a()},i.translate=function(e){return arguments.length?(l(e),u()):l()},i.center=function(e){return arguments.length?(o(e),u()):o()},i.clipExtent=function(e){return arguments.length?(null==e?c=t=n=r=null:(c=+e[0][0],t=+e[0][1],n=+e[1][0],r=+e[1][1]),u()):null==c?null:[[c,t],[n,r]]},u()}function j1(e){return MJ((uJ+e)/2)}function U1(e,t){var n=yJ(e),r=e===t?EJ(e):_J(n/yJ(t))/_J(j1(t)/j1(e)),i=n*kJ(j1(e),r)/r;if(!r)return L1;function o(e,t){i>0?t<-uJ+lJ&&(t=-uJ+lJ):t>uJ-lJ&&(t=uJ-lJ);var n=i/kJ(j1(t),r);return[n*EJ(r*e),i-n*yJ(r*e)]}return o.invert=function(e,t){var n=i-t,o=SJ(r)*CJ(e*e+n*n),a=vJ(e,mJ(n))*SJ(n);return n*r<0&&(a-=cJ*SJ(e)*SJ(n)),[a/r,2*gJ(kJ(i/o,1/r))-uJ]},o}function K1(e,t){return[e,t]}function W1(e,t){var n=yJ(e),r=e===t?EJ(e):(n-yJ(t))/(t-e),i=n/r+e;if(mJ(r)<lJ)return K1;function o(e,t){var n=i-t,o=r*e;return[n*EJ(o),i-n*yJ(o)]}return o.invert=function(e,t){var n=i-t,o=vJ(e,mJ(n))*SJ(n);return n*r<0&&(o-=cJ*SJ(e)*SJ(n)),[o/r,i-SJ(r)*CJ(e*e+n*n)]},o}I1.invert=P1((function(e){return e})),L1.invert=function(e,t){return[e,2*gJ(xJ(t))-uJ]},K1.invert=K1;var q1=1.340264,H1=-.081106,V1=893e-6,G1=.003796,Y1=CJ(3)/2;function Q1(e,t){var n=AJ(Y1*EJ(t)),r=n*n,i=r*r*r;return[e*yJ(n)/(Y1*(q1+3*H1*r+i*(7*V1+9*G1*r))),n*(q1+H1*r+i*(V1+G1*r))]}function X1(e,t){var n=yJ(t),r=yJ(e)*n;return[n*EJ(e)/r,EJ(t)/r]}function $1(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function Z1(e,t){return[yJ(t)*EJ(e),EJ(t)]}function J1(e,t){var n=yJ(t),r=1+yJ(e)*n;return[n*EJ(e)/r,EJ(t)/r]}function e2(e,t){return[_J(MJ((uJ+t)/2)),-e]}Q1.invert=function(e,t){for(var n,r=t,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=n=(r*(q1+H1*i+o*(V1+G1*i))-t)/(q1+3*H1*i+o*(7*V1+9*G1*i)))*r)*i*i,!(mJ(n)<sJ));++a);return[Y1*e*(q1+3*H1*i+o*(7*V1+9*G1*i))/yJ(r),AJ(EJ(r)/Y1)]},X1.invert=P1(gJ),$1.invert=function(e,t){var n,r=t,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-t)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(mJ(n)>lJ&&--i>0);return[e/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},Z1.invert=P1(AJ),J1.invert=P1((function(e){return 2*gJ(e)})),e2.invert=function(e,t){return[-t,2*gJ(xJ(e))-uJ]};var t2=Math.abs,n2=(Math.atan,Math.atan2,Math.ceil,Math.cos),r2=(Math.exp,Math.floor,Math.log,Math.max,Math.min,Math.pow,Math.round,Math.sign,Math.sin),i2=(Math.tan,1e-6),o2=Math.PI,a2=o2/2,l2=(Math.SQRT1_2,c2(2));c2(o2);function s2(e){return e>1?a2:e<-1?-a2:Math.asin(e)}function c2(e){return e>0?Math.sqrt(e):0}function u2(e,t){var n,r=e*r2(t),i=30;do{t-=n=(t+r2(t)-r)/(1+n2(t))}while(t2(n)>i2&&--i>0);return t/2}var d2=function(e,t,n){function r(r,i){return[e*r*n2(i=u2(n,i)),t*r2(i)]}return r.invert=function(r,i){return i=s2(i/t),[r/(e*n2(i)),s2((2*i+r2(2*i))/n)]},r}(l2/a2,l2,o2);const f2=j0(),h2=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function p2(e,t){if(!e||"string"!==typeof e)throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(g2[e]=function(e,t){return function n(){const r=t();return r.type=e,r.path=j0().projection(r),r.copy=r.copy||function(){const e=n();return h2.forEach((t=>{r[t]&&e[t](r[t]())})),e.path.pointRadius(r.path.pointRadius()),e},vH(r)}}(e,t),this):g2[e]||null}function m2(e){return e&&e.path||f2}const g2={albers:R1,albersusa:function(){var e,t,n,r,i,o,a=R1(),l=N1().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=N1().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(e,t){o=[e,t]}};function u(e){var t=e[0],a=e[1];return o=null,n.point(t,a),o||(r.point(t,a),o)||(i.point(t,a),o)}function d(){return e=t=null,u}return u.invert=function(e){var t=a.scale(),n=a.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?l:i>=.166&&i<.234&&r>=-.214&&r<-.115?s:a).invert(e)},u.stream=function(n){return e&&t===n?e:e=function(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}([a.stream(t=n),l.stream(n),s.stream(n)])},u.precision=function(e){return arguments.length?(a.precision(e),l.precision(e),s.precision(e),d()):a.precision()},u.scale=function(e){return arguments.length?(a.scale(e),l.scale(.35*e),s.scale(e),u.translate(a.translate())):a.scale()},u.translate=function(e){if(!arguments.length)return a.translate();var t=a.scale(),o=+e[0],u=+e[1];return n=a.translate(e).clipExtent([[o-.455*t,u-.238*t],[o+.455*t,u+.238*t]]).stream(c),r=l.translate([o-.307*t,u+.201*t]).clipExtent([[o-.425*t+lJ,u+.12*t+lJ],[o-.214*t-lJ,u+.234*t-lJ]]).stream(c),i=s.translate([o-.205*t,u+.212*t]).clipExtent([[o-.214*t+lJ,u+.166*t+lJ],[o-.115*t-lJ,u+.234*t-lJ]]).stream(c),d()},u.fitExtent=function(e,t){return b1(u,e,t)},u.fitSize=function(e,t){return x1(u,e,t)},u.fitWidth=function(e,t){return w1(u,e,t)},u.fitHeight=function(e,t){return _1(u,e,t)},u.scale(1070)},azimuthalequalarea:function(){return T1(O1).scale(124.75).clipAngle(179.999)},azimuthalequidistant:function(){return T1(I1).scale(79.4188).clipAngle(179.999)},conicconformal:function(){return D1(U1).scale(109.5).parallels([30,30])},conicequalarea:N1,conicequidistant:function(){return D1(W1).scale(131.154).center([0,13.9389])},equalEarth:function(){return T1(Q1).scale(177.158)},equirectangular:function(){return T1(K1).scale(152.63)},gnomonic:function(){return T1(X1).scale(144.049).clipAngle(60)},identity:function(){var e,t,n,r,i,o,a,l=1,s=0,c=0,u=1,d=1,f=0,h=null,p=1,m=1,g=g1({point:function(e,t){var n=b([e,t]);this.stream.point(n[0],n[1])}}),v=JZ;function y(){return p=l*u,m=l*d,o=a=null,b}function b(n){var r=n[0]*p,i=n[1]*m;if(f){var o=i*e-r*t;r=r*e+i*t,i=o}return[r+s,i+c]}return b.invert=function(n){var r=n[0]-s,i=n[1]-c;if(f){var o=i*e+r*t;r=r*e-i*t,i=o}return[r/p,i/m]},b.stream=function(e){return o&&a===e?o:o=g(v(a=e))},b.postclip=function(e){return arguments.length?(v=e,h=n=r=i=null,y()):v},b.clipExtent=function(e){return arguments.length?(v=null==e?(h=n=r=i=null,JZ):c1(h=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),y()):null==h?null:[[h,n],[r,i]]},b.scale=function(e){return arguments.length?(l=+e,y()):l},b.translate=function(e){return arguments.length?(s=+e[0],c=+e[1],y()):[s,c]},b.angle=function(n){return arguments.length?(t=EJ(f=n%360*pJ),e=yJ(f),y()):f*hJ},b.reflectX=function(e){return arguments.length?(u=e?-1:1,y()):u<0},b.reflectY=function(e){return arguments.length?(d=e?-1:1,y()):d<0},b.fitExtent=function(e,t){return b1(b,e,t)},b.fitSize=function(e,t){return x1(b,e,t)},b.fitWidth=function(e,t){return w1(b,e,t)},b.fitHeight=function(e,t){return _1(b,e,t)},b},mercator:function(){return B1(L1).scale(961/fJ)},mollweide:function(){return T1(d2).scale(169.529)},naturalEarth1:function(){return T1($1).scale(175.295)},orthographic:function(){return T1(Z1).scale(249.5).clipAngle(90+lJ)},stereographic:function(){return T1(J1).scale(250).clipAngle(142)},transversemercator:function(){var e=B1(e2),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90]).scale(159.155)}};for(const n in g2)p2(n,g2[n]);function v2(e,t,n){var r=RL(e,t-lJ,n).concat(t);return function(e){return r.map((function(t){return[e,t]}))}}function y2(e,t,n){var r=RL(e,t-lJ,n).concat(t);return function(e){return r.map((function(t){return[t,e]}))}}function b2(){var e,t,n,r,i,o,a,l,s,c,u,d,f=10,h=f,p=90,m=360,g=2.5;function v(){return{type:"MultiLineString",coordinates:y()}}function y(){return RL(bJ(r/p)*p,n,p).map(u).concat(RL(bJ(l/m)*m,a,m).map(d)).concat(RL(bJ(t/f)*f,e,f).filter((function(e){return mJ(e%p)>lJ})).map(s)).concat(RL(bJ(o/h)*h,i,h).filter((function(e){return mJ(e%m)>lJ})).map(c))}return v.lines=function(){return y().map((function(e){return{type:"LineString",coordinates:e}}))},v.outline=function(){return{type:"Polygon",coordinates:[u(r).concat(d(a).slice(1),u(n).reverse().slice(1),d(l).reverse().slice(1))]}},v.extent=function(e){return arguments.length?v.extentMajor(e).extentMinor(e):v.extentMinor()},v.extentMajor=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],l=+e[0][1],a=+e[1][1],r>n&&(e=r,r=n,n=e),l>a&&(e=l,l=a,a=e),v.precision(g)):[[r,l],[n,a]]},v.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],o=+n[0][1],i=+n[1][1],t>e&&(n=t,t=e,e=n),o>i&&(n=o,o=i,i=n),v.precision(g)):[[t,o],[e,i]]},v.step=function(e){return arguments.length?v.stepMajor(e).stepMinor(e):v.stepMinor()},v.stepMajor=function(e){return arguments.length?(p=+e[0],m=+e[1],v):[p,m]},v.stepMinor=function(e){return arguments.length?(f=+e[0],h=+e[1],v):[f,h]},v.precision=function(f){return arguments.length?(g=+f,s=v2(o,i,90),c=y2(t,e,g),u=v2(l,a,90),d=y2(r,n,g),v):g},v.extentMajor([[-180,-90+lJ],[180,90-lJ]]).extentMinor([[-180,-80-lJ],[180,80+lJ]])}function x2(){}const w2=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function _2(){var e=1,t=1,n=a;function r(e,t){return t.map((t=>i(e,t)))}function i(r,i){var a=[],l=[];return function(n,r,i){var a,l,s,c,u,d,f=new Array,h=new Array;a=l=-1,c=n[0]>=r,w2[c<<1].forEach(p);for(;++a<e-1;)s=c,c=n[a+1]>=r,w2[s|c<<1].forEach(p);w2[c<<0].forEach(p);for(;++l<t-1;){for(a=-1,c=n[l*e+e]>=r,u=n[l*e]>=r,w2[c<<1|u<<2].forEach(p);++a<e-1;)s=c,c=n[l*e+e+a+1]>=r,d=u,u=n[l*e+a+1]>=r,w2[s|c<<1|u<<2|d<<3].forEach(p);w2[c|u<<3].forEach(p)}a=-1,u=n[l*e]>=r,w2[u<<2].forEach(p);for(;++a<e-1;)d=u,u=n[l*e+a+1]>=r,w2[u<<2|d<<3].forEach(p);function p(e){var t,n,r=[e[0][0]+a,e[0][1]+l],s=[e[1][0]+a,e[1][1]+l],c=o(r),u=o(s);(t=h[c])?(n=f[u])?(delete h[t.end],delete f[n.start],t===n?(t.ring.push(s),i(t.ring)):f[t.start]=h[n.end]={start:t.start,end:n.end,ring:t.ring.concat(n.ring)}):(delete h[t.end],t.ring.push(s),h[t.end=u]=t):(t=f[u])?(n=h[c])?(delete f[t.start],delete h[n.end],t===n?(t.ring.push(s),i(t.ring)):f[n.start]=h[t.end]={start:n.start,end:t.end,ring:n.ring.concat(t.ring)}):(delete f[t.start],t.ring.unshift(r),f[t.start=c]=t):f[c]=h[u]={start:c,end:u,ring:[r,s]}}w2[u<<3].forEach(p)}(r,i,(e=>{n(e,r,i),function(e){var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];for(;++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}(e)>0?a.push([e]):l.push(e)})),l.forEach((e=>{for(var t,n=0,r=a.length;n<r;++n)if(-1!==k2((t=a[n])[0],e))return void t.push(e)})),{type:"MultiPolygon",value:i,coordinates:a}}function o(t){return 2*t[0]+t[1]*(e+1)*4}function a(n,r,i){n.forEach((n=>{var o,a=n[0],l=n[1],s=0|a,c=0|l,u=r[c*e+s];a>0&&a<e&&s===a&&(o=r[c*e+s-1],n[0]=a+(i-o)/(u-o)-.5),l>0&&l<t&&c===l&&(o=r[(c-1)*e+s],n[1]=l+(i-o)/(u-o)-.5)}))}return r.contour=i,r.size=function(n){if(!arguments.length)return[e,t];var i=Math.floor(n[0]),o=Math.floor(n[1]);return i>=0&&o>=0||lD("invalid size"),e=i,t=o,r},r.smooth=function(e){return arguments.length?(n=e?a:x2,r):n===a},r}function k2(e,t){for(var n,r=-1,i=t.length;++r<i;)if(n=E2(e,t[r]))return n;return 0}function E2(e,t){for(var n=t[0],r=t[1],i=-1,o=0,a=e.length,l=a-1;o<a;l=o++){var s=e[o],c=s[0],u=s[1],d=e[l],f=d[0],h=d[1];if(S2(s,d,t))return 0;u>r!==h>r&&n<(f-c)*(r-u)/(h-u)+c&&(i=-i)}return i}function S2(e,t,n){var r;return function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}(e,t,n)&&function(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}(e[r=+(e[0]===t[0])],n[r],t[r])}function C2(e,t,n){return function(r){var i=aF(r),o=n?Math.min(i[0],0):i[0],a=i[1],l=a-o,s=t?aN(o,a,e):l/(e+1);return RL(o+s,a,s)}}function M2(e){_I.call(this,null,e)}function T2(e,t,n,r,i){const o=e.x1||0,a=e.y1||0,l=t*n<0;function s(e){e.forEach(c)}function c(e){l&&e.reverse(),e.forEach(u)}function u(e){e[0]=(e[0]-o)*t+r,e[1]=(e[1]-a)*n+i}return function(e){return e.coordinates.forEach(s),e}}function A2(e,t,n){const r=e>=0?e:BI(t,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function D2(e){return XD(e)?e:rF(+e)}function F2(){var e=e=>e[0],t=e=>e[1],n=hD,r=[-1,-1],i=960,o=500,a=2;function l(l,s){const c=A2(r[0],l,e)>>a,u=A2(r[1],l,t)>>a,d=c?c+2:0,f=u?u+2:0,h=2*d+(i>>a),p=2*f+(o>>a),m=new Float32Array(h*p),g=new Float32Array(h*p);let v=m;l.forEach((r=>{const i=d+(+e(r)>>a),o=f+(+t(r)>>a);i>=0&&i<h&&o>=0&&o<p&&(m[i+o*h]+=+n(r))})),c>0&&u>0?(N2(h,p,m,g,c),R2(h,p,g,m,u),N2(h,p,m,g,c),R2(h,p,g,m,u),N2(h,p,m,g,c),R2(h,p,g,m,u)):c>0?(N2(h,p,m,g,c),N2(h,p,g,m,c),N2(h,p,m,g,c),v=g):u>0&&(R2(h,p,m,g,u),R2(h,p,g,m,u),R2(h,p,m,g,u),v=g);const y=s?Math.pow(2,-2*a):1/wZ(v);for(let e=0,t=h*p;e<t;++e)v[e]*=y;return{values:v,scale:1<<a,width:h,height:p,x1:d,y1:f,x2:d+(i>>a),y2:f+(o>>a)}}return l.x=function(t){return arguments.length?(e=D2(t),l):e},l.y=function(e){return arguments.length?(t=D2(e),l):t},l.weight=function(e){return arguments.length?(n=D2(e),l):n},l.size=function(e){if(!arguments.length)return[i,o];var t=+e[0],n=+e[1];return t>=0&&n>=0||lD("invalid size"),i=t,o=n,l},l.cellSize=function(e){return arguments.length?((e=+e)>=1||lD("invalid cell size"),a=Math.floor(Math.log(e)/Math.LN2),l):1<<a},l.bandwidth=function(e){return arguments.length?(1===(e=YD(e)).length&&(e=[+e[0],+e[0]]),2!==e.length&&lD("invalid bandwidth"),r=e,l):r},l}function N2(e,t,n,r,i){const o=1+(i<<1);for(let a=0;a<t;++a)for(let t=0,l=0;t<e+i;++t)t<e&&(l+=n[t+a*e]),t>=i&&(t>=o&&(l-=n[t-o+a*e]),r[t-i+a*e]=l/Math.min(t+1,e-1+o-t,o))}function R2(e,t,n,r,i){const o=1+(i<<1);for(let a=0;a<e;++a)for(let l=0,s=0;l<t+i;++l)l<t&&(s+=n[a+l*e]),l>=i&&(l>=o&&(s-=n[a+(l-o)*e]),r[a+(l-i)*e]=s/Math.min(l+1,t-1+o-l,o))}function z2(e){_I.call(this,null,e)}M2.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]},hF(M2,_I,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=e.field||dD,o=_2().smooth(!1!==e.smooth),a=e.thresholds||function(e,t,n){const r=C2(n.levels||10,n.nice,!1!==n.zero);return"shared"!==n.resolve?r:r(e.map((e=>CI(t(e).values))))}(r,i,e),l=null===e.as?null:e.as||"contour",s=[];return r.forEach((t=>{const n=i(t),r=o.size([n.width,n.height])(n.values,kD(a)?a:a(n.values));!function(e,t,n,r){let i=r.scale||t.scale,o=r.translate||t.translate;XD(i)&&(i=i(n,r));XD(o)&&(o=o(n,r));if((1===i||null==i)&&!o)return;const a=(yF(i)?i:i[0])||1,l=(yF(i)?i:i[1])||1,s=o&&o[0]||0,c=o&&o[1]||0;e.forEach(T2(t,a,l,s,c))}(r,n,t,e),r.forEach((e=>{s.push(GO(t,HO(null!=l?{[l]:e}:e)))}))})),this.value&&(n.rem=this.value),this.value=n.source=n.add=s,n}}),z2.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const P2=["x","y","weight","size","cellSize","bandwidth"];function O2(e,t){return P2.forEach((n=>null!=t[n]?e[n](t[n]):0)),e}function I2(e){_I.call(this,null,e)}hF(z2,_I,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=function(e,t){var n,r,i,o,a,l,s=[],c=e=>e(o);if(null==t)s.push(e);else for(n={},r=0,i=e.length;r<i;++r)o=e[r],(l=n[a=t.map(c)])||(n[a]=l=[],l.dims=a,s.push(l)),l.push(o);return s}(t.materialize(t.SOURCE).source,e.groupby),o=(e.groupby||[]).map(nD),a=O2(F2(),e),l=e.as||"grid";return n=i.map((t=>HO(function(e,t){for(let n=0;n<o.length;++n)e[o[n]]=t[n];return e}({[l]:a(t,e.counts)},t.dims)))),this.value&&(r.rem=this.value),this.value=r.source=r.add=n,r}}),I2.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]},hF(I2,_I,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n,r,i=t.fork(t.NO_SOURCE|t.NO_FIELDS),o=_2().smooth(!1!==e.smooth),a=e.values,l=e.thresholds||C2(e.count||10,e.nice,!!a),s=e.size;return a||(a=t.materialize(t.SOURCE).source,r=T2(n=O2(F2(),e)(a,!0),n.scale||1,n.scale||1,0,0),s=[n.width,n.height],a=n.values),l=kD(l)?l:l(a),a=o.size(s)(a,l),r&&a.forEach(r),this.value&&(i.rem=this.value),this.value=i.source=i.add=(a||[]).map(HO),i}});const L2="Feature",B2="FeatureCollection";function j2(e){_I.call(this,null,e)}function U2(e){_I.call(this,null,e)}function K2(e){_I.call(this,null,e)}function W2(e){_I.call(this,null,e)}function q2(e){_I.call(this,[],e),this.generator=b2()}function H2(e){_I.call(this,null,e)}function V2(e){if(!XD(e))return!1;const t=zF(rD(e));return t.$x||t.$y||t.$value||t.$max}function G2(e){_I.call(this,null,e),this.modified(!0)}function Y2(e,t,n){XD(e[t])&&e[t](n)}function Q2(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o,a,l,s,c,u,d,f,h=e._root,p={data:r},m=e._x0,g=e._y0,v=e._x1,y=e._y1;if(!h)return e._root=p,e;for(;h.length;)if((c=t>=(o=(m+v)/2))?m=o:v=o,(u=n>=(a=(g+y)/2))?g=a:y=a,i=h,!(h=h[d=u<<1|c]))return i[d]=p,e;if(l=+e._x.call(null,h.data),s=+e._y.call(null,h.data),t===l&&n===s)return p.next=h,i?i[d]=p:e._root=p,e;do{i=i?i[d]=new Array(4):e._root=new Array(4),(c=t>=(o=(m+v)/2))?m=o:v=o,(u=n>=(a=(g+y)/2))?g=a:y=a}while((d=u<<1|c)===(f=(s>=a)<<1|l>=o));return i[f]=h,i[d]=p,e}function X2(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function $2(e){return e[0]}function Z2(e){return e[1]}function J2(e,t,n){var r=new e5(null==t?$2:t,null==n?Z2:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function e5(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function t5(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}j2.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]},hF(j2,_I,{transform(e,t){var n,r=this._features,i=this._points,o=e.fields,a=o&&o[0],l=o&&o[1],s=e.geojson||!o&&dD,c=t.ADD;n=e.modified()||t.changed(t.REM)||t.modified(rD(s))||a&&t.modified(rD(a))||l&&t.modified(rD(l)),this.value&&!n||(c=t.SOURCE,this._features=r=[],this._points=i=[]),s&&t.visit(c,(e=>r.push(s(e)))),a&&l&&(t.visit(c,(e=>{var t=a(e),n=l(e);null!=t&&null!=n&&(t=+t)===t&&(n=+n)===n&&i.push([t,n])})),r=r.concat({type:L2,geometry:{type:"MultiPoint",coordinates:i}})),this.value={type:B2,features:r}}}),U2.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]},hF(U2,_I,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.field||dD,o=e.as||"path",a=n.SOURCE;!r||e.modified()?(this.value=r=m2(e.projection),n.materialize().reflow()):a=i===dD||t.modified(i.fields)?n.ADD_MOD:n.ADD;const l=function(e,t){const n=e.pointRadius();e.context(null),null!=t&&e.pointRadius(t);return n}(r,e.pointRadius);return n.visit(a,(e=>e[o]=r(i(e)))),r.pointRadius(l),n.modifies(o)}}),K2.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]},hF(K2,_I,{transform(e,t){var n,r=e.projection,i=e.fields[0],o=e.fields[1],a=e.as||["x","y"],l=a[0],s=a[1];function c(e){const t=r([i(e),o(e)]);t?(e[l]=t[0],e[s]=t[1]):(e[l]=void 0,e[s]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,c):(n=t.modified(i.fields)||t.modified(o.fields),t.visit(n?t.ADD_MOD:t.ADD,c)),t.modifies(a)}}),W2.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]},hF(W2,_I,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.as||"shape",o=n.ADD;return r&&!e.modified()||(this.value=r=function(e,t,n){const r=null==n?n=>e(t(n)):r=>{var i=e.pointRadius(),o=e.pointRadius(n)(t(r));return e.pointRadius(i),o};return r.context=t=>(e.context(t),r),r}(m2(e.projection),e.field||cD("datum"),e.pointRadius),n.materialize().reflow(),o=n.SOURCE),n.visit(o,(e=>e[i]=r)),n.modifies(i)}}),q2.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]},hF(q2,_I,{transform(e,t){var n,r=this.value,i=this.generator;if(!r.length||e.modified())for(const o in e)XD(i[o])&&i[o](e[o]);return n=i(),r.length?t.mod.push(YO(r[0],n)):t.add.push(HO(n)),r[0]=n,t}}),H2.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]},hF(H2,_I,{transform(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,r="shared"===e.resolve,i=e.field||dD,o=function(e,t){let n;XD(e)?(n=n=>e(n,t),n.dep=V2(e)):e?n=rF(e):(n=e=>e.$value/e.$max||0,n.dep=!0);return n}(e.opacity,e),a=function(e,t){let n;XD(e)?(n=n=>cK(e(n,t)),n.dep=V2(e)):n=rF(cK(e||"#888"));return n}(e.color,e),l=e.as||"image",s={$x:0,$y:0,$value:0,$max:r?CI(n.map((e=>CI(i(e).values)))):0};return n.forEach((e=>{const t=i(e),n=oF({},e,s);r||(n.$max=CI(t.values||[])),e[l]=function(e,t,n,r){const i=e.width,o=e.height,a=e.x1||0,l=e.y1||0,s=e.x2||i,c=e.y2||o,u=e.values,d=u?e=>u[e]:fD,f=PU(s-a,c-l),h=f.getContext("2d"),p=h.getImageData(0,0,s-a,c-l),m=p.data;for(let g=l,v=0;g<c;++g){t.$y=g-l;for(let e=a,o=g*i;e<s;++e,v+=4){t.$x=e-a,t.$value=d(e+o);const i=n(t);m[v+0]=i.r,m[v+1]=i.g,m[v+2]=i.b,m[v+3]=~~(255*r(t))}}return h.putImageData(p,0,0),f}(t,n,a.dep?a:rF(a(n)),o.dep?o:rF(o(n)))})),t.reflow(!0).modifies(l)}}),hF(G2,_I,{transform(e,t){let n=this.value;return!n||e.modified("type")?(this.value=n=function(e){const t=p2((e||"mercator").toLowerCase());t||lD("Unrecognized projection type: "+e);return t()}(e.type),h2.forEach((t=>{null!=e[t]&&Y2(n,t,e[t])}))):h2.forEach((t=>{e.modified(t)&&Y2(n,t,e[t])})),null!=e.pointRadius&&n.path.pointRadius(e.pointRadius),e.fit&&function(e,t){const n=function(e){return e=YD(e),1===e.length?e[0]:{type:B2,features:e.reduce(((e,t)=>e.concat(function(e){return e.type===B2?e.features:YD(e).filter((e=>null!=e)).map((e=>e.type===L2?e:{type:L2,geometry:e}))}(t))),[])}}(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});var n5=J2.prototype=e5.prototype;function r5(e){return function(){return e}}function i5(e){return 1e-6*(e()-.5)}function o5(e){return e.x+e.vx}function a5(e){return e.y+e.vy}n5.copy=function(){var e,t,n=new e5(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=t5(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=t5(t));return n},n5.add=function(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return Q2(this.cover(t,n),t,n,e)},n5.addAll=function(e){var t,n,r,i,o=e.length,a=new Array(o),l=new Array(o),s=1/0,c=1/0,u=-1/0,d=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(a[n]=r,l[n]=i,r<s&&(s=r),r>u&&(u=r),i<c&&(c=i),i>d&&(d=i));if(s>u||c>d)return this;for(this.cover(s,c).cover(u,d),n=0;n<o;++n)Q2(this,a[n],l[n],e[n]);return this},n5.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var a,l,s=i-n||1,c=this._root;n>e||e>=i||r>t||t>=o;)switch(l=(t<r)<<1|e<n,(a=new Array(4))[l]=c,c=a,s*=2,l){case 0:i=n+s,o=r+s;break;case 1:n=i-s,o=r+s;break;case 2:i=n+s,r=o-s;break;case 3:n=i-s,r=o-s}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},n5.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},n5.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},n5.find=function(e,t,n){var r,i,o,a,l,s,c,u=this._x0,d=this._y0,f=this._x1,h=this._y1,p=[],m=this._root;for(m&&p.push(new X2(m,u,d,f,h)),null==n?n=1/0:(u=e-n,d=t-n,f=e+n,h=t+n,n*=n);s=p.pop();)if(!(!(m=s.node)||(i=s.x0)>f||(o=s.y0)>h||(a=s.x1)<u||(l=s.y1)<d))if(m.length){var g=(i+a)/2,v=(o+l)/2;p.push(new X2(m[3],g,v,a,l),new X2(m[2],i,v,g,l),new X2(m[1],g,o,a,v),new X2(m[0],i,o,g,v)),(c=(t>=v)<<1|e>=g)&&(s=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=s)}else{var y=e-+this._x.call(null,m.data),b=t-+this._y.call(null,m.data),x=y*y+b*b;if(x<n){var w=Math.sqrt(n=x);u=e-w,d=t-w,f=e+w,h=t+w,r=m.data}}return r},n5.remove=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,i,o,a,l,s,c,u,d,f,h=this._root,p=this._x0,m=this._y0,g=this._x1,v=this._y1;if(!h)return this;if(h.length)for(;;){if((c=o>=(l=(p+g)/2))?p=l:g=l,(u=a>=(s=(m+v)/2))?m=s:v=s,t=h,!(h=h[d=u<<1|c]))return this;if(!h.length)break;(t[d+1&3]||t[d+2&3]||t[d+3&3])&&(n=t,f=d)}for(;h.data!==e;)if(r=h,!(h=h.next))return this;return(i=h.next)&&delete h.next,r?(i?r.next=i:delete r.next,this):t?(i?t[d]=i:delete t[d],(h=t[0]||t[1]||t[2]||t[3])&&h===(t[3]||t[2]||t[1]||t[0])&&!h.length&&(n?n[f]=h:this._root=h),this):(this._root=i,this)},n5.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},n5.root=function(){return this._root},n5.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},n5.visit=function(e){var t,n,r,i,o,a,l=[],s=this._root;for(s&&l.push(new X2(s,this._x0,this._y0,this._x1,this._y1));t=l.pop();)if(!e(s=t.node,r=t.x0,i=t.y0,o=t.x1,a=t.y1)&&s.length){var c=(r+o)/2,u=(i+a)/2;(n=s[3])&&l.push(new X2(n,c,u,o,a)),(n=s[2])&&l.push(new X2(n,r,u,c,a)),(n=s[1])&&l.push(new X2(n,c,i,o,u)),(n=s[0])&&l.push(new X2(n,r,i,c,u))}return this},n5.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new X2(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var o,a=t.x0,l=t.y0,s=t.x1,c=t.y1,u=(a+s)/2,d=(l+c)/2;(o=i[0])&&n.push(new X2(o,a,l,u,d)),(o=i[1])&&n.push(new X2(o,u,l,s,d)),(o=i[2])&&n.push(new X2(o,a,d,u,c)),(o=i[3])&&n.push(new X2(o,u,d,s,c))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},n5.x=function(e){return arguments.length?(this._x=e,this):this._x},n5.y=function(e){return arguments.length?(this._y=e,this):this._y};var l5={value:()=>{}};function s5(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new c5(r)}function c5(e){this._=e}function u5(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function d5(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=l5,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}c5.prototype=s5.prototype={constructor:c5,on:function(e,t){var n,r=this._,i=function(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}(e+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++o<a;)if(n=(e=i[o]).type)r[n]=d5(r[n],e.name,t);else if(null==t)for(n in r)r[n]=d5(r[n],e.name,null);return this}for(;++o<a;)if((n=(e=i[o]).type)&&(n=u5(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new c5(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};const f5=s5;var h5,p5,m5=0,g5=0,v5=0,y5=1e3,b5=0,x5=0,w5=0,_5="object"===typeof performance&&performance.now?performance:Date,k5="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function E5(){return x5||(k5(S5),x5=_5.now()+w5)}function S5(){x5=0}function C5(){this._call=this._time=this._next=null}function M5(e,t,n){var r=new C5;return r.restart(e,t,n),r}function T5(){x5=(b5=_5.now())+w5,m5=g5=0;try{!function(){E5(),++m5;for(var e,t=h5;t;)(e=x5-t._time)>=0&&t._call.call(void 0,e),t=t._next;--m5}()}finally{m5=0,function(){var e,t,n=h5,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:h5=t);p5=e,D5(r)}(),x5=0}}function A5(){var e=_5.now(),t=e-b5;t>y5&&(w5-=t,b5=e)}function D5(e){m5||(g5&&(g5=clearTimeout(g5)),e-x5>24?(e<1/0&&(g5=setTimeout(T5,e-_5.now()-w5)),v5&&(v5=clearInterval(v5))):(v5||(b5=_5.now(),v5=setInterval(A5,y5)),m5=1,k5(T5)))}C5.prototype=M5.prototype={constructor:C5,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?E5():+n)+(null==t?0:+t),this._next||p5===this||(p5?p5._next=this:h5=this,p5=this),this._call=e,this._time=n,D5()},stop:function(){this._call&&(this._call=null,this._time=1/0,D5())}};const F5=1664525,N5=1013904223,R5=4294967296;function z5(e){return e.x}function P5(e){return e.y}var O5=10,I5=Math.PI*(3-Math.sqrt(5));function L5(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,l=new Map,s=M5(d),c=f5("tick","end"),u=function(){let e=1;return()=>(e=(F5*e+N5)%R5)/R5}();function d(){f(),c.call("tick",t),n<r&&(s.stop(),c.call("end",t))}function f(r){var s,c,u=e.length;void 0===r&&(r=1);for(var d=0;d<r;++d)for(n+=(o-n)*i,l.forEach((function(e){e(n)})),s=0;s<u;++s)null==(c=e[s]).fx?c.x+=c.vx*=a:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=a:(c.y=c.fy,c.vy=0);return t}function h(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var i=O5*Math.sqrt(.5+n),o=n*I5;t.x=i*Math.cos(o),t.y=i*Math.sin(o)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function p(t){return t.initialize&&t.initialize(e,u),t}return null==e&&(e=[]),h(),t={tick:f,restart:function(){return s.restart(d),t},stop:function(){return s.stop(),t},nodes:function(n){return arguments.length?(e=n,h(),l.forEach(p),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(i=+e,t):+i},alphaTarget:function(e){return arguments.length?(o=+e,t):o},velocityDecay:function(e){return arguments.length?(a=1-e,t):1-a},randomSource:function(e){return arguments.length?(u=e,l.forEach(p),t):u},force:function(e,n){return arguments.length>1?(null==n?l.delete(e):l.set(e,p(n)),t):l.get(e)},find:function(t,n,r){var i,o,a,l,s,c=0,u=e.length;for(null==r?r=1/0:r*=r,c=0;c<u;++c)(a=(i=t-(l=e[c]).x)*i+(o=n-l.y)*o)<r&&(s=l,r=a);return s},on:function(e,n){return arguments.length>1?(c.on(e,n),t):c.on(e)}}}function B5(e){return e.index}function j5(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}const U5={center:function(e,t){var n,r=1;function i(){var i,o,a=n.length,l=0,s=0;for(i=0;i<a;++i)l+=(o=n[i]).x,s+=o.y;for(l=(l/a-e)*r,s=(s/a-t)*r,i=0;i<a;++i)(o=n[i]).x-=l,o.y-=s}return null==e&&(e=0),null==t&&(t=0),i.initialize=function(e){n=e},i.x=function(t){return arguments.length?(e=+t,i):e},i.y=function(e){return arguments.length?(t=+e,i):t},i.strength=function(e){return arguments.length?(r=+e,i):r},i},collide:function(e){var t,n,r,i=1,o=1;function a(){for(var e,a,s,c,u,d,f,h=t.length,p=0;p<o;++p)for(a=J2(t,o5,a5).visitAfter(l),e=0;e<h;++e)s=t[e],d=n[s.index],f=d*d,c=s.x+s.vx,u=s.y+s.vy,a.visit(m);function m(e,t,n,o,a){var l=e.data,h=e.r,p=d+h;if(!l)return t>c+p||o<c-p||n>u+p||a<u-p;if(l.index>s.index){var m=c-l.x-l.vx,g=u-l.y-l.vy,v=m*m+g*g;v<p*p&&(0===m&&(v+=(m=i5(r))*m),0===g&&(v+=(g=i5(r))*g),v=(p-(v=Math.sqrt(v)))/v*i,s.vx+=(m*=v)*(p=(h*=h)/(f+h)),s.vy+=(g*=v)*p,l.vx-=m*(p=1-p),l.vy-=g*p)}}}function l(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function s(){if(t){var r,i,o=t.length;for(n=new Array(o),r=0;r<o;++r)i=t[r],n[i.index]=+e(i,r,t)}}return"function"!==typeof e&&(e=r5(null==e?1:+e)),a.initialize=function(e,n){t=e,r=n,s()},a.iterations=function(e){return arguments.length?(o=+e,a):o},a.strength=function(e){return arguments.length?(i=+e,a):i},a.radius=function(t){return arguments.length?(e="function"===typeof t?t:r5(+t),s(),a):e},a},nbody:function(){var e,t,n,r,i,o=r5(-30),a=1,l=1/0,s=.81;function c(n){var i,o=e.length,a=J2(e,z5,P5).visitAfter(d);for(r=n,i=0;i<o;++i)t=e[i],a.visit(f)}function u(){if(e){var t,n,r=e.length;for(i=new Array(r),t=0;t<r;++t)n=e[t],i[n.index]=+o(n,t,e)}}function d(e){var t,n,r,o,a,l=0,s=0;if(e.length){for(r=o=a=0;a<4;++a)(t=e[a])&&(n=Math.abs(t.value))&&(l+=t.value,s+=n,r+=n*t.x,o+=n*t.y);e.x=r/s,e.y=o/s}else{(t=e).x=t.data.x,t.y=t.data.y;do{l+=i[t.data.index]}while(t=t.next)}e.value=l}function f(e,o,c,u){if(!e.value)return!0;var d=e.x-t.x,f=e.y-t.y,h=u-o,p=d*d+f*f;if(h*h/s<p)return p<l&&(0===d&&(p+=(d=i5(n))*d),0===f&&(p+=(f=i5(n))*f),p<a&&(p=Math.sqrt(a*p)),t.vx+=d*e.value*r/p,t.vy+=f*e.value*r/p),!0;if(!(e.length||p>=l)){(e.data!==t||e.next)&&(0===d&&(p+=(d=i5(n))*d),0===f&&(p+=(f=i5(n))*f),p<a&&(p=Math.sqrt(a*p)));do{e.data!==t&&(h=i[e.data.index]*r/p,t.vx+=d*h,t.vy+=f*h)}while(e=e.next)}}return c.initialize=function(t,r){e=t,n=r,u()},c.strength=function(e){return arguments.length?(o="function"===typeof e?e:r5(+e),u(),c):o},c.distanceMin=function(e){return arguments.length?(a=e*e,c):Math.sqrt(a)},c.distanceMax=function(e){return arguments.length?(l=e*e,c):Math.sqrt(l)},c.theta=function(e){return arguments.length?(s=e*e,c):Math.sqrt(s)},c},link:function(e){var t,n,r,i,o,a,l=B5,s=function(e){return 1/Math.min(i[e.source.index],i[e.target.index])},c=r5(30),u=1;function d(r){for(var i=0,l=e.length;i<u;++i)for(var s,c,d,f,h,p,m,g=0;g<l;++g)c=(s=e[g]).source,f=(d=s.target).x+d.vx-c.x-c.vx||i5(a),h=d.y+d.vy-c.y-c.vy||i5(a),f*=p=((p=Math.sqrt(f*f+h*h))-n[g])/p*r*t[g],h*=p,d.vx-=f*(m=o[g]),d.vy-=h*m,c.vx+=f*(m=1-m),c.vy+=h*m}function f(){if(r){var a,s,c=r.length,u=e.length,d=new Map(r.map(((e,t)=>[l(e,t,r),e])));for(a=0,i=new Array(c);a<u;++a)(s=e[a]).index=a,"object"!==typeof s.source&&(s.source=j5(d,s.source)),"object"!==typeof s.target&&(s.target=j5(d,s.target)),i[s.source.index]=(i[s.source.index]||0)+1,i[s.target.index]=(i[s.target.index]||0)+1;for(a=0,o=new Array(u);a<u;++a)s=e[a],o[a]=i[s.source.index]/(i[s.source.index]+i[s.target.index]);t=new Array(u),h(),n=new Array(u),p()}}function h(){if(r)for(var n=0,i=e.length;n<i;++n)t[n]=+s(e[n],n,e)}function p(){if(r)for(var t=0,i=e.length;t<i;++t)n[t]=+c(e[t],t,e)}return null==e&&(e=[]),d.initialize=function(e,t){r=e,a=t,f()},d.links=function(t){return arguments.length?(e=t,f(),d):e},d.id=function(e){return arguments.length?(l=e,d):l},d.iterations=function(e){return arguments.length?(u=+e,d):u},d.strength=function(e){return arguments.length?(s="function"===typeof e?e:r5(+e),h(),d):s},d.distance=function(e){return arguments.length?(c="function"===typeof e?e:r5(+e),p(),d):c},d},x:function(e){var t,n,r,i=r5(.1);function o(e){for(var i,o=0,a=t.length;o<a;++o)(i=t[o]).vx+=(r[o]-i.x)*n[o]*e}function a(){if(t){var o,a=t.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+e(t[o],o,t))?0:+i(t[o],o,t)}}return"function"!==typeof e&&(e=r5(null==e?0:+e)),o.initialize=function(e){t=e,a()},o.strength=function(e){return arguments.length?(i="function"===typeof e?e:r5(+e),a(),o):i},o.x=function(t){return arguments.length?(e="function"===typeof t?t:r5(+t),a(),o):e},o},y:function(e){var t,n,r,i=r5(.1);function o(e){for(var i,o=0,a=t.length;o<a;++o)(i=t[o]).vy+=(r[o]-i.y)*n[o]*e}function a(){if(t){var o,a=t.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+e(t[o],o,t))?0:+i(t[o],o,t)}}return"function"!==typeof e&&(e=r5(null==e?0:+e)),o.initialize=function(e){t=e,a()},o.strength=function(e){return arguments.length?(i="function"===typeof e?e:r5(+e),a(),o):i},o.y=function(t){return arguments.length?(e="function"===typeof t?t:r5(+t),a(),o):e},o}},K5="forces",W5=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],q5=["static","iterations"],H5=["x","y","vx","vy"];function V5(e){_I.call(this,null,e)}function G5(e,t,n,r){var i,o,a,l,s=YD(t.forces);for(i=0,o=W5.length;i<o;++i)(a=W5[i])!==K5&&t.modified(a)&&e[a](t[a]);for(i=0,o=s.length;i<o;++i)l=K5+i,(a=n||t.modified(K5,i)?Q5(s[i]):r&&Y5(s[i],r)?e.force(l):null)&&e.force(l,a);for(o=e.numForces||0;i<o;++i)e.force(K5+i,null);return e.numForces=s.length,e}function Y5(e,t){var n,r;for(n in e)if(XD(r=e[n])&&t.modified(rD(r)))return 1;return 0}function Q5(e){var t,n;for(n in cF(U5,e.force)||lD("Unrecognized force: "+e.force),t=U5[e.force](),e)XD(t[n])&&X5(t[n],e[n],e);return t}function X5(e,t,n){e(XD(t)?e=>t(e,n):t)}function $5(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}function Z5(e,t){e instanceof Map?(e=[void 0,e],void 0===t&&(t=e3)):void 0===t&&(t=J5);for(var n,r,i,o,a,l=new r3(e),s=[l];n=s.pop();)if((i=t(n.data))&&(a=(i=Array.from(i)).length))for(n.children=i,o=a-1;o>=0;--o)s.push(r=i[o]=new r3(i[o])),r.parent=n,r.depth=n.depth+1;return l.eachBefore(n3)}function J5(e){return e.children}function e3(e){return Array.isArray(e)?e[1]:null}function t3(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function n3(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function r3(e){this.data=e,this.depth=this.height=0,this.parent=null}function i3(e){return null==e?null:o3(e)}function o3(e){if("function"!==typeof e)throw new Error;return e}function a3(){return 0}function l3(e){return function(){return e}}V5.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30,expr:!0},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:H5}]},hF(V5,_I,{transform(e,t){var n,r,i=this.value,o=t.changed(t.ADD_REM),a=e.modified(W5),l=e.iterations||300;if(i?(o&&(t.modifies("index"),i.nodes(t.source)),(a||t.changed(t.MOD))&&G5(i,e,0,t)):(this.value=i=function(e,t){const n=L5(e),r=n.stop,i=n.restart;let o=!1;return n.stopped=()=>o,n.restart=()=>(o=!1,i()),n.stop=()=>(o=!0,r()),G5(n,t,!0).on("end",(()=>o=!0))}(t.source,e),i.on("tick",(n=t.dataflow,r=this,()=>n.touch(r).run())),e.static||(o=!0,i.tick()),t.modifies("index")),a||o||e.modified(q5)||t.changed()&&e.restart)if(i.alpha(Math.max(i.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(i.alphaMin(),1/l)),e.static)for(i.stop();--l>=0;)i.tick();else if(i.stopped()&&i.restart(),!o)return t.StopPropagation;return this.finish(e,t)},finish(e,t){const n=t.dataflow;for(let l,s=this._argops,c=0,u=s.length;c<u;++c)if(l=s[c],l.name===K5&&"link"===l.op._argval.force)for(var r,i=l.op._argops,o=0,a=i.length;o<a;++o)if("links"===i[o].name&&(r=i[o].op.source)){n.pulse(r,n.changeset().reflow());break}return t.reflow(e.modified()).modifies(H5)}}),r3.prototype=Z5.prototype={constructor:r3,count:function(){return this.eachAfter($5)},each:function(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this},eachAfter:function(e,t){for(var n,r,i,o=this,a=[o],l=[],s=-1;o=a.pop();)if(l.push(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r]);for(;o=l.pop();)e.call(t,o,++s,this);return this},eachBefore:function(e,t){for(var n,r,i=this,o=[i],a=-1;i=o.pop();)if(e.call(t,i,++a,this),n=i.children)for(r=n.length-1;r>=0;--r)o.push(n[r]);return this},find:function(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r},sum:function(e){return this.eachAfter((function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n}))},sort:function(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;e=n.pop(),t=r.pop();for(;e===t;)i=e,e=n.pop(),t=r.pop();return i}(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){return Array.from(this)},leaves:function(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e},links:function(){var e=this,t=[];return e.each((function(n){n!==e&&t.push({source:n.parent,target:n})})),t},copy:function(){return Z5(this).eachBefore(t3)},[Symbol.iterator]:function*(){var e,t,n,r,i=this,o=[i];do{for(e=o.reverse(),o=[];i=e.pop();)if(yield i,t=i.children)for(n=0,r=t.length;n<r;++n)o.push(t[n])}while(o.length)}};const s3=1664525,c3=1013904223,u3=4294967296;function d3(e,t){for(var n,r,i=0,o=(e=function(e,t){let n,r,i=e.length;for(;i;)r=t()*i--|0,n=e[i],e[i]=e[r],e[r]=n;return e}(Array.from(e),t)).length,a=[];i<o;)n=e[i],r&&p3(r,n)?++i:(r=g3(a=f3(a,n)),i=0);return r}function f3(e,t){var n,r;if(m3(t,e))return[t];for(n=0;n<e.length;++n)if(h3(t,e[n])&&m3(v3(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(h3(v3(e[n],e[r]),t)&&h3(v3(e[n],t),e[r])&&h3(v3(e[r],t),e[n])&&m3(y3(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function h3(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function p3(e,t){var n=e.r-t.r+1e-9*Math.max(e.r,t.r,1),r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function m3(e,t){for(var n=0;n<t.length;++n)if(!p3(e,t[n]))return!1;return!0}function g3(e){switch(e.length){case 1:return function(e){return{x:e.x,y:e.y,r:e.r}}(e[0]);case 2:return v3(e[0],e[1]);case 3:return y3(e[0],e[1],e[2])}}function v3(e,t){var n=e.x,r=e.y,i=e.r,o=t.x,a=t.y,l=t.r,s=o-n,c=a-r,u=l-i,d=Math.sqrt(s*s+c*c);return{x:(n+o+s/d*u)/2,y:(r+a+c/d*u)/2,r:(d+i+l)/2}}function y3(e,t,n){var r=e.x,i=e.y,o=e.r,a=t.x,l=t.y,s=t.r,c=n.x,u=n.y,d=n.r,f=r-a,h=r-c,p=i-l,m=i-u,g=s-o,v=d-o,y=r*r+i*i-o*o,b=y-a*a-l*l+s*s,x=y-c*c-u*u+d*d,w=h*p-f*m,_=(p*x-m*b)/(2*w)-r,k=(m*g-p*v)/w,E=(h*b-f*x)/(2*w)-i,S=(f*v-h*g)/w,C=k*k+S*S-1,M=2*(o+_*k+E*S),T=_*_+E*E-o*o,A=-(Math.abs(C)>1e-6?(M+Math.sqrt(M*M-4*C*T))/(2*C):T/M);return{x:r+_+k*A,y:i+E+S*A,r:A}}function b3(e,t,n){var r,i,o,a,l=e.x-t.x,s=e.y-t.y,c=l*l+s*s;c?(i=t.r+n.r,i*=i,a=e.r+n.r,i>(a*=a)?(r=(c+a-i)/(2*c),o=Math.sqrt(Math.max(0,a/c-r*r)),n.x=e.x-r*l-o*s,n.y=e.y-r*s+o*l):(r=(c+i-a)/(2*c),o=Math.sqrt(Math.max(0,i/c-r*r)),n.x=t.x+r*l-o*s,n.y=t.y+r*s+o*l)):(n.x=t.x+n.r,n.y=t.y)}function x3(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function w3(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,o=(t.y*n.r+n.y*t.r)/r;return i*i+o*o}function _3(e){this._=e,this.next=null,this.previous=null}function k3(e,t){if(!(o=(e=function(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}(e)).length))return 0;var n,r,i,o,a,l,s,c,u,d,f;if((n=e[0]).x=0,n.y=0,!(o>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(o>2))return n.r+r.r;b3(r,n,i=e[2]),n=new _3(n),r=new _3(r),i=new _3(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(s=3;s<o;++s){b3(n._,r._,i=e[s]),i=new _3(i),c=r.next,u=n.previous,d=r._.r,f=n._.r;do{if(d<=f){if(x3(c._,i._)){r=c,n.next=r,r.previous=n,--s;continue e}d+=c._.r,c=c.next}else{if(x3(u._,i._)){(n=u).next=r,r.previous=n,--s;continue e}f+=u._.r,u=u.previous}}while(c!==u.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,a=w3(n);(i=i.next)!==r;)(l=w3(i))<a&&(n=i,a=l);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=d3(n,t),s=0;s<o;++s)(n=e[s]).x-=i.x,n.y-=i.y;return i.r}function E3(e){return Math.sqrt(e.value)}function S3(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function C3(e,t,n){return function(r){if(i=r.children){var i,o,a,l=i.length,s=e(r)*t||0;if(s)for(o=0;o<l;++o)i[o].r+=s;if(a=k3(i,n),s)for(o=0;o<l;++o)i[o].r-=s;r.r=a+s}}}function M3(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function T3(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function A3(e,t,n,r,i){for(var o,a=e.children,l=-1,s=a.length,c=e.value&&(r-t)/e.value;++l<s;)(o=a[l]).y0=n,o.y1=i,o.x0=t,o.x1=t+=o.value*c}var D3={depth:-1},F3={},N3={};function R3(e){return e.id}function z3(e){return e.parentId}function P3(){var e,t=R3,n=z3;function r(r){var i,o,a,l,s,c,u,d,f=Array.from(r),h=t,p=n,m=new Map;if(null!=e){const t=f.map(((t,n)=>function(e){e="".concat(e);let t=e.length;I3(e,t-1)&&!I3(e,t-2)&&(e=e.slice(0,-1));return"/"===e[0]?e:"/".concat(e)}(e(t,n,r)))),n=t.map(O3),i=new Set(t).add("");for(const e of n)i.has(e)||(i.add(e),t.push(e),n.push(O3(e)),f.push(N3));h=(e,n)=>t[n],p=(e,t)=>n[t]}for(a=0,i=f.length;a<i;++a)o=f[a],c=f[a]=new r3(o),null!=(u=h(o,a,r))&&(u+="")&&(d=c.id=u,m.set(d,m.has(d)?F3:c)),null!=(u=p(o,a,r))&&(u+="")&&(c.parent=u);for(a=0;a<i;++a)if(u=(c=f[a]).parent){if(!(s=m.get(u)))throw new Error("missing: "+u);if(s===F3)throw new Error("ambiguous: "+u);s.children?s.children.push(c):s.children=[c],c.parent=s}else{if(l)throw new Error("multiple roots");l=c}if(!l)throw new Error("no root");if(null!=e){for(;l.data===N3&&1===l.children.length;)l=l.children[0],--i;for(let e=f.length-1;e>=0&&(c=f[e]).data===N3;--e)c.data=null}if(l.parent=D3,l.eachBefore((function(e){e.depth=e.parent.depth+1,--i})).eachBefore(n3),l.parent=null,i>0)throw new Error("cycle");return l}return r.id=function(e){return arguments.length?(t=i3(e),r):t},r.parentId=function(e){return arguments.length?(n=i3(e),r):n},r.path=function(t){return arguments.length?(e=i3(t),r):e},r}function O3(e){let t=e.length;if(t<2)return"";for(;--t>1&&!I3(e,t););return e.slice(0,t)}function I3(e,t){if("/"===e[t]){let n=0;for(;t>0&&"\\"===e[--t];)++n;if(0===(1&n))return!0}return!1}function L3(e,t){return e.parent===t.parent?1:2}function B3(e){var t=e.children;return t?t[0]:e.t}function j3(e){var t=e.children;return t?t[t.length-1]:e.t}function U3(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function K3(e,t,n){return e.a.parent===t.parent?e.a:n}function W3(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function q3(e,t){return e.parent===t.parent?1:2}function H3(e,t){return e+t.x}function V3(e,t){return Math.max(e,t.y)}function G3(e,t,n,r,i){for(var o,a=e.children,l=-1,s=a.length,c=e.value&&(i-n)/e.value;++l<s;)(o=a[l]).x0=t,o.x1=r,o.y0=n,o.y1=n+=o.value*c}W3.prototype=Object.create(r3.prototype);var Y3=(1+Math.sqrt(5))/2;function Q3(e,t,n,r,i,o){for(var a,l,s,c,u,d,f,h,p,m,g,v=[],y=t.children,b=0,x=0,w=y.length,_=t.value;b<w;){s=i-n,c=o-r;do{u=y[x++].value}while(!u&&x<w);for(d=f=u,g=u*u*(m=Math.max(c/s,s/c)/(_*e)),p=Math.max(f/g,g/d);x<w;++x){if(u+=l=y[x].value,l<d&&(d=l),l>f&&(f=l),g=u*u*m,(h=Math.max(f/g,g/d))>p){u-=l;break}p=h}v.push(a={value:u,dice:s<c,children:y.slice(b,x)}),a.dice?A3(a,n,r,i,_?r+=c*u/_:o):G3(a,n,r,_?n+=s*u/_:i,o),_-=u,b=x}return v}const X3=function e(t){function n(e,n,r,i,o){Q3(t,e,n,r,i,o)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(Y3),$3=function e(t){function n(e,n,r,i,o){if((a=e._squarify)&&a.ratio===t)for(var a,l,s,c,u,d=-1,f=a.length,h=e.value;++d<f;){for(s=(l=a[d]).children,c=l.value=0,u=s.length;c<u;++c)l.value+=s[c].value;l.dice?A3(l,n,r,i,h?r+=(o-r)*l.value/h:o):G3(l,n,r,h?n+=(i-n)*l.value/h:i,o),h-=l.value}else e._squarify=a=Q3(t,e,n,r,i,o),a.ratio=t}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(Y3);function Z3(e,t,n){const r={};return e.each((e=>{const i=e.data;n(i)&&(r[t(i)]=e)})),e.lookup=r,e}function J3(e){_I.call(this,null,e)}J3.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const e4=e=>e.values;function t4(){const e=[],t={entries:e=>r(n(e,0),0),key:n=>(e.push(n),t)};function n(t,r){if(r>=e.length)return t;const i=t.length,o=e[r++],a={},l={};let s,c,u,d=-1;for(;++d<i;)s=o(c=t[d])+"",(u=a[s])?u.push(c):a[s]=[c];for(s in a)l[s]=n(a[s],r);return l}function r(t,n){if(++n>e.length)return t;const i=[];for(const e in t)i.push({key:e,values:r(t[e],n)});return i}return t}function n4(e){_I.call(this,null,e)}hF(J3,_I,{transform(e,t){t.source||lD("Nest transform requires an upstream data source.");var n=e.generate,r=e.modified(),i=t.clone(),o=this.value;return(!o||r||t.changed())&&(o&&o.each((e=>{e.children&&KO(e.data)&&i.rem.push(e.data)})),this.value=o=Z5({values:YD(e.keys).reduce(((e,t)=>(e.key(t),e)),t4()).entries(i.source)},e4),n&&o.each((e=>{e.children&&(e=HO(e.data),i.add.push(e),i.source.push(e))})),Z3(o,WO,WO)),i.source.root=o,i}});const r4=(e,t)=>e.parent===t.parent?1:2;hF(n4,_I,{transform(e,t){t.source&&t.source.root||lD(this.constructor.name+" transform requires a backing tree data source.");const n=this.layout(e.method),r=this.fields,i=t.source.root,o=e.as||r;e.field?i.sum(e.field):i.count(),e.sort&&i.sort(QO(e.sort,(e=>e.data))),function(e,t,n){for(let r,i=0,o=t.length;i<o;++i)r=t[i],r in n&&e[r](n[r])}(n,this.params,e),n.separation&&n.separation(!1!==e.separation?r4:hD);try{this.value=n(i)}catch(a){lD(a)}return i.each((e=>function(e,t,n){const r=e.data,i=t.length-1;for(let o=0;o<i;++o)r[n[o]]=e[t[o]];r[n[i]]=e.children?e.children.length:0}(e,r,o))),t.reflow(e.modified()).modifies(o).modifies("leaf")}});const i4=["x","y","r","depth","children"];function o4(e){n4.call(this,e)}o4.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:i4.length,default:i4}]},hF(o4,n4,{layout:function(){var e=null,t=1,n=1,r=a3;function i(i){const o=function(){let e=1;return()=>(e=(s3*e+c3)%u3)/u3}();return i.x=t/2,i.y=n/2,e?i.eachBefore(S3(e)).eachAfter(C3(r,.5,o)).eachBefore(M3(1)):i.eachBefore(S3(E3)).eachAfter(C3(a3,1,o)).eachAfter(C3(r,i.r/Math.min(t,n),o)).eachBefore(M3(Math.min(t,n)/(2*i.r))),i}return i.radius=function(t){return arguments.length?(e=i3(t),i):e},i.size=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.padding=function(e){return arguments.length?(r="function"===typeof e?e:l3(+e),i):r},i},params:["radius","size","padding"],fields:i4});const a4=["x0","y0","x1","y1","depth","children"];function l4(e){n4.call(this,e)}function s4(e){_I.call(this,null,e)}l4.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:a4.length,default:a4}]},hF(l4,n4,{layout:function(){var e=1,t=1,n=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=n,i.x1=e,i.y1=t/o,i.eachBefore(function(e,t){return function(r){r.children&&A3(r,r.x0,e*(r.depth+1)/t,r.x1,e*(r.depth+2)/t);var i=r.x0,o=r.y0,a=r.x1-n,l=r.y1-n;a<i&&(i=a=(i+a)/2),l<o&&(o=l=(o+l)/2),r.x0=i,r.y0=o,r.x1=a,r.y1=l}}(t,o)),r&&i.eachBefore(T3),i}return i.round=function(e){return arguments.length?(r=!!e,i):r},i.size=function(n){return arguments.length?(e=+n[0],t=+n[1],i):[e,t]},i.padding=function(e){return arguments.length?(n=+e,i):n},i},params:["size","round","padding"],fields:a4}),s4.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]},hF(s4,_I,{transform(e,t){t.source||lD("Stratify transform requires an upstream data source.");let n=this.value;const r=e.modified(),i=t.fork(t.ALL).materialize(t.SOURCE),o=!n||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return i.source=i.source.slice(),o&&(n=i.source.length?Z3(P3().id(e.key).parentId(e.parentKey)(i.source),e.key,pD):Z3(P3()([{}]),e.key,e.key)),i.source.root=this.value=n,i}});const c4={tidy:function(){var e=L3,t=1,n=1,r=null;function i(i){var s=function(e){for(var t,n,r,i,o,a=new W3(e,0),l=[a];t=l.pop();)if(r=t._.children)for(t.children=new Array(o=r.length),i=o-1;i>=0;--i)l.push(n=t.children[i]=new W3(r[i],i)),n.parent=t;return(a.parent=new W3(null,0)).children=[a],a}(i);if(s.eachAfter(o),s.parent.m=-s.z,s.eachBefore(a),r)i.eachBefore(l);else{var c=i,u=i,d=i;i.eachBefore((function(e){e.x<c.x&&(c=e),e.x>u.x&&(u=e),e.depth>d.depth&&(d=e)}));var f=c===u?1:e(c,u)/2,h=f-c.x,p=t/(u.x+f+h),m=n/(d.depth||1);i.eachBefore((function(e){e.x=(e.x+h)*p,e.y=e.depth*m}))}return i}function o(t){var n=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(n){!function(e){for(var t,n=0,r=0,i=e.children,o=i.length;--o>=0;)(t=i[o]).z+=n,t.m+=n,n+=t.s+(r+=t.c)}(t);var o=(n[0].z+n[n.length-1].z)/2;i?(t.z=i.z+e(t._,i._),t.m=t.z-o):t.z=o}else i&&(t.z=i.z+e(t._,i._));t.parent.A=function(t,n,r){if(n){for(var i,o=t,a=t,l=n,s=o.parent.children[0],c=o.m,u=a.m,d=l.m,f=s.m;l=j3(l),o=B3(o),l&&o;)s=B3(s),(a=j3(a)).a=t,(i=l.z+d-o.z-c+e(l._,o._))>0&&(U3(K3(l,t,r),t,i),c+=i,u+=i),d+=l.m,c+=o.m,f+=s.m,u+=a.m;l&&!j3(a)&&(a.t=l,a.m+=d-u),o&&!B3(s)&&(s.t=o,s.m+=c-f,r=t)}return r}(t,i,t.parent.A||r[0])}function a(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function l(e){e.x*=t,e.y=e.depth*n}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],i):r?null:[t,n]},i.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],i):r?[t,n]:null},i},cluster:function(){var e=q3,t=1,n=1,r=!1;function i(i){var o,a=0;i.eachAfter((function(t){var n=t.children;n?(t.x=function(e){return e.reduce(H3,0)/e.length}(n),t.y=function(e){return 1+e.reduce(V3,0)}(n)):(t.x=o?a+=e(t,o):0,t.y=0,o=t)}));var l=function(e){for(var t;t=e.children;)e=t[0];return e}(i),s=function(e){for(var t;t=e.children;)e=t[t.length-1];return e}(i),c=l.x-e(l,s)/2,u=s.x+e(s,l)/2;return i.eachAfter(r?function(e){e.x=(e.x-i.x)*t,e.y=(i.y-e.y)*n}:function(e){e.x=(e.x-c)/(u-c)*t,e.y=(1-(i.y?e.y/i.y:1))*n})}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],i):r?null:[t,n]},i.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],i):r?[t,n]:null},i}},u4=["x","y","depth","children"];function d4(e){n4.call(this,e)}function f4(e){_I.call(this,[],e)}d4.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:u4.length,default:u4}]},hF(d4,n4,{layout(e){const t=e||"tidy";if(cF(c4,t))return c4[t]();lD("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:u4}),f4.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]},hF(f4,_I,{transform(e,t){const n=this.value,r=t.source&&t.source.root,i=t.fork(t.NO_SOURCE),o={};return r||lD("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(i.rem=n,t.visit(t.SOURCE,(e=>o[WO(e)]=1)),r.each((e=>{const t=e.data,n=e.parent&&e.parent.data;n&&o[WO(t)]&&o[WO(n)]&&i.add.push(HO({source:n,target:t}))})),this.value=i.add):t.changed(t.MOD)&&(t.visit(t.MOD,(e=>o[WO(e)]=1)),n.forEach((e=>{(o[WO(e.source)]||o[WO(e.target)])&&i.mod.push(e)}))),i}});const h4={binary:function(e,t,n,r,i){var o,a,l=e.children,s=l.length,c=new Array(s+1);for(c[0]=a=o=0;o<s;++o)c[o+1]=a+=l[o].value;!function e(t,n,r,i,o,a,s){if(t>=n-1){var u=l[t];return u.x0=i,u.y0=o,u.x1=a,void(u.y1=s)}var d=c[t],f=r/2+d,h=t+1,p=n-1;for(;h<p;){var m=h+p>>>1;c[m]<f?h=m+1:p=m}f-c[h-1]<c[h]-f&&t+1<h&&--h;var g=c[h]-d,v=r-g;if(a-i>s-o){var y=r?(i*v+a*g)/r:a;e(t,h,g,i,o,y,s),e(h,n,v,y,o,a,s)}else{var b=r?(o*v+s*g)/r:s;e(t,h,g,i,o,a,b),e(h,n,v,i,b,a,s)}}(0,s,e.value,t,n,r,i)},dice:A3,slice:G3,slicedice:function(e,t,n,r,i){(1&e.depth?G3:A3)(e,t,n,r,i)},squarify:X3,resquarify:$3},p4=["x0","y0","x1","y1","depth","children"];function m4(e){n4.call(this,e)}m4.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:p4.length,default:p4}]},hF(m4,n4,{layout(){const e=function(){var e=X3,t=!1,n=1,r=1,i=[0],o=a3,a=a3,l=a3,s=a3,c=a3;function u(e){return e.x0=e.y0=0,e.x1=n,e.y1=r,e.eachBefore(d),i=[0],t&&e.eachBefore(T3),e}function d(t){var n=i[t.depth],r=t.x0+n,u=t.y0+n,d=t.x1-n,f=t.y1-n;d<r&&(r=d=(r+d)/2),f<u&&(u=f=(u+f)/2),t.x0=r,t.y0=u,t.x1=d,t.y1=f,t.children&&(n=i[t.depth+1]=o(t)/2,r+=c(t)-n,u+=a(t)-n,(d-=l(t)-n)<r&&(r=d=(r+d)/2),(f-=s(t)-n)<u&&(u=f=(u+f)/2),e(t,r,u,d,f))}return u.round=function(e){return arguments.length?(t=!!e,u):t},u.size=function(e){return arguments.length?(n=+e[0],r=+e[1],u):[n,r]},u.tile=function(t){return arguments.length?(e=o3(t),u):e},u.padding=function(e){return arguments.length?u.paddingInner(e).paddingOuter(e):u.paddingInner()},u.paddingInner=function(e){return arguments.length?(o="function"===typeof e?e:l3(+e),u):o},u.paddingOuter=function(e){return arguments.length?u.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):u.paddingTop()},u.paddingTop=function(e){return arguments.length?(a="function"===typeof e?e:l3(+e),u):a},u.paddingRight=function(e){return arguments.length?(l="function"===typeof e?e:l3(+e),u):l},u.paddingBottom=function(e){return arguments.length?(s="function"===typeof e?e:l3(+e),u):s},u.paddingLeft=function(e){return arguments.length?(c="function"===typeof e?e:l3(+e),u):c},u}();return e.ratio=t=>{const n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=t=>{cF(h4,t)?e.tile(h4[t]):lD("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:p4});const g4=4278190080;function v4(e,t,n){return new Uint32Array(e.getImageData(0,0,t,n).data.buffer)}function y4(e,t,n){if(!t.length)return;const r=t[0].mark.marktype;"group"===r?t.forEach((t=>{t.items.forEach((t=>y4(e,t.items,n)))})):rQ[r].draw(e,{items:n?t.map(b4):t})}function b4(e){const t=GO(e,{});return t.stroke&&0!==t.strokeOpacity||t.fill&&0!==t.fillOpacity?{...t,strokeOpacity:1,stroke:"#000",fillOpacity:0}:t}const x4=5,w4=31,_4=32,k4=new Uint32Array(_4+1),E4=new Uint32Array(_4+1);E4[0]=0,k4[0]=~E4[0];for(let n=1;n<=_4;++n)E4[n]=E4[n-1]<<1|1,k4[n]=~E4[n];function S4(e,t,n){const r=Math.max(1,Math.sqrt(e*t/1e6)),i=~~((e+2*n+r)/r),o=~~((t+2*n+r)/r),a=e=>~~((e+n)/r);return a.invert=e=>e*r-n,a.bitmap=()=>function(e,t){const n=new Uint32Array(~~((e*t+_4)/_4));function r(e,t){n[e]|=t}function i(e,t){n[e]&=t}return{array:n,get:(t,r)=>{const i=r*e+t;return n[i>>>x4]&1<<(i&w4)},set:(t,n)=>{const i=n*e+t;r(i>>>x4,1<<(i&w4))},clear:(t,n)=>{const r=n*e+t;i(r>>>x4,~(1<<(r&w4)))},getRange:(t,r,i,o)=>{let a,l,s,c,u=o;for(;u>=r;--u)if(a=u*e+t,l=u*e+i,s=a>>>x4,c=l>>>x4,s===c){if(n[s]&k4[a&w4]&E4[1+(l&w4)])return!0}else{if(n[s]&k4[a&w4])return!0;if(n[c]&E4[1+(l&w4)])return!0;for(let e=s+1;e<c;++e)if(n[e])return!0}return!1},setRange:(t,n,i,o)=>{let a,l,s,c,u;for(;n<=o;++n)if(a=n*e+t,l=n*e+i,s=a>>>x4,c=l>>>x4,s===c)r(s,k4[a&w4]&E4[1+(l&w4)]);else for(r(s,k4[a&w4]),r(c,E4[1+(l&w4)]),u=s+1;u<c;++u)r(u,4294967295)},clearRange:(t,n,r,o)=>{let a,l,s,c,u;for(;n<=o;++n)if(a=n*e+t,l=n*e+r,s=a>>>x4,c=l>>>x4,s===c)i(s,E4[a&w4]|k4[1+(l&w4)]);else for(i(s,E4[a&w4]),i(c,k4[1+(l&w4)]),u=s+1;u<c;++u)i(u,0)},outOfBounds:(n,r,i,o)=>n<0||r<0||o>=t||i>=e}}(i,o),a.ratio=r,a.padding=n,a.width=e,a.height=t,a}function C4(e,t,n,r,i,o){let a=n/2;return e-a<0||e+a>i||t-(a=r/2)<0||t+a>o}function M4(e,t,n,r,i,o,a,l){const s=i*o/(2*r),c=e(t-s),u=e(t+s),d=e(n-(o/=2)),f=e(n+o);return a.outOfBounds(c,d,u,f)||a.getRange(c,d,u,f)||l&&l.getRange(c,d,u,f)}const T4=[-1,-1,1,1],A4=[-1,1,-1,1];const D4=["right","center","left"],F4=["bottom","middle","top"];function N4(e,t,n,r,i,o,a,l,s,c,u,d){return!(i.outOfBounds(e,n,t,r)||(d&&o||i).getRange(e,n,t,r))}const R4={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},z4={naive:function(e,t,n,r){const i=e.width,o=e.height;return function(e){const t=e.datum.datum.items[r].items,n=t.length,a=e.datum.fontSize,l=IY.width(e.datum,e.datum.text);let s,c,u,d,f,h,p,m=0;for(let r=0;r<n;++r)s=t[r].x,u=t[r].y,c=void 0===t[r].x2?s:t[r].x2,d=void 0===t[r].y2?u:t[r].y2,f=(s+c)/2,h=(u+d)/2,p=Math.abs(c-s+d-u),p>=m&&(m=p,e.x=f,e.y=h);return f=l/2,h=a/2,s=e.x-f,c=e.x+f,u=e.y-h,d=e.y+h,e.align="center",s<0&&c<=i?e.align="left":0<=s&&i<c&&(e.align="right"),e.baseline="middle",u<0&&d<=o?e.baseline="top":0<=u&&o<d&&(e.baseline="bottom"),!0}},"reduced-search":function(e,t,n,r){const i=e.width,o=e.height,a=t[0],l=t[1];function s(t,n,r,s,c){const u=e.invert(t),d=e.invert(n);let f,h=r,p=o;if(!C4(u,d,s,c,i,o)&&!M4(e,u,d,c,s,h,a,l)&&!M4(e,u,d,c,s,c,a,null)){for(;p-h>=1;)f=(h+p)/2,M4(e,u,d,c,s,f,a,l)?p=f:h=f;if(h>r)return[u,d,h,!0]}}return function(t){const l=t.datum.datum.items[r].items,c=l.length,u=t.datum.fontSize,d=IY.width(t.datum,t.datum.text);let f,h,p,m,g,v,y,b,x,w,_,k,E,S,C,M,T,A=n?u:0,D=!1,F=!1,N=0;for(let r=0;r<c;++r){for(f=l[r].x,p=l[r].y,h=void 0===l[r].x2?f:l[r].x2,m=void 0===l[r].y2?p:l[r].y2,f>h&&(T=f,f=h,h=T),p>m&&(T=p,p=m,m=T),x=e(f),_=e(h),w=~~((x+_)/2),k=e(p),S=e(m),E=~~((k+S)/2),y=w;y>=x;--y)for(b=E;b>=k;--b)M=s(y,b,A,d,u),M&&([t.x,t.y,A,D]=M);for(y=w;y<=_;++y)for(b=E;b<=S;++b)M=s(y,b,A,d,u),M&&([t.x,t.y,A,D]=M);D||n||(C=Math.abs(h-f+m-p),g=(f+h)/2,v=(p+m)/2,C>=N&&!C4(g,v,d,u,i,o)&&!M4(e,g,v,u,d,u,a,null)&&(N=C,t.x=g,t.y=v,F=!0))}return!(!D&&!F)&&(g=d/2,v=u/2,a.setRange(e(t.x-g),e(t.y-v),e(t.x+g),e(t.y+v)),t.align="center",t.baseline="middle",!0)}},floodfill:function(e,t,n,r){const i=e.width,o=e.height,a=t[0],l=t[1],s=e.bitmap();return function(t){const c=t.datum.datum.items[r].items,u=c.length,d=t.datum.fontSize,f=IY.width(t.datum,t.datum.text),h=[];let p,m,g,v,y,b,x,w,_,k,E,S,C=n?d:0,M=!1,T=!1,A=0;for(let r=0;r<u;++r){for(p=c[r].x,g=c[r].y,m=void 0===c[r].x2?p:c[r].x2,v=void 0===c[r].y2?g:c[r].y2,h.push([e((p+m)/2),e((g+v)/2)]);h.length;)if([x,w]=h.pop(),!(a.get(x,w)||l.get(x,w)||s.get(x,w))){s.set(x,w);for(let e=0;e<4;++e)y=x+T4[e],b=w+A4[e],s.outOfBounds(y,b,y,b)||h.push([y,b]);if(y=e.invert(x),b=e.invert(w),_=C,k=o,!C4(y,b,f,d,i,o)&&!M4(e,y,b,d,f,_,a,l)&&!M4(e,y,b,d,f,d,a,null)){for(;k-_>=1;)E=(_+k)/2,M4(e,y,b,d,f,E,a,l)?k=E:_=E;_>C&&(t.x=y,t.y=b,C=_,M=!0)}}M||n||(S=Math.abs(m-p+v-g),y=(p+m)/2,b=(g+v)/2,S>=A&&!C4(y,b,f,d,i,o)&&!M4(e,y,b,d,f,d,a,null)&&(A=S,t.x=y,t.y=b,T=!0))}return!(!M&&!T)&&(y=f/2,b=d/2,a.setRange(e(t.x-y),e(t.y-b),e(t.x+y),e(t.y+b)),t.align="center",t.baseline="middle",!0)}}};function P4(e,t,n,r,i,o,a,l,s,c,u){if(!e.length)return e;const d=Math.max(r.length,i.length),f=function(e,t){const n=new Float64Array(t),r=e.length;for(let i=0;i<r;++i)n[i]=e[i]||0;for(let i=r;i<t;++i)n[i]=n[r-1];return n}(r,d),h=function(e,t){const n=new Int8Array(t),r=e.length;for(let i=0;i<r;++i)n[i]|=R4[e[i]];for(let i=r;i<t;++i)n[i]=n[r-1];return n}(i,d),p=(x=e[0].datum)&&x.mark&&x.mark.marktype,m="group"===p&&e[0].datum.items[s].marktype,g="area"===m,v=function(e,t,n,r){const i=e=>[e.x,e.x,e.x,e.y,e.y,e.y];return e?"line"===e||"area"===e?e=>i(e.datum):"line"===t?e=>{const t=e.datum.items[r].items;return i(t.length?t["start"===n?0:t.length-1]:{x:NaN,y:NaN})}:e=>{const t=e.datum.bounds;return[t.x1,(t.x1+t.x2)/2,t.x2,t.y1,(t.y1+t.y2)/2,t.y2]}:i}(p,m,l,s),y=null===c||c===1/0,b=g&&"naive"===u;var x;let w=-1,_=-1;const k=e.map((e=>{const t=y?IY.width(e,e.text):void 0;return w=Math.max(w,t),_=Math.max(_,e.fontSize),{datum:e,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:v(e),textWidth:t}}));c=null===c||c===1/0?Math.max(w,_)+Math.max(...r):c;const E=S4(t[0],t[1],c);let S;if(!b){n&&k.sort(((e,t)=>n(e.datum,t.datum)));let t=!1;for(let e=0;e<h.length&&!t;++e)t=5===h[e]||f[e]<0;const r=(p&&a||g)&&e.map((e=>e.datum));S=o.length||r?function(e,t,n,r,i){const o=e.width,a=e.height,l=r||i,s=PU(o,a).getContext("2d"),c=PU(o,a).getContext("2d"),u=l&&PU(o,a).getContext("2d");n.forEach((e=>y4(s,e,!1))),y4(c,t,!1),l&&y4(u,t,!0);const d=v4(s,o,a),f=v4(c,o,a),h=l&&v4(u,o,a),p=e.bitmap(),m=l&&e.bitmap();let g,v,y,b,x,w,_,k;for(v=0;v<a;++v)for(g=0;g<o;++g)x=v*o+g,w=d[x]&g4,k=f[x]&g4,_=l&&h[x]&g4,(w||_||k)&&(y=e(g),b=e(v),i||!w&&!k||p.set(y,b),l&&(w||_)&&m.set(y,b));return[p,m]}(E,r||[],o,t,g):function(e,t){const n=e.bitmap();return(t||[]).forEach((t=>n.set(e(t.boundary[0]),e(t.boundary[3])))),[n,void 0]}(E,a&&k)}const C=g?z4[u](E,S,a,s):function(e,t,n,r){const i=e.width,o=e.height,a=t[0],l=t[1],s=r.length;return function(t){var c;const u=t.boundary,d=t.datum.fontSize;if(u[2]<0||u[5]<0||u[0]>i||u[3]>o)return!1;let f,h,p,m,g,v,y,b,x,w,_,k,E,S,C,M=null!==(c=t.textWidth)&&void 0!==c?c:0;for(let i=0;i<s;++i){if(f=(3&n[i])-1,h=(n[i]>>>2&3)-1,p=0===f&&0===h||r[i]<0,m=f&&h?Math.SQRT1_2:1,g=r[i]<0?-1:1,v=u[1+f]+r[i]*f*m,_=u[4+h]+g*d*h/2+r[i]*h*m,b=_-d/2,x=_+d/2,k=e(v),S=e(b),C=e(x),!M){if(!N4(k,k,S,C,a,l,0,0,0,0,0,p))continue;M=IY.width(t.datum,t.datum.text)}if(w=v+g*M*f/2,v=w-M/2,y=w+M/2,k=e(v),E=e(y),N4(k,E,S,C,a,l,0,0,0,0,0,p))return t.x=f?f*g<0?y:v:w,t.y=h?h*g<0?x:b:_,t.align=D4[f*g+1],t.baseline=F4[h*g+1],a.setRange(k,S,E,C),!0}return!1}}(E,S,h,f);return k.forEach((e=>e.opacity=+C(e))),k}const O4=["x","y","opacity","align","baseline"],I4=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function L4(e){_I.call(this,null,e)}function B4(e,t){var n,r,i,o,a,l,s=[],c=function(e){return e(o)};if(null==t)s.push(e);else for(n={},r=0,i=e.length;r<i;++r)o=e[r],(l=n[a=t.map(c)])||(n[a]=l=[],l.dims=a,s.push(l)),l.push(o);return s}function j4(e){_I.call(this,null,e)}L4.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:I4},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:O4.length,default:O4}]},hF(L4,_I,{transform(e,t){const n=e.modified();if(!(n||t.changed(t.ADD_REM)||function(n){const r=e[n];return XD(r)&&t.modified(r.fields)}("sort")))return;e.size&&2===e.size.length||lD("Size parameter should be specified as a [width, height] array.");const r=e.as||O4;return P4(t.materialize(t.SOURCE).source||[],e.size,e.sort,YD(null==e.offset?1:e.offset),YD(e.anchor||I4),e.avoidMarks||[],!1!==e.avoidBaseMark,e.lineAnchor||"end",e.markIndex||0,void 0===e.padding?0:e.padding,e.method||"naive").forEach((e=>{const t=e.datum;t[r[0]]=e.x,t[r[1]]=e.y,t[r[2]]=e.opacity,t[r[3]]=e.align,t[r[4]]=e.baseline})),t.reflow(n).modifies(r)}}),j4.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]},hF(j4,_I,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=B4(t.materialize(t.SOURCE).source,e.groupby),i=(e.groupby||[]).map(nD),o=i.length,a=e.as||[nD(e.x),nD(e.y)],l=[];r.forEach((t=>{ML(t,e.x,e.y,e.bandwidth||.3).forEach((e=>{const n={};for(let r=0;r<o;++r)n[i[r]]=t.dims[r];n[a[0]]=e[0],n[a[1]]=e[1],l.push(HO(n))}))})),this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}});const U4={constant:hL,linear:yL,log:bL,exp:xL,pow:wL,quad:_L,poly:kL};function K4(e){_I.call(this,null,e)}K4.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(U4)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]},hF(K4,_I,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=B4(t.materialize(t.SOURCE).source,e.groupby),i=(e.groupby||[]).map(nD),o=e.method||"linear",a=null==e.order?3:e.order,l=((e,t)=>"poly"===e?t:"quad"===e?2:1)(o,a),s=e.as||[nD(e.x),nD(e.y)],c=U4[o],u=[];let d=e.extent;cF(U4,o)||lD("Invalid regression method: "+o),null!=d&&"log"===o&&d[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),d=null),r.forEach((n=>{if(n.length<=l)return void t.dataflow.warn("Skipping regression with more parameters than data points.");const r=c(n,e.x,e.y,a);if(e.params)return void u.push(HO({keys:n.dims,coef:r.coef,rSquared:r.rSquared}));const f=d||aF(n,e.x),h=e=>{const t={};for(let r=0;r<i.length;++r)t[i[r]]=n.dims[r];t[s[0]]=e[0],t[s[1]]=e[1],u.push(HO(t))};"linear"===o||"constant"===o?f.forEach((e=>h([e,r.predict(e)]))):FL(r.predict,f,25,200).forEach(h)})),this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});const W4=134217729,q4=33306690738754706e-32;function H4(e,t,n,r,i){let o,a,l,s,c=t[0],u=r[0],d=0,f=0;u>c===u>-c?(o=c,c=t[++d]):(o=u,u=r[++f]);let h=0;if(d<e&&f<n)for(u>c===u>-c?(a=c+o,l=o-(a-c),c=t[++d]):(a=u+o,l=o-(a-u),u=r[++f]),o=a,0!==l&&(i[h++]=l);d<e&&f<n;)u>c===u>-c?(a=o+c,s=a-o,l=o-(a-s)+(c-s),c=t[++d]):(a=o+u,s=a-o,l=o-(a-s)+(u-s),u=r[++f]),o=a,0!==l&&(i[h++]=l);for(;d<e;)a=o+c,s=a-o,l=o-(a-s)+(c-s),c=t[++d],o=a,0!==l&&(i[h++]=l);for(;f<n;)a=o+u,s=a-o,l=o-(a-s)+(u-s),u=r[++f],o=a,0!==l&&(i[h++]=l);return 0===o&&0!==h||(i[h++]=o),h}function V4(e){return new Float64Array(e)}const G4=22204460492503146e-32,Y4=11093356479670487e-47,Q4=V4(4),X4=V4(8),$4=V4(12),Z4=V4(16),J4=V4(4);function e6(e,t,n,r,i,o){const a=(t-o)*(n-i),l=(e-i)*(r-o),s=a-l,c=Math.abs(a+l);return Math.abs(s)>=33306690738754716e-32*c?s:-function(e,t,n,r,i,o,a){let l,s,c,u,d,f,h,p,m,g,v,y,b,x,w,_,k,E;const S=e-i,C=n-i,M=t-o,T=r-o;x=S*T,f=W4*S,h=f-(f-S),p=S-h,f=W4*T,m=f-(f-T),g=T-m,w=p*g-(x-h*m-p*m-h*g),_=M*C,f=W4*M,h=f-(f-M),p=M-h,f=W4*C,m=f-(f-C),g=C-m,k=p*g-(_-h*m-p*m-h*g),v=w-k,d=w-v,Q4[0]=w-(v+d)+(d-k),y=x+v,d=y-x,b=x-(y-d)+(v-d),v=b-_,d=b-v,Q4[1]=b-(v+d)+(d-_),E=y+v,d=E-y,Q4[2]=y-(E-d)+(v-d),Q4[3]=E;let A=function(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}(4,Q4),D=G4*a;if(A>=D||-A>=D)return A;if(d=e-S,l=e-(S+d)+(d-i),d=n-C,c=n-(C+d)+(d-i),d=t-M,s=t-(M+d)+(d-o),d=r-T,u=r-(T+d)+(d-o),0===l&&0===s&&0===c&&0===u)return A;if(D=Y4*a+q4*Math.abs(A),A+=S*u+T*l-(M*c+C*s),A>=D||-A>=D)return A;x=l*T,f=W4*l,h=f-(f-l),p=l-h,f=W4*T,m=f-(f-T),g=T-m,w=p*g-(x-h*m-p*m-h*g),_=s*C,f=W4*s,h=f-(f-s),p=s-h,f=W4*C,m=f-(f-C),g=C-m,k=p*g-(_-h*m-p*m-h*g),v=w-k,d=w-v,J4[0]=w-(v+d)+(d-k),y=x+v,d=y-x,b=x-(y-d)+(v-d),v=b-_,d=b-v,J4[1]=b-(v+d)+(d-_),E=y+v,d=E-y,J4[2]=y-(E-d)+(v-d),J4[3]=E;const F=H4(4,Q4,4,J4,X4);x=S*u,f=W4*S,h=f-(f-S),p=S-h,f=W4*u,m=f-(f-u),g=u-m,w=p*g-(x-h*m-p*m-h*g),_=M*c,f=W4*M,h=f-(f-M),p=M-h,f=W4*c,m=f-(f-c),g=c-m,k=p*g-(_-h*m-p*m-h*g),v=w-k,d=w-v,J4[0]=w-(v+d)+(d-k),y=x+v,d=y-x,b=x-(y-d)+(v-d),v=b-_,d=b-v,J4[1]=b-(v+d)+(d-_),E=y+v,d=E-y,J4[2]=y-(E-d)+(v-d),J4[3]=E;const N=H4(F,X4,4,J4,$4);x=l*u,f=W4*l,h=f-(f-l),p=l-h,f=W4*u,m=f-(f-u),g=u-m,w=p*g-(x-h*m-p*m-h*g),_=s*c,f=W4*s,h=f-(f-s),p=s-h,f=W4*c,m=f-(f-c),g=c-m,k=p*g-(_-h*m-p*m-h*g),v=w-k,d=w-v,J4[0]=w-(v+d)+(d-k),y=x+v,d=y-x,b=x-(y-d)+(v-d),v=b-_,d=b-v,J4[1]=b-(v+d)+(d-_),E=y+v,d=E-y,J4[2]=y-(E-d)+(v-d),J4[3]=E;const R=H4(N,$4,4,J4,Z4);return Z4[R-1]}(e,t,n,r,i,o,c)}V4(4),V4(4),V4(4),V4(4),V4(4),V4(4),V4(4),V4(4),V4(4),V4(8),V4(8),V4(8),V4(4),V4(8),V4(8),V4(8),V4(12);V4(192),V4(192);V4(4),V4(4),V4(4),V4(4),V4(4),V4(4),V4(4),V4(4),V4(8),V4(8),V4(8),V4(8),V4(8),V4(8),V4(8),V4(8),V4(8),V4(4),V4(4),V4(4),V4(8),V4(16),V4(16),V4(16),V4(32),V4(32),V4(48),V4(64);V4(1152),V4(1152);V4(4),V4(4),V4(4),V4(4),V4(4),V4(4),V4(4),V4(4),V4(4),V4(4),V4(24),V4(24),V4(24),V4(24),V4(24),V4(24),V4(24),V4(24),V4(24),V4(24),V4(1152),V4(1152),V4(1152),V4(1152),V4(1152),V4(2304),V4(2304),V4(3456),V4(5760),V4(8),V4(8),V4(8),V4(16),V4(24),V4(48),V4(48),V4(96),V4(192),V4(384),V4(384),V4(384),V4(768);V4(96),V4(96),V4(96),V4(1152);const t6=Math.pow(2,-52),n6=new Uint32Array(512);class r6{static from(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c6,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u6;const r=e.length,i=new Float64Array(2*r);for(let o=0;o<r;o++){const r=e[o];i[2*o]=t(r),i[2*o+1]=n(r)}return new r6(i)}constructor(e){const t=e.length>>1;if(t>0&&"number"!==typeof e[0])throw new Error("Expected coords to contain numbers.");this.coords=e;const n=Math.max(2*t-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(t)),this._hullPrev=new Uint32Array(t),this._hullNext=new Uint32Array(t),this._hullTri=new Uint32Array(t),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(t),this._dists=new Float64Array(t),this.update()}update(){const{coords:e,_hullPrev:t,_hullNext:n,_hullTri:r,_hullHash:i}=this,o=e.length>>1;let a=1/0,l=1/0,s=-1/0,c=-1/0;for(let S=0;S<o;S++){const t=e[2*S],n=e[2*S+1];t<a&&(a=t),n<l&&(l=n),t>s&&(s=t),n>c&&(c=n),this._ids[S]=S}const u=(a+s)/2,d=(l+c)/2;let f,h,p,m=1/0;for(let S=0;S<o;S++){const t=i6(u,d,e[2*S],e[2*S+1]);t<m&&(f=S,m=t)}const g=e[2*f],v=e[2*f+1];m=1/0;for(let S=0;S<o;S++){if(S===f)continue;const t=i6(g,v,e[2*S],e[2*S+1]);t<m&&t>0&&(h=S,m=t)}let y=e[2*h],b=e[2*h+1],x=1/0;for(let S=0;S<o;S++){if(S===f||S===h)continue;const t=a6(g,v,y,b,e[2*S],e[2*S+1]);t<x&&(p=S,x=t)}let w=e[2*p],_=e[2*p+1];if(x===1/0){for(let r=0;r<o;r++)this._dists[r]=e[2*r]-e[0]||e[2*r+1]-e[1];l6(this._ids,this._dists,0,o-1);const t=new Uint32Array(o);let n=0;for(let e=0,r=-1/0;e<o;e++){const i=this._ids[e];this._dists[i]>r&&(t[n++]=i,r=this._dists[i])}return this.hull=t.subarray(0,n),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(e6(g,v,y,b,w,_)<0){const e=h,t=y,n=b;h=p,y=w,b=_,p=e,w=t,_=n}const k=function(e,t,n,r,i,o){const a=n-e,l=r-t,s=i-e,c=o-t,u=a*a+l*l,d=s*s+c*c,f=.5/(a*c-l*s),h=e+(c*u-l*d)*f,p=t+(a*d-s*u)*f;return{x:h,y:p}}(g,v,y,b,w,_);this._cx=k.x,this._cy=k.y;for(let S=0;S<o;S++)this._dists[S]=i6(e[2*S],e[2*S+1],k.x,k.y);l6(this._ids,this._dists,0,o-1),this._hullStart=f;let E=3;n[f]=t[p]=h,n[h]=t[f]=p,n[p]=t[h]=f,r[f]=0,r[h]=1,r[p]=2,i.fill(-1),i[this._hashKey(g,v)]=f,i[this._hashKey(y,b)]=h,i[this._hashKey(w,_)]=p,this.trianglesLen=0,this._addTriangle(f,h,p,-1,-1,-1);for(let S,C,M=0;M<this._ids.length;M++){const o=this._ids[M],a=e[2*o],l=e[2*o+1];if(M>0&&Math.abs(a-S)<=t6&&Math.abs(l-C)<=t6)continue;if(S=a,C=l,o===f||o===h||o===p)continue;let s=0;for(let e=0,t=this._hashKey(a,l);e<this._hashSize&&(s=i[(t+e)%this._hashSize],-1===s||s===n[s]);e++);s=t[s];let c,u=s;for(;c=n[u],e6(a,l,e[2*u],e[2*u+1],e[2*c],e[2*c+1])>=0;)if(u=c,u===s){u=-1;break}if(-1===u)continue;let d=this._addTriangle(u,o,n[u],-1,-1,r[u]);r[o]=this._legalize(d+2),r[u]=d,E++;let m=n[u];for(;c=n[m],e6(a,l,e[2*m],e[2*m+1],e[2*c],e[2*c+1])<0;)d=this._addTriangle(m,o,c,r[o],-1,r[m]),r[o]=this._legalize(d+2),n[m]=m,E--,m=c;if(u===s)for(;c=t[u],e6(a,l,e[2*c],e[2*c+1],e[2*u],e[2*u+1])<0;)d=this._addTriangle(c,o,u,-1,r[u],r[c]),this._legalize(d+2),r[c]=d,n[u]=u,E--,u=c;this._hullStart=t[o]=u,n[u]=t[m]=o,n[o]=m,i[this._hashKey(a,l)]=o,i[this._hashKey(e[2*u],e[2*u+1])]=u}this.hull=new Uint32Array(E);for(let S=0,C=this._hullStart;S<E;S++)this.hull[S]=C,C=n[C];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,t){return Math.floor(function(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:t,_halfedges:n,coords:r}=this;let i=0,o=0;for(;;){const a=n[e],l=e-e%3;if(o=l+(e+2)%3,-1===a){if(0===i)break;e=n6[--i];continue}const s=a-a%3,c=l+(e+1)%3,u=s+(a+2)%3,d=t[o],f=t[e],h=t[c],p=t[u];if(o6(r[2*d],r[2*d+1],r[2*f],r[2*f+1],r[2*h],r[2*h+1],r[2*p],r[2*p+1])){t[e]=p,t[a]=d;const r=n[u];if(-1===r){let t=this._hullStart;do{if(this._hullTri[t]===u){this._hullTri[t]=e;break}t=this._hullPrev[t]}while(t!==this._hullStart)}this._link(e,r),this._link(a,n[o]),this._link(o,u);const l=s+(a+1)%3;i<n6.length&&(n6[i++]=l)}else{if(0===i)break;e=n6[--i]}}return o}_link(e,t){this._halfedges[e]=t,-1!==t&&(this._halfedges[t]=e)}_addTriangle(e,t,n,r,i,o){const a=this.trianglesLen;return this._triangles[a]=e,this._triangles[a+1]=t,this._triangles[a+2]=n,this._link(a,r),this._link(a+1,i),this._link(a+2,o),this.trianglesLen+=3,a}}function i6(e,t,n,r){const i=e-n,o=t-r;return i*i+o*o}function o6(e,t,n,r,i,o,a,l){const s=e-a,c=t-l,u=n-a,d=r-l,f=i-a,h=o-l,p=u*u+d*d,m=f*f+h*h;return s*(d*m-p*h)-c*(u*m-p*f)+(s*s+c*c)*(u*h-d*f)<0}function a6(e,t,n,r,i,o){const a=n-e,l=r-t,s=i-e,c=o-t,u=a*a+l*l,d=s*s+c*c,f=.5/(a*c-l*s),h=(c*u-l*d)*f,p=(a*d-s*u)*f;return h*h+p*p}function l6(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const r=e[i],o=t[r];let a=i-1;for(;a>=n&&t[e[a]]>o;)e[a+1]=e[a--];e[a+1]=r}else{let i=n+1,o=r;s6(e,n+r>>1,i),t[e[n]]>t[e[r]]&&s6(e,n,r),t[e[i]]>t[e[r]]&&s6(e,i,r),t[e[n]]>t[e[i]]&&s6(e,n,i);const a=e[i],l=t[a];for(;;){do{i++}while(t[e[i]]<l);do{o--}while(t[e[o]]>l);if(o<i)break;s6(e,i,o)}e[n+1]=e[o],e[o]=a,r-i+1>=o-n?(l6(e,t,i,r),l6(e,t,n,o-1)):(l6(e,t,n,o-1),l6(e,t,i,r))}}function s6(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function c6(e){return e[0]}function u6(e){return e[1]}const d6=1e-6;class f6{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,t){this._+="M".concat(this._x0=this._x1=+e,",").concat(this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,t){this._+="L".concat(this._x1=+e,",").concat(this._y1=+t)}arc(e,t,n){const r=(e=+e)+(n=+n),i=t=+t;if(n<0)throw new Error("negative radius");null===this._x1?this._+="M".concat(r,",").concat(i):(Math.abs(this._x1-r)>d6||Math.abs(this._y1-i)>d6)&&(this._+="L"+r+","+i),n&&(this._+="A".concat(n,",").concat(n,",0,1,1,").concat(e-n,",").concat(t,"A").concat(n,",").concat(n,",0,1,1,").concat(this._x1=r,",").concat(this._y1=i))}rect(e,t,n,r){this._+="M".concat(this._x0=this._x1=+e,",").concat(this._y0=this._y1=+t,"h").concat(+n,"v").concat(+r,"h").concat(-n,"Z")}value(){return this._||null}}class h6{constructor(){this._=[]}moveTo(e,t){this._.push([e,t])}closePath(){this._.push(this._[0].slice())}lineTo(e,t){this._.push([e,t])}value(){return this._.length?this._:null}}class p6{constructor(e){let[t,n,r,i]=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,960,500];if(!((r=+r)>=(t=+t))||!((i=+i)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(2*e.points.length),this.vectors=new Float64Array(2*e.points.length),this.xmax=r,this.xmin=t,this.ymax=i,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:t,triangles:n},vectors:r}=this;let i,o;const a=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let p,m,g=0,v=0,y=n.length;g<y;g+=3,v+=2){const r=2*n[g],l=2*n[g+1],s=2*n[g+2],c=e[r],u=e[r+1],d=e[l],f=e[l+1],h=e[s],y=e[s+1],b=d-c,x=f-u,w=h-c,_=y-u,k=2*(b*_-x*w);if(Math.abs(k)<1e-9){if(void 0===i){i=o=0;for(const n of t)i+=e[2*n],o+=e[2*n+1];i/=t.length,o/=t.length}const n=1e9*Math.sign((i-c)*_-(o-u)*w);p=(c+h)/2-n*_,m=(u+y)/2+n*w}else{const e=1/k,t=b*b+x*x,n=w*w+_*_;p=c+(_*t-x*n)*e,m=u+(b*n-w*t)*e}a[v]=p,a[v+1]=m}let l,s,c,u=t[t.length-1],d=4*u,f=e[2*u],h=e[2*u+1];r.fill(0);for(let p=0;p<t.length;++p)u=t[p],l=d,s=f,c=h,d=4*u,f=e[2*u],h=e[2*u+1],r[l+2]=r[d]=c-h,r[l+3]=r[d+1]=f-s}render(e){const t=null==e?e=new f6:void 0,{delaunay:{halfedges:n,inedges:r,hull:i},circumcenters:o,vectors:a}=this;if(i.length<=1)return null;for(let c=0,u=n.length;c<u;++c){const t=n[c];if(t<c)continue;const r=2*Math.floor(c/3),i=2*Math.floor(t/3),a=o[r],l=o[r+1],s=o[i],u=o[i+1];this._renderSegment(a,l,s,u,e)}let l,s=i[i.length-1];for(let c=0;c<i.length;++c){l=s,s=i[c];const t=2*Math.floor(r[s]/3),n=o[t],u=o[t+1],d=4*l,f=this._project(n,u,a[d+2],a[d+3]);f&&this._renderSegment(n,u,f[0],f[1],e)}return t&&t.value()}renderBounds(e){const t=null==e?e=new f6:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}renderCell(e,t){const n=null==t?t=new f6:void 0,r=this._clip(e);if(null===r||!r.length)return;t.moveTo(r[0],r[1]);let i=r.length;for(;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(let o=2;o<i;o+=2)r[o]===r[o-2]&&r[o+1]===r[o-1]||t.lineTo(r[o],r[o+1]);return t.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let t=0,n=e.length/2;t<n;++t){const e=this.cellPolygon(t);e&&(e.index=t,yield e)}}cellPolygon(e){const t=new h6;return this.renderCell(e,t),t.value()}_renderSegment(e,t,n,r,i){let o;const a=this._regioncode(e,t),l=this._regioncode(n,r);0===a&&0===l?(i.moveTo(e,t),i.lineTo(n,r)):(o=this._clipSegment(e,t,n,r,a,l))&&(i.moveTo(o[0],o[1]),i.lineTo(o[2],o[3]))}contains(e,t,n){return(t=+t)===t&&(n=+n)===n&&this.delaunay._step(e,t,n)===e}*neighbors(e){const t=this._clip(e);if(t)for(const n of this.delaunay.neighbors(e)){const e=this._clip(n);if(e)e:for(let r=0,i=t.length;r<i;r+=2)for(let o=0,a=e.length;o<a;o+=2)if(t[r]===e[o]&&t[r+1]===e[o+1]&&t[(r+2)%i]===e[(o+a-2)%a]&&t[(r+3)%i]===e[(o+a-1)%a]){yield n;break e}}}_cell(e){const{circumcenters:t,delaunay:{inedges:n,halfedges:r,triangles:i}}=this,o=n[e];if(-1===o)return null;const a=[];let l=o;do{const n=Math.floor(l/3);if(a.push(t[2*n],t[2*n+1]),l=l%3===2?l-2:l+1,i[l]!==e)break;l=r[l]}while(l!==o&&-1!==l);return a}_clip(e){if(0===e&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const t=this._cell(e);if(null===t)return null;const{vectors:n}=this,r=4*e;return this._simplify(n[r]||n[r+1]?this._clipInfinite(e,t,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(e,t))}_clipFinite(e,t){const n=t.length;let r,i,o,a,l=null,s=t[n-2],c=t[n-1],u=this._regioncode(s,c),d=0;for(let f=0;f<n;f+=2)if(r=s,i=c,s=t[f],c=t[f+1],o=u,u=this._regioncode(s,c),0===o&&0===u)a=d,d=0,l?l.push(s,c):l=[s,c];else{let t,n,f,h,p;if(0===o){if(null===(t=this._clipSegment(r,i,s,c,o,u)))continue;[n,f,h,p]=t}else{if(null===(t=this._clipSegment(s,c,r,i,u,o)))continue;[h,p,n,f]=t,a=d,d=this._edgecode(n,f),a&&d&&this._edge(e,a,d,l,l.length),l?l.push(n,f):l=[n,f]}a=d,d=this._edgecode(h,p),a&&d&&this._edge(e,a,d,l,l.length),l?l.push(h,p):l=[h,p]}if(l)a=d,d=this._edgecode(l[0],l[1]),a&&d&&this._edge(e,a,d,l,l.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return l}_clipSegment(e,t,n,r,i,o){const a=i<o;for(a&&([e,t,n,r,i,o]=[n,r,e,t,o,i]);;){if(0===i&&0===o)return a?[n,r,e,t]:[e,t,n,r];if(i&o)return null;let l,s,c=i||o;8&c?(l=e+(n-e)*(this.ymax-t)/(r-t),s=this.ymax):4&c?(l=e+(n-e)*(this.ymin-t)/(r-t),s=this.ymin):2&c?(s=t+(r-t)*(this.xmax-e)/(n-e),l=this.xmax):(s=t+(r-t)*(this.xmin-e)/(n-e),l=this.xmin),i?(e=l,t=s,i=this._regioncode(e,t)):(n=l,r=s,o=this._regioncode(n,r))}}_clipInfinite(e,t,n,r,i,o){let a,l=Array.from(t);if((a=this._project(l[0],l[1],n,r))&&l.unshift(a[0],a[1]),(a=this._project(l[l.length-2],l[l.length-1],i,o))&&l.push(a[0],a[1]),l=this._clipFinite(e,l))for(let s,c=0,u=l.length,d=this._edgecode(l[u-2],l[u-1]);c<u;c+=2)s=d,d=this._edgecode(l[c],l[c+1]),s&&d&&(c=this._edge(e,s,d,l,c),u=l.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(l=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return l}_edge(e,t,n,r,i){for(;t!==n;){let n,o;switch(t){case 5:t=4;continue;case 4:t=6,n=this.xmax,o=this.ymin;break;case 6:t=2;continue;case 2:t=10,n=this.xmax,o=this.ymax;break;case 10:t=8;continue;case 8:t=9,n=this.xmin,o=this.ymax;break;case 9:t=1;continue;case 1:t=5,n=this.xmin,o=this.ymin}r[i]===n&&r[i+1]===o||!this.contains(e,n,o)||(r.splice(i,0,n,o),i+=2)}return i}_project(e,t,n,r){let i,o,a,l=1/0;if(r<0){if(t<=this.ymin)return null;(i=(this.ymin-t)/r)<l&&(a=this.ymin,o=e+(l=i)*n)}else if(r>0){if(t>=this.ymax)return null;(i=(this.ymax-t)/r)<l&&(a=this.ymax,o=e+(l=i)*n)}if(n>0){if(e>=this.xmax)return null;(i=(this.xmax-e)/n)<l&&(o=this.xmax,a=t+(l=i)*r)}else if(n<0){if(e<=this.xmin)return null;(i=(this.xmin-e)/n)<l&&(o=this.xmin,a=t+(l=i)*r)}return[o,a]}_edgecode(e,t){return(e===this.xmin?1:e===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}_regioncode(e,t){return(e<this.xmin?1:e>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}_simplify(e){if(e&&e.length>4){for(let t=0;t<e.length;t+=2){const n=(t+2)%e.length,r=(t+4)%e.length;(e[t]===e[n]&&e[n]===e[r]||e[t+1]===e[n+1]&&e[n+1]===e[r+1])&&(e.splice(n,2),t-=2)}e.length||(e=null)}return e}}const m6=2*Math.PI,g6=Math.pow;function v6(e){return e[0]}function y6(e){return e[1]}function b6(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class x6{static from(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v6,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y6,r=arguments.length>3?arguments[3]:void 0;return new x6("length"in e?function(e,t,n,r){const i=e.length,o=new Float64Array(2*i);for(let a=0;a<i;++a){const i=e[a];o[2*a]=t.call(r,i,a,e),o[2*a+1]=n.call(r,i,a,e)}return o}(e,t,n,r):Float64Array.from(function*(e,t,n,r){let i=0;for(const o of e)yield t.call(r,o,i,e),yield n.call(r,o,i,e),++i}(e,t,n,r)))}constructor(e){this._delaunator=new r6(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,t=this.points;if(e.hull&&e.hull.length>2&&function(e){const{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){const e=2*t[r],i=2*t[r+1],o=2*t[r+2];if((n[o]-n[e])*(n[i+1]-n[e+1])-(n[i]-n[e])*(n[o+1]-n[e+1])>1e-10)return!1}return!0}(e)){this.collinear=Int32Array.from({length:t.length/2},((e,t)=>t)).sort(((e,n)=>t[2*e]-t[2*n]||t[2*e+1]-t[2*n+1]));const e=this.collinear[0],n=this.collinear[this.collinear.length-1],r=[t[2*e],t[2*e+1],t[2*n],t[2*n+1]],i=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]);for(let o=0,a=t.length/2;o<a;++o){const e=b6(t[2*o],t[2*o+1],i);t[2*o]=e[0],t[2*o+1]=e[1]}this._delaunator=new r6(t)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let l=0,s=n.length;l<s;++l){const e=i[l%3===2?l-2:l+1];-1!==n[l]&&-1!==o[e]||(o[e]=l)}for(let l=0,s=r.length;l<s;++l)a[r[l]]=l;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],o[r[0]]=1,2===r.length&&(o[r[1]]=0,this.triangles[1]=r[1],this.triangles[2]=r[1]))}voronoi(e){return new p6(this,e)}*neighbors(e){const{inedges:t,hull:n,_hullIndex:r,halfedges:i,triangles:o,collinear:a}=this;if(a){const t=a.indexOf(e);return t>0&&(yield a[t-1]),void(t<a.length-1&&(yield a[t+1]))}const l=t[e];if(-1===l)return;let s=l,c=-1;do{if(yield c=o[s],s=s%3===2?s-2:s+1,o[s]!==e)return;if(s=i[s],-1===s){const t=n[(r[e]+1)%n.length];return void(t!==c&&(yield t))}}while(s!==l)}find(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if((e=+e)!==e||(t=+t)!==t)return-1;const r=n;let i;for(;(i=this._step(n,e,t))>=0&&i!==n&&i!==r;)n=i;return i}_step(e,t,n){const{inedges:r,hull:i,_hullIndex:o,halfedges:a,triangles:l,points:s}=this;if(-1===r[e]||!s.length)return(e+1)%(s.length>>1);let c=e,u=g6(t-s[2*e],2)+g6(n-s[2*e+1],2);const d=r[e];let f=d;do{let r=l[f];const d=g6(t-s[2*r],2)+g6(n-s[2*r+1],2);if(d<u&&(u=d,c=r),f=f%3===2?f-2:f+1,l[f]!==e)break;if(f=a[f],-1===f){if(f=i[(o[e]+1)%i.length],f!==r&&g6(t-s[2*f],2)+g6(n-s[2*f+1],2)<u)return f;break}}while(f!==d);return c}render(e){const t=null==e?e=new f6:void 0,{points:n,halfedges:r,triangles:i}=this;for(let o=0,a=r.length;o<a;++o){const t=r[o];if(t<o)continue;const a=2*i[o],l=2*i[t];e.moveTo(n[a],n[a+1]),e.lineTo(n[l],n[l+1])}return this.renderHull(e),t&&t.value()}renderPoints(e,t){void 0!==t||e&&"function"===typeof e.moveTo||(t=e,e=null),t=void 0==t?2:+t;const n=null==e?e=new f6:void 0,{points:r}=this;for(let i=0,o=r.length;i<o;i+=2){const n=r[i],o=r[i+1];e.moveTo(n+t,o),e.arc(n,o,t,0,m6)}return n&&n.value()}renderHull(e){const t=null==e?e=new f6:void 0,{hull:n,points:r}=this,i=2*n[0],o=n.length;e.moveTo(r[i],r[i+1]);for(let a=1;a<o;++a){const t=2*n[a];e.lineTo(r[t],r[t+1])}return e.closePath(),t&&t.value()}hullPolygon(){const e=new h6;return this.renderHull(e),e.value()}renderTriangle(e,t){const n=null==t?t=new f6:void 0,{points:r,triangles:i}=this,o=2*i[e*=3],a=2*i[e+1],l=2*i[e+2];return t.moveTo(r[o],r[o+1]),t.lineTo(r[a],r[a+1]),t.lineTo(r[l],r[l+1]),t.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:e}=this;for(let t=0,n=e.length/3;t<n;++t)yield this.trianglePolygon(t)}trianglePolygon(e){const t=new h6;return this.renderTriangle(e,t),t.value()}}function w6(e){_I.call(this,null,e)}w6.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const _6=[-1e5,-1e5,1e5,1e5];function k6(e){const t=e[0][0],n=e[0][1];let r=e.length-1;for(;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}hF(w6,_I,{transform(e,t){const n=e.as||"path",r=t.source;if(!r||!r.length)return t;let i=e.size;i=i?[0,0,i[0],i[1]]:(i=e.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:_6;const o=this.value=x6.from(r,e.x,e.y).voronoi(i);for(let l=0,s=r.length;l<s;++l){const e=o.cellPolygon(l);r[l][n]=e&&(2!==(a=e).length||a[0][0]!==a[1][0]||a[0][1]!==a[1][1])?k6(e):null}var a;return t.reflow(e.modified()).modifies(n)}});var E6=Math.PI/180,S6=64,C6=2048;function M6(){var e,t,n,r,i,o,a,l=[256,256],s=N6,c=[],u=Math.random,d={};function f(e,t,n){for(var r,i,o,a=t.x,c=t.y,d=Math.sqrt(l[0]*l[0]+l[1]*l[1]),f=s(l),h=u()<.5?1:-1,p=-h;(r=f(p+=h))&&(i=~~r[0],o=~~r[1],!(Math.min(Math.abs(i),Math.abs(o))>=d));)if(t.x=a+i,t.y=c+o,!(t.x+t.x0<0||t.y+t.y0<0||t.x+t.x1>l[0]||t.y+t.y1>l[1])&&(!n||!A6(t,e,l[0]))&&(!n||F6(t,n))){for(var m,g=t.sprite,v=t.width>>5,y=l[0]>>5,b=t.x-(v<<4),x=127&b,w=32-x,_=t.y1-t.y0,k=(t.y+t.y0)*y+(b>>5),E=0;E<_;E++){m=0;for(var S=0;S<=v;S++)e[k+S]|=m<<w|(S<v?(m=g[E*v+S])>>>x:0);k+=y}return t.sprite=null,!0}return!1}return d.layout=function(){for(var s=function(e){e.width=e.height=1;var t=Math.sqrt(e.getContext("2d").getImageData(0,0,1,1).data.length>>2);e.width=(S6<<5)/t,e.height=C6/t;var n=e.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:t}}(PU()),d=function(e){var t=[],n=-1;for(;++n<e;)t[n]=0;return t}((l[0]>>5)*l[1]),h=null,p=c.length,m=-1,g=[],v=c.map((l=>({text:e(l),font:t(l),style:r(l),weight:i(l),rotate:o(l),size:~~(n(l)+1e-14),padding:a(l),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:l}))).sort(((e,t)=>t.size-e.size));++m<p;){var y=v[m];y.x=l[0]*(u()+.5)>>1,y.y=l[1]*(u()+.5)>>1,T6(s,y,v,m),y.hasText&&f(d,y,h)&&(g.push(y),h?D6(h,y):h=[{x:y.x+y.x0,y:y.y+y.y0},{x:y.x+y.x1,y:y.y+y.y1}],y.x-=l[0]>>1,y.y-=l[1]>>1)}return g},d.words=function(e){return arguments.length?(c=e,d):c},d.size=function(e){return arguments.length?(l=[+e[0],+e[1]],d):l},d.font=function(e){return arguments.length?(t=R6(e),d):t},d.fontStyle=function(e){return arguments.length?(r=R6(e),d):r},d.fontWeight=function(e){return arguments.length?(i=R6(e),d):i},d.rotate=function(e){return arguments.length?(o=R6(e),d):o},d.text=function(t){return arguments.length?(e=R6(t),d):e},d.spiral=function(e){return arguments.length?(s=z6[e]||e,d):s},d.fontSize=function(e){return arguments.length?(n=R6(e),d):n},d.padding=function(e){return arguments.length?(a=R6(e),d):a},d.random=function(e){return arguments.length?(u=e,d):u},d}function T6(e,t,n,r){if(!t.sprite){var i=e.context,o=e.ratio;i.clearRect(0,0,(S6<<5)/o,C6/o);var a,l,s,c,u,d=0,f=0,h=0,p=n.length;for(--r;++r<p;){if(t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/o)+"px "+t.font,a=i.measureText(t.text+"m").width*o,s=t.size<<1,t.rotate){var m=Math.sin(t.rotate*E6),g=Math.cos(t.rotate*E6),v=a*g,y=a*m,b=s*g,x=s*m;a=Math.max(Math.abs(v+x),Math.abs(v-x))+31>>5<<5,s=~~Math.max(Math.abs(y+b),Math.abs(y-b))}else a=a+31>>5<<5;if(s>h&&(h=s),d+a>=S6<<5&&(d=0,f+=h,h=0),f+s>=C6)break;i.translate((d+(a>>1))/o,(f+(s>>1))/o),t.rotate&&i.rotate(t.rotate*E6),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=a,t.height=s,t.xoff=d,t.yoff=f,t.x1=a>>1,t.y1=s>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,d+=a}for(var w=i.getImageData(0,0,(S6<<5)/o,C6/o).data,_=[];--r>=0;)if((t=n[r]).hasText){for(l=(a=t.width)>>5,s=t.y1-t.y0,c=0;c<s*l;c++)_[c]=0;if(null==(d=t.xoff))return;f=t.yoff;var k=0,E=-1;for(u=0;u<s;u++){for(c=0;c<a;c++){var S=l*u+(c>>5),C=w[(f+u)*(S6<<5)+(d+c)<<2]?1<<31-c%32:0;_[S]|=C,k|=C}k?E=u:(t.y0++,s--,u--,f++)}t.y1=t.y0+E,t.sprite=_.slice(0,(t.y1-t.y0)*l)}}}function A6(e,t,n){n>>=5;for(var r,i=e.sprite,o=e.width>>5,a=e.x-(o<<4),l=127&a,s=32-l,c=e.y1-e.y0,u=(e.y+e.y0)*n+(a>>5),d=0;d<c;d++){r=0;for(var f=0;f<=o;f++)if((r<<s|(f<o?(r=i[d*o+f])>>>l:0))&t[u+f])return!0;u+=n}return!1}function D6(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function F6(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function N6(e){var t=e[0]/e[1];return function(e){return[t*(e*=.1)*Math.cos(e),e*Math.sin(e)]}}function R6(e){return"function"===typeof e?e:function(){return e}}var z6={archimedean:N6,rectangular:function(e){var t=4*e[0]/e[1],n=0,r=0;return function(e){var i=e<0?-1:1;switch(Math.sqrt(1+4*i*e)-i&3){case 0:n+=t;break;case 1:r+=4;break;case 2:n-=t;break;default:r-=4}return[n,r]}}};const P6=["x","y","font","fontSize","fontStyle","fontWeight","angle"],O6=["text","font","rotate","fontSize","fontStyle","fontWeight"];function I6(e){_I.call(this,M6(),e)}I6.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:P6}]},hF(I6,_I,{transform(e,t){!e.size||e.size[0]&&e.size[1]||lD("Wordcloud size dimensions must be non-zero.");const n=e.modified();if(!(n||t.changed(t.ADD_REM)||O6.some((function(n){const r=e[n];return XD(r)&&t.modified(r.fields)}))))return;const r=t.materialize(t.SOURCE).source,i=this.value,o=e.as||P6;let a,l=e.fontSize||14;if(XD(l)?a=e.fontSizeRange:l=rF(l),a){const e=l,t=yH("sqrt")().domain(aF(r,e)).range(a);l=n=>t(e(n))}r.forEach((e=>{e[o[0]]=NaN,e[o[1]]=NaN,e[o[3]]=0}));const s=i.words(r).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(l).random(UI).layout(),c=i.size(),u=c[0]>>1,d=c[1]>>1,f=s.length;for(let h,p,m=0;m<f;++m)h=s[m],p=h.datum,p[o[0]]=h.x+u,p[o[1]]=h.y+d,p[o[2]]=h.font,p[o[3]]=h.size,p[o[4]]=h.style,p[o[5]]=h.weight,p[o[6]]=h.rotate;return t.reflow(n).modifies(o)}});const L6=e=>new Uint8Array(e),B6=e=>new Uint16Array(e),j6=e=>new Uint32Array(e);function U6(e,t,n){const r=(t<257?L6:t<65537?B6:j6)(e);return n&&r.set(n),r}function K6(e,t,n){const r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(e,t){const n=this,i=n.bisect(n.range,e.value),o=e.index,a=i[0],l=i[1],s=o.length;let c;for(c=0;c<a;++c)t[o[c]]|=r;for(c=l;c<s;++c)t[o[c]]|=r;return n}}}function W6(){let e=j6(0),t=[],n=0;return{insert:function(r,i,o){if(!i.length)return[];const a=n,l=i.length,s=j6(l);let c,u,d,f=Array(l);for(d=0;d<l;++d)f[d]=r(i[d]),s[d]=d;if(f=function(e,t){return e.sort.call(t,((t,n)=>{const r=e[t],i=e[n];return r<i?-1:r>i?1:0})),function(e,t){return Array.from(t,(t=>e[t]))}(e,t)}(f,s),a)c=t,u=e,t=Array(a+l),e=j6(a+l),function(e,t,n,r,i,o,a,l,s){let c,u=0,d=0;for(c=0;u<r&&d<a;++c)t[u]<i[d]?(l[c]=t[u],s[c]=n[u++]):(l[c]=i[d],s[c]=o[d++]+e);for(;u<r;++u,++c)l[c]=t[u],s[c]=n[u];for(;d<a;++d,++c)l[c]=i[d],s[c]=o[d]+e}(o,c,u,a,f,s,l,t,e);else{if(o>0)for(d=0;d<l;++d)s[d]+=o;t=f,e=s}return n=a+l,{index:s,value:f}},remove:function(r,i){const o=n;let a,l,s;for(l=0;!i[e[l]]&&l<o;++l);for(s=l;l<o;++l)i[a=e[l]]||(e[s]=a,t[s]=t[l],++s);n=o-r},bisect:function(e,r){let i;return r?i=r.length:(r=t,i=n),[BU(r,e[0],0,i),LU(r,e[1],0,i)]},reindex:function(t){for(let r=0,i=n;r<i;++r)e[r]=t[e[r]]},index:()=>e,size:()=>n}}function q6(e){_I.call(this,function(){let e=8,t=[],n=j6(0),r=U6(0,e),i=U6(0,e);return{data:()=>t,seen:()=>n=function(e,t,n){return e.length>=t?e:((n=n||new e.constructor(t)).set(e),n)}(n,t.length),add(e){for(let n,r=0,i=t.length,o=e.length;r<o;++r)n=e[r],n._index=i++,t.push(n)},remove(e,n){const o=t.length,a=Array(o-e),l=t;let s,c,u;for(c=0;!n[c]&&c<o;++c)a[c]=t[c],l[c]=c;for(u=c;c<o;++c)s=t[c],n[c]?l[c]=-1:(l[c]=u,r[u]=r[c],i[u]=i[c],a[u]=s,s._index=u++),r[c]=0;return t=a,l},size:()=>t.length,curr:()=>r,prev:()=>i,reset:e=>i[e]=r[e],all:()=>e<257?255:e<65537?65535:4294967295,set(e,t){r[e]|=t},clear(e,t){r[e]&=~t},resize(t,n){(t>r.length||n>e)&&(e=Math.max(n,e),r=U6(t,e,r),i=U6(t,e))}}}(),e),this._indices=null,this._dims=null}function H6(e){_I.call(this,null,e)}q6.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]},hF(q6,_I,{transform(e,t){return this._dims?e.modified("fields")||e.fields.some((e=>t.modified(e.fields)))?this.reinit(e,t):this.eval(e,t):this.init(e,t)},init(e,t){const n=e.fields,r=e.query,i=this._indices={},o=this._dims=[],a=r.length;let l,s,c=0;for(;c<a;++c)l=n[c].fname,s=i[l]||(i[l]=W6()),o.push(K6(s,c,r[c]));return this.eval(e,t)},reinit(e,t){const n=t.materialize().fork(),r=e.fields,i=e.query,o=this._indices,a=this._dims,l=this.value,s=l.curr(),c=l.prev(),u=l.all(),d=n.rem=n.add,f=n.mod,h=i.length,p={};let m,g,v,y,b,x,w,_,k;if(c.set(s),t.rem.length&&(b=this.remove(e,t,n)),t.add.length&&l.add(t.add),t.mod.length)for(x={},y=t.mod,w=0,_=y.length;w<_;++w)x[y[w]._index]=1;for(w=0;w<h;++w)k=r[w],(!a[w]||e.modified("fields",w)||t.modified(k.fields))&&(v=k.fname,(m=p[v])||(o[v]=g=W6(),p[v]=m=g.insert(k,t.source,0)),a[w]=K6(g,w,i[w]).onAdd(m,s));for(w=0,_=l.data().length;w<_;++w)b[w]||(c[w]!==s[w]?d.push(w):x[w]&&s[w]!==u&&f.push(w));return l.mask=(1<<h)-1,n},eval(e,t){const n=t.materialize().fork(),r=this._dims.length;let i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},insert(e,t,n){const r=t.add,i=this.value,o=this._dims,a=this._indices,l=e.fields,s={},c=n.add,u=i.size()+r.length,d=o.length;let f,h,p,m=i.size();i.resize(u,d),i.add(r);const g=i.curr(),v=i.prev(),y=i.all();for(f=0;f<d;++f)h=l[f].fname,p=s[h]||(s[h]=a[h].insert(l[f],r,m)),o[f].onAdd(p,g);for(;m<u;++m)v[m]=y,g[m]!==y&&c.push(m)},modify(e,t){const n=t.mod,r=this.value,i=r.curr(),o=r.all(),a=e.mod;let l,s,c;for(l=0,s=a.length;l<s;++l)c=a[l]._index,i[c]!==o&&n.push(c)},remove(e,t,n){const r=this._indices,i=this.value,o=i.curr(),a=i.prev(),l=i.all(),s={},c=n.rem,u=t.rem;let d,f,h,p;for(d=0,f=u.length;d<f;++d)h=u[d]._index,s[h]=1,a[h]=p=o[h],o[h]=l,p!==l&&c.push(h);for(h in r)r[h].remove(f,s);return this.reindex(t,f,s),s},reindex(e,t,n){const r=this._indices,i=this.value;e.runAfter((()=>{const e=i.remove(t,n);for(const t in r)r[t].reindex(e)}))},update(e,t,n){const r=this._dims,i=e.query,o=t.stamp,a=r.length;let l,s,c=0;for(n.filters=0,s=0;s<a;++s)e.modified("query",s)&&(l=s,++c);if(1===c)c=r[l].one,this.incrementOne(r[l],i[l],n.add,n.rem);else for(s=0,c=0;s<a;++s)e.modified("query",s)&&(c|=r[s].one,this.incrementAll(r[s],i[s],o,n.add),n.rem=n.add);return c},incrementAll(e,t,n,r){const i=this.value,o=i.seen(),a=i.curr(),l=i.prev(),s=e.index(),c=e.bisect(e.range),u=e.bisect(t),d=u[0],f=u[1],h=c[0],p=c[1],m=e.one;let g,v,y;if(d<h)for(g=d,v=Math.min(h,f);g<v;++g)y=s[g],o[y]!==n&&(l[y]=a[y],o[y]=n,r.push(y)),a[y]^=m;else if(d>h)for(g=h,v=Math.min(d,p);g<v;++g)y=s[g],o[y]!==n&&(l[y]=a[y],o[y]=n,r.push(y)),a[y]^=m;if(f>p)for(g=Math.max(d,p),v=f;g<v;++g)y=s[g],o[y]!==n&&(l[y]=a[y],o[y]=n,r.push(y)),a[y]^=m;else if(f<p)for(g=Math.max(h,f),v=p;g<v;++g)y=s[g],o[y]!==n&&(l[y]=a[y],o[y]=n,r.push(y)),a[y]^=m;e.range=t.slice()},incrementOne(e,t,n,r){const i=this.value.curr(),o=e.index(),a=e.bisect(e.range),l=e.bisect(t),s=l[0],c=l[1],u=a[0],d=a[1],f=e.one;let h,p,m;if(s<u)for(h=s,p=Math.min(u,c);h<p;++h)m=o[h],i[m]^=f,n.push(m);else if(s>u)for(h=u,p=Math.min(s,d);h<p;++h)m=o[h],i[m]^=f,r.push(m);if(c>d)for(h=Math.max(s,d),p=c;h<p;++h)m=o[h],i[m]^=f,n.push(m);else if(c<d)for(h=Math.max(u,c),p=d;h<p;++h)m=o[h],i[m]^=f,r.push(m);e.range=t.slice()}}),H6.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]},hF(H6,_I,{transform(e,t){const n=~(e.ignore||0),r=e.filter,i=r.mask;if(0===(i&n))return t.StopPropagation;const o=t.fork(t.ALL),a=r.data(),l=r.curr(),s=r.prev(),c=e=>l[e]&n?null:a[e];return o.filter(o.MOD,c),i&i-1?(o.filter(o.ADD,(e=>{const t=l[e]&n;return!t&&t^s[e]&n?a[e]:null})),o.filter(o.REM,(e=>{const t=l[e]&n;return t&&!(t^t^s[e]&n)?a[e]:null}))):(o.filter(o.ADD,c),o.filter(o.REM,(e=>(l[e]&n)===i?a[e]:null))),o.filter(o.SOURCE,(e=>c(e._index)))}});const V6="Literal",G6="Property",Y6="ArrayExpression",Q6="BinaryExpression",X6="CallExpression",$6="ConditionalExpression",Z6="LogicalExpression",J6="MemberExpression",e8="ObjectExpression",t8="UnaryExpression";function n8(e){this.type=e}var r8,i8,o8,a8,l8;n8.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=function(e){switch(e.type){case Y6:return e.elements;case Q6:case Z6:return[e.left,e.right];case X6:return[e.callee].concat(e.arguments);case $6:return[e.test,e.consequent,e.alternate];case J6:return[e.object,e.property];case e8:return e.properties;case G6:return[e.key,e.value];case t8:return[e.argument];default:return[]}}(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};var s8=1,c8=2,u8=3,d8=4,f8=5,h8=6,p8=7,m8=8;(r8={})[s8]="Boolean",r8[c8]="<end>",r8[u8]="Identifier",r8[d8]="Keyword",r8[f8]="Null",r8[h8]="Numeric",r8[p8]="Punctuator",r8[m8]="String",r8[9]="RegularExpression";var g8="ArrayExpression",v8="BinaryExpression",y8="CallExpression",b8="ConditionalExpression",x8="Identifier",w8="Literal",_8="LogicalExpression",k8="MemberExpression",E8="ObjectExpression",S8="Property",C8="UnaryExpression",M8="Unexpected token %0",T8="Unexpected number",A8="Unexpected string",D8="Unexpected identifier",F8="Unexpected reserved word",N8="Unexpected end of input",R8="Invalid regular expression",z8="Invalid regular expression: missing /",P8="Octal literals are not allowed in strict mode.",O8="Duplicate data property in object literal not allowed in strict mode",I8="ILLEGAL",L8="Disabled.",B8=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),j8=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function U8(e,t){if(!e)throw new Error("ASSERT: "+t)}function K8(e){return e>=48&&e<=57}function W8(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function q8(e){return"01234567".indexOf(e)>=0}function H8(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function V8(e){return 10===e||13===e||8232===e||8233===e}function G8(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&B8.test(String.fromCharCode(e))}function Y8(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&j8.test(String.fromCharCode(e))}const Q8={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function X8(){for(;o8<a8;){const e=i8.charCodeAt(o8);if(!H8(e)&&!V8(e))break;++o8}}function $8(e){var t,n,r,i=0;for(n="u"===e?4:2,t=0;t<n;++t)o8<a8&&W8(i8[o8])?(r=i8[o8++],i=16*i+"0123456789abcdef".indexOf(r.toLowerCase())):h7({},M8,I8);return String.fromCharCode(i)}function Z8(){var e,t,n,r;for(t=0,"}"===(e=i8[o8])&&h7({},M8,I8);o8<a8&&W8(e=i8[o8++]);)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&h7({},M8,I8),t<=65535?String.fromCharCode(t):(n=55296+(t-65536>>10),r=56320+(t-65536&1023),String.fromCharCode(n,r))}function J8(){var e,t;for(e=i8.charCodeAt(o8++),t=String.fromCharCode(e),92===e&&(117!==i8.charCodeAt(o8)&&h7({},M8,I8),++o8,(e=$8("u"))&&"\\"!==e&&G8(e.charCodeAt(0))||h7({},M8,I8),t=e);o8<a8&&Y8(e=i8.charCodeAt(o8));)++o8,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==i8.charCodeAt(o8)&&h7({},M8,I8),++o8,(e=$8("u"))&&"\\"!==e&&Y8(e.charCodeAt(0))||h7({},M8,I8),t+=e);return t}function e7(){var e,t;return e=o8,t=92===i8.charCodeAt(o8)?J8():function(){var e,t;for(e=o8++;o8<a8;){if(92===(t=i8.charCodeAt(o8)))return o8=e,J8();if(!Y8(t))break;++o8}return i8.slice(e,o8)}(),{type:1===t.length?u8:Q8.hasOwnProperty(t)?d8:"null"===t?f8:"true"===t||"false"===t?s8:u8,value:t,start:e,end:o8}}function t7(){var e,t,n,r,i=o8,o=i8.charCodeAt(o8),a=i8[o8];switch(o){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++o8,{type:p8,value:String.fromCharCode(o),start:i,end:o8};default:if(61===(e=i8.charCodeAt(o8+1)))switch(o){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return o8+=2,{type:p8,value:String.fromCharCode(o)+String.fromCharCode(e),start:i,end:o8};case 33:case 61:return o8+=2,61===i8.charCodeAt(o8)&&++o8,{type:p8,value:i8.slice(i,o8),start:i,end:o8}}}return">>>="===(r=i8.substr(o8,4))?{type:p8,value:r,start:i,end:o8+=4}:">>>"===(n=r.substr(0,3))||"<<="===n||">>="===n?{type:p8,value:n,start:i,end:o8+=3}:a===(t=n.substr(0,2))[1]&&"+-<>&|".indexOf(a)>=0||"=>"===t?{type:p8,value:t,start:i,end:o8+=2}:("//"===t&&h7({},M8,I8),"<>=!+-*%&|^/".indexOf(a)>=0?(++o8,{type:p8,value:a,start:i,end:o8}):void h7({},M8,I8))}function n7(){var e,t,n;if(U8(K8((n=i8[o8]).charCodeAt(0))||"."===n,"Numeric literal must start with a decimal digit or a decimal point"),t=o8,e="","."!==n){if(e=i8[o8++],n=i8[o8],"0"===e){if("x"===n||"X"===n)return++o8,function(e){let t="";for(;o8<a8&&W8(i8[o8]);)t+=i8[o8++];return 0===t.length&&h7({},M8,I8),G8(i8.charCodeAt(o8))&&h7({},M8,I8),{type:h8,value:parseInt("0x"+t,16),start:e,end:o8}}(t);if(q8(n))return function(e){let t="0"+i8[o8++];for(;o8<a8&&q8(i8[o8]);)t+=i8[o8++];return(G8(i8.charCodeAt(o8))||K8(i8.charCodeAt(o8)))&&h7({},M8,I8),{type:h8,value:parseInt(t,8),octal:!0,start:e,end:o8}}(t);n&&K8(n.charCodeAt(0))&&h7({},M8,I8)}for(;K8(i8.charCodeAt(o8));)e+=i8[o8++];n=i8[o8]}if("."===n){for(e+=i8[o8++];K8(i8.charCodeAt(o8));)e+=i8[o8++];n=i8[o8]}if("e"===n||"E"===n)if(e+=i8[o8++],"+"!==(n=i8[o8])&&"-"!==n||(e+=i8[o8++]),K8(i8.charCodeAt(o8)))for(;K8(i8.charCodeAt(o8));)e+=i8[o8++];else h7({},M8,I8);return G8(i8.charCodeAt(o8))&&h7({},M8,I8),{type:h8,value:parseFloat(e),start:t,end:o8}}function r7(){var e,t,n,r;return l8=null,X8(),e=o8,t=function(){var e,t,n,r;for(U8("/"===(e=i8[o8]),"Regular expression literal must start with a slash"),t=i8[o8++],n=!1,r=!1;o8<a8;)if(t+=e=i8[o8++],"\\"===e)V8((e=i8[o8++]).charCodeAt(0))&&h7({},z8),t+=e;else if(V8(e.charCodeAt(0)))h7({},z8);else if(n)"]"===e&&(n=!1);else{if("/"===e){r=!0;break}"["===e&&(n=!0)}return r||h7({},z8),{value:t.substr(1,t.length-2),literal:t}}(),n=function(){var e,t,n;for(t="",n="";o8<a8&&Y8((e=i8[o8]).charCodeAt(0));)++o8,"\\"===e&&o8<a8?h7({},M8,I8):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&h7({},R8,n),{value:n,literal:t}}(),r=function(e,t){let n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,((e,t)=>{if(parseInt(t,16)<=1114111)return"x";h7({},R8)})).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch(BMe){h7({},R8)}try{return new RegExp(e,t)}catch(r){return null}}(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:o8}}function i7(){if(X8(),o8>=a8)return{type:c8,start:o8,end:o8};const e=i8.charCodeAt(o8);return G8(e)?e7():40===e||41===e||59===e?t7():39===e||34===e?function(){var e,t,n,r,i="",o=!1;for(U8("'"===(e=i8[o8])||'"'===e,"String literal must starts with a quote"),t=o8,++o8;o8<a8;){if((n=i8[o8++])===e){e="";break}if("\\"===n)if((n=i8[o8++])&&V8(n.charCodeAt(0)))"\r"===n&&"\n"===i8[o8]&&++o8;else switch(n){case"u":case"x":"{"===i8[o8]?(++o8,i+=Z8()):i+=$8(n);break;case"n":i+="\n";break;case"r":i+="\r";break;case"t":i+="\t";break;case"b":i+="\b";break;case"f":i+="\f";break;case"v":i+="\v";break;default:q8(n)?(0!==(r="01234567".indexOf(n))&&(o=!0),o8<a8&&q8(i8[o8])&&(o=!0,r=8*r+"01234567".indexOf(i8[o8++]),"0123".indexOf(n)>=0&&o8<a8&&q8(i8[o8])&&(r=8*r+"01234567".indexOf(i8[o8++]))),i+=String.fromCharCode(r)):i+=n}else{if(V8(n.charCodeAt(0)))break;i+=n}}return""!==e&&h7({},M8,I8),{type:m8,value:i,octal:o,start:t,end:o8}}():46===e?K8(i8.charCodeAt(o8+1))?n7():t7():K8(e)?n7():t7()}function o7(){const e=l8;return o8=e.end,l8=i7(),o8=e.end,e}function a7(){const e=o8;l8=i7(),o8=e}function l7(e,t,n){const r=new n8("||"===e||"&&"===e?_8:v8);return r.operator=e,r.left=t,r.right=n,r}function s7(e,t){const n=new n8(y8);return n.callee=e,n.arguments=t,n}function c7(e){const t=new n8(x8);return t.name=e,t}function u7(e){const t=new n8(w8);return t.value=e.value,t.raw=i8.slice(e.start,e.end),e.regex&&("//"===t.raw&&(t.raw="/(?:)/"),t.regex=e.regex),t}function d7(e,t,n){const r=new n8(k8);return r.computed="["===e,r.object=t,r.property=n,r.computed||(n.member=!0),r}function f7(e,t,n){const r=new n8(S8);return r.key=t,r.value=n,r.kind=e,r}function h7(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,((e,t)=>(U8(t<r.length,"Message reference must be in range"),r[t])));throw(n=new Error(i)).index=o8,n.description=i,n}function p7(e){e.type===c8&&h7(e,N8),e.type===h8&&h7(e,T8),e.type===m8&&h7(e,A8),e.type===u8&&h7(e,D8),e.type===d8&&h7(e,F8),h7(e,M8,e.value)}function m7(e){const t=o7();t.type===p8&&t.value===e||p7(t)}function g7(e){return l8.type===p8&&l8.value===e}function v7(e){return l8.type===d8&&l8.value===e}function y7(){const e=[];for(o8=l8.start,m7("[");!g7("]");)g7(",")?(o7(),e.push(null)):(e.push(D7()),g7("]")||m7(","));return o7(),function(e){const t=new n8(g8);return t.elements=e,t}(e)}function b7(){o8=l8.start;const e=o7();return e.type===m8||e.type===h8?(e.octal&&h7(e,P8),u7(e)):c7(e.value)}function x7(){var e,t,n;return o8=l8.start,(e=l8).type===u8?(n=b7(),m7(":"),f7("init",n,D7())):e.type!==c8&&e.type!==p8?(t=b7(),m7(":"),f7("init",t,D7())):void p7(e)}function w7(){var e,t,n=[],r={},i=String;for(o8=l8.start,m7("{");!g7("}");)t="$"+((e=x7()).key.type===x8?e.key.name:i(e.key.value)),Object.prototype.hasOwnProperty.call(r,t)?h7({},O8):r[t]=!0,n.push(e),g7("}")||m7(",");return m7("}"),function(e){const t=new n8(E8);return t.properties=e,t}(n)}const _7={if:1};function k7(){var e,t,n;if(g7("("))return function(){m7("(");const e=F7();return m7(")"),e}();if(g7("["))return y7();if(g7("{"))return w7();if(e=l8.type,o8=l8.start,e===u8||_7[l8.value])n=c7(o7().value);else if(e===m8||e===h8)l8.octal&&h7(l8,P8),n=u7(o7());else{if(e===d8)throw new Error(L8);e===s8?((t=o7()).value="true"===t.value,n=u7(t)):e===f8?((t=o7()).value=null,n=u7(t)):g7("/")||g7("/=")?(n=u7(r7()),a7()):p7(o7())}return n}function E7(){const e=[];if(m7("("),!g7(")"))for(;o8<a8&&(e.push(D7()),!g7(")"));)m7(",");return m7(")"),e}function S7(){o8=l8.start;const e=o7();return function(e){return e.type===u8||e.type===d8||e.type===s8||e.type===f8}(e)||p7(e),c7(e.value)}function C7(){m7("[");const e=F7();return m7("]"),e}function M7(){const e=function(){var e;for(e=k7();;)if(g7("."))m7("."),e=d7(".",e,S7());else if(g7("("))e=s7(e,E7());else{if(!g7("["))break;e=d7("[",e,C7())}return e}();if(l8.type===p8&&(g7("++")||g7("--")))throw new Error(L8);return e}function T7(){var e,t;if(l8.type!==p8&&l8.type!==d8)t=M7();else{if(g7("++")||g7("--"))throw new Error(L8);if(g7("+")||g7("-")||g7("~")||g7("!"))e=o7(),t=T7(),t=function(e,t){const n=new n8(C8);return n.operator=e,n.argument=t,n.prefix=!0,n}(e.value,t);else{if(v7("delete")||v7("void")||v7("typeof"))throw new Error(L8);t=M7()}}return t}function A7(e){let t=0;if(e.type!==p8&&e.type!==d8)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11}return t}function D7(){var e,t;return e=function(){var e,t,n,r,i,o,a,l,s,c;if(e=l8,s=T7(),0===(i=A7(r=l8)))return s;for(r.prec=i,o7(),t=[e,l8],o=[s,r,a=T7()];(i=A7(l8))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)a=o.pop(),l=o.pop().value,s=o.pop(),t.pop(),n=l7(l,s,a),o.push(n);(r=o7()).prec=i,o.push(r),t.push(l8),n=T7(),o.push(n)}for(n=o[c=o.length-1],t.pop();c>1;)t.pop(),n=l7(o[c-1].value,o[c-2],n),c-=2;return n}(),g7("?")&&(o7(),t=D7(),m7(":"),e=function(e,t,n){const r=new n8(b8);return r.test=e,r.consequent=t,r.alternate=n,r}(e,t,D7())),e}function F7(){const e=D7();if(g7(","))throw new Error(L8);return e}function N7(e){o8=0,a8=(i8=e).length,l8=null,a7();const t=F7();if(l8.type!==c8)throw new Error("Unexpect token after expression.");return t}var R7={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function z7(e){function t(t,n,r){return i=>function(t,n,r,i){let o=e(n[0]);return r&&(o=r+"("+o+")",0===r.lastIndexOf("new ",0)&&(o="("+o+")")),o+"."+t+(i<0?"":0===i?"()":"("+n.slice(1).map(e).join(",")+")")}(t,i,n,r)}const n="new Date",r="String",i="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(t){t.length<3&&lD("Missing arguments to clamp function."),t.length>3&&lD("Too many arguments to clamp function.");const n=t.map(e);return"Math.max("+n[1]+", Math.min("+n[2]+","+n[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:n,date:t("getDate",n,0),day:t("getDay",n,0),year:t("getFullYear",n,0),month:t("getMonth",n,0),hours:t("getHours",n,0),minutes:t("getMinutes",n,0),seconds:t("getSeconds",n,0),milliseconds:t("getMilliseconds",n,0),time:t("getTime",n,0),timezoneoffset:t("getTimezoneOffset",n,0),utcdate:t("getUTCDate",n,0),utcday:t("getUTCDay",n,0),utcyear:t("getUTCFullYear",n,0),utcmonth:t("getUTCMonth",n,0),utchours:t("getUTCHours",n,0),utcminutes:t("getUTCMinutes",n,0),utcseconds:t("getUTCSeconds",n,0),utcmilliseconds:t("getUTCMilliseconds",n,0),length:t("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:t("toUpperCase",r,0),lower:t("toLowerCase",r,0),substring:t("substring",r),split:t("split",r),trim:t("trim",r,0),regexp:i,test:t("test",i),if:function(t){t.length<3&&lD("Missing arguments to if function."),t.length>3&&lD("Too many arguments to if function.");const n=t.map(e);return"("+n[0]+"?"+n[1]+":"+n[2]+")"}}}function P7(e){const t=(e=e||{}).allowed?zF(e.allowed):{},n=e.forbidden?zF(e.forbidden):{},r=e.constants||R7,i=(e.functions||z7)(d),o=e.globalvar,a=e.fieldvar,l=XD(o)?o:e=>"".concat(o,'["').concat(e,'"]');let s={},c={},u=0;function d(e){if(xF(e))return e;const t=f[e.type];return null==t&&lD("Unsupported type: "+e.type),t(e)}const f={Literal:e=>e.raw,Identifier:e=>{const i=e.name;return u>0?i:cF(n,i)?lD("Illegal identifier: "+i):cF(r,i)?r[i]:cF(t,i)?i:(s[i]=1,l(i))},MemberExpression:e=>{const t=!e.computed,n=d(e.object);t&&(u+=1);const r=d(e.property);return n===a&&(c[function(e){const t=e&&e.length-1;return t&&('"'===e[0]&&'"'===e[t]||"'"===e[0]&&"'"===e[t])?e.slice(1,-1):e}(r)]=1),t&&(u-=1),n+(t?"."+r:"["+r+"]")},CallExpression:e=>{"Identifier"!==e.callee.type&&lD("Illegal callee type: "+e.callee.type);const t=e.callee.name,n=e.arguments,r=cF(i,t)&&i[t];return r||lD("Unrecognized function: "+t),XD(r)?r(n):r+"("+n.map(d).join(",")+")"},ArrayExpression:e=>"["+e.elements.map(d).join(",")+"]",BinaryExpression:e=>"("+d(e.left)+" "+e.operator+" "+d(e.right)+")",UnaryExpression:e=>"("+e.operator+d(e.argument)+")",ConditionalExpression:e=>"("+d(e.test)+"?"+d(e.consequent)+":"+d(e.alternate)+")",LogicalExpression:e=>"("+d(e.left)+e.operator+d(e.right)+")",ObjectExpression:e=>"{"+e.properties.map(d).join(",")+"}",Property:e=>{u+=1;const t=d(e.key);return u-=1,t+":"+d(e.value)}};function h(e){const t={code:d(e),globals:Object.keys(s),fields:Object.keys(c)};return s={},c={},t}return h.functions=i,h.constants=r,h}var O7,I7,L7,B7,j7,U7,K7,W7,q7,H7,V7,G7,Y7,Q7,X7,$7,Z7=new aJ,J7=new aJ,e9={point:DJ,lineStart:DJ,lineEnd:DJ,polygonStart:function(){Z7=new aJ,e9.lineStart=t9,e9.lineEnd=n9},polygonEnd:function(){var e=+Z7;J7.add(e<0?fJ+e:e),this.lineStart=this.lineEnd=this.point=DJ},sphere:function(){J7.add(fJ)}};function t9(){e9.point=r9}function n9(){i9(O7,I7)}function r9(e,t){e9.point=i9,O7=e,I7=t,L7=e*=pJ,B7=yJ(t=(t*=pJ)/2+dJ),j7=EJ(t)}function i9(e,t){var n=(e*=pJ)-L7,r=n>=0?1:-1,i=r*n,o=yJ(t=(t*=pJ)/2+dJ),a=EJ(t),l=j7*a,s=B7*o+l*yJ(i),c=l*r*EJ(i);Z7.add(vJ(c,s)),L7=e,B7=o,j7=a}var o9,a9,l9,s9,c9,u9,d9,f9,h9,p9,m9,g9,v9,y9,b9,x9,w9={point:_9,lineStart:E9,lineEnd:S9,polygonStart:function(){w9.point=C9,w9.lineStart=M9,w9.lineEnd=T9,Q7=new aJ,e9.polygonStart()},polygonEnd:function(){e9.polygonEnd(),w9.point=_9,w9.lineStart=E9,w9.lineEnd=S9,Z7<0?(U7=-(W7=180),K7=-(q7=90)):Q7>lJ?q7=90:Q7<-lJ&&(K7=-90),$7[0]=U7,$7[1]=W7},sphere:function(){U7=-(W7=180),K7=-(q7=90)}};function _9(e,t){X7.push($7=[U7=e,W7=e]),t<K7&&(K7=t),t>q7&&(q7=t)}function k9(e,t){var n=G0([e*pJ,t*pJ]);if(Y7){var r=Q0(Y7,n),i=Q0([r[1],-r[0],0],r);Z0(i),i=V0(i);var o,a=e-H7,l=a>0?1:-1,s=i[0]*hJ*l,c=mJ(a)>180;c^(l*H7<s&&s<l*e)?(o=i[1]*hJ)>q7&&(q7=o):c^(l*H7<(s=(s+360)%360-180)&&s<l*e)?(o=-i[1]*hJ)<K7&&(K7=o):(t<K7&&(K7=t),t>q7&&(q7=t)),c?e<H7?A9(U7,e)>A9(U7,W7)&&(W7=e):A9(e,W7)>A9(U7,W7)&&(U7=e):W7>=U7?(e<U7&&(U7=e),e>W7&&(W7=e)):e>H7?A9(U7,e)>A9(U7,W7)&&(W7=e):A9(e,W7)>A9(U7,W7)&&(U7=e)}else X7.push($7=[U7=e,W7=e]);t<K7&&(K7=t),t>q7&&(q7=t),Y7=n,H7=e}function E9(){w9.point=k9}function S9(){$7[0]=U7,$7[1]=W7,w9.point=_9,Y7=null}function C9(e,t){if(Y7){var n=e-H7;Q7.add(mJ(n)>180?n+(n>0?360:-360):n)}else V7=e,G7=t;e9.point(e,t),k9(e,t)}function M9(){e9.lineStart()}function T9(){C9(V7,G7),e9.lineEnd(),mJ(Q7)>lJ&&(U7=-(W7=180)),$7[0]=U7,$7[1]=W7,Y7=null}function A9(e,t){return(t-=e)<0?t+360:t}function D9(e,t){return e[0]-t[0]}function F9(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var N9={sphere:DJ,point:R9,lineStart:P9,lineEnd:L9,polygonStart:function(){N9.lineStart=B9,N9.lineEnd=j9},polygonEnd:function(){N9.lineStart=P9,N9.lineEnd=L9}};function R9(e,t){e*=pJ;var n=yJ(t*=pJ);z9(n*yJ(e),n*EJ(e),EJ(t))}function z9(e,t,n){++o9,l9+=(e-l9)/o9,s9+=(t-s9)/o9,c9+=(n-c9)/o9}function P9(){N9.point=O9}function O9(e,t){e*=pJ;var n=yJ(t*=pJ);y9=n*yJ(e),b9=n*EJ(e),x9=EJ(t),N9.point=I9,z9(y9,b9,x9)}function I9(e,t){e*=pJ;var n=yJ(t*=pJ),r=n*yJ(e),i=n*EJ(e),o=EJ(t),a=vJ(CJ((a=b9*o-x9*i)*a+(a=x9*r-y9*o)*a+(a=y9*i-b9*r)*a),y9*r+b9*i+x9*o);a9+=a,u9+=a*(y9+(y9=r)),d9+=a*(b9+(b9=i)),f9+=a*(x9+(x9=o)),z9(y9,b9,x9)}function L9(){N9.point=R9}function B9(){N9.point=U9}function j9(){K9(g9,v9),N9.point=R9}function U9(e,t){g9=e,v9=t,e*=pJ,t*=pJ,N9.point=K9;var n=yJ(t);y9=n*yJ(e),b9=n*EJ(e),x9=EJ(t),z9(y9,b9,x9)}function K9(e,t){e*=pJ;var n=yJ(t*=pJ),r=n*yJ(e),i=n*EJ(e),o=EJ(t),a=b9*o-x9*i,l=x9*r-y9*o,s=y9*i-b9*r,c=wJ(a,l,s),u=AJ(c),d=c&&-u/c;h9.add(d*a),p9.add(d*l),m9.add(d*s),a9+=u,u9+=u*(y9+(y9=r)),d9+=u*(b9+(b9=i)),f9+=u*(x9+(x9=o)),z9(y9,b9,x9)}function W9(e){return e instanceof LW?e:new LW(e)}const q9=Symbol("vega_selection_getter");function H9(e){return e.getter&&e.getter[q9]||(e.getter=cD(e.field),e.getter[q9]=!0),e.getter}const V9="intersect",G9="union",Y9="_vgsid_",Q9=cD(Y9),X9="E",$9="R",Z9="R-E",J9="R-LE",eee="R-RE",tee="index:unit";function nee(e,t){for(var n,r,i=t.fields,o=t.values,a=i.length,l=0;l<a;++l)if(gF(n=H9(r=i[l])(e))&&(n=DD(n)),gF(o[l])&&(o[l]=DD(o[l])),kD(o[l])&&gF(o[l][0])&&(o[l]=o[l].map(DD)),r.type===X9){if(kD(o[l])?o[l].indexOf(n)<0:n!==o[l])return!1}else if(r.type===$9){if(!pF(n,o[l]))return!1}else if(r.type===eee){if(!pF(n,o[l],!0,!1))return!1}else if(r.type===Z9){if(!pF(n,o[l],!1,!1))return!1}else if(r.type===J9&&!pF(n,o[l],!1,!0))return!1;return!0}const ree=fR(Q9),iee=ree.left,oee=ree.right;var aee={["".concat(Y9,"_union")]:function(){const e=new LW;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)for(const t of i)e.add(t);return e},["".concat(Y9,"_intersect")]:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=new LW(e),n=n.map(W9);e:for(const i of e)for(const t of n)if(!t.has(i)){e.delete(i);continue e}return e},E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.indexOf(t[n])<0&&e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter((e=>t.indexOf(e)>=0)):t},R_union:function(e,t){var n=DD(t[0]),r=DD(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<r&&(e[1]=r),e):[n,r]},R_intersect:function(e,t){var n=DD(t[0]),r=DD(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?r<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>r&&(e[1]=r),e):[n,r]}};function lee(e,t,n,r){t[0].type!==V6&&lD("First argument to selection functions must be a string literal.");const i=t[0].value,o="unit",a="@"+o,l=":"+i;(t.length>=2&&AD(t).value)!==V9||cF(r,a)||(r[a]=n.getData(i).indataRef(n,o)),cF(r,l)||(r[l]=n.getData(i).tuplesRef())}function see(e){const t=this.context.data[e];return t?t.values.value:[]}const cee=e=>function(t,n){return this.context.dataflow.locale()[e](n)(t)},uee=cee("format"),dee=cee("timeFormat"),fee=cee("utcFormat"),hee=cee("timeParse"),pee=cee("utcParse"),mee=new Date(2e3,0,1);function gee(e,t,n){return Number.isInteger(e)&&Number.isInteger(t)?(mee.setYear(2e3),mee.setMonth(e),mee.setDate(t),dee.call(this,mee,n)):""}const vee="%",yee="$";function bee(e,t,n,r){t[0].type!==V6&&lD("First argument to data functions must be a string literal.");const i=t[0].value,o=":"+i;if(!cF(o,r))try{r[o]=n.getData(i).tuplesRef()}catch(a){}}function xee(e,t,n,r){if(t[0].type===V6)wee(n,r,t[0].value);else for(e in n.scales)wee(n,r,e)}function wee(e,t,n){const r=vee+n;if(!cF(t,r))try{t[r]=e.scaleRef(n)}catch(i){}}function _ee(e,t){if(XD(e))return e;if(xF(e)){const n=t.scales[e];return n&&function(e){return e&&!0===e[gH]}(n.value)?n.value:void 0}}function kee(e,t,n){t.__bandwidth=e=>e&&e.bandwidth?e.bandwidth():0,n._bandwidth=xee,n._range=xee,n._scale=xee;const r=t=>"_["+(t.type===V6?AF(vee+t.value):AF(vee)+"+"+e(t))+"]";return{_bandwidth:e=>"this.__bandwidth(".concat(r(e[0]),")"),_range:e=>"".concat(r(e[0]),".range()"),_scale:t=>"".concat(r(t[0]),"(").concat(e(t[1]),")")}}function Eee(e,t){return function(n,r,i){if(n){const t=_ee(n,(i||this).context);return t&&t.path[e](r)}return t(r)}}const See=Eee("area",(function(e){return J7=new aJ,oJ(e,e9),2*J7})),Cee=Eee("bounds",(function(e){var t,n,r,i,o,a,l;if(q7=W7=-(U7=K7=1/0),X7=[],oJ(e,w9),n=X7.length){for(X7.sort(D9),t=1,o=[r=X7[0]];t<n;++t)F9(r,(i=X7[t])[0])||F9(r,i[1])?(A9(r[0],i[1])>A9(r[0],r[1])&&(r[1]=i[1]),A9(i[0],r[1])>A9(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,t=0,r=o[n=o.length-1];t<=n;r=i,++t)i=o[t],(l=A9(r[1],i[0]))>a&&(a=l,U7=i[0],W7=r[1])}return X7=$7=null,U7===1/0||K7===1/0?[[NaN,NaN],[NaN,NaN]]:[[U7,K7],[W7,q7]]})),Mee=Eee("centroid",(function(e){o9=a9=l9=s9=c9=u9=d9=f9=0,h9=new aJ,p9=new aJ,m9=new aJ,oJ(e,N9);var t=+h9,n=+p9,r=+m9,i=wJ(t,n,r);return i<sJ&&(t=u9,n=d9,r=f9,a9<lJ&&(t=l9,n=s9,r=c9),(i=wJ(t,n,r))<sJ)?[NaN,NaN]:[vJ(n,t)*hJ,AJ(r/i)*hJ]}));function Tee(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}function Aee(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Dee(e){const t=cK(e);return.2126*Aee(t.r)+.7152*Aee(t.g)+.0722*Aee(t.b)}function Fee(e,t){return e===t||e!==e&&t!==t||(kD(e)?!(!kD(t)||e.length!==t.length)&&function(e,t){for(let n=0,r=e.length;n<r;++n)if(!Fee(e[n],t[n]))return!1;return!0}(e,t):!(!ED(e)||!ED(t))&&Nee(e,t))}function Nee(e,t){for(const n in e)if(!Fee(e[n],t[n]))return!1;return!0}function Ree(e){return t=>Nee(e,t)}const zee={};function Pee(e){return kD(e)||ArrayBuffer.isView(e)?e:null}function Oee(e){return Pee(e)||(xF(e)?e:null)}const Iee=e=>e.data;function Lee(e,t){const n=see.call(t,e);return n.root&&n.root.lookup||{}}const Bee=()=>"undefined"!==typeof window&&window||null;function jee(e,t,n){if(!e)return[];const[r,i]=e,o=(new aG).set(r[0],r[1],i[0],i[1]);return GX(n||this.context.dataflow.scenegraph().root,o,function(e){let t=null;if(e){const n=YD(e.marktype),r=YD(e.markname);t=e=>(!n.length||n.some((t=>e.marktype===t)))&&(!r.length||r.some((t=>e.name===t)))}return t}(t))}const Uee={random:()=>UI(),cumulativeNormal:ZI,cumulativeLogNormal:iL,cumulativeUniform:uL,densityNormal:$I,densityLogNormal:rL,densityUniform:cL,quantileNormal:JI,quantileLogNormal:oL,quantileUniform:dL,sampleNormal:XI,sampleLogNormal:nL,sampleUniform:sL,isArray:kD,isBoolean:mF,isDate:gF,isDefined:e=>void 0!==e,isNumber:yF,isObject:ED,isRegExp:bF,isString:xF,isTuple:KO,isValid:e=>null!=e&&e===e,toBoolean:DF,toDate:e=>NF(e),toNumber:DD,toString:RF,indexof:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Oee(e).indexOf(...n)},join:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Pee(e).join(...n)},lastindexof:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Oee(e).lastIndexOf(...n)},replace:function(e,t,n){return XD(n)&&lD("Function argument passed to replace."),String(e).replace(t,n)},reverse:function(e){return Pee(e).slice().reverse()},slice:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Oee(e).slice(...n)},flush:fF,lerp:_F,merge:function(){const e=[].slice.call(arguments);return e.unshift({}),oF(...e)},pad:MF,peek:AD,pluck:function(e,t){const n=zee[t]||(zee[t]=cD(t));return kD(e)?e.map(n):n(e)},span:TF,inrange:pF,truncate:PF,rgb:cK,lab:mq,hcl:_q,hsl:yK,luminance:Dee,contrast:function(e,t){const n=Dee(e),r=Dee(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},sequence:RL,format:uee,utcFormat:fee,utcParse:pee,utcOffset:iz,utcSequence:lz,timeFormat:dee,timeParse:hee,timeOffset:rz,timeSequence:az,timeUnitSpecifier:AR,monthFormat:function(e){return gee.call(this,e,1,"%B")},monthAbbrevFormat:function(e){return gee.call(this,e,1,"%b")},dayFormat:function(e){return gee.call(this,0,2+e,"%A")},dayAbbrevFormat:function(e){return gee.call(this,0,2+e,"%a")},quarter:VD,utcquarter:GD,week:RR,utcweek:BR,dayofyear:NR,utcdayofyear:LR,warn:function(){return Tee(this.context.dataflow,"warn",arguments)},info:function(){return Tee(this.context.dataflow,"info",arguments)},debug:function(){return Tee(this.context.dataflow,"debug",arguments)},extent:e=>aF(e),inScope:function(e){const t=this.context.group;let n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n},intersect:jee,clampRange:QD,pinchDistance:function(e){const t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.hypot(n,r)},pinchAngle:function(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)},screen:function(){const e=Bee();return e?e.screen:{}},containerSize:function(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]},windowSize:function(){const e=Bee();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]},bandspace:function(e,t,n){return Wq(e||0,t||0,n||0)},setdata:function(e,t){const n=this.context.dataflow,r=this.context.data[e].input;return n.pulse(r,n.changeset().remove(pD).insert(t)),1},pathShape:function(e){let t=null;return function(n){return n?AV(n,t=t||yV(e)):e}},panLinear:ID,panLog:LD,panPow:BD,panSymlog:jD,zoomLinear:KD,zoomLog:WD,zoomPow:qD,zoomSymlog:HD,encode:function(e,t,n){if(e){const n=this.context.dataflow,r=e.mark.source;n.pulse(r,n.changeset().encode(e,t))}return void 0!==n?n:e},modify:function(e,t,n,r,i,o){const a=this.context.dataflow,l=this.context.data[e],s=l.input,c=a.stamp();let u,d,f=l.changes;if(!1===a._trigger||!(s.value.length||t||r))return 0;if((!f||f.stamp<c)&&(l.changes=f=a.changeset(),f.stamp=c,a.runAfter((()=>{l.modified=!0,a.pulse(s,f).run()}),!0,1)),n&&(u=!0===n?pD:kD(n)||KO(n)?n:Ree(n),f.remove(u)),t&&f.insert(t),r&&(u=Ree(r),s.value.some(u)?f.remove(u):f.insert(r)),i)for(d in o)f.modify(i,d,o[d]);return 1},lassoAppend:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5;const i=(e=YD(e))[e.length-1];return void 0===i||Math.hypot(i[0]-t,i[1]-n)>r?[...e,[t,n]]:e},lassoPath:function(e){return YD(e).reduce(((t,n,r)=>{let[i,o]=n;return t+(0==r?"M ".concat(i,",").concat(o," "):r===e.length-1?" Z":"L ".concat(i,",").concat(o," "))}),"")},intersectLasso:function(e,t,n){const{x:r,y:i,mark:o}=n,a=(new aG).set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const[l,s]of t)l<a.x1&&(a.x1=l),l>a.x2&&(a.x2=l),s<a.y1&&(a.y1=s),s>a.y2&&(a.y2=s);return a.translate(r,i),jee([[a.x1,a.y1],[a.x2,a.y2]],e,o).filter((e=>function(e,t,n){let r=0;for(let i=0,o=n.length-1;i<n.length;o=i++){const[a,l]=n[o],[s,c]=n[i];c>t!=l>t&&e<(a-s)*(t-c)/(l-c)+s&&r++}return 1&r}(e.x,e.y,t)))}},Kee=["view","item","group","xy","x","y"],Wee="this.",qee={},Hee={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>"_[".concat(AF(yee+e),"]"),functions:function(e){const t=z7(e);Kee.forEach((e=>t[e]="event.vega."+e));for(const n in Uee)t[n]=Wee+n;return oF(t,kee(e,Uee,qee)),t},constants:R7,visitors:qee},Vee=P7(Hee);function Gee(e,t,n){return 1===arguments.length?Uee[e]:(Uee[e]=t,n&&(qee[e]=n),Vee&&(Vee.functions[e]=Wee+e),this)}function Yee(e,t){const n={};let r;try{r=N7(e=xF(e)?e:AF(e)+"")}catch(o){lD("Expression parse error: "+e)}r.visit((e=>{if(e.type!==X6)return;const r=e.callee.name,i=Hee.visitors[r];i&&i(r,e.arguments,t,n)}));const i=Vee(r);return i.globals.forEach((e=>{const r=yee+e;!cF(n,r)&&t.getSignal(e)&&(n[r]=t.signalRef(e))})),{$expr:oF({code:i.code},t.options.ast?{ast:r}:null),$fields:i.fields,$params:n}}Gee("bandwidth",(function(e,t){const n=_ee(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}),xee),Gee("copy",(function(e,t){const n=_ee(e,(t||this).context);return n?n.copy():void 0}),xee),Gee("domain",(function(e,t){const n=_ee(e,(t||this).context);return n?n.domain():[]}),xee),Gee("range",(function(e,t){const n=_ee(e,(t||this).context);return n&&n.range?n.range():[]}),xee),Gee("invert",(function(e,t,n){const r=_ee(e,(n||this).context);return r?kD(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}),xee),Gee("scale",(function(e,t,n){const r=_ee(e,(n||this).context);return r?r(t):void 0}),xee),Gee("gradient",(function(e,t,n,r,i){e=_ee(e,(i||this).context);const o=uV(t,n);let a=e.domain(),l=a[0],s=AD(a),c=dD;return s-l?c=FH(e,l,s):e=(e.interpolator?yH("sequential")().interpolator(e.interpolator()):yH("linear")().interpolate(e.interpolate()).range(e.range())).domain([l=0,s=1]),e.ticks&&(a=e.ticks(+r||15),l!==a[0]&&a.unshift(l),s!==AD(a)&&a.push(s)),a.forEach((t=>o.stop(c(t),e(t)))),o}),xee),Gee("geoArea",See,xee),Gee("geoBounds",Cee,xee),Gee("geoCentroid",Mee,xee),Gee("geoShape",(function(e,t,n){const r=_ee(e,(n||this).context);return function(e){return r?r.path.context(e)(t):""}}),xee),Gee("geoScale",(function(e,t){const n=_ee(e,(t||this).context);return n&&n.scale()}),xee),Gee("indata",(function(e,t,n){const r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i?i.count:i}),(function(e,t,n,r){t[0].type!==V6&&lD("First argument to indata must be a string literal."),t[1].type!==V6&&lD("Second argument to indata must be a string literal.");const i=t[0].value,o=t[1].value,a="@"+o;cF(a,r)||(r[a]=n.getData(i).indataRef(n,o))})),Gee("data",see,bee),Gee("treePath",(function(e,t,n){const r=Lee(e,this),i=r[t],o=r[n];return i&&o?i.path(o).map(Iee):void 0}),bee),Gee("treeAncestors",(function(e,t){const n=Lee(e,this)[t];return n?n.ancestors().map(Iee):void 0}),bee),Gee("vlSelectionTest",(function(e,t,n){for(var r,i,o,a,l,s=this.context.data[e],c=s?s.values.value:[],u=s?s[tee]&&s[tee].value:void 0,d=n===V9,f=c.length,h=0;h<f;++h)if(r=c[h],u&&d){if(-1===(o=(i=i||{})[a=r.unit]||0))continue;if(l=nee(t,r),i[a]=l?-1:++o,l&&1===u.size)return!0;if(!l&&o===u.get(a).count)return!1}else if(d^(l=nee(t,r)))return l;return f&&d}),lee),Gee("vlSelectionIdTest",(function(e,t,n){const r=this.context.data[e],i=r?r.values.value:[],o=r?r[tee]&&r[tee].value:void 0,a=n===V9,l=Q9(t),s=iee(i,l);if(s===i.length)return!1;if(Q9(i[s])!==l)return!1;if(o&&a){if(1===o.size)return!0;if(oee(i,l)-s<o.size)return!1}return!0}),lee),Gee("vlSelectionResolve",(function(e,t,n,r){for(var i,o,a,l,s,c,u,d,f,h,p,m,g=this.context.data[e],v=g?g.values.value:[],y={},b={},x={},w=v.length,_=0;_<w;++_)if(l=(i=v[_]).unit,o=i.fields,a=i.values,o&&a){for(p=0,m=o.length;p<m;++p)s=o[p],d=(u=y[s.field]||(y[s.field]={}))[l]||(u[l]=[]),x[s.field]=f=s.type.charAt(0),h=aee["".concat(f,"_union")],u[l]=h(d,YD(a[p]));n&&(d=b[l]||(b[l]=[])).push(YD(a).reduce(((e,t,n)=>(e[o[n].field]=t,e)),{}))}else s=Y9,c=Q9(i),(d=(u=y[s]||(y[s]={}))[l]||(u[l]=[])).push(c),n&&(d=b[l]||(b[l]=[])).push({[Y9]:c});if(t=t||G9,y[Y9]?y[Y9]=aee["".concat(Y9,"_").concat(t)](...Object.values(y[Y9])):Object.keys(y).forEach((e=>{y[e]=Object.keys(y[e]).map((t=>y[e][t])).reduce(((n,r)=>void 0===n?r:aee["".concat(x[e],"_").concat(t)](n,r)))})),v=Object.keys(b),n&&v.length){y[r?"vlPoint":"vlMulti"]=t===G9?{or:v.reduce(((e,t)=>(e.push(...b[t]),e)),[])}:{and:v.map((e=>({or:b[e]})))}}return y}),lee),Gee("vlSelectionTuples",(function(e,t){return e.map((e=>oF(t.fields?{values:t.fields.map((t=>H9(t)(e.datum)))}:{[Y9]:Q9(e.datum)},t)))}));const Qee=zF(["rule"]),Xee=zF(["group","image","rect"]);function $ee(e){return(e+"").toLowerCase()}function Zee(e,t,n){n.endsWith(";")||(n="return("+n+");");const r=Function(...t.concat(n));return e&&e.functions?r.bind(e.functions):r}var Jee={operator:(e,t)=>Zee(e,["_"],t.code),parameter:(e,t)=>Zee(e,["datum","_"],t.code),event:(e,t)=>Zee(e,["event"],t.code),handler:(e,t)=>Zee(e,["_","event"],"var datum=event.item&&event.item.datum;return ".concat(t.code,";")),encode:(e,t)=>{const{marktype:n,channels:r}=t;let i="var o=item,datum=o.datum,m=0,$;";for(const o in r){const e="o["+AF(o)+"]";i+="$=".concat(r[o].code,";if(").concat(e,"!==$)").concat(e,"=$,m=1;")}return i+=function(e,t){let n="";return Qee[t]||(e.x2&&(e.x?(Xee[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(Xee[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}(r,n),i+="return m;",Zee(e,["item","_"],i)},codegen:{get(e){const t="[".concat(e.map(AF).join("]["),"]"),n=Function("_","return _".concat(t,";"));return n.path=t,n},comparator(e,t){let n;const r=Function("a","b","var u, v; return "+e.map(((e,r)=>{const i=t[r];let o,a;return e.path?(o="a".concat(e.path),a="b".concat(e.path)):((n=n||{})["f"+r]=e,o="this.f".concat(r,"(a)"),a="this.f".concat(r,"(b)")),function(e,t,n,r){return"((u = ".concat(e,") < (v = ").concat(t,") || u == null) && v != null ? ").concat(n,"\n  : (u > v || v == null) && u != null ? ").concat(r,"\n  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ").concat(n,"\n  : v !== v && u === u ? ").concat(r," : ")}(o,a,-i,i)})).join("")+"0;");return n?r.bind(n):r}}};function ete(e,t,n){if(!e||!ED(e))return e;for(let r,i=0,o=tte.length;i<o;++i)if(r=tte[i],cF(e,r.key))return r.parse(e,t,n);return e}var tte=[{key:"$ref",parse:function(e,t){return t.get(e.$ref)||lD("Operator not defined: "+e.$ref)}},{key:"$key",parse:function(e,t){const n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=wF(e.$key,e.$flat,t.expr.codegen))}},{key:"$expr",parse:function(e,t,n){e.$params&&t.parseParameters(e.$params,n);const r="e:"+e.$expr.code;return t.fn[r]||(t.fn[r]=tD(t.parameterExpression(e.$expr),e.$fields))}},{key:"$field",parse:function(e,t){if(!e.$field)return null;const n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=cD(e.$field,e.$name,t.expr.codegen))}},{key:"$encode",parse:function(e,t){const n=e.$encode,r={};for(const i in n){const e=n[i];r[i]=tD(t.encodeExpression(e.$expr),e.$fields),r[i].output=e.$output}return r}},{key:"$compare",parse:function(e,t){const n="c:"+e.$compare+"_"+e.$order,r=YD(e.$compare).map((e=>e&&e.$tupleid?WO:e));return t.fn[n]||(t.fn[n]=ZD(r,e.$order,t.expr.codegen))}},{key:"$context",parse:function(e,t){return t}},{key:"$subflow",parse:function(e,t){const n=e.$subflow;return function(e,r,i){const o=t.fork().parse(n),a=o.get(n.operators[0].id),l=o.signals.parent;return l&&l.set(i),a.detachSubflow=()=>t.detach(o),a}}},{key:"$tupleid",parse:function(){return WO}}];const nte={skip:!0};function rte(e,t,n,r){return new ite(e,t,n,r)}function ite(e,t,n,r){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=r||Jee,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function ote(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}function ate(e,t){e&&(null==t?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}ite.prototype=ote.prototype={fork(){const e=new ote(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter((t=>t!==e));const t=Object.keys(e.nodes);for(const n of t)e.nodes[n]._targets=null;for(const n of t)e.nodes[n].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){const n=this,r=n.dataflow,i=e.value;if(n.set(e.id,t),function(e){return"collect"===$ee(e)}(e.type)&&i&&(i.$ingest?r.ingest(t,i.$ingest,i.$format):i.$request?r.preload(t,i.$request,i.$format):r.pulse(t,r.changeset().insert(i))),e.root&&(n.root=t),e.parent){let i=n.get(e.parent.$ref);i?(r.connect(i,[t]),t.targets().add(i)):(n.unresolved=n.unresolved||[]).push((()=>{i=n.get(e.parent.$ref),r.connect(i,[t]),t.targets().add(i)}))}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data)for(const o in e.data){const r=n.data[o]||(n.data[o]={});e.data[o].forEach((e=>r[e]=t))}},resolve(){return(this.unresolved||[]).forEach((e=>e())),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[$ee(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:function(e){const t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach((e=>t.parseOperator(e))),n.forEach((e=>t.parseOperatorParameters(e))),(e.streams||[]).forEach((e=>t.parseStream(e))),(e.updates||[]).forEach((e=>t.parseUpdate(e))),t.resolve()},parseOperator:function(e){const t=this;!function(e){return"operator"===$ee(e)}(e.type)&&e.type?t.transform(e,e.type):t.operator(e,e.update?t.operatorExpression(e.update):null)},parseOperatorParameters:function(e){const t=this;if(e.params){const n=t.get(e.id);n||lD("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}},parseParameters:function(e,t){t=t||{};const n=this;for(const r in e){const i=e[r];t[r]=kD(i)?i.map((e=>ete(e,n,t))):ete(i,n,t)}return t},parseStream:function(e){var t,n=this,r=null!=e.filter?n.eventExpression(e.filter):void 0,i=null!=e.stream?n.get(e.stream):void 0;e.source?i=n.events(e.source,e.type,r):e.merge&&(i=(t=e.merge.map((e=>n.get(e))))[0].merge.apply(t[0],t.slice(1))),e.between&&(t=e.between.map((e=>n.get(e))),i=i.between(t[0],t[1])),e.filter&&(i=i.filter(r)),null!=e.throttle&&(i=i.throttle(+e.throttle)),null!=e.debounce&&(i=i.debounce(+e.debounce)),null==i&&lD("Invalid stream definition: "+JSON.stringify(e)),e.consume&&i.consume(!0),n.stream(e,i)},parseUpdate:function(e){var t,n=this,r=ED(r=e.source)?r.$ref:r,i=n.get(r),o=e.update,a=void 0;i||lD("Source not defined: "+e.source),t=e.target&&e.target.$expr?n.eventExpression(e.target.$expr):n.get(e.target),o&&o.$expr&&(o.$params&&(a=n.parseParameters(o.$params)),o=n.handlerExpression(o.$expr)),n.update(e,i,t,o,a)},getState:function(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach((n=>{const i=t.signals[n];e.signals(n,i)&&(r[n]=i.value)}))}if(e.data){var i=n.data={};Object.keys(t.data).forEach((n=>{const r=t.data[n];e.data(n,r)&&(i[n]=r.input.value)}))}return t.subcontext&&!1!==e.recurse&&(n.subcontext=t.subcontext.map((t=>t.getState(e)))),n},setState:function(e){var t=this,n=t.dataflow,r=e.data,i=e.signals;Object.keys(i||{}).forEach((e=>{n.update(t.signals[e],i[e],nte)})),Object.keys(r||{}).forEach((e=>{n.pulse(t.data[e].input,n.changeset().remove(pD).insert(r[e]))})),(e.subcontext||[]).forEach(((e,n)=>{const r=t.subcontext[n];r&&r.setState(e)}))}};const lte="default";function ste(e,t){const n=e.globalCursor()?"undefined"!==typeof document&&document.body:e.container();if(n)return null==t?n.style.removeProperty("cursor"):n.style.cursor=t}function cte(e,t){var n=e._runtime.data;return cF(n,t)||lD("Unrecognized data set: "+t),n[t]}function ute(e,t){XO(t)||lD("Second argument to changes must be a changeset.");const n=cte(this,e);return n.modified=!0,this.pulse(n.input,t)}function dte(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function fte(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function hte(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function pte(e,t,n){var r,i,o=e._renderer,a=o&&o.canvas();return a&&(i=hte(e),(r=yQ(t.changedTouches?t.changedTouches[0]:t,a))[0]-=i[0],r[1]-=i[1]),t.dataflow=e,t.item=n,t.vega=function(e,t,n){const r=t?"group"===t.mark.marktype?t:t.mark.group:null;function i(e){var n,i=r;if(e)for(n=t;n;n=n.mark.group)if(n.mark.name===e){i=n;break}return i&&i.mark&&i.mark.interactive?i:{}}function o(e){if(!e)return n;xF(e)&&(e=i(e));const t=n.slice();for(;e;)t[0]-=e.x||0,t[1]-=e.y||0,e=e.mark&&e.mark.group;return t}return{view:rF(e),item:rF(t||{}),group:i,xy:o,x:e=>o(e)[0],y:e=>o(e)[1]}}(e,n,r),t}const mte="view",gte={trap:!1};function vte(e,t,n,r){e._eventListeners.push({type:n,sources:YD(t),handler:r})}function yte(e,t,n){const r=e._eventConfig&&e._eventConfig[t];return!(!1===r||ED(r)&&!r[n])||(e.warn("Blocked ".concat(t," ").concat(n," event listener.")),!1)}function bte(e){return e.item}function xte(e){return e.item.mark.source}function wte(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function _te(e,t,n){const r=document.createElement(e);for(const i in t)r.setAttribute(i,t[i]);return null!=n&&(r.textContent=n),r}const kte="vega-bind",Ete="vega-bind-name",Ste="vega-bind-radio";function Cte(e,t,n,r){const i=n.event||"input",o=()=>e.update(t.value);r.signal(n.signal,t.value),t.addEventListener(i,o),vte(r,t,i,o),e.set=e=>{t.value=e,t.dispatchEvent(function(e){return"undefined"!==typeof Event?new Event(e):{type:e}}(i))}}function Mte(e,t,n,r){const i=r.signal(n.signal),o=_te("div",{class:kte}),a="radio"===n.input?o:o.appendChild(_te("label"));a.appendChild(_te("span",{class:Ete},n.name||n.signal)),t.appendChild(o);let l=Tte;switch(n.input){case"checkbox":l=Ate;break;case"select":l=Dte;break;case"radio":l=Fte;break;case"range":l=Nte}l(e,a,n,i)}function Tte(e,t,n,r){const i=_te("input");for(const o in n)"signal"!==o&&"element"!==o&&i.setAttribute("input"===o?"type":o,n[o]);i.setAttribute("name",n.signal),i.value=r,t.appendChild(i),i.addEventListener("input",(()=>e.update(i.value))),e.elements=[i],e.set=e=>i.value=e}function Ate(e,t,n,r){const i={type:"checkbox",name:n.signal};r&&(i.checked=!0);const o=_te("input",i);t.appendChild(o),o.addEventListener("change",(()=>e.update(o.checked))),e.elements=[o],e.set=e=>o.checked=!!e||null}function Dte(e,t,n,r){const i=_te("select",{name:n.signal}),o=n.labels||[];n.options.forEach(((e,t)=>{const n={value:e};Rte(e,r)&&(n.selected=!0),i.appendChild(_te("option",n,(o[t]||e)+""))})),t.appendChild(i),i.addEventListener("change",(()=>{e.update(n.options[i.selectedIndex])})),e.elements=[i],e.set=e=>{for(let t=0,r=n.options.length;t<r;++t)if(Rte(n.options[t],e))return void(i.selectedIndex=t)}}function Fte(e,t,n,r){const i=_te("span",{class:Ste}),o=n.labels||[];t.appendChild(i),e.elements=n.options.map(((t,a)=>{const l={type:"radio",name:n.signal,value:t};Rte(t,r)&&(l.checked=!0);const s=_te("input",l);s.addEventListener("change",(()=>e.update(t)));const c=_te("label",{},(o[a]||t)+"");return c.prepend(s),i.appendChild(c),s})),e.set=t=>{const n=e.elements,r=n.length;for(let e=0;e<r;++e)Rte(n[e].value,t)&&(n[e].checked=!0)}}function Nte(e,t,n,r){r=void 0!==r?r:(+n.max+ +n.min)/2;const i=null!=n.max?n.max:Math.max(100,+r)||100,o=n.min||Math.min(0,i,+r)||0,a=n.step||aN(o,i,100),l=_te("input",{type:"range",name:n.signal,min:o,max:i,step:a});l.value=r;const s=_te("span",{},+r);t.appendChild(l),t.appendChild(s);const c=()=>{s.textContent=l.value,e.update(+l.value)};l.addEventListener("input",c),l.addEventListener("change",c),e.elements=[l],e.set=e=>{l.value=e,s.textContent=e}}function Rte(e,t){return e===t||e+""===t+""}function zte(e,t,n,r,i,o){return(t=t||new r(e.loader())).initialize(n,dte(e),fte(e),hte(e),i,o).background(e.background())}function Pte(e,t){return t?function(){try{t.apply(this,arguments)}catch(lD){e.error(lD)}}:null}function Ote(e,t,n){if("string"===typeof t){if("undefined"===typeof document)return e.error("DOM document instance not found."),null;if(!(t=document.querySelector(t)))return e.error("Signal bind element not found: "+t),null}if(t&&n)try{t.textContent=""}catch(BMe){t=null,e.error(BMe)}return t}const Ite=e=>+e||0;function Lte(e){return ED(e)?{top:Ite(e.top),bottom:Ite(e.bottom),left:Ite(e.left),right:Ite(e.right)}:(e=>({top:e,bottom:e,left:e,right:e}))(Ite(e))}async function Bte(e,t,n,r){const i=VX(t),o=i&&i.headless;return o||lD("Unrecognized renderer type: "+t),await e.runAsync(),zte(e,null,null,o,n,r).renderAsync(e._scenegraph.root)}var jte="width",Ute="height",Kte="padding",Wte={skip:!0};function qte(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===Kte?r.left+r.right:0)}function Hte(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===Kte?r.top+r.bottom:0)}function Vte(e,t){return t.modified&&kD(t.input.value)&&!e.startsWith("_:vega:_")}function Gte(e,t){return!("parent"===e||t instanceof kI.proxy)}function Yte(e,t,n,r){const i=e.element();i&&i.setAttribute("title",function(e){return null==e?"":kD(e)?Qte(e):ED(e)&&!gF(e)?(t=e,Object.keys(t).map((e=>{const n=t[e];return e+": "+(kD(n)?Qte(n):Xte(n))})).join("\n")):e+"";var t}(r))}function Qte(e){return"["+e.map(Xte).join(", ")+"]"}function Xte(e){return kD(e)?"[\u2026]":ED(e)&&!gF(e)?"{\u2026}":e}function $te(e,t){const n=this;if(t=t||{},xI.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),null!=t.logLevel&&n.logLevel(t.logLevel),t.locale||e.locale){const r=oF({},e.locale,t.locale);n.locale(sO(r.number,r.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||qX.Canvas,n._scenegraph=new dQ;const r=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||Yte,n._redraw=!0,n._handler=(new UQ).scene(r),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=function(e){const t=oF({defaults:{}},e),n=(e,t)=>{t.forEach((t=>{kD(e[t])&&(e[t]=zF(e[t]))}))};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);const i=function(e,t,n){return rte(e,kI,Uee,n).parse(t)}(n,e,t.expr);n._runtime=i,n._signals=i.signals,n._bind=(e.bindings||[]).map((e=>({state:null,param:oF({},e)}))),i.root&&i.root.set(r),r.source=i.data.root.input,n.pulse(i.data.root.input,n.changeset().insert(r.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=qte(n,n._width),n._viewHeight=Hte(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,function(e){var t=e._signals,n=t[jte],r=t[Ute],i=t[Kte];function o(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,(t=>{e._width=t.size,e._viewWidth=qte(e,t.size),o()}),{size:n}),e._resizeHeight=e.add(null,(t=>{e._height=t.size,e._viewHeight=Hte(e,t.size),o()}),{size:r});const a=e.add(null,o,{pad:i});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,a.rank=i.rank+1}(n),function(e){e.add(null,(t=>(e._background=t.bg,e._resize=1,t.bg)),{bg:e._signals.background})}(n),function(e){const t=e._signals.cursor||(e._signals.cursor=e.add({user:lte,item:null}));e.on(e.events("view","pointermove"),t,((e,n)=>{const r=t.value,i=r?xF(r)?r:r.user:lte,o=n.item&&n.item.cursor||null;return r&&i===r.user&&o==r.item?r:{user:i,item:o}})),e.add(null,(function(t){let n=t.cursor,r=this.value;return xF(n)||(r=n.item,n=n.user),ste(e,n&&n!==lte?n:r||n),r}),{cursor:t})}(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind),t.watchPixelRatio&&n._watchPixelRatio()}function Zte(e,t){return cF(e._signals,t)?e._signals[t]:lD("Unrecognized signal name: "+AF(t))}function Jte(e,t){const n=(e._targets||[]).filter((e=>e._update&&e._update.handler===t));return n.length?n[0]:null}function ene(e,t,n,r){let i=Jte(n,r);return i||(i=Pte(e,(()=>r(t,n.value))),i.handler=r,e.on(n,null,i)),e}function tne(e,t,n){const r=Jte(t,n);return r&&t._targets.remove(r),e}hF($te,xI,{async evaluate(e,t,n){if(await xI.prototype.evaluate.call(this,e,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,function(e){var t=hte(e),n=dte(e),r=fte(e);e._renderer.background(e.background()),e._renderer.resize(n,r,t),e._handler.origin(t),e._resizeListeners.forEach((t=>{try{t(n,r)}catch(lD){e.error(lD)}}))}(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(BMe){this.error(BMe)}return n&&BO(this,n),this},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const t=null!=e?e+"":null;return t!==this._desc&&ate(this._el,this._desc=t),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,t,n){const r=Zte(this,e);return 1===arguments.length?r.value:this.update(r,t,n)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",Lte(e)):Lte(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?(VX(e)||lD("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(xI.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(Zte(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(e,t,n,r,i,o){this.runAfter((a=>{let l=0;a._autosize=0,a.width()!==n&&(l=1,a.signal(jte,n,Wte),a._resizeWidth.skip(!0)),a.height()!==r&&(l=1,a.signal(Ute,r,Wte),a._resizeHeight.skip(!0)),a._viewWidth!==e&&(a._resize=1,a._viewWidth=e),a._viewHeight!==t&&(a._resize=1,a._viewHeight=t),a._origin[0]===i[0]&&a._origin[1]===i[1]||(a._resize=1,a._origin=i),l&&a.run("enter"),o&&a.runAfter((e=>e.resize()))}),!1,1)},addEventListener(e,t,n){let r=t;return n&&!1===n.trap||(r=Pte(this,t),r.raw=t),this._handler.on(e,r),this},removeEventListener(e,t){for(var n,r,i=this._handler.handlers(e),o=i.length;--o>=0;)if(r=i[o].type,n=i[o].handler,e===r&&(t===n||t===n.raw)){this._handler.off(r,n);break}return this},addResizeListener(e){const t=this._resizeListeners;return t.includes(e)||t.push(e),this},removeResizeListener(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},addSignalListener(e,t){return ene(this,e,Zte(this,e),t)},removeSignalListener(e,t){return tne(this,Zte(this,e),t)},addDataListener(e,t){return ene(this,e,cte(this,e).values,t)},removeDataListener(e,t){return tne(this,cte(this,e).values,t)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const t=ste(this,null);this._globalCursor=!!e,t&&ste(this,t)}return this}return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:function(e,t){this._timers.push(function(e,t,n){var r=new C5,i=t;return null==t?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(e,t,n){t=+t,n=null==n?E5():+n,r._restart((function o(a){a+=i,r._restart(o,i+=t,n),e(a)}),t,n)},r.restart(e,t,n),r)}((function(t){e({timestamp:Date.now(),elapsed:t})}),t))},events:function(e,t,n){var r,i=this,o=new oI(n),a=function(n,r){i.runAsync(null,(()=>{e===mte&&function(e,t){var n=e._eventConfig.defaults,r=n.prevent,i=n.allow;return!1!==r&&!0!==i&&(!0===r||!1===i||(r?r[t]:i?!i[t]:e.preventDefault()))}(i,t)&&n.preventDefault(),o.receive(pte(i,n,r))}))};if("timer"===e)yte(i,"timer",t)&&i.timer(a,t);else if(e===mte)yte(i,"view",t)&&i.addEventListener(t,a,gte);else if("window"===e?yte(i,"window",t)&&"undefined"!==typeof window&&(r=[window]):"undefined"!==typeof document&&yte(i,"selector",t)&&(r=Array.from(document.querySelectorAll(e))),r){for(var l=0,s=r.length;l<s;++l)r[l].addEventListener(t,a);vte(i,r,t,a)}else i.warn("Can not resolve event source: "+e);return o},finalize:function(){var e,t,n,r=this._tooltip,i=this._timers,o=this._eventListeners;for(e=i.length;--e>=0;)i[e].stop();for(e=o.length;--e>=0;)for(t=(n=o[e]).sources.length;--t>=0;)n.sources[t].removeEventListener(n.type,n.handler);return r&&r.call(this,this._handler,null,null,null),this},hover:function(e,t){return t=[t||"update",(e=[e||"hover"])[0]],this.on(this.events("view","pointerover",bte),xte,wte(e)),this.on(this.events("view","pointerout",bte),xte,wte(t)),this},data:function(e,t){return arguments.length<2?cte(this,e).values.value:ute.call(this,e,$O().remove(pD).insert(t))},change:ute,insert:function(e,t){return ute.call(this,e,$O().insert(t))},remove:function(e,t){return ute.call(this,e,$O().remove(t))},scale:function(e){var t=this._runtime.scales;return cF(t,e)||lD("Unrecognized scale or projection: "+e),t[e].value},initialize:function(e,t){const n=this,r=n._renderType,i=n._eventConfig.bind,o=VX(r);e=n._el=e?Ote(n,e,!0):null,function(e){const t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),ate(t,e.description()))}(n),o||n.error("Unrecognized renderer type: "+r);const a=o.handler||UQ,l=e?o.renderer:o.headless;return n._renderer=l?zte(n,n._renderer,e,l):null,n._handler=function(e,t,n,r){const i=new r(e.loader(),Pte(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,hte(e),e);return t&&t.handlers().forEach((e=>{i.on(e.type,e.handler)})),i}(n,n._handler,e,a),n._redraw=!0,e&&"none"!==i&&(t=t?n._elBind=Ote(n,t,!0):e.appendChild(_te("form",{class:"vega-bindings"})),n._bind.forEach((e=>{e.param.element&&"container"!==i&&(e.element=Ote(n,e.param.element,!!e.param.input))})),n._bind.forEach((e=>{!function(e,t,n){if(!t)return;const r=n.param;let i=n.state;i||(i=n.state={elements:null,active:!1,set:null,update:t=>{t!=e.signal(r.signal)&&e.runAsync(null,(()=>{i.source=!0,e.signal(r.signal,t)}))}},r.debounce&&(i.update=iF(r.debounce,i.update))),(null==r.input&&r.element?Cte:Mte)(i,t,r,e),i.active||(e.on(e._signals[r.signal],null,(()=>{i.source?i.source=!1:i.set(e.signal(r.signal))})),i.active=!0)}(n,e.element||t,e)}))),n},toImageURL:async function(e,t){e!==qX.Canvas&&e!==qX.SVG&&e!==qX.PNG&&lD("Unrecognized image type: "+e);const n=await Bte(this,e,t);return e===qX.SVG?function(e,t){const n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}(n.svg(),"image/svg+xml"):n.canvas().toDataURL("image/png")},toCanvas:async function(e,t){return(await Bte(this,qX.Canvas,e,t)).canvas()},toSVG:async function(e){return(await Bte(this,qX.SVG,e)).svg()},getState:function(e){return this._runtime.getState(e||{data:Vte,signals:Gte,recurse:!0})},setState:function(e){return this.runAsync(null,(t=>{t._trigger=!1,t._runtime.setState(e)}),(e=>{e._trigger=!0})),this},_watchPixelRatio:function(){if("canvas"===this.renderer()&&this._renderer._canvas){let e=null;const t=()=>{null!=e&&e();const n=matchMedia("(resolution: ".concat(window.devicePixelRatio,"dppx)"));n.addEventListener("change",t),e=()=>{n.removeEventListener("change",t)},this._renderer._canvas.getContext("2d").pixelRatio=window.devicePixelRatio||1,this._redraw=!0,this._resize=1,this.resize().runAsync()};t()}}});const nne="view",rne="[",ine="]",one="{",ane="}",lne=":",sne=",",cne="@",une=">",dne=/[[\]{}]/,fne={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let hne,pne;function mne(e,t,n){return hne=t||nne,pne=n||fne,vne(e.trim()).map(yne)}function gne(e,t,n,r,i){const o=e.length;let a,l=0;for(;t<o;++t){if(a=e[t],!l&&a===n)return t;i&&i.indexOf(a)>=0?--l:r&&r.indexOf(a)>=0&&++l}return t}function vne(e){const t=[],n=e.length;let r=0,i=0;for(;i<n;)i=gne(e,i,sne,rne+one,ine+ane),t.push(e.substring(r,i).trim()),r=++i;if(0===t.length)throw"Empty event selector: "+e;return t}function yne(e){return"["===e[0]?function(e){const t=e.length;let n,r=1;if(r=gne(e,r,ine,rne,ine),r===t)throw"Empty between selector: "+e;if(n=vne(e.substring(1,r)),2!==n.length)throw"Between selector must have two elements: "+e;if(e=e.slice(r+1).trim(),e[0]!==une)throw"Expected '>' after between selector: "+e;n=n.map(yne);const i=yne(e.slice(1).trim());if(i.between)return{between:n,stream:i};i.between=n;return i}(e):function(e){const t={source:hne},n=[];let r,i,o=[0,0],a=0,l=0,s=e.length,c=0;if(e[s-1]===ane){if(c=e.lastIndexOf(one),!(c>=0))throw"Unmatched right brace: "+e;try{o=function(e){const t=e.split(sne);if(!e.length||t.length>2)throw e;return t.map((t=>{const n=+t;if(n!==n)throw e;return n}))}(e.substring(c+1,s-1))}catch(BMe){throw"Invalid throttle specification: "+e}s=(e=e.slice(0,c).trim()).length,c=0}if(!s)throw e;e[0]===cne&&(a=++c);r=gne(e,c,lne),r<s&&(n.push(e.substring(l,r).trim()),l=c=++r);if(c=gne(e,c,rne),c===s)n.push(e.substring(l,s).trim());else if(n.push(e.substring(l,c).trim()),i=[],l=++c,l===s)throw"Unmatched left bracket: "+e;for(;c<s;){if(c=gne(e,c,ine),c===s)throw"Unmatched left bracket: "+e;if(i.push(e.substring(l,c).trim()),c<s-1&&e[++c]!==rne)throw"Expected left bracket: "+e;l=++c}if(!(s=n.length)||dne.test(n[s-1]))throw"Invalid event selector: "+e;s>1?(t.type=n[1],a?t.markname=n[0].slice(1):!function(e){return pne[e]}(n[0])?t.source=n[0]:t.marktype=n[0]):t.type=n[0];"!"===t.type.slice(-1)&&(t.consume=!0,t.type=t.type.slice(0,-1));null!=i&&(t.filter=i);o[0]&&(t.throttle=o[0]);o[1]&&(t.debounce=o[1]);return t}(e)}function bne(e){return ED(e)?e:{type:e||"pad"}}const xne=e=>+e||0,wne=e=>({top:e,bottom:e,left:e,right:e});function _ne(e){return ED(e)?e.signal?e:{top:xne(e.top),bottom:xne(e.bottom),left:xne(e.left),right:xne(e.right)}:wne(xne(e))}const kne=e=>ED(e)&&!kD(e)?oF({},e):{value:e};function Ene(e,t,n,r){if(null!=n){return ED(n)&&!kD(n)||kD(n)&&n.length&&ED(n[0])?e.update[t]=n:e[r||"enter"][t]={value:n},1}return 0}function Sne(e,t,n){for(const r in t)Ene(e,r,t[r]);for(const r in n)Ene(e,r,n[r],"update")}function Cne(e,t,n){for(const r in t)n&&cF(n,r)||(e[r]=oF(e[r]||{},t[r]));return e}function Mne(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}const Tne="mark",Ane="frame",Dne="scope",Fne="axis",Nne="axis-domain",Rne="axis-grid",zne="axis-label",Pne="axis-tick",One="axis-title",Ine="legend",Lne="legend-band",Bne="legend-entry",jne="legend-gradient",Une="legend-label",Kne="legend-symbol",Wne="legend-title",qne="title",Hne="title-text",Vne="title-subtitle";function Gne(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}const Yne=e=>xF(e)?AF(e):e.signal?"(".concat(e.signal,")"):Zne(e);function Qne(e){if(null!=e.gradient)return function(e){const t=[e.start,e.stop,e.count].map((e=>null==e?null:AF(e)));for(;t.length&&null==AD(t);)t.pop();return t.unshift(Yne(e.gradient)),"gradient(".concat(t.join(","),")")}(e);let t=e.signal?"(".concat(e.signal,")"):e.color?function(e){return e.c?Xne("hcl",e.h,e.c,e.l):e.h||e.s?Xne("hsl",e.h,e.s,e.l):e.l||e.a?Xne("lab",e.l,e.a,e.b):e.r||e.g||e.b?Xne("rgb",e.r,e.g,e.b):null}(e.color):null!=e.field?Zne(e.field):void 0!==e.value?AF(e.value):void 0;return null!=e.scale&&(t=function(e,t){const n=Yne(e.scale);null!=e.range?t="lerp(_range(".concat(n,"), ").concat(+e.range,")"):(void 0!==t&&(t="_scale(".concat(n,", ").concat(t,")")),e.band&&(t=(t?t+"+":"")+"_bandwidth(".concat(n,")")+(1===+e.band?"":"*"+$ne(e.band)),e.extra&&(t="(datum.extra ? _scale(".concat(n,", datum.extra.value) : ").concat(t,")"))),null==t&&(t="0"));return t}(e,t)),void 0===t&&(t=null),null!=e.exponent&&(t="pow(".concat(t,",").concat($ne(e.exponent),")")),null!=e.mult&&(t+="*".concat($ne(e.mult))),null!=e.offset&&(t+="+".concat($ne(e.offset))),e.round&&(t="round(".concat(t,")")),t}const Xne=(e,t,n,r)=>"(".concat(e,"(").concat([t,n,r].map(Qne).join(","),")+'')");function $ne(e){return ED(e)?"("+Qne(e)+")":e}function Zne(e){return Jne(ED(e)?e:{datum:e})}function Jne(e){let t,n,r;if(e.signal)t="datum",r=e.signal;else if(e.group||e.parent){for(n=Math.max(1,e.level||1),t="item";n-- >0;)t+=".mark.group";e.parent?(r=e.parent,t+=".datum"):r=e.group}else e.datum?(t="datum",r=e.datum):lD("Invalid field reference: "+AF(e));return e.signal||(r=xF(r)?sD(r).map(AF).join("]["):Jne(r)),t+"["+r+"]"}function ere(e,t,n,r,i,o){const a={};(o=o||{}).encoders={$encode:a},e=function(e,t,n,r,i){const o={},a={};let l,s,c,u;for(s in s="lineBreak","text"!==t||null==i[s]||Mne(s,e)||Gne(o,s,i[s]),("legend"==n||String(n).startsWith("axis"))&&(n=null),u=n===Ane?i.group:n===Tne?oF({},i.mark,i[t]):null,u)c=Mne(s,e)||("fill"===s||"stroke"===s)&&(Mne("fill",e)||Mne("stroke",e)),c||Gne(o,s,u[s]);for(s in YD(r).forEach((t=>{const n=i.style&&i.style[t];for(const r in n)Mne(r,e)||Gne(o,r,n[r])})),e=oF({},e),o)u=o[s],u.signal?(l=l||{})[s]=u:a[s]=u;return e.enter=oF(a,e.enter),l&&(e.update=oF(l,e.update)),e}(e,t,n,r,i.config);for(const l in e)a[l]=tre(e[l],t,o,i);return o}function tre(e,t,n,r){const i={},o={};for(const l in e)null!=e[l]&&(i[l]=nre((a=e[l],kD(a)?function(e){let t="";return e.forEach((e=>{const n=Qne(e);t+=e.test?"(".concat(e.test,")?").concat(n,":"):n})),":"===AD(t)&&(t+="null"),t}(a):Qne(a)),r,n,o));var a;return{$expr:{marktype:t,channels:i},$fields:Object.keys(o),$output:Object.keys(e)}}function nre(e,t,n,r){const i=Yee(e,t);return i.$fields.forEach((e=>r[e]=1)),oF(n,i.$params),i.$expr}const rre="outer",ire=["value","update","init","react","bind"];function ore(e,t){lD(e+' for "outer" push: '+AF(t))}function are(e,t){const n=e.name;if(e.push===rre)t.signals[n]||ore("No prior signal definition",n),ire.forEach((t=>{void 0!==e[t]&&ore("Invalid property ",t)}));else{const r=t.addSignal(n,e.value);!1===e.react&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}}function lre(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function sre(e,t,n,r){return new lre(e,t,n,r)}function cre(e,t){return sre("operator",e,t)}function ure(e){const t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function dre(e,t){return t?{$field:e,$name:t}:{$field:e}}const fre=dre("key");function hre(e,t){return{$compare:e,$order:t}}const pre="descending";function mre(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}const gre="scope",vre="view";function yre(e){return e&&e.signal}function bre(e){if(yre(e))return!0;if(ED(e))for(const t in e)if(bre(e[t]))return!0;return!1}function xre(e,t){return null!=e?e:t}function wre(e){return e&&e.signal||e}const _re="timer";function kre(e,t){return(e.merge?Ere:e.stream?Sre:e.type?Cre:lD("Invalid stream specification: "+AF(e)))(e,t)}function Ere(e,t){const n=e.merge.map((e=>kre(e,t))),r=Mre({merge:n},e,t);return t.addStream(r).id}function Sre(e,t){const n=Mre({stream:kre(e.stream,t)},e,t);return t.addStream(n).id}function Cre(e,t){let n;e.type===_re?(n=t.event(_re,e.throttle),e={between:e.between,filter:e.filter}):n=t.event(function(e){return e===gre?vre:e||vre}(e.source),e.type);const r=Mre({stream:n},e,t);return 1===Object.keys(r).length?n:t.addStream(r).id}function Mre(e,t,n){let r=t.between;return r&&(2!==r.length&&lD('Stream "between" parameter must have 2 entries: '+AF(t)),e.between=[kre(r[0],n),kre(r[1],n)]),r=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(function(e,t,n){const r="event.item";return r+(e&&"*"!==e?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}(t.marktype,t.markname,t.markrole)),t.source===gre&&r.push("inScope(event.item)"),r.length&&(e.filter=Yee("("+r.join(")&&(")+")",n).$expr),null!=(r=t.throttle)&&(e.throttle=+r),null!=(r=t.debounce)&&(e.debounce=+r),t.consume&&(e.consume=!0),e}const Tre={code:"_.$value",ast:{type:"Identifier",value:"value"}};function Are(e,t,n){const r=e.encode,i={target:n};let o=e.events,a=e.update,l=[];o||lD("Signal update missing events specification."),xF(o)&&(o=mne(o,t.isSubscope()?gre:vre)),o=YD(o).filter((e=>e.signal||e.scale?(l.push(e),0):1)),l.length>1&&(l=[Dre(l)]),o.length&&l.push(o.length>1?{merge:o}:o[0]),null!=r&&(a&&lD("Signal encode and update are mutually exclusive."),a="encode(item(),"+AF(r)+")"),i.update=xF(a)?Yee(a,t):null!=a.expr?Yee(a.expr,t):null!=a.value?a.value:null!=a.signal?{$expr:Tre,$params:{$value:t.signalRef(a.signal)}}:lD("Invalid signal update specification."),e.force&&(i.options={force:!0}),l.forEach((e=>t.addUpdate(oF(function(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):kre(e,t)}}(e,t),i))))}function Dre(e){return{signal:"["+e.map((e=>e.scale?'scale("'+e.scale+'")':e.signal))+"]"}}const Fre=e=>(t,n,r)=>sre(e,n,t||void 0,r),Nre=Fre("aggregate"),Rre=Fre("axisticks"),zre=Fre("bound"),Pre=Fre("collect"),Ore=Fre("compare"),Ire=Fre("datajoin"),Lre=Fre("encode"),Bre=Fre("expression"),jre=Fre("facet"),Ure=Fre("field"),Kre=Fre("key"),Wre=Fre("legendentries"),qre=Fre("load"),Hre=Fre("mark"),Vre=Fre("multiextent"),Gre=Fre("multivalues"),Yre=Fre("overlap"),Qre=Fre("params"),Xre=Fre("prefacet"),$re=Fre("projection"),Zre=Fre("proxy"),Jre=Fre("relay"),eie=Fre("render"),tie=Fre("scale"),nie=Fre("sieve"),rie=Fre("sortitems"),iie=Fre("viewlayout"),oie=Fre("values");let aie=0;const lie={min:"min",max:"max",count:"sum"};function sie(e,t){const n=t.getScale(e.name).params;let r;for(r in n.domain=fie(e.domain,e,t),null!=e.range&&(n.range=xie(e,t,n)),null!=e.interpolate&&function(e,t){t.interpolate=cie(e.type||e),null!=e.gamma&&(t.interpolateGamma=cie(e.gamma))}(e.interpolate,n),null!=e.nice&&(n.nice=function(e){return ED(e)?{interval:cie(e.interval),step:cie(e.step)}:cie(e)}(e.nice)),null!=e.bins&&(n.bins=function(e,t){return e.signal||kD(e)?uie(e,t):t.objectProperty(e)}(e.bins,t)),e)cF(n,r)||"name"===r||(n[r]=cie(e[r],t))}function cie(e,t){return ED(e)?e.signal?t.signalRef(e.signal):lD("Unsupported object: "+AF(e)):e}function uie(e,t){return e.signal?t.signalRef(e.signal):e.map((e=>cie(e,t)))}function die(e){lD("Can not find data set: "+AF(e))}function fie(e,t,n){if(e)return e.signal?n.signalRef(e.signal):(kD(e)?hie:e.fields?mie:pie)(e,t,n);null==t.domainMin&&null==t.domainMax||lD("No scale domain defined for domainMin/domainMax to override.")}function hie(e,t,n){return e.map((e=>cie(e,n)))}function pie(e,t,n){const r=n.getData(e.data);return r||die(e.data),_H(t.type)?r.valuesRef(n,e.field,vie(e.sort,!1)):CH(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function mie(e,t,n){const r=e.data,i=e.fields.reduce(((e,t)=>(t=xF(t)?{data:r,field:t}:kD(t)||t.signal?function(e,t){const n="_:vega:_"+aie++,r=Pre({});if(kD(e))r.value={$ingest:e};else if(e.signal){const i="setdata("+AF(n)+","+e.signal+")";r.params.input=t.signalRef(i)}return t.addDataPipeline(n,[r,nie({})]),{data:n,field:"data"}}(t,n):t,e.push(t),e)),[]);return(_H(t.type)?gie:CH(t.type)?yie:bie)(e,n,i)}function gie(e,t,n){const r=vie(e.sort,!0);let i,o;const a=n.map((e=>{const n=t.getData(e.data);return n||die(e.data),n.countsRef(t,e.field,r)})),l={groupby:fre,pulse:a};r&&(i=r.op||"count",o=r.field?mre(i,r.field):"count",l.ops=[lie[i]],l.fields=[t.fieldRef(o)],l.as=[o]),i=t.add(Nre(l));const s=t.add(Pre({pulse:ure(i)}));return o=t.add(oie({field:fre,sort:t.sortRef(r),pulse:ure(s)})),ure(o)}function vie(e,t){return e&&(e.field||e.op?e.field||"count"===e.op?t&&e.field&&e.op&&!lie[e.op]&&lD("Multiple domain scales can not be sorted using "+e.op):lD("No field provided for sort aggregate op: "+e.op):ED(e)?e.field="key":e={field:"key"}),e}function yie(e,t,n){const r=n.map((e=>{const n=t.getData(e.data);return n||die(e.data),n.domainRef(t,e.field)}));return ure(t.add(Gre({values:r})))}function bie(e,t,n){const r=n.map((e=>{const n=t.getData(e.data);return n||die(e.data),n.extentRef(t,e.field)}));return ure(t.add(Vre({extents:r})))}function xie(e,t,n){const r=t.config.range;let i=e.range;if(i.signal)return t.signalRef(i.signal);if(xF(i)){if(r&&cF(r,i))return xie(e=oF({},e,{range:r[i]}),t,n);"width"===i?i=[0,{signal:"width"}]:"height"===i?i=_H(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:lD("Unrecognized scale range value: "+AF(i))}else{if(i.scheme)return n.scheme=kD(i.scheme)?uie(i.scheme,t):cie(i.scheme,t),i.extent&&(n.schemeExtent=uie(i.extent,t)),void(i.count&&(n.schemeCount=cie(i.count,t)));if(i.step)return void(n.rangeStep=cie(i.step,t));if(_H(e.type)&&!kD(i))return fie(i,e,t);kD(i)||lD("Unsupported range type: "+AF(i))}return i.map((e=>(kD(e)?uie:cie)(e,t)))}function wie(e,t,n){return kD(e)?e.map((e=>wie(e,t,n))):ED(e)?e.signal?n.signalRef(e.signal):"fit"===t?e:lD("Unsupported parameter object: "+AF(e)):e}const _ie="top",kie="left",Eie="right",Sie="bottom",Cie="center",Mie="vertical",Tie="start",Aie="end",Die="index",Fie="label",Nie="offset",Rie="perc",zie="perc2",Pie="value",Oie="guide-label",Iie="guide-title",Lie="group-title",Bie="group-subtitle",jie="symbol",Uie="gradient",Kie="discrete",Wie="size",qie=[Wie,"shape","fill","stroke","strokeWidth","strokeDash","opacity"],Hie={name:1,style:1,interactive:1},Vie={value:0},Gie={value:1},Yie="group",Qie="rect",Xie="rule",$ie="symbol",Zie="text";function Jie(e){return e.type=Yie,e.interactive=e.interactive||!1,e}function eoe(e,t){const n=(n,r)=>xre(e[n],xre(t[n],r));return n.isVertical=n=>Mie===xre(e.direction,t.direction||(n?t.symbolDirection:t.gradientDirection)),n.gradientLength=()=>xre(e.gradientLength,t.gradientLength||t.gradientWidth),n.gradientThickness=()=>xre(e.gradientThickness,t.gradientThickness||t.gradientHeight),n.entryColumns=()=>xre(e.columns,xre(t.columns,+n.isVertical(!0))),n}function toe(e,t){const n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function noe(e,t,n){return"item.anchor === '".concat(Tie,"' ? ").concat(e," : item.anchor === '").concat(Aie,"' ? ").concat(t," : ").concat(n)}const roe=noe(AF(kie),AF(Eie),AF(Cie));function ioe(e,t){return t?e?ED(e)?Object.assign({},e,{offset:ioe(e.offset,t)}):{value:e,offset:t}:t:e}function ooe(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=Cne(e.encode,t,Hie)):e.interactive=!1,e}function aoe(e,t,n,r){const i=eoe(e,n),o=i.isVertical(),a=i.gradientThickness(),l=i.gradientLength();let s,c,u,d,f;o?(c=[0,1],u=[0,0],d=a,f=l):(c=[0,0],u=[1,0],d=l,f=a);const h={enter:s={opacity:Vie,x:Vie,y:Vie,width:kne(d),height:kne(f)},update:oF({},s,{opacity:Gie,fill:{gradient:t,start:c,stop:u}}),exit:{opacity:Vie}};return Sne(h,{stroke:i("gradientStrokeColor"),strokeWidth:i("gradientStrokeWidth")},{opacity:i("gradientOpacity")}),ooe({type:Qie,role:jne,encode:h},r)}function loe(e,t,n,r,i){const o=eoe(e,n),a=o.isVertical(),l=o.gradientThickness(),s=o.gradientLength();let c,u,d,f,h="";a?(c="y",d="y2",u="x",f="width",h="1-"):(c="x",d="x2",u="y",f="height");const p={opacity:Vie,fill:{scale:t,field:Pie}};p[c]={signal:h+"datum."+Rie,mult:s},p[u]=Vie,p[d]={signal:h+"datum."+zie,mult:s},p[f]=kne(l);const m={enter:p,update:oF({},p,{opacity:Gie}),exit:{opacity:Vie}};return Sne(m,{stroke:o("gradientStrokeColor"),strokeWidth:o("gradientStrokeWidth")},{opacity:o("gradientOpacity")}),ooe({type:Qie,role:Lne,key:Pie,from:i,encode:m},r)}const soe="datum.".concat(Rie,'<=0?"').concat(kie,'":datum.').concat(Rie,'>=1?"').concat(Eie,'":"').concat(Cie,'"'),coe="datum.".concat(Rie,'<=0?"').concat(Sie,'":datum.').concat(Rie,'>=1?"').concat(_ie,'":"').concat("middle",'"');function uoe(e,t,n,r){const i=eoe(e,t),o=i.isVertical(),a=kne(i.gradientThickness()),l=i.gradientLength();let s,c,u,d,f=i("labelOverlap"),h="";const p={enter:s={opacity:Vie},update:c={opacity:Gie,text:{field:Fie}},exit:{opacity:Vie}};return Sne(p,{fill:i("labelColor"),fillOpacity:i("labelOpacity"),font:i("labelFont"),fontSize:i("labelFontSize"),fontStyle:i("labelFontStyle"),fontWeight:i("labelFontWeight"),limit:xre(e.labelLimit,t.gradientLabelLimit)}),o?(s.align={value:"left"},s.baseline=c.baseline={signal:coe},u="y",d="x",h="1-"):(s.align=c.align={signal:soe},s.baseline={value:"top"},u="x",d="y"),s[u]=c[u]={signal:h+"datum."+Rie,mult:l},s[d]=c[d]=a,a.offset=xre(e.labelOffset,t.gradientLabelOffset)||0,f=f?{separation:i("labelSeparation"),method:f,order:"datum."+Die}:void 0,ooe({type:Zie,role:Une,style:Oie,key:Pie,from:r,encode:p,overlap:f},n)}function doe(e,t,n,r,i){const o=eoe(e,t),a=n.entries,l=!(!a||!a.interactive),s=a?a.name:void 0,c=o("clipHeight"),u=o("symbolOffset"),d={data:"value"},f="(".concat(i,") ? datum.").concat(Nie," : datum.").concat(Wie),h=c?kne(c):{field:Wie},p="datum.".concat(Die),m="max(1, ".concat(i,")");let g,v,y,b,x;h.mult=.5,g={enter:v={opacity:Vie,x:{signal:f,mult:.5,offset:u},y:h},update:y={opacity:Gie,x:v.x,y:v.y},exit:{opacity:Vie}};let w=null,_=null;e.fill||(w=t.symbolBaseFillColor,_=t.symbolBaseStrokeColor),Sne(g,{fill:o("symbolFillColor",w),shape:o("symbolType"),size:o("symbolSize"),stroke:o("symbolStrokeColor",_),strokeDash:o("symbolDash"),strokeDashOffset:o("symbolDashOffset"),strokeWidth:o("symbolStrokeWidth")},{opacity:o("symbolOpacity")}),qie.forEach((t=>{e[t]&&(y[t]=v[t]={scale:e[t],field:Pie})}));const k=ooe({type:$ie,role:Kne,key:Pie,from:d,clip:!!c||void 0,encode:g},n.symbols),E=kne(u);E.offset=o("labelOffset"),g={enter:v={opacity:Vie,x:{signal:f,offset:E},y:h},update:y={opacity:Gie,text:{field:Fie},x:v.x,y:v.y},exit:{opacity:Vie}},Sne(g,{align:o("labelAlign"),baseline:o("labelBaseline"),fill:o("labelColor"),fillOpacity:o("labelOpacity"),font:o("labelFont"),fontSize:o("labelFontSize"),fontStyle:o("labelFontStyle"),fontWeight:o("labelFontWeight"),limit:o("labelLimit")});const S=ooe({type:Zie,role:Une,style:Oie,key:Pie,from:d,encode:g},n.labels);return g={enter:{noBound:{value:!c},width:Vie,height:c?kne(c):Vie,opacity:Vie},exit:{opacity:Vie},update:y={opacity:Gie,row:{signal:null},column:{signal:null}}},o.isVertical(!0)?(b="ceil(item.mark.items.length / ".concat(m,")"),y.row.signal="".concat(p,"%").concat(b),y.column.signal="floor(".concat(p," / ").concat(b,")"),x={field:["row",p]}):(y.row.signal="floor(".concat(p," / ").concat(m,")"),y.column.signal="".concat(p," % ").concat(m),x={field:p}),y.column.signal="(".concat(i,")?").concat(y.column.signal,":").concat(p),Jie({role:Dne,from:r={facet:{data:r,name:"value",groupby:Die}},encode:Cne(g,a,Hie),marks:[k,S],name:s,interactive:l,sort:x})}const foe='item.orient === "left"',hoe='item.orient === "right"',poe="(".concat(foe," || ").concat(hoe,")"),moe="datum.vgrad && ".concat(poe),goe=noe('"top"','"bottom"','"middle"'),voe=noe('"right"','"left"','"center"'),yoe="datum.vgrad && ".concat(hoe," ? (").concat(voe,") : (").concat(poe," && !(datum.vgrad && ").concat(foe,')) ? "left" : ').concat(roe),boe="item._anchor || (".concat(poe,' ? "middle" : "start")'),xoe="".concat(moe," ? (").concat(foe," ? -90 : 90) : 0"),woe="".concat(poe," ? (datum.vgrad ? (").concat(hoe,' ? "bottom" : "top") : ').concat(goe,') : "top"');function _oe(e,t){let n;return ED(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+koe(e.path)+")":e.sphere&&(n="geoShape("+koe(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}function koe(e){return ED(e)&&e.signal?e.signal:AF(e)}function Eoe(e){const t=e.role||"";return t.indexOf("axis")&&t.indexOf("legend")&&t.indexOf("title")?e.type===Yie?Dne:t||Tne:t}function Soe(e){return{marktype:e.type,name:e.name||void 0,role:e.role||Eoe(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function Coe(e,t){return e&&e.signal?t.signalRef(e.signal):!1!==e}function Moe(e,t){const n=EI(e.type);n||lD("Unrecognized transform type: "+AF(e.type));const r=sre(n.type.toLowerCase(),null,Toe(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r}function Toe(e,t,n){const r={},i=e.params.length;for(let o=0;o<i;++o){const i=e.params[o];r[i.name]=Aoe(i,t,n)}return r}function Aoe(e,t,n){const r=e.type,i=t[e.name];return"index"===r?function(e,t,n){xF(t.from)||lD('Lookup "from" parameter must be a string literal.');return n.getData(t.from).lookupRef(n,t.key)}(0,t,n):void 0!==i?"param"===r?function(e,t,n){const r=t[e.name];return e.array?(kD(r)||lD("Expected an array of sub-parameters. Instead: "+AF(r)),r.map((t=>Foe(e,t,n)))):Foe(e,r,n)}(e,t,n):"projection"===r?n.projectionRef(t[e.name]):e.array&&!yre(i)?i.map((t=>Doe(e,t,n))):Doe(e,i,n):void(e.required&&lD("Missing required "+AF(t.type)+" parameter: "+AF(e.name)))}function Doe(e,t,n){const r=e.type;if(yre(t))return Poe(r)?lD("Expression references can not be signals."):Ooe(r)?n.fieldRef(t):Ioe(r)?n.compareRef(t):n.signalRef(t.signal);{const i=e.expr||Ooe(r);return i&&Noe(t)?n.exprRef(t.expr,t.as):i&&Roe(t)?dre(t.field,t.as):Poe(r)?Yee(t,n):zoe(r)?ure(n.getData(t).values):Ooe(r)?dre(t):Ioe(r)?n.compareRef(t):t}}function Foe(e,t,n){const r=e.params.length;let i;for(let a=0;a<r;++a){i=e.params[a];for(const e in i.key)if(i.key[e]!==t[e]){i=null;break}if(i)break}i||lD("Unsupported parameter: "+AF(t));const o=oF(Toe(i,t,n),i.key);return ure(n.add(Qre(o)))}const Noe=e=>e&&e.expr,Roe=e=>e&&e.field,zoe=e=>"data"===e,Poe=e=>"expr"===e,Ooe=e=>"field"===e,Ioe=e=>"compare"===e;function Loe(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:ure(t.getData(e.data).output)}function Boe(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}function joe(e){return xF(e)?e:null}function Uoe(e,t,n){const r=mre(n.op,n.field);let i;if(t.ops){for(let o=0,a=t.as.length;o<a;++o)if(t.as[o]===r)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((i=n.op.signal)?e.signalRef(i):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(r))}function Koe(e,t,n,r,i,o,a){const l=t[n]||(t[n]={}),s=function(e){return ED(e)?(e.order===pre?"-":"+")+mre(e.op,e.field):""}(o);let c,u,d=joe(i);if(null!=d&&(e=t.scope,d+=s?"|"+s:"",c=l[d]),!c){const n=o?{field:fre,pulse:t.countsRef(e,i,o)}:{field:e.fieldRef(i),pulse:ure(t.output)};s&&(n.sort=e.sortRef(o)),u=e.add(sre(r,void 0,n)),a&&(t.index[i]=u),c=ure(u),null!=d&&(l[d]=c)}return c}function Woe(e,t,n){const r=e.remove,i=e.insert,o=e.toggle,a=e.modify,l=e.values,s=t.add(cre()),c=Yee("if("+e.trigger+',modify("'+n+'",'+[i,r,o,a,l].map((e=>null==e?"null":e)).join(",")+"),0)",t);s.update=c.$expr,s.params=c.$params}function qoe(e,t){const n=Eoe(e),r=e.type===Yie,i=e.from&&e.from.facet,o=e.overlap;let a,l,s,c,u,d,f,h=e.layout||n===Dne||n===Ane;const p=n===Tne||h||i,m=function(e,t,n){let r,i,o,a,l;return e?(r=e.facet)&&(t||lD("Only group marks can be faceted."),null!=r.field?a=l=Loe(r,n):(e.data?l=ure(n.getData(e.data).aggregate):(o=Moe(oF({type:"aggregate",groupby:YD(r.groupby)},r.aggregate),n),o.params.key=n.keyRef(r.groupby),o.params.pulse=Loe(r,n),a=l=ure(n.add(o))),i=n.keyRef(r.groupby,!0))):a=ure(n.add(Pre(null,[{}]))),a||(a=Loe(e,n)),{key:i,pulse:a,parent:l}}(e.from,r,t);l=t.add(Ire({key:m.key||(e.key?dre(e.key):void 0),pulse:m.pulse,clean:!r}));const g=ure(l);l=s=t.add(Pre({pulse:g})),l=t.add(Hre({markdef:Soe(e),interactive:Coe(e.interactive,t),clip:_oe(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:ure(l)}));const v=ure(l);l=c=t.add(Lre(ere(e.encode,e.type,n,e.style,t,{mod:!1,pulse:v}))),l.params.parent=t.encode(),e.transform&&e.transform.forEach((e=>{const n=Moe(e,t),r=n.metadata;(r.generates||r.changes)&&lD("Mark transforms should not generate new data."),r.nomod||(c.params.mod=!0),n.params.pulse=ure(l),t.add(l=n)})),e.sort&&(l=t.add(rie({sort:t.compareRef(e.sort),pulse:ure(l)})));const y=ure(l);(i||h)&&(h=t.add(iie({layout:t.objectProperty(e.layout),legends:t.legends,mark:v,pulse:y})),d=ure(h));const b=t.add(zre({mark:v,pulse:d||y}));f=ure(b),r&&(p&&(a=t.operators,a.pop(),h&&a.pop()),t.pushState(y,d||f,g),i?function(e,t,n){const r=e.from.facet,i=r.name,o=Loe(r,t);let a;r.name||lD("Facet must have a name: "+AF(r)),r.data||lD("Facet must reference a data set: "+AF(r)),r.field?a=t.add(Xre({field:t.fieldRef(r.field),pulse:o})):r.groupby?a=t.add(jre({key:t.keyRef(r.groupby),group:ure(t.proxy(n.parent)),pulse:o})):lD("Facet must specify groupby or field: "+AF(r));const l=t.fork(),s=l.add(Pre()),c=l.add(nie({pulse:ure(s)}));l.addData(i,new Boe(l,s,s,c)),l.addSignal("parent",null),a.params.subflow={$subflow:l.parse(e).toRuntime()}}(e,t,m):p?function(e,t,n){const r=t.add(Xre({pulse:n.pulse})),i=t.fork();i.add(nie()),i.addSignal("parent",null),r.params.subflow={$subflow:i.parse(e).toRuntime()}}(e,t,m):t.parse(e),t.popState(),p&&(h&&a.push(h),a.push(b))),o&&(f=function(e,t,n){const r=e.method,i=e.bound,o=e.separation,a={separation:yre(o)?n.signalRef(o.signal):o,method:yre(r)?n.signalRef(r.signal):r,pulse:t};e.order&&(a.sort=n.compareRef({field:e.order}));if(i){const e=i.tolerance;a.boundTolerance=yre(e)?n.signalRef(e.signal):+e,a.boundScale=n.scaleRef(i.scale),a.boundOrient=i.orient}return ure(n.add(Yre(a)))}(o,f,t));const x=t.add(eie({pulse:f})),w=t.add(nie({pulse:ure(x)},void 0,t.parent()));null!=e.name&&(u=e.name,t.addData(u,new Boe(t,s,x,w)),e.on&&e.on.forEach((e=>{(e.insert||e.remove||e.toggle)&&lD("Marks only support modify triggers."),Woe(e,t,u)})))}function Hoe(e,t){const n=t.config.legend,r=e.encode||{},i=eoe(e,n),o=r.legend||{},a=o.name||void 0,l=o.interactive,s=o.style,c={};let u,d,f,h=0;qie.forEach((t=>e[t]?(c[t]=e[t],h=h||e[t]):0)),h||lD("Missing valid scale for legend.");const p=function(e,t){let n=e.type||jie;e.type||1!==function(e){return qie.reduce(((t,n)=>t+(e[n]?1:0)),0)}(e)||!e.fill&&!e.stroke||(n=wH(t)?Uie:kH(t)?Kie:jie);return n!==Uie?n:kH(t)?Kie:Uie}(e,t.scaleType(h)),m={title:null!=e.title,scales:c,type:p,vgrad:"symbol"!==p&&i.isVertical()},g=ure(t.add(Pre(null,[m]))),v=ure(t.add(Wre(d={type:p,scale:t.scaleRef(h),count:t.objectProperty(i("tickCount")),limit:t.property(i("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return p===Uie?(f=[aoe(e,h,n,r.gradient),uoe(e,n,r.labels,v)],d.count=d.count||t.signalRef("max(2,2*floor((".concat(wre(i.gradientLength()),")/100))"))):p===Kie?f=[loe(e,h,n,r.gradient,v),uoe(e,n,r.labels,v)]:(u=function(e,t){const n=eoe(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}(e,n),f=[doe(e,n,r,v,wre(u.columns))],d.size=function(e,t,n){const r=wre(Goe("size",e,n)),i=wre(Goe("strokeWidth",e,n)),o=wre(function(e,t,n){return toe("fontSize",e)||function(e,t,n){const r=t.config.style[n];return r&&r[e]}("fontSize",t,n)}(n[1].encode,t,Oie));return Yee("max(ceil(sqrt(".concat(r,")+").concat(i,"),").concat(o,")"),t)}(e,t,f[0].marks)),f=[Jie({role:Bne,from:g,encode:{enter:{x:{value:0},y:{value:0}}},marks:f,layout:u,interactive:l})],m.title&&f.push(function(e,t,n,r){const i=eoe(e,t),o={enter:{opacity:Vie},update:{opacity:Gie,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:Vie}};return Sne(o,{orient:i("titleOrient"),_anchor:i("titleAnchor"),anchor:{signal:boe},angle:{signal:xoe},align:{signal:yoe},baseline:{signal:woe},text:e.title,fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),baseline:i("titleBaseline")}),ooe({type:Zie,role:Wne,style:Iie,from:r,encode:o},n)}(e,n,r.title,g)),qoe(Jie({role:Ine,from:g,encode:Cne(Voe(i,e,n),o,Hie),marks:f,aria:i("aria"),description:i("description"),zindex:i("zindex"),name:a,interactive:l,style:s}),t)}function Voe(e,t,n){const r={enter:{},update:{}};return Sne(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}function Goe(e,t,n){return t[e]?'scale("'.concat(t[e],'",datum)'):toe(e,n[0].encode)}Boe.fromEntries=function(e,t){const n=t.length,r=t[n-1],i=t[n-2];let o=t[0],a=null,l=1;for(o&&"load"===o.type&&(o=t[1]),e.add(t[0]);l<n;++l)t[l].params.pulse=ure(t[l-1]),e.add(t[l]),"aggregate"===t[l].type&&(a=t[l]);return new Boe(e,o,i,r,a)},Boe.prototype={countsRef(e,t,n){const r=this,i=r.counts||(r.counts={}),o=joe(t);let a,l,s;return null!=o&&(e=r.scope,a=i[o]),a?n&&n.field&&Uoe(e,a.agg.params,n):(s={groupby:e.fieldRef(t,"key"),pulse:ure(r.output)},n&&n.field&&Uoe(e,s,n),l=e.add(Nre(s)),a=e.add(Pre({pulse:ure(l)})),a={agg:l,ref:ure(a)},null!=o&&(i[o]=a)),a.ref},tuplesRef(){return ure(this.values)},extentRef(e,t){return Koe(e,this,"extent","extent",t,!1)},domainRef(e,t){return Koe(e,this,"domain","values",t,!1)},valuesRef(e,t,n){return Koe(e,this,"vals","values",t,n||!0)},lookupRef(e,t){return Koe(e,this,"lookup","tupleindex",t,!1)},indataRef(e,t){return Koe(e,this,"indata","tupleindex",t,!0,!0)}};const Yoe='item.orient==="'.concat(kie,'"?-90:item.orient==="').concat(Eie,'"?90:0');function Qoe(e,t){const n=eoe(e=xF(e)?{text:e}:e,t.config.title),r=e.encode||{},i=r.group||{},o=i.name||void 0,a=i.interactive,l=i.style,s=[],c=ure(t.add(Pre(null,[{}])));return s.push(function(e,t,n,r){const i={value:0},o=e.text,a={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return Sne(a,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),ooe({type:Zie,role:Hne,style:Lie,from:r,encode:a},n)}(e,n,function(e){const t=e.encode;return t&&t.title||oF({name:e.name,interactive:e.interactive,style:e.style},t)}(e),c)),e.subtitle&&s.push(function(e,t,n,r){const i={value:0},o=e.subtitle,a={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return Sne(a,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),ooe({type:Zie,role:Vne,style:Bie,from:r,encode:a},n)}(e,n,r.subtitle,c)),qoe(Jie({role:qne,from:c,encode:Xoe(n,i),marks:s,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:o,interactive:a,style:l}),t)}function Xoe(e,t){const n={enter:{},update:{}};return Sne(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:roe},angle:{signal:Yoe},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),Cne(n,t,Hie)}function $oe(e,t){const n=[];e.transform&&e.transform.forEach((e=>{n.push(Moe(e,t))})),e.on&&e.on.forEach((n=>{Woe(n,t,e.name)})),t.addDataPipeline(e.name,function(e,t,n){const r=[];let i,o,a,l,s,c=null,u=!1,d=!1;e.values?yre(e.values)||bre(e.format)?(r.push(Joe(t,e)),r.push(c=Zoe())):r.push(c=Zoe({$ingest:e.values,$format:e.format})):e.url?bre(e.url)||bre(e.format)?(r.push(Joe(t,e)),r.push(c=Zoe())):r.push(c=Zoe({$request:e.url,$format:e.format})):e.source&&(c=i=YD(e.source).map((e=>ure(t.getData(e).output))),r.push(null));for(o=0,a=n.length;o<a;++o)l=n[o],s=l.metadata,c||s.source||r.push(c=Zoe()),r.push(l),s.generates&&(d=!0),s.modifies&&!d&&(u=!0),s.source?c=l:s.changes&&(c=null);i&&(a=i.length-1,r[0]=Jre({derive:u,pulse:a?i:i[0]}),(u||a)&&r.splice(1,0,Zoe()));c||r.push(Zoe());return r.push(nie({})),r}(e,t,n))}function Zoe(e){const t=Pre({},e);return t.metadata={source:!0},t}function Joe(e,t){return qre({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}const eae=e=>e===Sie||e===_ie,tae=(e,t,n)=>yre(e)?sae(e.signal,t,n):e===kie||e===_ie?t:n,nae=(e,t,n)=>yre(e)?aae(e.signal,t,n):eae(e)?t:n,rae=(e,t,n)=>yre(e)?lae(e.signal,t,n):eae(e)?n:t,iae=(e,t,n)=>yre(e)?cae(e.signal,t,n):e===_ie?{value:t}:{value:n},oae=(e,t,n)=>yre(e)?uae(e.signal,t,n):e===Eie?{value:t}:{value:n},aae=(e,t,n)=>dae("".concat(e," === '").concat(_ie,"' || ").concat(e," === '").concat(Sie,"'"),t,n),lae=(e,t,n)=>dae("".concat(e," !== '").concat(_ie,"' && ").concat(e," !== '").concat(Sie,"'"),t,n),sae=(e,t,n)=>hae("".concat(e," === '").concat(kie,"' || ").concat(e," === '").concat(_ie,"'"),t,n),cae=(e,t,n)=>hae("".concat(e," === '").concat(_ie,"'"),t,n),uae=(e,t,n)=>hae("".concat(e," === '").concat(Eie,"'"),t,n),dae=(e,t,n)=>(t=null!=t?kne(t):t,n=null!=n?kne(n):n,fae(t)&&fae(n)?(t=t?t.signal||AF(t.value):null,n=n?n.signal||AF(n.value):null,{signal:"".concat(e," ? (").concat(t,") : (").concat(n,")")}):[oF({test:e},t)].concat(n||[])),fae=e=>null==e||1===Object.keys(e).length,hae=(e,t,n)=>({signal:"".concat(e," ? (").concat(mae(t),") : (").concat(mae(n),")")}),pae=(e,t,n,r,i)=>({signal:(null!=r?"".concat(e," === '").concat(kie,"' ? (").concat(mae(r),") : "):"")+(null!=n?"".concat(e," === '").concat(Sie,"' ? (").concat(mae(n),") : "):"")+(null!=i?"".concat(e," === '").concat(Eie,"' ? (").concat(mae(i),") : "):"")+(null!=t?"".concat(e," === '").concat(_ie,"' ? (").concat(mae(t),") : "):"")+"(null)"}),mae=e=>yre(e)?e.signal:null==e?null:AF(e),gae=(e,t)=>0===t?0:yre(e)?{signal:"(".concat(e.signal,") * ").concat(t)}:{value:e*t},vae=(e,t)=>{const n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e};function yae(e,t,n,r){let i;if(t&&cF(t,e))return t[e];if(cF(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":i="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":i=e[5].toLowerCase()+e.slice(6)}return r[Iie][i]}if(e.startsWith("label")){switch(e){case"labelColor":i="fill";break;case"labelFont":case"labelFontSize":i=e[5].toLowerCase()+e.slice(6)}return r[Oie][i]}return null}function bae(e){const t={};for(const n of e)if(n)for(const e in n)t[e]=1;return Object.keys(t)}function xae(e,t){return{scale:e.scale,range:t}}function wae(e,t,n,r,i){const o=eoe(e,t),a=e.orient,l=e.gridScale,s=tae(a,1,-1),c=function(e,t){if(1===t);else if(ED(e)){let n=e=oF({},e);for(;null!=n.mult;){if(!ED(n.mult))return n.mult=yre(t)?{signal:"(".concat(n.mult,") * (").concat(t.signal,")")}:n.mult*t,e;n=n.mult=oF({},n.mult)}n.mult=t}else e=yre(t)?{signal:"(".concat(t.signal,") * (").concat(e||0,")")}:t*(e||0);return e}(e.offset,s);let u,d,f;const h={enter:u={opacity:Vie},update:f={opacity:Gie},exit:d={opacity:Vie}};Sne(h,{stroke:o("gridColor"),strokeCap:o("gridCap"),strokeDash:o("gridDash"),strokeDashOffset:o("gridDashOffset"),strokeOpacity:o("gridOpacity"),strokeWidth:o("gridWidth")});const p={scale:e.scale,field:Pie,band:i.band,extra:i.extra,offset:i.offset,round:o("tickRound")},m=nae(a,{signal:"height"},{signal:"width"}),g=l?{scale:l,range:0,mult:s,offset:c}:{value:0,offset:c},v=l?{scale:l,range:1,mult:s,offset:c}:oF(m,{mult:s,offset:c});return u.x=f.x=nae(a,p,g),u.y=f.y=rae(a,p,g),u.x2=f.x2=rae(a,v),u.y2=f.y2=nae(a,v),d.x=nae(a,p),d.y=rae(a,p),ooe({type:Xie,role:Rne,key:Pie,from:r,encode:h},n)}function _ae(e,t,n,r,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+i+")"}}function kae(e,t,n,r){const i=eoe(e,t),o=e.orient,a=tae(o,-1,1);let l,s;const c={enter:l={opacity:Vie,anchor:kne(i("titleAnchor",null)),align:{signal:roe}},update:s=oF({},l,{opacity:Gie,text:kne(e.title)}),exit:{opacity:Vie}},u={signal:'lerp(range("'.concat(e.scale,'"), ').concat(noe(0,1,.5),")")};return s.x=nae(o,u),s.y=rae(o,u),l.angle=nae(o,Vie,gae(a,90)),l.baseline=nae(o,iae(o,Sie,_ie),{value:Sie}),s.angle=l.angle,s.baseline=l.baseline,Sne(c,{fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),angle:i("titleAngle"),baseline:i("titleBaseline")}),function(e,t,n,r){const i=(e,t)=>null!=e?(n.update[t]=vae(kne(e),n.update[t]),!1):!Mne(t,r),o=i(e("titleX"),"x"),a=i(e("titleY"),"y");n.enter.auto=a===o?kne(a):nae(t,kne(a),kne(o))}(i,o,c,n),c.update.align=vae(c.update.align,l.align),c.update.angle=vae(c.update.angle,l.angle),c.update.baseline=vae(c.update.baseline,l.baseline),ooe({type:Zie,role:One,style:Iie,from:r,encode:c},n)}function Eae(e,t){const n=function(e,t){var n,r,i,o=t.config,a=o.style,l=o.axis,s="band"===t.scaleType(e.scale)&&o.axisBand,c=e.orient;if(yre(c)){const e=bae([o.axisX,o.axisY]),t=bae([o.axisTop,o.axisBottom,o.axisLeft,o.axisRight]);for(i of(n={},e))n[i]=nae(c,yae(i,o.axisX,l,a),yae(i,o.axisY,l,a));for(i of(r={},t))r[i]=pae(c.signal,yae(i,o.axisTop,l,a),yae(i,o.axisBottom,l,a),yae(i,o.axisLeft,l,a),yae(i,o.axisRight,l,a))}else n=c===_ie||c===Sie?o.axisX:o.axisY,r=o["axis"+c[0].toUpperCase()+c.slice(1)];return n||r||s?oF({},l,n,r,s):l}(e,t),r=e.encode||{},i=r.axis||{},o=i.name||void 0,a=i.interactive,l=i.style,s=eoe(e,n),c=function(e){const t=e("tickBand");let n,r,i=e("tickOffset");return t?t.signal?(n={signal:"(".concat(t.signal,") === 'extent' ? 1 : 0.5")},r={signal:"(".concat(t.signal,") === 'extent'")},ED(i)||(i={signal:"(".concat(t.signal,") === 'extent' ? 0 : ").concat(i)})):"extent"===t?(n=1,r=!0,i=0):(n=.5,r=!1):(n=e("bandPosition"),r=e("tickExtra")),{extra:r,band:n,offset:i}}(s),u={scale:e.scale,ticks:!!s("ticks"),labels:!!s("labels"),grid:!!s("grid"),domain:!!s("domain"),title:null!=e.title},d=ure(t.add(Pre({},[u]))),f=ure(t.add(Rre({scale:t.scaleRef(e.scale),extra:t.property(c.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),h=[];let p;return u.grid&&h.push(wae(e,n,r.grid,f,c)),u.ticks&&(p=s("tickSize"),h.push(function(e,t,n,r,i,o){const a=eoe(e,t),l=e.orient,s=tae(l,-1,1);let c,u,d;const f={enter:c={opacity:Vie},update:d={opacity:Gie},exit:u={opacity:Vie}};Sne(f,{stroke:a("tickColor"),strokeCap:a("tickCap"),strokeDash:a("tickDash"),strokeDashOffset:a("tickDashOffset"),strokeOpacity:a("tickOpacity"),strokeWidth:a("tickWidth")});const h=kne(i);h.mult=s;const p={scale:e.scale,field:Pie,band:o.band,extra:o.extra,offset:o.offset,round:a("tickRound")};return d.y=c.y=nae(l,Vie,p),d.y2=c.y2=nae(l,h),u.x=nae(l,p),d.x=c.x=rae(l,Vie,p),d.x2=c.x2=rae(l,h),u.y=rae(l,p),ooe({type:Xie,role:Pne,key:Pie,from:r,encode:f},n)}(e,n,r.ticks,f,p,c))),u.labels&&(p=u.ticks?p:0,h.push(function(e,t,n,r,i,o){const a=eoe(e,t),l=e.orient,s=e.scale,c=tae(l,-1,1),u=wre(a("labelFlush")),d=wre(a("labelFlushOffset")),f=a("labelAlign"),h=a("labelBaseline");let p,m=0===u||!!u;const g=kne(i);g.mult=c,g.offset=kne(a("labelPadding")||0),g.offset.mult=c;const v={scale:s,field:Pie,band:.5,offset:ioe(o.offset,a("labelOffset"))},y=nae(l,m?_ae(s,u,'"left"','"right"','"center"'):{value:"center"},oae(l,"left","right")),b=nae(l,iae(l,"bottom","top"),m?_ae(s,u,'"top"','"bottom"','"middle"'):{value:"middle"}),x=_ae(s,u,"-(".concat(d,")"),d,0);m=m&&d;const w={opacity:Vie,x:nae(l,v,g),y:rae(l,v,g)},_={enter:w,update:p={opacity:Gie,text:{field:Fie},x:w.x,y:w.y,align:y,baseline:b},exit:{opacity:Vie,x:w.x,y:w.y}};Sne(_,{dx:!f&&m?nae(l,x):null,dy:!h&&m?rae(l,x):null}),Sne(_,{angle:a("labelAngle"),fill:a("labelColor"),fillOpacity:a("labelOpacity"),font:a("labelFont"),fontSize:a("labelFontSize"),fontWeight:a("labelFontWeight"),fontStyle:a("labelFontStyle"),limit:a("labelLimit"),lineHeight:a("labelLineHeight")},{align:f,baseline:h});const k=a("labelBound");let E=a("labelOverlap");return E=E||k?{separation:a("labelSeparation"),method:E,order:"datum.index",bound:k?{scale:s,orient:l,tolerance:k}:null}:void 0,p.align!==y&&(p.align=vae(p.align,y)),p.baseline!==b&&(p.baseline=vae(p.baseline,b)),ooe({type:Zie,role:zne,style:Oie,key:Pie,from:r,encode:_,overlap:E},n)}(e,n,r.labels,f,p,c))),u.domain&&h.push(function(e,t,n,r){const i=eoe(e,t),o=e.orient;let a,l;const s={enter:a={opacity:Vie},update:l={opacity:Gie},exit:{opacity:Vie}};Sne(s,{stroke:i("domainColor"),strokeCap:i("domainCap"),strokeDash:i("domainDash"),strokeDashOffset:i("domainDashOffset"),strokeWidth:i("domainWidth"),strokeOpacity:i("domainOpacity")});const c=xae(e,0),u=xae(e,1);return a.x=l.x=nae(o,c,Vie),a.x2=l.x2=nae(o,u),a.y=l.y=rae(o,c,Vie),a.y2=l.y2=rae(o,u),ooe({type:Xie,role:Nne,from:r,encode:s},n)}(e,n,r.domain,d)),u.title&&h.push(kae(e,n,r.title,d)),qoe(Jie({role:Fne,from:d,encode:Cne(Sae(s,e),i,Hie),marks:h,aria:s("aria"),description:s("description"),zindex:s("zindex"),name:o,interactive:a,style:l}),t)}function Sae(e,t){const n={enter:{},update:{}};return Sne(n,{orient:e("orient"),offset:e("offset")||0,position:xre(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:'abs(span(range("'.concat(t.scale,'")))')},translate:e("translate"),format:t.format,formatType:t.formatType}),n}function Cae(e,t,n){const r=YD(e.signals),i=YD(e.scales);return n||r.forEach((e=>are(e,t))),YD(e.projections).forEach((e=>function(e,t){const n=t.config.projection||{},r={};for(const i in e)"name"!==i&&(r[i]=wie(e[i],i,t));for(const i in n)null==r[i]&&(r[i]=wie(n[i],i,t));t.addProjection(e.name,r)}(e,t))),i.forEach((e=>function(e,t){const n=e.type||"linear";bH(n)||lD("Unrecognized scale type: "+AF(n)),t.addScale(e.name,{type:n,domain:void 0})}(e,t))),YD(e.data).forEach((e=>$oe(e,t))),i.forEach((e=>sie(e,t))),(n||r).forEach((e=>function(e,t){const n=t.getSignal(e.name);let r=e.update;e.init&&(r?lD("Signals can not include both init and update expressions."):(r=e.init,n.initonly=!0)),r&&(r=Yee(r,t),n.update=r.$expr,n.params=r.$params),e.on&&e.on.forEach((e=>Are(e,t,n.id)))}(e,t))),YD(e.axes).forEach((e=>Eae(e,t))),YD(e.marks).forEach((e=>qoe(e,t))),YD(e.legends).forEach((e=>Hoe(e,t))),e.title&&Qoe(e.title,t),t.parseLambdas(),t}const Mae=e=>Cne({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e);function Tae(e,t){const n=t.config,r=ure(t.root=t.add(cre())),i=function(e,t){const n=n=>xre(e[n],t[n]),r=[Aae("background",n("background")),Aae("autosize",bne(n("autosize"))),Aae("padding",_ne(n("padding"))),Aae("width",n("width")||0),Aae("height",n("height")||0)],i=r.reduce(((e,t)=>(e[t.name]=t,e)),{}),o={};return YD(e.signals).forEach((e=>{cF(i,e.name)?e=oF(i[e.name],e):r.push(e),o[e.name]=e})),YD(t.signals).forEach((e=>{cF(o,e.name)||cF(i,e.name)||r.push(e)})),r}(e,n);i.forEach((e=>are(e,t))),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;const o=t.add(Pre()),a=t.add(Lre(ere(Mae(e.encode),Yie,Ane,e.style,t,{pulse:ure(o)}))),l=t.add(iie({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:r,pulse:ure(a)}));t.operators.pop(),t.pushState(ure(a),ure(l),null),Cae(e,t,i),t.operators.push(l);let s=t.add(zre({mark:r,pulse:ure(l)}));return s=t.add(eie({pulse:ure(s)})),s=t.add(nie({pulse:ure(s)})),t.addData("root",new Boe(t,o,o,s)),t}function Aae(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function Dae(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function Fae(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}function Nae(e){return(kD(e)?Rae:zae)(e)}function Rae(e){const t=e.length;let n="[";for(let r=0;r<t;++r){const t=e[r];n+=(r>0?",":"")+(ED(t)?t.signal||Nae(t):AF(t))}return n+"]"}function zae(e){let t,n,r="{",i=0;for(t in e)n=e[t],r+=(++i>1?",":"")+AF(t)+":"+(ED(n)?n.signal||Nae(n):AF(n));return r+"}"}function Pae(e,t,n){return ED(e)||lD("Input Vega specification must be an object."),t=CD(function(){const e="sans-serif",t="#4c78a8",n="#000",r="#888",i="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:t},area:{fill:t},image:null,line:{stroke:t,strokeWidth:2},path:{stroke:t},rect:{fill:t},rule:{stroke:n},shape:{stroke:t},symbol:{fill:t,size:64},text:{fill:n,font:e,fontSize:11},trail:{fill:t,size:2},style:{"guide-label":{fill:n,font:e,fontSize:10},"guide-title":{fill:n,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:n,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:n,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:i},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:r,grid:!1,gridWidth:1,gridColor:i,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:r,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:i,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:r,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}(),t,e.config),Tae(e,new Dae(t,n)).toRuntime()}Dae.prototype=Fae.prototype={parse(e){return Cae(e,this)},fork(){return new Fae(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach((t=>{t.$ref=e.id})),e.refs=null),e},proxy(e){const t=e instanceof lre?ure(e):e;return this.add(Zre({value:t}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,t;for(e in this.root&&(this.root.root=!0),this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(e,t,n){let r,i;e&&(r=e.data||(e.data={}),i=r[t]||(r[t]=[]),i.push(n))}for(e in this.data){t=this.data[e],n(t.input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values");for(const r in t.index)n(t.index[r],e,"index:"+r)}return this},pushState(e,t,n){this._encode.push(ure(this.add(nie({pulse:e})))),this._parent.push(t),this._lookup.push(n?ure(this.proxy(n)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return AD(this._parent)},encode(){return AD(this._encode)},lookup(){return AD(this._lookup)},markpath(){const e=this._markpath;return++e[e.length-1]},fieldRef(e,t){if(xF(e))return dre(e,t);e.signal||lD("Unsupported field reference: "+AF(e));const n=e.signal;let r=this.field[n];if(!r){const e={name:this.signalRef(n)};t&&(e.as=t),this.field[n]=r=ure(this.add(Ure(e)))}return r},compareRef(e){let t=!1;const n=e=>yre(e)?(t=!0,this.signalRef(e.signal)):function(e){return e&&e.expr}(e)?(t=!0,this.exprRef(e.expr)):e,r=YD(e.field).map(n),i=YD(e.order).map(n);return t?ure(this.add(Ore({fields:r,orders:i}))):hre(r,i)},keyRef(e,t){let n=!1;const r=this.signals;return e=YD(e).map((e=>yre(e)?(n=!0,ure(r[e.signal])):e)),n?ure(this.add(Kre({fields:e,flat:t}))):function(e,t){const n={$key:e};return t&&(n.$flat=!0),n}(e,t)},sortRef(e){if(!e)return e;const t=mre(e.op,e.field),n=e.order||"ascending";return n.signal?ure(this.add(Ore({fields:t,orders:this.signalRef(n.signal)}))):hre(t,n)},event(e,t){const n=e+":"+t;if(!this.events[n]){const r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},hasOwnSignal(e){return cF(this.signals,e)},addSignal(e,t){this.hasOwnSignal(e)&&lD("Duplicate signal name: "+AF(e));const n=t instanceof lre?t:this.add(cre(t));return this.signals[e]=n},getSignal(e){return this.signals[e]||lD("Unrecognized signal name: "+AF(e)),this.signals[e]},signalRef(e){return this.signals[e]?ure(this.signals[e]):(cF(this.lambdas,e)||(this.lambdas[e]=this.add(cre(null))),ure(this.lambdas[e]))},parseLambdas(){const e=Object.keys(this.lambdas);for(let t=0,n=e.length;t<n;++t){const n=e[t],r=Yee(n,this),i=this.lambdas[n];i.params=r.$params,i.update=r.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return e&&ED(e)?this.signalRef(e.signal||Nae(e)):e},exprRef(e,t){const n={expr:Yee(e,this)};return t&&(n.expr.$name=t),ure(this.add(Bre(n)))},addBinding(e,t){this.bindings||lD("Nested signals do not support binding: "+AF(e)),this.bindings.push(oF({signal:e},t))},addScaleProj(e,t){cF(this.scales,e)&&lD("Duplicate scale or projection name: "+AF(e)),this.scales[e]=this.add(t)},addScale(e,t){this.addScaleProj(e,tie(t))},addProjection(e,t){this.addScaleProj(e,$re(t))},getScale(e){return this.scales[e]||lD("Unrecognized scale name: "+AF(e)),this.scales[e]},scaleRef(e){return ure(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,t){return cF(this.data,e)&&lD("Duplicate data set name: "+AF(e)),this.data[e]=t},getData(e){return this.data[e]||lD("Undefined data set name: "+AF(e)),this.data[e]},addDataPipeline(e,t){return cF(this.data,e)&&lD("Duplicate data set name: "+AF(e)),this.addData(e,Boe.fromEntries(this,t))}};var Oae="5.27.0";oF(kI,r,o,a,l,s,u,c,d,f,h,p);var Iae={NaN:NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},Lae={"*":(e,t)=>e*t,"+":(e,t)=>e+t,"-":(e,t)=>e-t,"/":(e,t)=>e/t,"%":(e,t)=>e%t,">":(e,t)=>e>t,"<":(e,t)=>e<t,"<=":(e,t)=>e<=t,">=":(e,t)=>e>=t,"==":(e,t)=>e==t,"!=":(e,t)=>e!=t,"===":(e,t)=>e===t,"!==":(e,t)=>e!==t,"&":(e,t)=>e&t,"|":(e,t)=>e|t,"^":(e,t)=>e^t,"<<":(e,t)=>e<<t,">>":(e,t)=>e>>t,">>>":(e,t)=>e>>>t},Bae={"+":e=>+e,"-":e=>-e,"~":e=>~e,"!":e=>!e};const jae=Array.prototype.slice,Uae=(e,t,n)=>{const r=n?n(t[0]):t[0];return r[e].apply(r,jae.call(t,1))};var Kae={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(e,t,n)=>Math.max(t,Math.min(n,e)),now:Date.now,utc:Date.UTC,datetime:(e,t,n,r,i,o,a)=>new Date(e,t||0,null!=n?n:1,r||0,i||0,o||0,a||0),date:e=>new Date(e).getDate(),day:e=>new Date(e).getDay(),year:e=>new Date(e).getFullYear(),month:e=>new Date(e).getMonth(),hours:e=>new Date(e).getHours(),minutes:e=>new Date(e).getMinutes(),seconds:e=>new Date(e).getSeconds(),milliseconds:e=>new Date(e).getMilliseconds(),time:e=>new Date(e).getTime(),timezoneoffset:e=>new Date(e).getTimezoneOffset(),utcdate:e=>new Date(e).getUTCDate(),utcday:e=>new Date(e).getUTCDay(),utcyear:e=>new Date(e).getUTCFullYear(),utcmonth:e=>new Date(e).getUTCMonth(),utchours:e=>new Date(e).getUTCHours(),utcminutes:e=>new Date(e).getUTCMinutes(),utcseconds:e=>new Date(e).getUTCSeconds(),utcmilliseconds:e=>new Date(e).getUTCMilliseconds(),length:e=>e.length,join:function(){return Uae("join",arguments)},indexof:function(){return Uae("indexOf",arguments)},lastindexof:function(){return Uae("lastIndexOf",arguments)},slice:function(){return Uae("slice",arguments)},reverse:e=>e.slice().reverse(),parseFloat:parseFloat,parseInt:parseInt,upper:e=>String(e).toUpperCase(),lower:e=>String(e).toLowerCase(),substring:function(){return Uae("substring",arguments,String)},split:function(){return Uae("split",arguments,String)},replace:function(){return Uae("replace",arguments,String)},trim:e=>String(e).trim(),regexp:RegExp,test:(e,t)=>RegExp(e).test(t)};const Wae=["view","item","group","xy","x","y"],qae=new Set([Function,eval,setTimeout,setInterval]);"function"===typeof setImmediate&&qae.add(setImmediate);const Hae={Literal:(e,t)=>t.value,Identifier:(e,t)=>{const n=t.name;return e.memberDepth>0?n:"datum"===n?e.datum:"event"===n?e.event:"item"===n?e.item:Iae[n]||e.params["$"+n]},MemberExpression:(e,t)=>{const n=!t.computed,r=e(t.object);n&&(e.memberDepth+=1);const i=e(t.property);if(n&&(e.memberDepth-=1),!qae.has(r[i]))return r[i];console.error('Prevented interpretation of member "'.concat(i,'" which could lead to insecure code execution'))},CallExpression:(e,t)=>{const n=t.arguments;let r=t.callee.name;return r.startsWith("_")&&(r=r.slice(1)),"if"===r?e(n[0])?e(n[1]):e(n[2]):(e.fn[r]||Kae[r]).apply(e.fn,n.map(e))},ArrayExpression:(e,t)=>t.elements.map(e),BinaryExpression:(e,t)=>Lae[t.operator](e(t.left),e(t.right)),UnaryExpression:(e,t)=>Bae[t.operator](e(t.argument)),ConditionalExpression:(e,t)=>e(t.test)?e(t.consequent):e(t.alternate),LogicalExpression:(e,t)=>"&&"===t.operator?e(t.left)&&e(t.right):e(t.left)||e(t.right),ObjectExpression:(e,t)=>t.properties.reduce(((t,n)=>{e.memberDepth+=1;const r=e(n.key);return e.memberDepth-=1,qae.has(e(n.value))?console.error('Prevented interpretation of property "'.concat(r,'" which could lead to insecure code execution')):t[r]=e(n.value),t}),{})};function Vae(e,t,n,r,i,o){const a=e=>Hae[e.type](a,e);return a.memberDepth=0,a.fn=Object.create(t),a.params=n,a.datum=r,a.event=i,a.item=o,Wae.forEach((e=>a.fn[e]=function(){return i.vega[e](...arguments)})),a(e)}var Gae={operator(e,t){const n=t.ast,r=e.functions;return e=>Vae(n,r,e)},parameter(e,t){const n=t.ast,r=e.functions;return(e,t)=>Vae(n,r,t,e)},event(e,t){const n=t.ast,r=e.functions;return e=>Vae(n,r,void 0,void 0,e)},handler(e,t){const n=t.ast,r=e.functions;return(e,t)=>{const i=t.item&&t.item.datum;return Vae(n,r,e,i,t)}},encode(e,t){const{marktype:n,channels:r}=t,i=e.functions,o="group"===n||"image"===n||"rect"===n;return(e,t)=>{const a=e.datum;let l,s=0;for(const n in r)l=Vae(r[n].ast,i,t,a,void 0,e),e[n]!==l&&(e[n]=l,s=1);return"rule"!==n&&function(e,t,n){let r;t.x2&&(t.x?(n&&e.x>e.x2&&(r=e.x,e.x=e.x2,e.x2=r),e.width=e.x2-e.x):e.x=e.x2-(e.width||0)),t.xc&&(e.x=e.xc-(e.width||0)/2),t.y2&&(t.y?(n&&e.y>e.y2&&(r=e.y,e.y=e.y2,e.y2=r),e.height=e.y2-e.y):e.y=e.y2-(e.height||0)),t.yc&&(e.y=e.yc-(e.height||0)/2)}(e,r,o),s}}};function Yae(e){return!!e.or}function Qae(e){return!!e.and}function Xae(e){return!!e.not}function $ae(e,t){if(Xae(e))$ae(e.not,t);else if(Qae(e))for(const n of e.and)$ae(n,t);else if(Yae(e))for(const n of e.or)$ae(n,t);else t(e)}function Zae(e,t){return Xae(e)?{not:Zae(e.not,t)}:Qae(e)?{and:e.and.map((e=>Zae(e,t)))}:Yae(e)?{or:e.or.map((e=>Zae(e,t)))}:t(e)}const Jae=structuredClone;function ele(e){throw new Error(e)}function tle(e,t){const n={};for(const r of t)cF(e,r)&&(n[r]=e[r]);return n}function nle(e,t){const n={...e};for(const r of t)delete n[r];return n}function rle(e){if(yF(e))return e;const t=xF(e)?e:Kle(e);if(t.length<250)return t;let n=0;for(let r=0;r<t.length;r++){n=(n<<5)-n+t.charCodeAt(r),n&=n}return n}function ile(e){return!1===e||null===e}function ole(e,t){return e.includes(t)}function ale(e,t){let n=0;for(const[r,i]of e.entries())if(t(i,r,n++))return!0;return!1}function lle(e,t){let n=0;for(const[r,i]of e.entries())if(!t(i,r,n++))return!1;return!0}function sle(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(const i of n)cle(e,null!==i&&void 0!==i?i:{});return e}function cle(e,t){for(const n of vle(t))MD(e,n,t[n],!0)}function ule(e,t){const n=[],r={};let i;for(const o of e)i=t(o),i in r||(r[i]=1,n.push(o));return n}function dle(e,t){const n=vle(e),r=vle(t);if(n.length!==r.length)return!1;for(const i of n)if(e[i]!==t[i])return!1;return!0}function fle(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function hle(e,t){for(const n of e)if(t.has(n))return!0;return!1}function ple(e){const t=new Set;for(const n of e){const e=sD(n).map(((e,t)=>0===t?e:"[".concat(e,"]"))),r=e.map(((t,n)=>e.slice(0,n+1).join("")));for(const n of r)t.add(n)}return t}function mle(e,t){return void 0===e||void 0===t||hle(ple(e),ple(t))}function gle(e){return 0===vle(e).length}Set.prototype.toJSON=function(){return"Set(".concat([...this].map((e=>Kle(e))).join(","),")")};const vle=Object.keys,yle=Object.values,ble=Object.entries;function xle(e){return!0===e||!1===e}function wle(e){const t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function _le(e,t){return Xae(e)?"!(".concat(_le(e.not,t),")"):Qae(e)?"(".concat(e.and.map((e=>_le(e,t))).join(") && ("),")"):Yae(e)?"(".concat(e.or.map((e=>_le(e,t))).join(") || ("),")"):t(e)}function kle(e,t){if(0===t.length)return!0;const n=t.shift();return n in e&&kle(e[n],t)&&delete e[n],gle(e)}function Ele(e){return e.charAt(0).toUpperCase()+e.substr(1)}function Sle(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"datum";const n=sD(e),r=[];for(let i=1;i<=n.length;i++){const e="[".concat(n.slice(0,i).map(AF).join("]["),"]");r.push("".concat(t).concat(e))}return r.join(" && ")}function Cle(e){return"".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"datum","[").concat(AF(sD(e).join(".")),"]")}function Mle(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function Tle(e){return"".concat(sD(e).map(Mle).join("\\."))}function Ale(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function Dle(e){return"".concat(sD(e).join("."))}function Fle(e){return e?sD(e).length:0}function Nle(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(const r of t)if(void 0!==r)return r}let Rle=42;function zle(e){const t=++Rle;return e?String(e)+t:t}function Ple(){Rle=42}function Ole(e){return Ile(e)?e:"__".concat(e)}function Ile(e){return e.startsWith("__")}function Lle(e){if(void 0!==e)return(e%360+360)%360}function Ble(e){return!!yF(e)||!isNaN(e)&&!isNaN(parseFloat(e))}const jle=Object.getPrototypeOf(structuredClone({}));function Ule(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor.name!==t.constructor.name)return!1;let n,r;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;0!==r--;)if(!Ule(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;for(r of e.entries())if(!Ule(r[1],t.get(r[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;0!==r--;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&e.valueOf!==jle.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&e.toString!==jle.toString)return e.toString()===t.toString();const i=Object.keys(e);if(n=i.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;0!==r--;){const n=i[r];if(!Ule(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function Kle(e){const t=[];return function e(n){if(n&&n.toJSON&&"function"===typeof n.toJSON&&(n=n.toJSON()),void 0===n)return;if("number"==typeof n)return isFinite(n)?""+n:"null";if("object"!==typeof n)return JSON.stringify(n);let r,i;if(Array.isArray(n)){for(i="[",r=0;r<n.length;r++)r&&(i+=","),i+=e(n[r])||"null";return i+"]"}if(null===n)return"null";if(t.includes(n))throw new TypeError("Converting circular structure to JSON");const o=t.push(n)-1,a=Object.keys(n).sort();for(i="",r=0;r<a.length;r++){const t=a[r],o=e(n[t]);o&&(i&&(i+=","),i+=JSON.stringify(t)+":"+o)}return t.splice(o,1),"{".concat(i,"}")}(e)}const Wle="row",qle="column",Hle="facet",Vle="x",Gle="y",Yle="x2",Qle="y2",Xle="xOffset",$le="yOffset",Zle="radius",Jle="radius2",ese="theta",tse="theta2",nse="latitude",rse="longitude",ise="latitude2",ose="longitude2",ase="color",lse="fill",sse="stroke",cse="shape",use="size",dse="angle",fse="opacity",hse="fillOpacity",pse="strokeOpacity",mse="strokeWidth",gse="strokeDash",vse="text",yse="order",bse="detail",xse="key",wse="tooltip",_se="href",kse="url",Ese="description",Sse={theta:1,theta2:1,radius:1,radius2:1};function Cse(e){return e in Sse}const Mse={longitude:1,longitude2:1,latitude:1,latitude2:1};function Tse(e){switch(e){case nse:return"y";case ise:return"y2";case rse:return"x";case ose:return"x2"}}function Ase(e){return e in Mse}const Dse=vle(Mse),Fse={x:1,y:1,x2:1,y2:1,...Sse,...Mse,xOffset:1,yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1};function Nse(e){return e===ase||e===lse||e===sse}const Rse={row:1,column:1,facet:1},zse=vle(Rse),Pse={...Fse,...Rse},Ose=vle(Pse),{order:Ise,detail:Lse,tooltip:Bse,...jse}=Pse,{row:Use,column:Kse,facet:Wse,...qse}=jse;vle(jse),vle(qse);function Hse(e){return!!Pse[e]}const Vse=[Yle,Qle,ise,ose,tse,Jle];function Gse(e){return Yse(e)!==e}function Yse(e){switch(e){case Yle:return Vle;case Qle:return Gle;case ise:return nse;case ose:return rse;case tse:return ese;case Jle:return Zle}return e}function Qse(e){if(Cse(e))switch(e){case ese:return"startAngle";case tse:return"endAngle";case Zle:return"outerRadius";case Jle:return"innerRadius"}return e}function Xse(e){switch(e){case Vle:return Yle;case Gle:return Qle;case nse:return ise;case rse:return ose;case ese:return tse;case Zle:return Jle}}function $se(e){switch(e){case Vle:case Yle:return"width";case Gle:case Qle:return"height"}}function Zse(e){switch(e){case Vle:return"xOffset";case Gle:return"yOffset";case Yle:return"x2Offset";case Qle:return"y2Offset";case ese:return"thetaOffset";case Zle:return"radiusOffset";case tse:return"theta2Offset";case Jle:return"radius2Offset"}}function Jse(e){switch(e){case Vle:return"xOffset";case Gle:return"yOffset"}}function ece(e){switch(e){case"xOffset":return"x";case"yOffset":return"y"}}const tce=vle(Fse),{x:nce,y:rce,x2:ice,y2:oce,xOffset:ace,yOffset:lce,latitude:sce,longitude:cce,latitude2:uce,longitude2:dce,theta:fce,theta2:hce,radius:pce,radius2:mce,...gce}=Fse,vce=vle(gce),yce={x:1,y:1},bce=vle(yce);function xce(e){return e in yce}const wce={theta:1,radius:1},_ce=vle(wce);function kce(e){return"width"===e?Vle:Gle}const Ece={xOffset:1,yOffset:1};vle(Ece);function Sce(e){return e in Ece}const{text:Cce,tooltip:Mce,href:Tce,url:Ace,description:Dce,detail:Fce,key:Nce,order:Rce,...zce}=gce,Pce=vle(zce);const Oce={...yce,...wce,...Ece,...zce},Ice=vle(Oce);function Lce(e){return!!Oce[e]}function Bce(e,t){return function(e){switch(e){case ase:case lse:case sse:case Ese:case bse:case xse:case wse:case _se:case yse:case fse:case hse:case pse:case mse:case Hle:case Wle:case qle:return jce;case Vle:case Gle:case Xle:case $le:case nse:case rse:return Kce;case Yle:case Qle:case ise:case ose:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case use:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case gse:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case cse:return{point:"always",geoshape:"always"};case vse:return{text:"always"};case dse:return{point:"always",square:"always",text:"always"};case kse:return{image:"always"};case ese:case Zle:return{text:"always",arc:"always"};case tse:case Jle:return{arc:"always"}}}(e)[t]}const jce={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:Uce,...Kce}=jce;function Wce(e){switch(e){case Vle:case Gle:case ese:case Zle:case Xle:case $le:case use:case dse:case mse:case fse:case hse:case pse:case Yle:case Qle:case tse:case Jle:return;case Hle:case Wle:case qle:case cse:case gse:case vse:case wse:case _se:case kse:case Ese:return"discrete";case ase:case lse:case sse:return"flexible";case nse:case rse:case ise:case ose:case bse:case xse:case yse:return}}const qce={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},Hce={count:1,min:1,max:1};function Vce(e){return!!e&&!!e.argmin}function Gce(e){return!!e&&!!e.argmax}function Yce(e){return xF(e)&&!!qce[e]}const Qce=new Set(["count","valid","missing","distinct"]);function Xce(e){return xF(e)&&Qce.has(e)}const $ce=new Set(["count","sum","distinct","valid","missing"]),Zce=new Set(["mean","average","median","q1","q3","min","max"]);function Jce(e){return mF(e)&&(e=dpe(e,void 0)),"bin"+vle(e).map((t=>rue(e[t])?wle("_".concat(t,"_").concat(ble(e[t]))):wle("_".concat(t,"_").concat(e[t])))).join("")}function eue(e){return!0===e||nue(e)&&!e.binned}function tue(e){return"binned"===e||nue(e)&&!0===e.binned}function nue(e){return ED(e)}function rue(e){return null===e||void 0===e?void 0:e.param}function iue(e){switch(e){case Wle:case qle:case use:case ase:case lse:case sse:case mse:case fse:case hse:case pse:case cse:return 6;case gse:return 4;default:return 10}}function oue(e){return!(null===e||void 0===e||!e.expr)}function aue(e){const t=vle(e||{}),n={};for(const r of t)n[r]=gue(e[r]);return n}function lue(e){const{anchor:t,frame:n,offset:r,orient:i,angle:o,limit:a,color:l,subtitleColor:s,subtitleFont:c,subtitleFontSize:u,subtitleFontStyle:d,subtitleFontWeight:f,subtitleLineHeight:h,subtitlePadding:p,...m}=e,g={...t?{anchor:t}:{},...n?{frame:n}:{},...r?{offset:r}:{},...i?{orient:i}:{},...void 0!==o?{angle:o}:{},...void 0!==a?{limit:a}:{}},v={...s?{subtitleColor:s}:{},...c?{subtitleFont:c}:{},...u?{subtitleFontSize:u}:{},...d?{subtitleFontStyle:d}:{},...f?{subtitleFontWeight:f}:{},...h?{subtitleLineHeight:h}:{},...p?{subtitlePadding:p}:{}};return{titleMarkConfig:{...m,...l?{fill:l}:{}},subtitleMarkConfig:tle(e,["align","baseline","dx","dy","limit"]),nonMarkTitleProperties:g,subtitle:v}}function sue(e){return xF(e)||kD(e)&&xF(e[0])}function cue(e){return!(null===e||void 0===e||!e.signal)}function uue(e){return!!e.step}function due(e){return!kD(e)&&("field"in e&&"data"in e)}const fue=vle({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),hue={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},pue=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function mue(e){const t=kD(e.condition)?e.condition.map(vue):vue(e.condition);return{...gue(e),condition:t}}function gue(e){if(oue(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function vue(e){if(oue(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function yue(e){if(oue(e)){const{expr:t,...n}=e;return{signal:t,...n}}return cue(e)?e:void 0!==e?{value:e}:void 0}function bue(e){return cue(e)?e.signal:AF(e)}function xue(e){return cue(e)?e.signal:AF(e.value)}function wue(e){return cue(e)?e.signal:null==e?null:AF(e)}function _ue(e,t,n){for(const r of n){const n=Sue(r,t.markDef,t.config);void 0!==n&&(e[r]=yue(n))}return e}function kue(e){var t;return[].concat(e.type,null!==(t=e.style)&&void 0!==t?t:[])}function Eue(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const{vgChannel:i,ignoreVgConfig:o}=r;return i&&void 0!==t[i]?t[i]:void 0!==t[e]?t[e]:!o||i&&i!==e?Sue(e,t,n,r):void 0}function Sue(e,t,n){let{vgChannel:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Nle(r?Cue(e,t,n.style):void 0,Cue(e,t,n.style),r?n[t.type][r]:void 0,n[t.type][e],r?n.mark[r]:n.mark[e])}function Cue(e,t,n){return Mue(e,kue(t),n)}function Mue(e,t,n){let r;t=YD(t);for(const i of t){const t=n[i];t&&void 0!==t[e]&&(r=t[e])}return r}function Tue(e,t){return YD(e).reduce(((e,n)=>{var r;return e.field.push($he(n,t)),e.order.push(null!==(r=n.sort)&&void 0!==r?r:"ascending"),e}),{field:[],order:[]})}function Aue(e,t){const n=[...e];return t.forEach((e=>{for(const t of n)if(Ule(t,e))return;n.push(e)})),n}function Due(e,t){return Ule(e,t)||!t?e:e?[...YD(e),...YD(t)].join(", "):t}function Fue(e,t){const n=e.value,r=t.value;if(null==n||null===r)return{explicit:e.explicit,value:null};if((sue(n)||cue(n))&&(sue(r)||cue(r)))return{explicit:e.explicit,value:Due(n,r)};if(sue(n)||cue(n))return{explicit:e.explicit,value:n};if(sue(r)||cue(r))return{explicit:e.explicit,value:r};if(!sue(n)&&!cue(n)&&!sue(r)&&!cue(r))return{explicit:e.explicit,value:Aue(n,r)};throw new Error("It should never reach here")}function Nue(e){return"Invalid specification ".concat(Kle(e),'. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".')}const Rue='Autosize "fit" only works for single views and layered views.';function zue(e){return"".concat("width"==e?"Width":"Height",' "container" only works for single views and layered views.')}function Pue(e){const t="width"==e?"x":"y";return"".concat("width"==e?"Width":"Height",' "container" only works well with autosize "fit" or "fit-').concat(t,'".')}function Oue(e){return e?'Dropping "fit-'.concat(e,'" because spec has discrete ').concat($se(e),"."):'Dropping "fit" because spec has discrete size.'}function Iue(e){return"Unknown field for ".concat(e,". Cannot calculate view size.")}function Lue(e){return'Cannot project a selection on encoding channel "'.concat(e,'", which has no field.')}function Bue(e,t){return'Cannot project a selection on encoding channel "'.concat(e,'" as it uses an aggregate function ("').concat(t,'").')}function jue(e){return"Selection not supported for ".concat(e," yet.")}const Uue="The same selection must be used to override scale domains in a layered view.";function Kue(e){return'The "columns" property cannot be used when "'.concat(e,'" has nested row/column.')}function Wue(e,t,n){return'An ancestor parsed field "'.concat(e,'" as ').concat(n," but a child wants to parse the field as ").concat(t,".")}function que(e){return"Ignoring an invalid transform: ".concat(Kle(e),".")}function Hue(e){return"Config.customFormatTypes is not true, thus custom format type and format for channel ".concat(e," are dropped.")}function Vue(e){return"".concat(e,"Offset dropped because ").concat(e," is continuous")}function Gue(e){return'Invalid field type "'.concat(e,'".')}function Yue(e,t){const{fill:n,stroke:r}=t;return"Dropping color ".concat(e," as the plot also has ").concat(n&&r?"fill and stroke":n?"fill":"stroke",".")}function Que(e,t){return"Dropping ".concat(Kle(e),' from channel "').concat(t,'" since it does not contain any data field, datum, value, or signal.')}function Xue(e,t,n){return"".concat(e,' dropped as it is incompatible with "').concat(t,'"').concat(n?" when ".concat(n):"",".")}function $ue(e){return"".concat(e," encoding should be discrete (ordinal / nominal / binned).")}function Zue(e){return"".concat(e," encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).")}function Jue(e,t){return'Using discrete channel "'.concat(e,'" to encode "').concat(t,'" field can be misleading as it does not encode ').concat("ordinal"===t?"order":"magnitude",".")}function ede(e){return"Using unaggregated domain with raw field has no effect (".concat(Kle(e),").")}function tde(e){return'Unaggregated domain not applicable for "'.concat(e,'" since it produces values outside the origin domain of the source data.')}function nde(e){return"Unaggregated domain is currently unsupported for log scale (".concat(Kle(e),").")}function rde(e,t,n){return"".concat(n,"-scale's \"").concat(t,'" is dropped as it does not work with ').concat(e," scale.")}function ide(e){return'The step for "'.concat(e,'" is dropped because the ').concat("width"===e?"x":"y"," is continuous.")}const ode="Domains that should be unioned has conflicting sort properties. Sort will be set to true.";function ade(e,t){return"Invalid ".concat(e,": ").concat(Kle(t),".")}function lde(e){return"1D error band does not support ".concat(e,".")}function sde(e){return"Channel ".concat(e,' is required for "binned" bin.')}const cde=_D(bD);let ude=cde;function dde(){return ude=cde,ude}function fde(){ude.warn(...arguments)}function hde(e){if(e&&ED(e))for(const t of wde)if(t in e)return!0;return!1}new WeakMap;const pde=["january","february","march","april","may","june","july","august","september","october","november","december"],mde=pde.map((e=>e.substr(0,3))),gde=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],vde=gde.map((e=>e.substr(0,3)));function yde(e,t){const n=[];if(t&&void 0!==e.day&&vle(e).length>1&&(fde(function(e){return"Dropping day from datetime ".concat(Kle(e)," as day cannot be combined with other units.")}(e)),delete(e=Jae(e)).day),void 0!==e.year?n.push(e.year):n.push(2012),void 0!==e.month){const r=t?function(e){if(Ble(e)&&(e=+e),yF(e))return e-1;{const t=e.toLowerCase(),n=pde.indexOf(t);if(-1!==n)return n;const r=t.substr(0,3),i=mde.indexOf(r);if(-1!==i)return i;throw new Error(ade("month",e))}}(e.month):e.month;n.push(r)}else if(void 0!==e.quarter){const r=t?function(e){if(Ble(e)&&(e=+e),yF(e))return e>4&&fde(ade("quarter",e)),e-1;throw new Error(ade("quarter",e))}(e.quarter):e.quarter;n.push(yF(r)?3*r:"".concat(r,"*3"))}else n.push(0);if(void 0!==e.date)n.push(e.date);else if(void 0!==e.day){const r=t?function(e){if(Ble(e)&&(e=+e),yF(e))return e%7;{const t=e.toLowerCase(),n=gde.indexOf(t);if(-1!==n)return n;const r=t.substr(0,3),i=vde.indexOf(r);if(-1!==i)return i;throw new Error(ade("day",e))}}(e.day):e.day;n.push(yF(r)?r+1:"".concat(r,"+1"))}else n.push(1);for(const r of["hours","minutes","seconds","milliseconds"]){const t=e[r];n.push("undefined"===typeof t?0:t)}return n}function bde(e){const t=yde(e,!0).join(", ");return e.utc?"utc(".concat(t,")"):"datetime(".concat(t,")")}const xde={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},wde=vle(xde);function _de(e){return ED(e)?e.binned:kde(e)}function kde(e){return e&&e.startsWith("binned")}function Ede(e){return e.startsWith("utc")}const Sde={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function Cde(e){return wde.filter((t=>Tde(e,t)))}function Mde(e){const t=Cde(e);return t[t.length-1]}function Tde(e,t){const n=e.indexOf(t);return!(n<0)&&(!(n>0&&"seconds"===t&&"i"===e.charAt(n-1))&&(!(e.length>n+3&&"day"===t&&"o"===e.charAt(n+3))&&!(n>0&&"year"===t&&"f"===e.charAt(n-1))))}function Ade(e,t){let{end:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{end:!1};const r=Sle(t),i=Ede(e)?"utc":"";let o;const a={};for(const s of wde)Tde(e,s)&&(a[s]="quarter"===(l=s)?"(".concat(i,"quarter(").concat(r,")-1)"):"".concat(i).concat(l,"(").concat(r,")"),o=s);var l;return n&&(a[o]+="+1"),function(e){const t=yde(e,!1).join(", ");return e.utc?"utc(".concat(t,")"):"datetime(".concat(t,")")}(a)}function Dde(e){if(!e)return;const t=Cde(e);return"timeUnitSpecifier(".concat(Kle(t),", ").concat(Kle(Sde),")")}function Fde(e){if(!e)return;let t;return xF(e)?t=kde(e)?{unit:e.substring(6),binned:!0}:{unit:e}:ED(e)&&(t={...e,...e.unit?{unit:e.unit}:{}}),Ede(t.unit)&&(t.utc=!0,t.unit=function(e){return e.substring(3)}(t.unit)),t}function Nde(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e;const n=Fde(e),r=Mde(n.unit);if(r&&"day"!==r){const e={year:2001,month:1,date:1,hours:0,minutes:0,seconds:0,milliseconds:0},{step:i,part:o}=zde(r,n.step),a={...e,[o]:+e[o]+i};return"".concat(t(bde(a))," - ").concat(t(bde(e)))}}const Rde={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1};function zde(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(function(e){return!!Rde[e]}(e))return{part:e,step:t};switch(e){case"day":case"dayofyear":return{part:"date",step:t};case"quarter":return{part:"month",step:3*t};case"week":return{part:"date",step:7*t}}}function Pde(e){return!(null===e||void 0===e||!e.field)&&void 0!==e.equal}function Ode(e){return!(null===e||void 0===e||!e.field)&&void 0!==e.lt}function Ide(e){return!(null===e||void 0===e||!e.field)&&void 0!==e.lte}function Lde(e){return!(null===e||void 0===e||!e.field)&&void 0!==e.gt}function Bde(e){return!(null===e||void 0===e||!e.field)&&void 0!==e.gte}function jde(e){if(null!==e&&void 0!==e&&e.field){if(kD(e.range)&&2===e.range.length)return!0;if(cue(e.range))return!0}return!1}function Ude(e){return!(null===e||void 0===e||!e.field)&&(kD(e.oneOf)||kD(e.in))}function Kde(e){return Ude(e)||Pde(e)||jde(e)||Ode(e)||Lde(e)||Ide(e)||Bde(e)}function Wde(e,t){return ppe(e,{timeUnit:t,wrapTime:!0})}function qde(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const{field:n}=e,r=Fde(e.timeUnit),{unit:i,binned:o}=r||{},a=$he(e,{expr:"datum"}),l=i?"time(".concat(o?a:Ade(i,n),")"):a;if(Pde(e))return"".concat(l,"===").concat(Wde(e.equal,i));if(Ode(e)){const t=e.lt;return"".concat(l,"<").concat(Wde(t,i))}if(Lde(e)){const t=e.gt;return"".concat(l,">").concat(Wde(t,i))}if(Ide(e)){const t=e.lte;return"".concat(l,"<=").concat(Wde(t,i))}if(Bde(e)){const t=e.gte;return"".concat(l,">=").concat(Wde(t,i))}if(Ude(e))return"indexof([".concat(function(e,t){return e.map((e=>Wde(e,t)))}(e.oneOf,i).join(","),"], ").concat(l,") !== -1");if(function(e){return!(null===e||void 0===e||!e.field)&&void 0!==e.valid}(e))return Hde(l,e.valid);if(jde(e)){const{range:n}=e,r=cue(n)?{signal:"".concat(n.signal,"[0]")}:n[0],o=cue(n)?{signal:"".concat(n.signal,"[1]")}:n[1];if(null!==r&&null!==o&&t)return"inrange("+l+", ["+Wde(r,i)+", "+Wde(o,i)+"])";const a=[];return null!==r&&a.push("".concat(l," >= ").concat(Wde(r,i))),null!==o&&a.push("".concat(l," <= ").concat(Wde(o,i))),a.length>0?a.join(" && "):"true"}throw new Error("Invalid field predicate: ".concat(Kle(e)))}function Hde(e){return!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?"isValid(".concat(e,") && isFinite(+").concat(e,")"):"!isValid(".concat(e,") || !isFinite(+").concat(e,")")}function Vde(e){return Kde(e)&&e.timeUnit?{...e,timeUnit:Fde(e.timeUnit)}:e}const Gde={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function Yde(e){return"quantitative"===e||"temporal"===e}function Qde(e){return"ordinal"===e||"nominal"===e}const Xde=Gde.quantitative,$de=Gde.ordinal,Zde=Gde.temporal,Jde=Gde.nominal,efe=Gde.geojson;vle(Gde);const tfe={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},nfe={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};vle(nfe);function rfe(e,t){const n=nfe[e],r=nfe[t];return n===r||"ordinal-position"===n&&"time"===r||"ordinal-position"===r&&"time"===n}const ife={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function ofe(e){return ife[e]}const afe=new Set(["linear","log","pow","sqrt","symlog"]),lfe=new Set([...afe,"time","utc"]);function sfe(e){return afe.has(e)}const cfe=new Set(["quantile","quantize","threshold"]),ufe=new Set([...lfe,...cfe,"sequential","identity"]),dfe=new Set(["ordinal","bin-ordinal","point","band"]);new Set(["time","utc"]);function ffe(e){return dfe.has(e)}function hfe(e){return ufe.has(e)}function pfe(e){return lfe.has(e)}function mfe(e){return cfe.has(e)}function gfe(e){return null===e||void 0===e?void 0:e.param}const vfe={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,domainRaw:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:yfe,domain:bfe,range:xfe,rangeMax:wfe,rangeMin:_fe,scheme:kfe,...Efe}=(vle(vfe),vfe),Sfe=vle(Efe);function Cfe(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(e);case"bins":return!["point","band","identity","ordinal"].includes(e);case"round":return pfe(e)||"band"===e||"point"===e;case"padding":case"rangeMin":case"rangeMax":return pfe(e)||["point","band"].includes(e);case"paddingOuter":case"align":return["point","band"].includes(e);case"paddingInner":return"band"===e;case"domainMax":case"domainMid":case"domainMin":case"domainRaw":case"clamp":return pfe(e);case"nice":return pfe(e)||"quantize"===e||"threshold"===e;case"exponent":return"pow"===e;case"base":return"log"===e;case"constant":return"symlog"===e;case"zero":return hfe(e)&&!ole(["log","time","utc","threshold","quantile"],e)}}function Mfe(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return Nse(e)?void 0:'Cannot use the scale property "'.concat(t,'" with non-color channel.');case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"domainRaw":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}const Tfe={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},Afe=Tfe.arc,Dfe=Tfe.area,Ffe=Tfe.bar,Nfe=Tfe.image,Rfe=Tfe.line,zfe=Tfe.point,Pfe=Tfe.rect,Ofe=Tfe.rule,Ife=Tfe.text,Lfe=Tfe.tick,Bfe=Tfe.trail,jfe=Tfe.circle,Ufe=Tfe.square,Kfe=Tfe.geoshape;function Wfe(e){return["line","area","trail"].includes(e)}function qfe(e){return["rect","bar","image","arc"].includes(e)}const Hfe=new Set(vle(Tfe));function Vfe(e){return e.type}const Gfe=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit","fill","fillOpacity"],Yfe=vle({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1}),Qfe=vle({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1});function Xfe(e){return e&&void 0!=e.band}const $fe={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},Zfe={binSpacing:1,continuousBandSize:5,minBandSize:.25,timeUnitBandPosition:.5},Jfe={binSpacing:0,continuousBandSize:5,minBandSize:.25,timeUnitBandPosition:.5};function ehe(e){const{channel:t,channelDef:n,markDef:r,scale:i,config:o}=e,a=ohe(e);return Ihe(n)&&!Xce(n.aggregate)&&i&&pfe(i.get("type"))?function(e){let{fieldDef:t,channel:n,markDef:r,ref:i,config:o}=e;if(Wfe(r.type))return i;const a=Eue("invalid",r,o);if(null===a)return[the(t,n),i];return i}({fieldDef:n,channel:t,markDef:r,ref:a,config:o}):a}function the(e,t){return{test:nhe(e,!0),..."y"===Yse(t)?{field:{group:"height"}}:{value:0}}}function nhe(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Hde(xF(e)?e:$he(e,{expr:"datum"}),!t)}function rhe(e,t,n,r){const i={};if(t&&(i.scale=t),Bhe(e)){const{datum:t}=e;hde(t)?i.signal=bde(t):cue(t)?i.signal=t.signal:oue(t)?i.signal=t.expr:i.value=t}else i.field=$he(e,n);if(r){const{offset:e,band:t}=r;e&&(i.offset=e),t&&(i.band=t)}return i}function ihe(e){let{scaleName:t,fieldOrDatumDef:n,fieldOrDatumDef2:r,offset:i,startSuffix:o,endSuffix:a="end",bandPosition:l=.5}=e;const s=!cue(l)&&0<l&&l<1?"datum":void 0,c=$he(n,{expr:s,suffix:o}),u=void 0!==r?$he(r,{expr:s}):$he(n,{suffix:a,expr:s}),d={};if(0===l||1===l){d.scale=t;const e=0===l?c:u;d.field=e}else{const e=cue(l)?"(1-".concat(l.signal,") * ").concat(c," + ").concat(l.signal," * ").concat(u):"".concat(1-l," * ").concat(c," + ").concat(l," * ").concat(u);d.signal='scale("'.concat(t,'", ').concat(e,")")}return i&&(d.offset=i),d}function ohe(e){let{channel:t,channelDef:n,channel2Def:r,markDef:i,config:o,scaleName:a,scale:l,stack:s,offset:c,defaultRef:u,bandPosition:d}=e;if(n){if(Whe(n)){var f,h;const e=null===l||void 0===l?void 0:l.get("type");if(qhe(n)){var p;null!==(p=d)&&void 0!==p||(d=Dhe({fieldDef:n,fieldDef2:r,markDef:i,config:o}));const{bin:l,timeUnit:u,type:f}=n;if(eue(l)||d&&u&&f===Zde)return null!==s&&void 0!==s&&s.impute?rhe(n,a,{binSuffix:"mid"},{offset:c}):d&&!ffe(e)?ihe({scaleName:a,fieldOrDatumDef:n,bandPosition:d,offset:c}):rhe(n,a,gpe(n,t)?{binSuffix:"range"}:{},{offset:c});if(tue(l)){if(Ihe(r))return ihe({scaleName:a,fieldOrDatumDef:n,fieldOrDatumDef2:r,bandPosition:d,offset:c});fde(sde(t===Vle?Yle:Qle))}}return rhe(n,a,ffe(e)?{binSuffix:"range"}:{},{offset:c,band:"band"===e?null!==(f=null!==(h=d)&&void 0!==h?h:n.bandPosition)&&void 0!==f?f:.5:void 0})}if(Hhe(n)){const e=c?{offset:c}:{};return{...ahe(t,n.value),...e}}}return XD(u)&&(u=u()),u?{...u,...c?{offset:c}:{}}:u}function ahe(e,t){return ole(["x","x2"],e)&&"width"===t?{field:{group:"width"}}:ole(["y","y2"],e)&&"height"===t?{field:{group:"height"}}:yue(t)}function lhe(e){return e&&"number"!==e&&"time"!==e}function she(e,t,n){return"".concat(e,"(").concat(t).concat(n?", ".concat(Kle(n)):"",")")}const che=" \u2013 ";function uhe(e){let{fieldOrDatumDef:t,format:n,formatType:r,expr:i,normalizeStack:o,config:a}=e;if(lhe(r))return fhe({fieldOrDatumDef:t,format:n,formatType:r,expr:i,config:a});const l=dhe(t,i,o),s=Lhe(t);if(void 0===n&&void 0===r&&a.customFormatTypes){if("quantitative"===s){if(o&&a.normalizedNumberFormatType)return fhe({fieldOrDatumDef:t,format:a.normalizedNumberFormat,formatType:a.normalizedNumberFormatType,expr:i,config:a});if(a.numberFormatType)return fhe({fieldOrDatumDef:t,format:a.numberFormat,formatType:a.numberFormatType,expr:i,config:a})}if("temporal"===s&&a.timeFormatType&&Ihe(t)&&void 0===t.timeUnit)return fhe({fieldOrDatumDef:t,format:a.timeFormat,formatType:a.timeFormatType,expr:i,config:a})}if(hpe(t)){var c,u;const e=function(e){let{field:t,timeUnit:n,format:r,formatType:i,rawTimeFormat:o,isUTCScale:a}=e;return!n||r?!n&&i?"".concat(i,"(").concat(t,", '").concat(r,"')"):(r=xF(r)?r:o,"".concat(a?"utc":"time","Format(").concat(t,", '").concat(r,"')")):function(e,t,n){if(!e)return;const r=Dde(e),i=n||Ede(e);return"".concat(i?"utc":"time","Format(").concat(t,", ").concat(r,")")}(n,t,a)}({field:l,timeUnit:Ihe(t)?null===(c=Fde(t.timeUnit))||void 0===c?void 0:c.unit:void 0,format:n,formatType:a.timeFormatType,rawTimeFormat:a.timeFormat,isUTCScale:Vhe(t)&&(null===(u=t.scale)||void 0===u?void 0:u.type)===tfe.UTC});return e?{signal:e}:void 0}if(n=mhe({type:s,specifiedFormat:n,config:a,normalizeStack:o}),Ihe(t)&&eue(t.bin)){return{signal:yhe(l,$he(t,{expr:i,binSuffix:"end"}),n,r,a)}}return n||"quantitative"===Lhe(t)?{signal:"".concat(ghe(l,n))}:{signal:"isValid(".concat(l,") ? ").concat(l,' : ""+').concat(l)}}function dhe(e,t,n){return Ihe(e)?n?"".concat($he(e,{expr:t,suffix:"end"}),"-").concat($he(e,{expr:t,suffix:"start"})):$he(e,{expr:t}):function(e){const{datum:t}=e;return hde(t)?bde(t):"".concat(Kle(t))}(e)}function fhe(e){var t;let{fieldOrDatumDef:n,format:r,formatType:i,expr:o,normalizeStack:a,config:l,field:s}=e;if(null!==(t=s)&&void 0!==t||(s=dhe(n,o,a)),"datum.value"!==s&&Ihe(n)&&eue(n.bin)){return{signal:yhe(s,$he(n,{expr:o,binSuffix:"end"}),r,i,l)}}return{signal:she(i,s,r)}}function hhe(e,t,n,r,i,o){if(!xF(r)||!lhe(r)){if(void 0===n&&void 0===r&&i.customFormatTypes&&"quantitative"===Lhe(e)){if(i.normalizedNumberFormatType&&Ghe(e)&&"normalize"===e.stack)return;if(i.numberFormatType)return}if(Ghe(e)&&"normalize"===e.stack&&i.normalizedNumberFormat)return mhe({type:"quantitative",config:i,normalizeStack:!0});if(hpe(e)){var a;const t=Ihe(e)?null===(a=Fde(e.timeUnit))||void 0===a?void 0:a.unit:void 0;if(void 0===t&&i.customFormatTypes&&i.timeFormatType)return;return function(e){let{specifiedFormat:t,timeUnit:n,config:r,omitTimeFormatConfig:i}=e;if(t)return t;if(n)return{signal:Dde(n)};return i?void 0:r.timeFormat}({specifiedFormat:n,timeUnit:t,config:i,omitTimeFormatConfig:o})}return mhe({type:t,specifiedFormat:n,config:i})}}function phe(e,t,n){return e&&(cue(e)||"number"===e||"time"===e)?e:hpe(t)&&"time"!==n&&"utc"!==n?Ihe(t)&&null!==(r=Fde(null===t||void 0===t?void 0:t.timeUnit))&&void 0!==r&&r.utc?"utc":"time":void 0;var r}function mhe(e){let{type:t,specifiedFormat:n,config:r,normalizeStack:i}=e;return xF(n)?n:t===Xde?i?r.normalizedNumberFormat:r.numberFormat:void 0}function ghe(e,t){return"format(".concat(e,', "').concat(t||"",'")')}function vhe(e,t,n,r){var i;return lhe(n)?she(n,e,t):ghe(e,null!==(i=xF(t)?t:void 0)&&void 0!==i?i:r.numberFormat)}function yhe(e,t,n,r,i){if(void 0===n&&void 0===r&&i.customFormatTypes&&i.numberFormatType)return yhe(e,t,i.numberFormat,i.numberFormatType,i);const o=vhe(e,n,r,i),a=vhe(t,n,r,i);return"".concat(Hde(e,!1),' ? "null" : ').concat(o,' + "').concat(che,'" + ').concat(a)}const bhe="min",xhe={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function whe(e){return e in xhe}function _he(e){return!(null===e||void 0===e||!e.encoding)}function khe(e){return e&&("count"===e.op||!!e.field)}function Ehe(e){return e&&kD(e)}function She(e){return"row"in e||"column"in e}function Che(e){return!!e&&"header"in e}function Mhe(e){return"facet"in e}function The(e){const{field:t,timeUnit:n,bin:r,aggregate:i}=e;return{...n?{timeUnit:n}:{},...r?{bin:r}:{},...i?{aggregate:i}:{},field:t}}function Ahe(e){return"sort"in e}function Dhe(e){let{fieldDef:t,fieldDef2:n,markDef:r,config:i}=e;if(Whe(t)&&void 0!==t.bandPosition)return t.bandPosition;if(Ihe(t)){const{timeUnit:e,bin:o}=t;if(e&&!n)return Sue("timeUnitBandPosition",r,i);if(eue(o))return.5}}function Fhe(e){let{channel:t,fieldDef:n,fieldDef2:r,markDef:i,config:o,scaleType:a,useVlSizeChannel:l}=e;const s=$se(t),c=Eue(l?"size":s,i,o,{vgChannel:s});if(void 0!==c)return c;if(Ihe(n)){const{timeUnit:e,bin:t}=n;if(e&&!r)return{band:Sue("timeUnitBandSize",i,o)};if(eue(t)&&!ffe(a))return{band:1}}var u,d,f;return qfe(i.type)?a?ffe(a)?(null===(d=o[i.type])||void 0===d?void 0:d.discreteBandSize)||{band:1}:null===(f=o[i.type])||void 0===f?void 0:f.continuousBandSize:null===(u=o[i.type])||void 0===u?void 0:u.discreteBandSize:void 0}function Nhe(e,t,n,r){return!!(eue(e.bin)||e.timeUnit&&qhe(e)&&"temporal"===e.type)&&void 0!==Dhe({fieldDef:e,fieldDef2:t,markDef:n,config:r})}function Rhe(e){return e&&!!e.sort&&!e.field}function zhe(e){return e&&"condition"in e}function Phe(e){const t=null===e||void 0===e?void 0:e.condition;return!!t&&!kD(t)&&Ihe(t)}function Ohe(e){const t=null===e||void 0===e?void 0:e.condition;return!!t&&!kD(t)&&Whe(t)}function Ihe(e){return e&&(!!e.field||"count"===e.aggregate)}function Lhe(e){return null===e||void 0===e?void 0:e.type}function Bhe(e){return e&&"datum"in e}function jhe(e){return qhe(e)&&!Zhe(e)||Khe(e)}function Uhe(e){return qhe(e)&&"quantitative"===e.type&&!e.bin||Khe(e)}function Khe(e){return Bhe(e)&&yF(e.datum)}function Whe(e){return Ihe(e)||Bhe(e)}function qhe(e){return e&&("field"in e||"count"===e.aggregate)&&"type"in e}function Hhe(e){return e&&"value"in e&&"value"in e}function Vhe(e){return e&&("scale"in e||"sort"in e)}function Ghe(e){return e&&("axis"in e||"stack"in e||"impute"in e)}function Yhe(e){return e&&"legend"in e}function Qhe(e){return e&&("format"in e||"formatType"in e)}function Xhe(e){return nle(e,["legend","axis","header","scale"])}function $he(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.field;const r=t.prefix;let i=t.suffix,o="";if(function(e){return"count"===e.aggregate}(e))n=Ole("count");else{let r;if(!t.nofn)if(function(e){return"op"in e}(e))r=e.op;else{const{bin:c,aggregate:u,timeUnit:d}=e;var a,l;if(eue(c))r=Jce(c),i=(null!==(a=t.binSuffix)&&void 0!==a?a:"")+(null!==(l=t.suffix)&&void 0!==l?l:"");else if(u)Gce(u)?(o='["'.concat(n,'"]'),n="argmax_".concat(u.argmax)):Vce(u)?(o='["'.concat(n,'"]'),n="argmin_".concat(u.argmin)):r=String(u);else if(d&&!_de(d)){var s;r=function(e){const{utc:t,...n}=Fde(e);return n.unit?(t?"utc":"")+vle(n).map((e=>wle("".concat("unit"===e?"":"_".concat(e,"_")).concat(n[e])))).join(""):(t?"utc":"")+"timeunit"+vle(n).map((e=>wle("_".concat(e,"_").concat(n[e])))).join("")}(d),i=(!["range","mid"].includes(t.binSuffix)&&t.binSuffix||"")+(null!==(s=t.suffix)&&void 0!==s?s:"")}}r&&(n=n?"".concat(r,"_").concat(n):r)}return i&&(n="".concat(n,"_").concat(i)),r&&(n="".concat(r,"_").concat(n)),t.forAs?Dle(n):t.expr?Cle(n,t.expr)+o:Tle(n)+o}function Zhe(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return Ihe(e)&&!!e.bin;case"temporal":return!1}throw new Error(Gue(e.type))}const Jhe=(e,t)=>{switch(t.fieldTitle){case"plain":return e.field;case"functional":return function(e){const{aggregate:t,bin:n,timeUnit:r,field:i}=e;if(Gce(t))return"".concat(i," for argmax(").concat(t.argmax,")");if(Vce(t))return"".concat(i," for argmin(").concat(t.argmin,")");const o=r&&!_de(r)?Fde(r):void 0,a=t||(null===o||void 0===o?void 0:o.unit)||(null===o||void 0===o?void 0:o.maxbins)&&"timeunit"||eue(n)&&"bin";return a?"".concat(a.toUpperCase(),"(").concat(i,")"):i}(e);default:return function(e,t){const{field:n,bin:r,timeUnit:i,aggregate:o}=e;if("count"===o)return t.countTitle;if(eue(r))return"".concat(n," (binned)");if(i&&!_de(i)){var a;const e=null===(a=Fde(i))||void 0===a?void 0:a.unit;if(e)return"".concat(n," (").concat(Cde(e).join("-"),")")}else if(o)return Gce(o)?"".concat(n," for max ").concat(o.argmax):Vce(o)?"".concat(n," for min ").concat(o.argmin):"".concat(Ele(o)," of ").concat(n);return n}(e,t)}};let epe=Jhe;function tpe(e){epe=e}function npe(e,t,n){var r;let{allowDisabling:i,includeDefault:o=!0}=n;const a=null===(r=rpe(e))||void 0===r?void 0:r.title;if(!Ihe(e))return null!==a&&void 0!==a?a:e.title;const l=e,s=o?ipe(l,t):void 0;return i?Nle(a,l.title,s):null!==(c=null!==a&&void 0!==a?a:l.title)&&void 0!==c?c:s;var c}function rpe(e){return Ghe(e)&&e.axis?e.axis:Yhe(e)&&e.legend?e.legend:Che(e)&&e.header?e.header:void 0}function ipe(e,t){return epe(e,t)}function ope(e){if(Qhe(e)){const{format:t,formatType:n}=e;return{format:t,formatType:n}}{var t;const n=null!==(t=rpe(e))&&void 0!==t?t:{},{format:r,formatType:i}=n;return{format:r,formatType:i}}}function ape(e){return Ihe(e)?e:Phe(e)?e.condition:void 0}function lpe(e){return Whe(e)?e:Ohe(e)?e.condition:void 0}function spe(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(xF(e)||yF(e)||mF(e)){return fde(function(e,t,n){return"Channel ".concat(e," is a ").concat(t,". Converted to {value: ").concat(Kle(n),"}.")}(t,xF(e)?"string":yF(e)?"number":"boolean",e)),{value:e}}return Whe(e)?cpe(e,t,n,r):Ohe(e)?{...e,condition:cpe(e.condition,t,n,r)}:e}function cpe(e,t,n,r){if(Qhe(e)){const{format:i,formatType:o,...a}=e;if(lhe(o)&&!n.customFormatTypes)return fde(Hue(t)),cpe(a,t,n,r)}else{const i=Ghe(e)?"axis":Yhe(e)?"legend":Che(e)?"header":null;if(i&&e[i]){const{format:o,formatType:a,...l}=e[i];if(lhe(a)&&!n.customFormatTypes)return fde(Hue(t)),cpe({...e,[i]:l},t,n,r)}}return Ihe(e)?upe(e,t,r):function(e){let t=e.type;if(t)return e;const{datum:n}=e;return t=yF(n)?"quantitative":xF(n)?"nominal":hde(n)?"temporal":void 0,{...e,type:t}}(e)}function upe(e,t){let{compositeMark:n=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{aggregate:r,timeUnit:i,bin:o,field:a}=e,l={...e};if(n||!r||Yce(r)||Gce(r)||Vce(r)||(fde(function(e){return'Invalid aggregation operator "'.concat(e,'".')}(r)),delete l.aggregate),i&&(l.timeUnit=Fde(i)),a&&(l.field="".concat(a)),eue(o)&&(l.bin=dpe(o,t)),tue(o)&&!xce(t)&&fde(function(e){return"Channel ".concat(e,' should not be used with "binned" bin.')}(t)),qhe(l)){const{type:e}=l,t=function(e){if(e)switch(e=e.toLowerCase()){case"q":case Xde:return"quantitative";case"t":case Zde:return"temporal";case"o":case $de:return"ordinal";case"n":case Jde:return"nominal";case efe:return"geojson"}}(e);e!==t&&(l.type=t),"quantitative"!==e&&Xce(r)&&(fde(function(e,t){return'Invalid field type "'.concat(e,'" for aggregate: "').concat(t,'", using "quantitative" instead.')}(e,r)),l.type="quantitative")}else if(!Gse(t)){const e=function(e,t){var n;switch(t){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(Ahe(e)&&kD(e.sort))return"ordinal";const{aggregate:r,bin:i,timeUnit:o}=e;if(o)return"temporal";if(i||r&&!Gce(r)&&!Vce(r))return"quantitative";if(Vhe(e)&&null!==(n=e.scale)&&void 0!==n&&n.type)switch(nfe[e.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}(l,t);l.type=e}if(qhe(l)){const{compatible:e,warning:n}=function(e,t){const n=e.type;if("geojson"===n&&"shape"!==t)return{compatible:!1,warning:"Channel ".concat(t," should not be used with a geojson data.")};switch(t){case Wle:case qle:case Hle:return Zhe(e)?fpe:{compatible:!1,warning:$ue(t)};case Vle:case Gle:case Xle:case $le:case ase:case lse:case sse:case vse:case bse:case xse:case wse:case _se:case kse:case dse:case ese:case Zle:case Ese:return fpe;case rse:case ose:case nse:case ise:return n!==Xde?{compatible:!1,warning:"Channel ".concat(t," should be used with a quantitative field only, not ").concat(e.type," field.")}:fpe;case fse:case hse:case pse:case mse:case use:case tse:case Jle:case Yle:case Qle:return"nominal"!==n||e.sort?fpe:{compatible:!1,warning:"Channel ".concat(t," should not be used with an unsorted discrete field.")};case cse:case gse:return Zhe(e)||function(e){var t;return Vhe(e)&&mfe(null===(t=e.scale)||void 0===t?void 0:t.type)}(e)?fpe:{compatible:!1,warning:Zue(t)};case yse:return"nominal"!==e.type||"sort"in e?fpe:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}(l,t)||{};!1===e&&fde(n)}if(Ahe(l)&&xF(l.sort)){const{sort:e}=l;if(whe(e))return{...l,sort:{encoding:e}};const t=e.substr(1);if("-"===e.charAt(0)&&whe(t))return{...l,sort:{encoding:t,order:"descending"}}}if(Che(l)){const{header:e}=l;if(e){const{orient:t,...n}=e;if(t)return{...l,header:{...n,labelOrient:e.labelOrient||t,titleOrient:e.titleOrient||t}}}}return l}function dpe(e,t){return mF(e)?{maxbins:iue(t)}:"binned"===e?{binned:!0}:e.maxbins||e.step?e:{...e,maxbins:iue(t)}}const fpe={compatible:!0};function hpe(e){const{formatType:t}=ope(e);return"time"===t||!t&&function(e){return e&&("temporal"===e.type||Ihe(e)&&!!e.timeUnit)}(e)}function ppe(e,t){var n;let{timeUnit:r,type:i,wrapTime:o,undefinedIfExprNotRequired:a}=t;const l=r&&(null===(n=Fde(r))||void 0===n?void 0:n.unit);let s,c=l||"temporal"===i;return oue(e)?s=e.expr:cue(e)?s=e.signal:hde(e)?(c=!0,s=bde(e)):(xF(e)||yF(e))&&c&&(s="datetime(".concat(Kle(e),")"),function(e){return!!xde[e]}(l)&&(yF(e)&&e<1e4||xF(e)&&isNaN(Date.parse(e)))&&(s=bde({[l]:e}))),s?o&&c?"time(".concat(s,")"):s:a?void 0:Kle(e)}function mpe(e,t){const{type:n}=e;return t.map((t=>{const r=ppe(t,{timeUnit:Ihe(e)&&!_de(e.timeUnit)?e.timeUnit:void 0,type:n,undefinedIfExprNotRequired:!0});return void 0!==r?{signal:r}:t}))}function gpe(e,t){return eue(e.bin)?Lce(t)&&["ordinal","nominal"].includes(e.type):(console.warn("Only call this method for binned field defs."),!1)}const vpe={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function ype(e){return null===e||void 0===e?void 0:e.condition}const bpe=["domain","grid","labels","ticks","title"],xpe={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},wpe={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},_pe={...wpe,style:1,labelExpr:1,encoding:1};function kpe(e){return!!_pe[e]}vle(_pe);const Epe=vle({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1});function Spe(e){return"mark"in e}class Cpe{constructor(e,t){this.name=e,this.run=t}hasMatchingType(e){return!!Spe(e)&&function(e){return Vfe(e)?e.type:e}(e.mark)===this.name}}function Mpe(e,t){const n=e&&e[t];return!!n&&(kD(n)?ale(n,(e=>!!e.field)):Ihe(n)||Phe(n))}function Tpe(e,t){const n=e&&e[t];return!!n&&(kD(n)?ale(n,(e=>!!e.field)):Ihe(n)||Bhe(n)||Ohe(n))}function Ape(e,t){if(xce(t)){const n=e[t];if((Ihe(n)||Bhe(n))&&(Qde(n.type)||Ihe(n)&&n.timeUnit)){return Tpe(e,Jse(t))}}return!1}function Dpe(e){return ale(Ose,(t=>{if(Mpe(e,t)){const n=e[t];if(kD(n))return ale(n,(e=>!!e.aggregate));{const e=ape(n);return e&&!!e.aggregate}}return!1}))}function Fpe(e,t){const n=[],r=[],i=[],o=[],a={};return zpe(e,((l,s)=>{if(Ihe(l)){const{field:c,aggregate:u,bin:d,timeUnit:f,...h}=l;if(u||f||d){const e=rpe(l),p=null===e||void 0===e?void 0:e.title;let m=$he(l,{forAs:!0});const g={...p?[]:{title:npe(l,t,{allowDisabling:!0})},...h,field:m};if(u){let e;if(Gce(u)?(e="argmax",m=$he({op:"argmax",field:u.argmax},{forAs:!0}),g.field="".concat(m,".").concat(c)):Vce(u)?(e="argmin",m=$he({op:"argmin",field:u.argmin},{forAs:!0}),g.field="".concat(m,".").concat(c)):"boxplot"!==u&&"errorbar"!==u&&"errorband"!==u&&(e=u),e){const t={op:e,as:m};c&&(t.field=c),o.push(t)}}else if(n.push(m),qhe(l)&&eue(d)){if(r.push({bin:d,field:c,as:m}),n.push($he(l,{binSuffix:"end"})),gpe(l,s)&&n.push($he(l,{binSuffix:"range"})),xce(s)){const e={field:"".concat(m,"_end")};a["".concat(s,"2")]=e}g.bin="binned",Gse(s)||(g.type=Xde)}else if(f&&!_de(f)){i.push({timeUnit:f,field:c,as:m});const e=qhe(l)&&l.type!==Zde&&"time";e&&(s===vse||s===wse?g.formatType=e:!function(e){return!!gce[e]}(s)?xce(s)&&(g.axis={formatType:e,...g.axis}):g.legend={formatType:e,...g.legend})}a[s]=g}else n.push(c),a[s]=e[s]}else a[s]=e[s]})),{bins:r,timeUnits:i,aggregate:o,groupby:n,encoding:a}}function Npe(e,t,n){const r=Bce(t,n);if(!r)return!1;if("binned"===r){const n=e[t===Yle?Vle:Gle];return!!(Ihe(n)&&Ihe(e[t])&&tue(n.bin))}return!0}function Rpe(e,t){const n={};for(const r of vle(e)){const i=spe(e[r],r,t,{compositeMark:!0});n[r]=i}return n}function zpe(e,t,n){if(e)for(const r of vle(e)){const i=e[r];if(kD(i))for(const e of i)t.call(n,e,r);else t.call(n,i,r)}}function Ppe(e,t){return vle(t).reduce(((n,r)=>{switch(r){case Vle:case Gle:case _se:case Ese:case kse:case Yle:case Qle:case Xle:case $le:case ese:case tse:case Zle:case Jle:case nse:case rse:case ise:case ose:case vse:case cse:case dse:case wse:return n;case yse:if("line"===e||"trail"===e)return n;case bse:case xse:{const e=t[r];if(kD(e)||Ihe(e))for(const t of YD(e))t.aggregate||n.push($he(t,{}));return n}case use:if("trail"===e)return n;case ase:case lse:case sse:case fse:case hse:case pse:case gse:case mse:{const e=ape(t[r]);return e&&!e.aggregate&&n.push($he(e,{})),n}}}),[])}function Ope(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if("tooltip"in n)return{tooltip:n.tooltip};const i=e.map((e=>{let{fieldPrefix:n,titlePrefix:i}=e;const o=r?" of ".concat(Ipe(t)):"";return{field:n+t.field,type:t.type,title:cue(i)?{signal:"".concat(i,'"').concat(escape(o),'"')}:i+o}})),o=function(e){const t=[];for(const n of vle(e))if(Mpe(e,n)){const r=YD(e[n]);for(const e of r)Ihe(e)?t.push(e):Phe(e)&&t.push(e.condition)}return t}(n).map(Xhe);return{tooltip:[...i,...ule(o,rle)]}}function Ipe(e){const{title:t,field:n}=e;return Nle(t,n)}function Lpe(e,t,n,r,i){const{scale:o,axis:a}=n;return l=>{let{partName:s,mark:c,positionPrefix:u,endPositionPrefix:d,extraEncoding:f={}}=l;const h=Ipe(n);return Bpe(e,s,i,{mark:c,encoding:{[t]:{field:"".concat(u,"_").concat(n.field),type:n.type,...void 0!==h?{title:h}:{},...void 0!==o?{scale:o}:{},...void 0!==a?{axis:a}:{}},...xF(d)?{["".concat(t,"2")]:{field:"".concat(d,"_").concat(n.field)}}:{},...r,...f}})}}function Bpe(e,t,n,r){const{clip:i,color:o,opacity:a}=e,l=e.type;return e[t]||void 0===e[t]&&n[t]?[{...r,mark:{...n[t],...i?{clip:i}:{},...o?{color:o}:{},...a?{opacity:a}:{},...Vfe(r.mark)?r.mark:{type:r.mark},style:"".concat(l,"-").concat(String(t)),...mF(e[t])?{}:e[t]}}]:[]}function jpe(e,t,n){const{encoding:r}=e,i="vertical"===t?"y":"x",o=r[i],a=r["".concat(i,"2")],l=r["".concat(i,"Error")],s=r["".concat(i,"Error2")];return{continuousAxisChannelDef:Upe(o,n),continuousAxisChannelDef2:Upe(a,n),continuousAxisChannelDefError:Upe(l,n),continuousAxisChannelDefError2:Upe(s,n),continuousAxis:i}}function Upe(e,t){if(null!==e&&void 0!==e&&e.aggregate){const{aggregate:n,...r}=e;return n!==t&&fde(function(e,t){return"Continuous axis should not have customized aggregation function ".concat(e,"; ").concat(t," already agregates the axis.")}(n,t)),r}return e}function Kpe(e,t){const{mark:n,encoding:r}=e,{x:i,y:o}=r;if(Vfe(n)&&n.orient)return n.orient;if(jhe(i)){if(jhe(o)){const e=Ihe(i)&&i.aggregate,n=Ihe(o)&&o.aggregate;if(e||n!==t){if(n||e!==t){if(e===t&&n===t)throw new Error("Both x and y cannot have aggregate");return hpe(o)&&!hpe(i)?"horizontal":"vertical"}return"horizontal"}return"vertical"}return"horizontal"}if(jhe(o))return"vertical";throw new Error("Need a valid continuous axis for ".concat(t,"s"))}const Wpe="boxplot",qpe=new Cpe(Wpe,Vpe);function Hpe(e){return yF(e)?"tukey":e}function Vpe(e,t){var n;let{config:r}=t;e={...e,encoding:Rpe(e.encoding,r)};const{mark:i,encoding:o,params:a,projection:l,...s}=e,c=Vfe(i)?i:{type:i};a&&fde(jue("boxplot"));const u=null!==(n=c.extent)&&void 0!==n?n:r.boxplot.extent,d=Eue("size",c,r),f=c.invalid,h=Hpe(u),{bins:p,timeUnits:m,transform:g,continuousAxisChannelDef:v,continuousAxis:y,groupby:b,aggregate:x,encodingWithoutContinuousAxis:w,ticksOrient:_,boxOrient:k,customTooltipWithoutAggregatedField:E}=function(e,t,n){const r=Kpe(e,Wpe),{continuousAxisChannelDef:i,continuousAxis:o}=jpe(e,r,Wpe),a=i.field,l=Hpe(t),s=[...Gpe(a),{op:"median",field:a,as:"mid_box_".concat(a)},{op:"min",field:a,as:("min-max"===l?"lower_whisker_":"min_")+a},{op:"max",field:a,as:("min-max"===l?"upper_whisker_":"max_")+a}],c="min-max"===l||"tukey"===l?[]:[{calculate:'datum["upper_box_'.concat(a,'"] - datum["lower_box_').concat(a,'"]'),as:"iqr_".concat(a)},{calculate:'min(datum["upper_box_'.concat(a,'"] + datum["iqr_').concat(a,'"] * ').concat(t,', datum["max_').concat(a,'"])'),as:"upper_whisker_".concat(a)},{calculate:'max(datum["lower_box_'.concat(a,'"] - datum["iqr_').concat(a,'"] * ').concat(t,', datum["min_').concat(a,'"])'),as:"lower_whisker_".concat(a)}],{[o]:u,...d}=e.encoding,{customTooltipWithoutAggregatedField:f,filteredEncoding:h}=function(e){const{tooltip:t,...n}=e;if(!t)return{filteredEncoding:n};let r,i;if(kD(t)){for(const e of t)e.aggregate?(r||(r=[]),r.push(e)):(i||(i=[]),i.push(e));r&&(n.tooltip=r)}else t.aggregate?n.tooltip=t:i=t;return kD(i)&&1===i.length&&(i=i[0]),{customTooltipWithoutAggregatedField:i,filteredEncoding:n}}(d),{bins:p,timeUnits:m,aggregate:g,groupby:v,encoding:y}=Fpe(h,n),b="vertical"===r?"horizontal":"vertical",x=r,w=[...p,...m,{aggregate:[...g,...s],groupby:v},...c];return{bins:p,timeUnits:m,transform:w,groupby:v,aggregate:g,continuousAxisChannelDef:i,continuousAxis:o,encodingWithoutContinuousAxis:y,ticksOrient:b,boxOrient:x,customTooltipWithoutAggregatedField:f}}(e,u,r),{color:S,size:C,...M}=w,T=e=>Lpe(c,y,v,e,r.boxplot),A=T(M),D=T(w),F=T({...M,...C?{size:C}:{}}),N=Ope([{fieldPrefix:"min-max"===h?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===h?"lower_whisker_":"min_",titlePrefix:"Min"}],v,w),R={type:"tick",color:"black",opacity:1,orient:_,invalid:f,aria:!1},z="min-max"===h?N:Ope([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],v,w),P=[...A({partName:"rule",mark:{type:"rule",invalid:f,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:z}),...A({partName:"rule",mark:{type:"rule",invalid:f,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:z}),...A({partName:"ticks",mark:R,positionPrefix:"lower_whisker",extraEncoding:z}),...A({partName:"ticks",mark:R,positionPrefix:"upper_whisker",extraEncoding:z})],O=[..."tukey"!==h?P:[],...D({partName:"box",mark:{type:"bar",...d?{size:d}:{},orient:k,invalid:f,ariaRoleDescription:"box"},positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:N}),...F({partName:"median",mark:{type:"tick",invalid:f,...ED(r.boxplot.median)&&r.boxplot.median.color?{color:r.boxplot.median.color}:{},...d?{size:d}:{},orient:_,aria:!1},positionPrefix:"mid_box",extraEncoding:N})];var I;if("min-max"===h)return{...s,transform:(null!==(I=s.transform)&&void 0!==I?I:[]).concat(g),layer:O};const L='datum["lower_box_'.concat(v.field,'"]'),B='datum["upper_box_'.concat(v.field,'"]'),j="(".concat(B," - ").concat(L,")"),U="".concat(L," - ").concat(u," * ").concat(j),K="".concat(B," + ").concat(u," * ").concat(j),W='datum["'.concat(v.field,'"]'),q={joinaggregate:Gpe(v.field),groupby:b},H={transform:[{filter:"(".concat(U," <= ").concat(W,") && (").concat(W," <= ").concat(K,")")},{aggregate:[{op:"min",field:v.field,as:"lower_whisker_".concat(v.field)},{op:"max",field:v.field,as:"upper_whisker_".concat(v.field)},{op:"min",field:"lower_box_".concat(v.field),as:"lower_box_".concat(v.field)},{op:"max",field:"upper_box_".concat(v.field),as:"upper_box_".concat(v.field)},...x],groupby:b}],layer:P},{tooltip:V,...G}=M,{scale:Y,axis:Q}=v,X=Ipe(v),$=nle(Q,["title"]),Z=Bpe(c,"outliers",r.boxplot,{transform:[{filter:"(".concat(W," < ").concat(U,") || (").concat(W," > ").concat(K,")")}],mark:"point",encoding:{[y]:{field:v.field,type:v.type,...void 0!==X?{title:X}:{},...void 0!==Y?{scale:Y}:{},...gle($)?{}:{axis:$}},...G,...S?{color:S}:{},...E?{tooltip:E}:{}}})[0];let J;const ee=[...p,...m,q];return Z?J={transform:ee,layer:[Z,H]}:(J=H,J.transform.unshift(...ee)),{...s,layer:[J,{transform:g,layer:O}]}}function Gpe(e){return[{op:"q1",field:e,as:"lower_box_".concat(e)},{op:"q3",field:e,as:"upper_box_".concat(e)}]}const Ype="errorbar",Qpe=new Cpe(Ype,Xpe);function Xpe(e,t){let{config:n}=t;e={...e,encoding:Rpe(e.encoding,n)};const{transform:r,continuousAxisChannelDef:i,continuousAxis:o,encodingWithoutContinuousAxis:a,ticksOrient:l,markDef:s,outerSpec:c,tooltipEncoding:u}=Zpe(e,Ype,n);delete a.size;const d=Lpe(s,o,i,a,n.errorbar),f=s.thickness,h=s.size,p={type:"tick",orient:l,aria:!1,...void 0!==f?{thickness:f}:{},...void 0!==h?{size:h}:{}},m=[...d({partName:"ticks",mark:p,positionPrefix:"lower",extraEncoding:u}),...d({partName:"ticks",mark:p,positionPrefix:"upper",extraEncoding:u}),...d({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar",...void 0!==f?{size:f}:{}},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:u})];return{...c,transform:r,...m.length>1?{layer:m}:{...m[0]}}}function $pe(e,t){const{encoding:n}=e;if(function(e){return(Whe(e.x)||Whe(e.y))&&!Whe(e.x2)&&!Whe(e.y2)&&!Whe(e.xError)&&!Whe(e.xError2)&&!Whe(e.yError)&&!Whe(e.yError2)}(n))return{orient:Kpe(e,t),inputType:"raw"};const r=function(e){return Whe(e.x2)||Whe(e.y2)}(n),i=function(e){return Whe(e.xError)||Whe(e.xError2)||Whe(e.yError)||Whe(e.yError2)}(n),o=n.x,a=n.y;if(r){if(i)throw new Error("".concat(t," cannot be both type aggregated-upper-lower and aggregated-error"));const e=n.x2,r=n.y2;if(Whe(e)&&Whe(r))throw new Error("".concat(t," cannot have both x2 and y2"));if(Whe(e)){if(jhe(o))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error("Both x and x2 have to be quantitative in ".concat(t))}if(Whe(r)){if(jhe(a))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error("Both y and y2 have to be quantitative in ".concat(t))}throw new Error("No ranged axis")}{const e=n.xError,r=n.xError2,i=n.yError,l=n.yError2;if(Whe(r)&&!Whe(e))throw new Error("".concat(t," cannot have xError2 without xError"));if(Whe(l)&&!Whe(i))throw new Error("".concat(t," cannot have yError2 without yError"));if(Whe(e)&&Whe(i))throw new Error("".concat(t," cannot have both xError and yError with both are quantiative"));if(Whe(e)){if(jhe(o))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}if(Whe(i)){if(jhe(a))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function Zpe(e,t,n){var r;const{mark:i,encoding:o,params:a,projection:l,...s}=e,c=Vfe(i)?i:{type:i};a&&fde(jue(t));const{orient:u,inputType:d}=$pe(e,t),{continuousAxisChannelDef:f,continuousAxisChannelDef2:h,continuousAxisChannelDefError:p,continuousAxisChannelDefError2:m,continuousAxis:g}=jpe(e,u,t),{errorBarSpecificAggregate:v,postAggregateCalculates:y,tooltipSummary:b,tooltipTitleWithFieldName:x}=function(e,t,n,r,i,o,a,l){let s=[],c=[];const u=t.field;let d,f=!1;if("raw"===o){const t=e.center?e.center:e.extent?"iqr"===e.extent?"median":"mean":l.errorbar.center,n=e.extent?e.extent:"mean"===t?"stderr":"iqr";if("median"===t!==("iqr"===n)&&fde(function(e,t,n){return"".concat(e," is not usually used with ").concat(t," for ").concat(n,".")}(t,n,a)),"stderr"===n||"stdev"===n)s=[{op:n,field:u,as:"extent_".concat(u)},{op:t,field:u,as:"center_".concat(u)}],c=[{calculate:'datum["center_'.concat(u,'"] + datum["extent_').concat(u,'"]'),as:"upper_".concat(u)},{calculate:'datum["center_'.concat(u,'"] - datum["extent_').concat(u,'"]'),as:"lower_".concat(u)}],d=[{fieldPrefix:"center_",titlePrefix:Ele(t)},{fieldPrefix:"upper_",titlePrefix:Jpe(t,n,"+")},{fieldPrefix:"lower_",titlePrefix:Jpe(t,n,"-")}],f=!0;else{let e,t,r;"ci"===n?(e="mean",t="ci0",r="ci1"):(e="median",t="q1",r="q3"),s=[{op:t,field:u,as:"lower_".concat(u)},{op:r,field:u,as:"upper_".concat(u)},{op:e,field:u,as:"center_".concat(u)}],d=[{fieldPrefix:"upper_",titlePrefix:npe({field:u,aggregate:r,type:"quantitative"},l,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:npe({field:u,aggregate:t,type:"quantitative"},l,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:npe({field:u,aggregate:e,type:"quantitative"},l,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&fde(function(e,t){return"".concat(t?"extent ":"").concat(t&&e?"and ":"").concat(e?"center ":"").concat(t&&e?"are ":"is ","not needed when data are aggregated.")}(e.center,e.extent)),"aggregated-upper-lower"===o?(d=[],c=[{calculate:'datum["'.concat(n.field,'"]'),as:"upper_".concat(u)},{calculate:'datum["'.concat(u,'"]'),as:"lower_".concat(u)}]):"aggregated-error"===o&&(d=[{fieldPrefix:"",titlePrefix:u}],c=[{calculate:'datum["'.concat(u,'"] + datum["').concat(r.field,'"]'),as:"upper_".concat(u)}],i?c.push({calculate:'datum["'.concat(u,'"] + datum["').concat(i.field,'"]'),as:"lower_".concat(u)}):c.push({calculate:'datum["'.concat(u,'"] - datum["').concat(r.field,'"]'),as:"lower_".concat(u)}));for(const e of c)d.push({fieldPrefix:e.as.substring(0,6),titlePrefix:Ale(Ale(e.calculate,'datum["',""),'"]',"")})}return{postAggregateCalculates:c,errorBarSpecificAggregate:s,tooltipSummary:d,tooltipTitleWithFieldName:f}}(c,f,h,p,m,d,t,n),{[g]:w,["x"===g?"x2":"y2"]:_,["x"===g?"xError":"yError"]:k,["x"===g?"xError2":"yError2"]:E,...S}=o,{bins:C,timeUnits:M,aggregate:T,groupby:A,encoding:D}=Fpe(S,n),F=[...T,...v],N="raw"!==d?[]:A,R=Ope(b,f,D,x);return{transform:[...null!==(r=s.transform)&&void 0!==r?r:[],...C,...M,...0===F.length?[]:[{aggregate:F,groupby:N}],...y],groupby:N,continuousAxisChannelDef:f,continuousAxis:g,encodingWithoutContinuousAxis:D,ticksOrient:"vertical"===u?"horizontal":"vertical",markDef:c,outerSpec:s,tooltipEncoding:R}}function Jpe(e,t,n){return"".concat(Ele(e)," ").concat(n," ").concat(t)}const eme="errorband",tme=new Cpe(eme,nme);function nme(e,t){let{config:n}=t;e={...e,encoding:Rpe(e.encoding,n)};const{transform:r,continuousAxisChannelDef:i,continuousAxis:o,encodingWithoutContinuousAxis:a,markDef:l,outerSpec:s,tooltipEncoding:c}=Zpe(e,eme,n),u=l,d=Lpe(u,o,i,a,n.errorband),f=void 0!==e.encoding.x&&void 0!==e.encoding.y;let h={type:f?"area":"rect"},p={type:f?"line":"rule"};const m={...u.interpolate?{interpolate:u.interpolate}:{},...u.tension&&u.interpolate?{tension:u.tension}:{}};return f?(h={...h,...m,ariaRoleDescription:"errorband"},p={...p,...m,aria:!1}):u.interpolate?fde(lde("interpolate")):u.tension&&fde(lde("tension")),{...s,transform:r,layer:[...d({partName:"band",mark:h,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:c}),...d({partName:"borders",mark:p,positionPrefix:"lower",extraEncoding:c}),...d({partName:"borders",mark:p,positionPrefix:"upper",extraEncoding:c})]}}const rme={};function ime(e,t,n){const r=new Cpe(e,t);rme[e]={normalizer:r,parts:n}}ime(Wpe,Vpe,["box","median","outliers","rule","ticks"]),ime(Ype,Xpe,["ticks","rule"]),ime(eme,nme,["band","borders"]);const ome=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],ame={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},lme={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},sme=vle(ame),cme=vle(lme),ume=vle({header:1,headerRow:1,headerColumn:1,headerFacet:1}),dme=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],fme={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},hme=(vle(fme),"_vgsid_"),pme={point:{on:"click",fields:[hme],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[pointerdown, window:pointerup] > window:pointermove!",encodings:["x","y"],translate:"[pointerdown, window:pointerup] > window:pointermove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function mme(e){return"legend"===e||!(null===e||void 0===e||!e.legend)}function gme(e){return mme(e)&&ED(e)}function vme(e){return!(null===e||void 0===e||!e.select)}function yme(e){const t=[];for(const n of e||[]){if(vme(n))continue;const{expr:e,bind:r,...i}=n;if(r&&e){const n={...i,bind:r,init:e};t.push(n)}else{const n={...i,...e?{update:e}:{},...r?{bind:r}:{}};t.push(n)}}return t}function bme(e){return"concat"in e}function xme(e){return"vconcat"in e}function wme(e){return"hconcat"in e}function _me(e){let{step:t,offsetIsDiscrete:n}=e;var r;return n?null!==(r=t.for)&&void 0!==r?r:"offset":"position"}function kme(e){return ED(e)&&void 0!==e.step}function Eme(e){return e.view||e.width||e.height}const Sme=vle({align:1,bounds:1,center:1,columns:1,spacing:1});function Cme(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:e["width"===t?"continuousWidth":"continuousHeight"]}function Mme(e,t){const n=Tme(e,t);return kme(n)?n.step:Ame}function Tme(e,t){var n;return Nle(null!==(n=e[t])&&void 0!==n?n:e["width"===t?"discreteWidth":"discreteHeight"],{step:e.step})}const Ame=20;const Dme={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:Ame},mark:{color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},arc:{},area:{},bar:Zfe,circle:{},geoshape:{},image:{},line:{},point:{},rect:Jfe,rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:pme,style:{},title:{},facet:{spacing:20},concat:{spacing:20},normalizedNumberFormat:".0%"},Fme=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],Nme={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},Rme={blue:Fme[0],orange:Fme[1],red:Fme[2],teal:Fme[3],green:Fme[4],yellow:Fme[5],purple:Fme[6],pink:Fme[7],brown:Fme[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function zme(e){const t=vle(e||{}),n={};for(const r of t){const t=e[r];n[r]=ype(t)?mue(t):gue(t)}return n}const Pme=[...Qfe,...Epe,...ume,"background","padding","legend","lineBreak","scale","style","title","view"];function Ome(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{color:t,font:n,fontSize:r,selection:i,...o}=e,a=CD({},Jae(Dme),n?function(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}(n):{},t?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{signals:[{name:"color",value:ED(e)?{...Rme,...e}:Rme}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}(t):{},r?function(e){return{signals:[{name:"fontSize",value:ED(e)?{...Nme,...e}:Nme}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}(r):{},o||{});i&&MD(a,"selection",i,!0);const l=nle(a,Pme);for(const s of["background","lineBreak","padding"])a[s]&&(l[s]=gue(a[s]));for(const s of Qfe)a[s]&&(l[s]=aue(a[s]));for(const s of Epe)a[s]&&(l[s]=zme(a[s]));for(const s of ume)a[s]&&(l[s]=aue(a[s]));return a.legend&&(l.legend=aue(a.legend)),a.scale&&(l.scale=aue(a.scale)),a.style&&(l.style=function(e){const t=vle(e),n={};for(const r of t)n[r]=zme(e[r]);return n}(a.style)),a.title&&(l.title=aue(a.title)),a.view&&(l.view=aue(a.view)),l}const Ime=new Set(["view",...Hfe]),Lme=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],Bme={view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"],area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],line:["point"],tick:["bandSize","thickness"]};function jme(e){e=Jae(e);for(const t of Lme)delete e[t];if(e.axis)for(const t in e.axis)ype(e.axis[t])&&delete e.axis[t];if(e.legend)for(const t of ome)delete e.legend[t];if(e.mark){for(const t of Yfe)delete e.mark[t];e.mark.tooltip&&ED(e.mark.tooltip)&&delete e.mark.tooltip}e.params&&(e.signals=(e.signals||[]).concat(yme(e.params)),delete e.params);for(const t of Ime){for(const r of Yfe)delete e[t][r];const n=Bme[t];if(n)for(const r of n)delete e[t][r];Ume(e,t)}for(const t of vle(rme))delete e[t];!function(e){const{titleMarkConfig:t,subtitleMarkConfig:n,subtitle:r}=lue(e.title);gle(t)||(e.style["group-title"]={...e.style["group-title"],...t});gle(n)||(e.style["group-subtitle"]={...e.style["group-subtitle"],...n});gle(r)?delete e.title:e.title=r}(e);for(const t in e)ED(e[t])&&gle(e[t])&&delete e[t];return gle(e)?void 0:e}function Ume(e,t,n,r){var i;"view"===t&&(n="cell");const o={...r?e[t][r]:e[t],...e.style[null!==(i=n)&&void 0!==i?i:t]};var a;gle(o)||(e.style[null!==(a=n)&&void 0!==a?a:t]=o);r||delete e[t]}function Kme(e){return"layer"in e}class Wme{map(e,t){return Mhe(e)?this.mapFacet(e,t):function(e){return"repeat"in e}(e)?this.mapRepeat(e,t):wme(e)?this.mapHConcat(e,t):xme(e)?this.mapVConcat(e,t):bme(e)?this.mapConcat(e,t):this.mapLayerOrUnit(e,t)}mapLayerOrUnit(e,t){if(Kme(e))return this.mapLayer(e,t);if(Spe(e))return this.mapUnit(e,t);throw new Error(Nue(e))}mapLayer(e,t){return{...e,layer:e.layer.map((e=>this.mapLayerOrUnit(e,t)))}}mapHConcat(e,t){return{...e,hconcat:e.hconcat.map((e=>this.map(e,t)))}}mapVConcat(e,t){return{...e,vconcat:e.vconcat.map((e=>this.map(e,t)))}}mapConcat(e,t){const{concat:n,...r}=e;return{...r,concat:n.map((e=>this.map(e,t)))}}mapFacet(e,t){return{...e,spec:this.map(e.spec,t)}}mapRepeat(e,t){return{...e,spec:this.map(e.spec,t)}}}const qme={zero:1,center:1,normalize:1};const Hme=new Set([Afe,Ffe,Dfe,Ofe,zfe,jfe,Ufe,Rfe,Ife,Lfe]),Vme=new Set([Ffe,Dfe,Afe]);function Gme(e){return Ihe(e)&&"quantitative"===Lhe(e)&&!e.bin}function Yme(e,t,n){let{orient:r,type:i}=n;const o="x"===t?"y":"radius",a="x"===t&&["bar","area"].includes(i),l=e[t],s=e[o];if(Ihe(l)&&Ihe(s))if(Gme(l)&&Gme(s)){if(l.stack)return t;if(s.stack)return o;const e=Ihe(l)&&!!l.aggregate;if(e!==(Ihe(s)&&!!s.aggregate))return e?t:o;if(a){if("vertical"===r)return o;if("horizontal"===r)return t}}else{if(Gme(l))return t;if(Gme(s))return o}else{if(Gme(l)){if(a&&"vertical"===r)return;return t}if(Gme(s)){if(a&&"horizontal"===r)return;return o}}}function Qme(e,t){var n,r;const i=Vfe(e)?e:{type:e},o=i.type;if(!Hme.has(o))return null;const a=Yme(t,"x",i)||Yme(t,"theta",i);if(!a)return null;const l=t[a],s=Ihe(l)?$he(l,{}):void 0,c=function(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}(a),u=[],d=new Set;if(t[c]){const e=t[c],n=Ihe(e)?$he(e,{}):void 0;n&&n!==s&&(u.push(c),d.add(n))}const f="x"===c?"xOffset":"yOffset",h=t[f],p=Ihe(h)?$he(h,{}):void 0;p&&p!==s&&(u.push(f),d.add(p));const m=vce.reduce(((e,n)=>{if("tooltip"!==n&&Mpe(t,n)){const r=t[n];for(const t of YD(r)){const r=ape(t);if(r.aggregate)continue;const i=$he(r,{});i&&d.has(i)||e.push({channel:n,fieldDef:r})}}return e}),[]);let g;return void 0!==l.stack?g=mF(l.stack)?l.stack?"zero":null:l.stack:Vme.has(o)&&(g="zero"),g&&function(e){return e in qme}(g)?Dpe(t)&&0===m.length?null:null!==l&&void 0!==l&&null!==(n=l.scale)&&void 0!==n&&n.type&&(null===l||void 0===l||null===(r=l.scale)||void 0===r?void 0:r.type)!==tfe.LINEAR?(null!==l&&void 0!==l&&l.stack&&fde(function(e){return"Cannot stack non-linear scale (".concat(e,").")}(l.scale.type)),null):Whe(t[Xse(a)])?(void 0!==l.stack&&fde('Cannot stack "'.concat(v=a,'" if there is already "').concat(v,'2".')),null):(Ihe(l)&&l.aggregate&&!$ce.has(l.aggregate)&&fde((y=l.aggregate,'Stacking is applied even though the aggregate function is non-summative ("'.concat(y,'").'))),{groupbyChannels:u,groupbyFields:d,fieldChannel:a,impute:null!==l.impute&&Wfe(o),stackBy:m,offset:g}):null;var v,y}function Xme(e,t,n){const r=aue(e),i=Eue("orient",r,n);var o,a;if(r.orient=function(e,t,n){switch(e){case zfe:case jfe:case Ufe:case Ife:case Pfe:case Nfe:return}const{x:r,y:i,x2:o,y2:a}=t;switch(e){case Ffe:if(Ihe(r)&&(tue(r.bin)||Ihe(i)&&i.aggregate&&!r.aggregate))return"vertical";if(Ihe(i)&&(tue(i.bin)||Ihe(r)&&r.aggregate&&!i.aggregate))return"horizontal";if(a||o){if(n)return n;if(!o)return(Ihe(r)&&r.type===Xde&&!eue(r.bin)||Khe(r))&&Ihe(i)&&tue(i.bin)?"horizontal":"vertical";if(!a)return(Ihe(i)&&i.type===Xde&&!eue(i.bin)||Khe(i))&&Ihe(r)&&tue(r.bin)?"vertical":"horizontal"}case Ofe:if(o&&(!Ihe(r)||!tue(r.bin))&&a&&(!Ihe(i)||!tue(i.bin)))return;case Dfe:if(a)return Ihe(i)&&tue(i.bin)?"horizontal":"vertical";if(o)return Ihe(r)&&tue(r.bin)?"vertical":"horizontal";if(e===Ofe){if(r&&!i)return"vertical";if(i&&!r)return"horizontal"}case Rfe:case Lfe:{const t=Uhe(r),o=Uhe(i);if(n)return n;if(t&&!o)return"tick"!==e?"horizontal":"vertical";if(!t&&o)return"tick"!==e?"vertical":"horizontal";if(t&&o)return"vertical";{const e=qhe(r)&&r.type===Zde,t=qhe(i)&&i.type===Zde;if(e&&!t)return"vertical";if(!e&&t)return"horizontal"}return}}return"vertical"}(r.type,t,i),void 0!==i&&i!==r.orient&&fde((o=r.orient,a=i,'Specified orient "'.concat(o,'" overridden with "').concat(a,'".'))),"bar"===r.type&&r.orient){const e=Eue("cornerRadiusEnd",r,n);if(void 0!==e){const n="horizontal"===r.orient&&t.x2||"vertical"===r.orient&&t.y2?["cornerRadius"]:$fe[r.orient];for(const t of n)r[t]=e;void 0!==r.cornerRadiusEnd&&delete r.cornerRadiusEnd}}void 0===Eue("opacity",r,n)&&(r.opacity=function(e,t){if(ole([zfe,Lfe,jfe,Ufe],e)&&!Dpe(t))return.7;return}(r.type,t));return void 0===Eue("cursor",r,n)&&(r.cursor=function(e,t,n){if(t.href||e.href||Eue("href",e,n))return"pointer";return e.cursor}(r,t,n)),r}function $me(e){const{point:t,line:n,...r}=e;return vle(r).length>1?r:r.type}function Zme(e){for(const t of["line","area","rule","trail"])e[t]&&(e={...e,[t]:nle(e[t],["point","line"])});return e}function Jme(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return"transparent"===e.point?{opacity:0}:e.point?ED(e.point)?e.point:{}:void 0!==e.point?null:t.point||n.shape?ED(t.point)?t.point:{}:void 0}function ege(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.line?!0===e.line?{}:e.line:void 0!==e.line?null:t.line?!0===t.line?{}:t.line:void 0}class tge{constructor(){this.name="path-overlay"}hasMatchingType(e,t){if(Spe(e)){const{mark:n,encoding:r}=e,i=Vfe(n)?n:{type:n};switch(i.type){case"line":case"rule":case"trail":return!!Jme(i,t[i.type],r);case"area":return!!Jme(i,t[i.type],r)||!!ege(i,t[i.type])}}return!1}run(e,t,n){const{config:r}=t,{params:i,projection:o,mark:a,name:l,encoding:s,...c}=e,u=Rpe(s,r),d=Vfe(a)?a:{type:a},f=Jme(d,r[d.type],u),h="area"===d.type&&ege(d,r[d.type]),p=[{name:l,...i?{params:i}:{},mark:$me({..."area"===d.type&&void 0===d.opacity&&void 0===d.fillOpacity?{opacity:.7}:{},...d}),encoding:nle(u,["shape"])}],m=Qme(Xme(d,u,r),u);let g=u;if(m){const{fieldChannel:e,offset:t}=m;g={...u,[e]:{...u[e],...t?{stack:t}:{}}}}return g=nle(g,["y2","x2"]),h&&p.push({...o?{projection:o}:{},mark:{type:"line",...tle(d,["clip","interpolate","tension","tooltip"]),...h},encoding:g}),f&&p.push({...o?{projection:o}:{},mark:{type:"point",opacity:1,filled:!0,...tle(d,["clip","tooltip"]),...f},encoding:g}),n({...c,layer:p},{...t,config:Zme(r)})}}function nge(e,t){return t?She(e)?sge(e,t):oge(e,t):e}function rge(e,t){return t?sge(e,t):e}function ige(e,t,n){const r=t[e];return function(e){return e&&!xF(e)&&"repeat"in e}(r)?r.repeat in n?{...t,[e]:n[r.repeat]}:void fde(function(e){return'Unknown repeated value "'.concat(e,'".')}(r.repeat)):t}function oge(e,t){if(void 0!==(e=ige("field",e,t))){if(null===e)return null;if(Ahe(e)&&khe(e.sort)){const n=ige("field",e.sort,t);e={...e,...n?{sort:n}:{}}}return e}}function age(e,t){if(Ihe(e))return oge(e,t);{const n=ige("datum",e,t);return n===e||n.type||(n.type="nominal"),n}}function lge(e,t){if(!Whe(e)){if(Ohe(e)){const n=age(e.condition,t);if(n)return{...e,condition:n};{const{condition:t,...n}=e;return n}}return e}{const n=age(e,t);if(n)return n;if(zhe(e))return{condition:e.condition}}}function sge(e,t){const n={};for(const r in e)if(cF(e,r)){const i=e[r];if(kD(i))n[r]=i.map((e=>lge(e,t))).filter((e=>e));else{const e=lge(i,t);void 0!==e&&(n[r]=e)}}return n}class cge{constructor(){this.name="RuleForRangedLine"}hasMatchingType(e){if(Spe(e)){const{encoding:t,mark:n}=e;if("line"===n||Vfe(n)&&"line"===n.type)for(const e of Vse){const n=t[Yse(e)];if(t[e]&&(Ihe(n)&&!tue(n.bin)||Bhe(n)))return!0}}return!1}run(e,t,n){const{encoding:r,mark:i}=e;var o,a;return fde((o=!!r.x2,a=!!r.y2,"Line mark is for continuous lines and thus cannot be used with ".concat(o&&a?"x2 and y2":o?"x2":"y2",". We will use the rule mark (line segments) instead."))),n({...e,mark:ED(i)?{...i,type:"rule"}:"rule"},t)}}function uge(e){let{parentEncoding:t,encoding:n={},layer:r}=e,i={};if(t){const e=new Set([...vle(t),...vle(n)]);for(const o of e){const e=n[o],a=t[o];if(Whe(e)){const t={...a,...e};i[o]=t}else Ohe(e)?i[o]={...e,condition:{...a,...e.condition}}:e||null===e?i[o]=e:(r||Hhe(a)||cue(a)||Whe(a)||kD(a))&&(i[o]=a)}}else i=n;return!i||gle(i)?void 0:i}function dge(e){const{parentProjection:t,projection:n}=e;return t&&n&&fde(function(e){const{parentProjection:t,projection:n}=e;return"Layer's shared projection ".concat(Kle(t)," is overridden by a child projection ").concat(Kle(n),".")}({parentProjection:t,projection:n})),null!==n&&void 0!==n?n:t}function fge(e){return"filter"in e}function hge(e){return void 0!==(null===e||void 0===e?void 0:e.stop)}function pge(e){return"lookup"in e}function mge(e){return"pivot"in e}function gge(e){return"density"in e}function vge(e){return"quantile"in e}function yge(e){return"regression"in e}function bge(e){return"loess"in e}function xge(e){return"sample"in e}function wge(e){return"window"in e}function _ge(e){return"joinaggregate"in e}function kge(e){return"flatten"in e}function Ege(e){return"calculate"in e}function Sge(e){return"bin"in e}function Cge(e){return"impute"in e}function Mge(e){return"timeUnit"in e}function Tge(e){return"aggregate"in e}function Age(e){return"stack"in e}function Dge(e){return"fold"in e}function Fge(e){return"extent"in e&&!("density"in e)}function Nge(e,t){const{transform:n,...r}=e;if(n){const e=n.map((e=>{if(fge(e))return{filter:Pge(e,t)};if(Sge(e)&&nue(e.bin))return{...e,bin:zge(e.bin)};if(pge(e)){const{selection:t,...n}=e.from;return t?{...e,from:{param:t,...n}}:e}return e}));return{...r,transform:e}}return e}function Rge(e,t){var n;const r=Jae(e);if(Ihe(r)&&nue(r.bin)&&(r.bin=zge(r.bin)),Vhe(r)&&null!==(n=r.scale)&&void 0!==n&&null!==(n=n.domain)&&void 0!==n&&n.selection){const{selection:e,...t}=r.scale.domain;r.scale.domain={...t,...e?{param:e}:{}}}if(zhe(r))if(kD(r.condition))r.condition=r.condition.map((e=>{const{selection:n,param:r,test:i,...o}=e;return r?e:{...o,test:Pge(e,t)}}));else{const{selection:e,param:n,test:i,...o}=Rge(r.condition,t);r.condition=n?r.condition:{...o,test:Pge(r.condition,t)}}return r}function zge(e){const t=e.extent;if(null!==t&&void 0!==t&&t.selection){const{selection:n,...r}=t;return{...e,extent:{...r,param:n}}}return e}function Pge(e,t){const n=e=>Zae(e,(e=>{var n,r,i;const o={param:e,empty:null===(n=t.emptySelections[e])||void 0===n||n};return null!==(r=(i=t.selectionPredicates)[e])&&void 0!==r||(i[e]=[]),t.selectionPredicates[e].push(o),o}));return e.selection?n(e.selection):Zae(e.test||e.filter,(e=>e.selection?n(e.selection):e))}class Oge extends Wme{map(e,t){var n;const r=null!==(n=t.selections)&&void 0!==n?n:[];if(e.params&&!Spe(e)){const t=[];for(const n of e.params)vme(n)?r.push(n):t.push(n);e.params=t}return t.selections=r,super.map(e,t)}mapUnit(e,t){var n;const r=t.selections;if(!r||!r.length)return e;const i=(null!==(n=t.path)&&void 0!==n?n:[]).concat(e.name),o=[];for(const a of r)if(a.views&&a.views.length)for(const t of a.views)(xF(t)&&(t===e.name||i.includes(t))||kD(t)&&t.map((e=>i.indexOf(e))).every(((e,t,n)=>-1!==e&&(0===t||e>n[t-1]))))&&o.push(a);else o.push(a);return o.length&&(e.params=o),e}}for(const n of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const e=Oge.prototype[n];Oge.prototype[n]=function(t,n){return e.call(this,t,Ige(t,n))}}function Ige(e,t){var n;return e.name?{...t,path:(null!==(n=t.path)&&void 0!==n?n:[]).concat(e.name)}:t}function Lge(e,t){void 0===t&&(t=Ome(e.config));const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n={config:t};return Uge.map(Bge.map(jge.map(e,n),n),n)}(e,t),{width:r,height:i}=e,o=function(e,t,n){let{width:r,height:i}=t;const o=Spe(e)||Kme(e),a={};o?"container"==r&&"container"==i?(a.type="fit",a.contains="padding"):"container"==r?(a.type="fit-x",a.contains="padding"):"container"==i&&(a.type="fit-y",a.contains="padding"):("container"==r&&(fde(zue("width")),r=void 0),"container"==i&&(fde(zue("height")),i=void 0));const l={type:"pad",...a,...n?Kge(n.autosize):{},...Kge(e.autosize)};"fit"!==l.type||o||(fde(Rue),l.type="pad");"container"==r&&"fit"!=l.type&&"fit-x"!=l.type&&fde(Pue("width"));"container"==i&&"fit"!=l.type&&"fit-y"!=l.type&&fde(Pue("height"));if(Ule(l,{type:"pad"}))return;return l}(n,{width:r,height:i,autosize:e.autosize},t);return{...n,...o?{autosize:o}:{}}}const Bge=new class extends Wme{constructor(){super(...arguments),this.nonFacetUnitNormalizers=[qpe,Qpe,tme,new tge,new cge]}map(e,t){if(Spe(e)){const n=Mpe(e.encoding,Wle),r=Mpe(e.encoding,qle),i=Mpe(e.encoding,Hle);if(n||r||i)return this.mapFacetedUnit(e,t)}return super.map(e,t)}mapUnit(e,t){const{parentEncoding:n,parentProjection:r}=t,i=rge(e.encoding,t.repeater),o={...e,...e.name?{name:[t.repeaterPrefix,e.name].filter((e=>e)).join("_")}:{},...i?{encoding:i}:{}};if(n||r)return this.mapUnitWithParentEncodingOrProjection(o,t);const a=this.mapLayerOrUnit.bind(this);for(const l of this.nonFacetUnitNormalizers)if(l.hasMatchingType(o,t.config))return l.run(o,t,a);return o}mapRepeat(e,t){return function(e){return!kD(e.repeat)&&e.repeat.layer}(e)?this.mapLayerRepeat(e,t):this.mapNonLayerRepeat(e,t)}mapLayerRepeat(e,t){const{repeat:n,spec:r,...i}=e,{row:o,column:a,layer:l}=n,{repeater:s={},repeaterPrefix:c=""}=t;return o||a?this.mapRepeat({...e,repeat:{...o?{row:o}:{},...a?{column:a}:{}},spec:{repeat:{layer:l},spec:r}},t):{...i,layer:l.map((e=>{const n={...s,layer:e},i="".concat((r.name?"".concat(r.name,"_"):"")+c,"child__layer_").concat(wle(e)),o=this.mapLayerOrUnit(r,{...t,repeater:n,repeaterPrefix:i});return o.name=i,o}))}}mapNonLayerRepeat(e,t){var n;const{repeat:r,spec:i,data:o,...a}=e;!kD(r)&&e.columns&&(e=nle(e,["columns"]),fde(Kue("repeat")));const l=[],{repeater:s={},repeaterPrefix:c=""}=t,u=!kD(r)&&r.row||[s?s.row:null],d=!kD(r)&&r.column||[s?s.column:null],f=kD(r)&&r||[s?s.repeat:null];for(const p of f)for(const e of u)for(const n of d){const o={repeat:p,row:e,column:n,layer:s.layer},a=(i.name?"".concat(i.name,"_"):"")+c+"child__"+(kD(r)?"".concat(wle(p)):(r.row?"row_".concat(wle(e)):"")+(r.column?"column_".concat(wle(n)):"")),u=this.map(i,{...t,repeater:o,repeaterPrefix:a});u.name=a,l.push(nle(u,["data"]))}const h=kD(r)?e.columns:r.column?r.column.length:1;return{data:null!==(n=i.data)&&void 0!==n?n:o,align:"all",...a,columns:h,concat:l}}mapFacet(e,t){const{facet:n}=e;return She(n)&&e.columns&&(e=nle(e,["columns"]),fde(Kue("facet"))),super.mapFacet(e,t)}mapUnitWithParentEncodingOrProjection(e,t){const{encoding:n,projection:r}=e,{parentEncoding:i,parentProjection:o,config:a}=t,l=dge({parentProjection:o,projection:r}),s=uge({parentEncoding:i,encoding:rge(n,t.repeater)});return this.mapUnit({...e,...l?{projection:l}:{},...s?{encoding:s}:{}},{config:a})}mapFacetedUnit(e,t){const{row:n,column:r,facet:i,...o}=e.encoding,{mark:a,width:l,projection:s,height:c,view:u,params:d,encoding:f,...h}=e,{facetMapping:p,layout:m}=this.getFacetMappingAndLayout({row:n,column:r,facet:i},t),g=rge(o,t.repeater);return this.mapFacet({...h,...m,facet:p,spec:{...l?{width:l}:{},...c?{height:c}:{},...u?{view:u}:{},...s?{projection:s}:{},mark:a,encoding:g,...d?{params:d}:{}}},t)}getFacetMappingAndLayout(e,t){const{row:n,column:r,facet:i}=e;if(n||r){i&&fde((a=[...n?[Wle]:[],...r?[qle]:[]],"Facet encoding dropped as ".concat(a.join(" and ")," ").concat(a.length>1?"are":"is"," also specified.")));const t={},l={};for(const n of[Wle,qle]){const r=e[n];if(r){const{align:e,center:i,spacing:a,columns:s,...c}=r;t[n]=c;for(const t of["align","center","spacing"]){var o;if(void 0!==r[t])null!==(o=l[t])&&void 0!==o||(l[t]={}),l[t][n]=r[t]}}}return{facetMapping:t,layout:l}}{const{align:e,center:n,spacing:r,columns:o,...a}=i;return{facetMapping:nge(a,t.repeater),layout:{...e?{align:e}:{},...n?{center:n}:{},...r?{spacing:r}:{},...o?{columns:o}:{}}}}var a}mapLayer(e,t){let{parentEncoding:n,parentProjection:r,...i}=t;const{encoding:o,projection:a,...l}=e,s={...i,parentEncoding:uge({parentEncoding:n,encoding:o,layer:!0}),parentProjection:dge({parentProjection:r,projection:a})};return super.mapLayer({...l,...e.name?{name:[s.repeaterPrefix,e.name].filter((e=>e)).join("_")}:{}},s)}},jge=new class extends Wme{map(e,t){var n,r;return null!==(n=t.emptySelections)&&void 0!==n||(t.emptySelections={}),null!==(r=t.selectionPredicates)&&void 0!==r||(t.selectionPredicates={}),e=Nge(e,t),super.map(e,t)}mapLayerOrUnit(e,t){if((e=Nge(e,t)).encoding){const n={};for(const[r,i]of ble(e.encoding))n[r]=Rge(i,t);e={...e,encoding:n}}return super.mapLayerOrUnit(e,t)}mapUnit(e,t){const{selection:n,...r}=e;return n?{...r,params:ble(n).map((e=>{let[n,r]=e;const{init:i,bind:o,empty:a,...l}=r;"single"===l.type?(l.type="point",l.toggle=!1):"multi"===l.type&&(l.type="point"),t.emptySelections[n]="none"!==a;for(const c of yle(null!==(s=t.selectionPredicates[n])&&void 0!==s?s:{})){var s;c.empty="none"!==a}return{name:n,value:i,select:l,bind:o}}))}:e}},Uge=new Oge;function Kge(e){return xF(e)?{type:e}:null!==e&&void 0!==e?e:{}}const Wge=["background","padding"];function qge(e,t){const n={};for(const r of Wge)e&&void 0!==e[r]&&(n[r]=gue(e[r]));return t&&(n.params=e.params),n}class Hge{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.explicit=e,this.implicit=t}clone(){return new Hge(Jae(this.explicit),Jae(this.implicit))}combine(){return{...this.explicit,...this.implicit}}get(e){return Nle(this.explicit[e],this.implicit[e])}getWithExplicit(e){return void 0!==this.explicit[e]?{explicit:!0,value:this.explicit[e]}:void 0!==this.implicit[e]?{explicit:!1,value:this.implicit[e]}:{explicit:!1,value:void 0}}setWithExplicit(e,t){let{value:n,explicit:r}=t;void 0!==n&&this.set(e,n,r)}set(e,t,n){return delete this[n?"implicit":"explicit"][e],this[n?"explicit":"implicit"][e]=t,this}copyKeyFromSplit(e,t){let{explicit:n,implicit:r}=t;void 0!==n[e]?this.set(e,n[e],!0):void 0!==r[e]&&this.set(e,r[e],!1)}copyKeyFromObject(e,t){void 0!==t[e]&&this.set(e,t[e],!0)}copyAll(e){for(const t of vle(e.combine())){const n=e.getWithExplicit(t);this.setWithExplicit(t,n)}}}function Vge(e){return{explicit:!0,value:e}}function Gge(e){return{explicit:!1,value:e}}function Yge(e){return(t,n,r,i)=>{const o=e(t.value,n.value);return o>0?t:o<0?n:Qge(t,n,r,i)}}function Qge(e,t,n,r){return e.explicit&&t.explicit&&fde(function(e,t,n,r){return"Conflicting ".concat(t.toString(),' property "').concat(e.toString(),'" (').concat(Kle(n)," and ").concat(Kle(r),"). Using ").concat(Kle(n),".")}(n,r,e.value,t.value)),e}function Xge(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Qge;return void 0===e||void 0===e.value?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:Ule(e.value,t.value)?e:i(e,t,n,r)}class $ge extends Hge{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];super(e,t),this.explicit=e,this.implicit=t,this.parseNothing=n}clone(){const e=super.clone();return e.parseNothing=this.parseNothing,e}}function Zge(e){return"url"in e}function Jge(e){return"values"in e}function eve(e){return"name"in e&&!Zge(e)&&!Jge(e)&&!tve(e)}function tve(e){return e&&(nve(e)||rve(e)||ive(e))}function nve(e){return"sequence"in e}function rve(e){return"sphere"in e}function ive(e){return"graticule"in e}var ove;function ave(e){const{signals:t,hasLegend:n,index:r,...i}=e;return i.field=Tle(i.field),i}function lve(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dD;if(kD(e)){const r=e.map((e=>lve(e,t,n)));return t?"[".concat(r.join(", "),"]"):r}return hde(e)?n(t?bde(e):function(e){const t=yde(e,!0);return e.utc?+new Date(Date.UTC(...t)):+new Date(...t)}(e)):t?n(Kle(e)):e}function sve(e,t){for(const r of yle(null!==(n=e.component.selection)&&void 0!==n?n:{})){var n;const i=r.name;let o="".concat(i).concat(Rye,", ").concat("global"===r.resolve?"true":"{unit: ".concat(Iye(e),"}"));for(const n of Oye)n.defined(r)&&(n.signals&&(t=n.signals(e,r,t)),n.modifyExpr&&(o=n.modifyExpr(e,r,o)));t.push({name:i+zye,on:[{events:{signal:r.name+Rye},update:"modify(".concat(AF(r.name+Nye),", ").concat(o,")")}]})}return dve(t)}function cve(e,t){if(e.component.selection&&vle(e.component.selection).length){const n=AF(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:mne("pointermove","scope"),update:"isTuple(facet) ? facet : group(".concat(n,").datum")}]})}return dve(t)}function uve(e,t){for(const r of yle(null!==(n=e.component.selection)&&void 0!==n?n:{})){var n;for(const n of Oye)n.defined(r)&&n.marks&&(t=n.marks(e,r,t))}return t}function dve(e){return e.map((e=>(e.on&&!e.on.length&&delete e.on,e)))}!function(e){e[e.Raw=0]="Raw",e[e.Main=1]="Main",e[e.Row=2]="Row",e[e.Column=3]="Column",e[e.Lookup=4]="Lookup"}(ove||(ove={}));class fve{constructor(e,t){this.debugName=t,this._children=[],this._parent=null,e&&(this.parent=e)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(e){this._parent=e,e&&e.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(e,t){this._children.includes(e)?fde("Attempt to add the same child twice."):void 0!==t?this._children.splice(t,0,e):this._children.push(e)}removeChild(e){const t=this._children.indexOf(e);return this._children.splice(t,1),t}remove(){let e=this._parent.removeChild(this);for(const t of this._children)t._parent=this._parent,this._parent.addChild(t,e++)}insertAsParentOf(e){const t=e.parent;t.removeChild(this),this.parent=t,e.parent=this}swapWithParent(){const e=this._parent,t=e.parent;for(const r of this._children)r.parent=e;this._children=[],e.removeChild(this);const n=e.parent.removeChild(e);this._parent=t,t.addChild(this,n),e.parent=this}}class hve extends fve{clone(){const e=new this.constructor;return e.debugName="clone_".concat(this.debugName),e._source=this._source,e._name="clone_".concat(this._name),e.type=this.type,e.refCounts=this.refCounts,e.refCounts[e._name]=0,e}constructor(e,t,n,r){super(e,t),this.type=n,this.refCounts=r,this._source=this._name=t,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){return void 0===this._hash&&(this._hash="Output ".concat(zle())),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(e){this._source=e}}function pve(e){return void 0!==e.as}function mve(e){return"".concat(e,"_end")}class gve extends fve{clone(){return new gve(null,Jae(this.timeUnits))}constructor(e,t){super(e),this.timeUnits=t}static makeFromEncoding(e,t){const n=t.reduceFieldDef(((e,n,r)=>{const{field:i,timeUnit:o}=n;if(o){let a;if(_de(o)){if(_we(t)){const{mark:e,markDef:r,config:l}=t,s=Dhe({fieldDef:n,markDef:r,config:l});(qfe(e)||s)&&(a={timeUnit:Fde(o),field:i})}}else a={as:$he(n,{forAs:!0}),field:i,timeUnit:o};if(_we(t)){const{mark:e,markDef:i,config:o}=t,l=Dhe({fieldDef:n,markDef:i,config:o});qfe(e)&&xce(r)&&.5!==l&&(a.rectBandPosition=l)}a&&(e[rle(a)]=a)}return e}),{});return gle(n)?null:new gve(e,n)}static makeFromTransform(e,t){const{timeUnit:n,...r}={...t},i={...r,timeUnit:Fde(n)};return new gve(e,{[rle(i)]:i})}merge(e){this.timeUnits={...this.timeUnits};for(const t in e.timeUnits)this.timeUnits[t]||(this.timeUnits[t]=e.timeUnits[t]);for(const t of e.children)e.removeChild(t),t.parent=this;e.remove()}removeFormulas(e){const t={};for(const[n,r]of ble(this.timeUnits)){const i=pve(r)?r.as:"".concat(r.field,"_end");e.has(i)||(t[n]=r)}this.timeUnits=t}producedFields(){return new Set(yle(this.timeUnits).map((e=>pve(e)?e.as:mve(e.field))))}dependentFields(){return new Set(yle(this.timeUnits).map((e=>e.field)))}hash(){return"TimeUnit ".concat(rle(this.timeUnits))}assemble(){const e=[];for(const t of yle(this.timeUnits)){const{rectBandPosition:n}=t,r=Fde(t.timeUnit);if(pve(t)){const{field:i,as:o}=t,{unit:a,utc:l,...s}=r,c=[o,"".concat(o,"_end")];e.push({field:Tle(i),type:"timeunit",...a?{units:Cde(a)}:{},...l?{timezone:"utc"}:{},...s,as:c}),e.push(...xve(c,n,r))}else if(t){const{field:i}=t,o=i.replaceAll("\\.","."),a=bve({timeUnit:r,field:o}),l=mve(o);e.push({type:"formula",expr:a,as:l}),e.push(...xve([o,l],n,r))}}return e}}const vve="offsetted_rect_start",yve="offsetted_rect_end";function bve(e){let{timeUnit:t,field:n,reverse:r}=e;const{unit:i,utc:o}=t,a=Mde(i),{part:l,step:s}=zde(a,t.step);return"".concat(o?"utcOffset":"timeOffset","('").concat(l,"', datum['").concat(n,"'], ").concat(r?-s:s,")")}function xve(e,t,n){let[r,i]=e;if(void 0!==t&&.5!==t){const e="datum['".concat(r,"']"),o="datum['".concat(i,"']");return[{type:"formula",expr:wve([bve({timeUnit:n,field:r,reverse:!0}),e],t+.5),as:"".concat(r,"_").concat(vve)},{type:"formula",expr:wve([e,o],t+.5),as:"".concat(r,"_").concat(yve)}]}return[]}function wve(e,t){let[n,r]=e;return"".concat(1-t," * ").concat(n," + ").concat(t," * ").concat(r)}const _ve="_tuple_fields";class kve{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.items=t,this.hasChannel={},this.hasField={},this.hasSelectionId=!1}}const Eve={defined:()=>!0,parse:(e,t,n)=>{var r;const i=t.name,o=null!==(r=t.project)&&void 0!==r?r:t.project=new kve,a={},l={},s=new Set,c=(e,t)=>{const n="visual"===t?e.channel:e.field;let r=wle("".concat(i,"_").concat(n));for(let o=1;s.has(r);o++)r=wle("".concat(i,"_").concat(n,"_").concat(o));return s.add(r),{[t]:r}},u=t.type,d=e.config.selection[u],f=void 0!==n.value?YD(n.value):null;let{fields:h,encodings:p}=ED(n.select)?n.select:{};if(!h&&!p&&f)for(const y of f)if(ED(y))for(const e of vle(y)){var m;if(qse[e])(p||(p=[])).push(e);else if("interval"===u)fde('Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.'),p=d.encodings;else(null!==(m=h)&&void 0!==m?m:h=[]).push(e)}h||p||(p=d.encodings,"fields"in d&&(h=d.fields));for(const y of null!==(g=p)&&void 0!==g?g:[]){var g;const t=e.fieldDef(y);if(t){let n=t.field;if(t.aggregate){fde(Bue(y,t.aggregate));continue}if(!n){fde(Lue(y));continue}if(t.timeUnit&&!_de(t.timeUnit)){n=e.vgField(y);const r={timeUnit:t.timeUnit,as:n,field:t.field};l[rle(r)]=r}if(!a[n]){const r={field:n,channel:y,type:"interval"===u&&Lce(y)&&hfe(e.getScaleComponent(y).get("type"))?"R":t.bin?"R-RE":"E",index:o.items.length};r.signals={...c(r,"data"),...c(r,"visual")},o.items.push(a[n]=r),o.hasField[n]=a[n],o.hasSelectionId=o.hasSelectionId||n===hme,Ase(y)?(r.geoChannel=y,r.channel=Tse(y),o.hasChannel[r.channel]=a[n]):o.hasChannel[y]=a[n]}}else fde(Lue(y))}for(const y of null!==(v=h)&&void 0!==v?v:[]){var v;if(o.hasField[y])continue;const e={type:"E",field:y,index:o.items.length};e.signals={...c(e,"data")},o.items.push(e),o.hasField[y]=e,o.hasSelectionId=o.hasSelectionId||y===hme}f&&(t.init=f.map((e=>o.items.map((t=>ED(e)?void 0!==e[t.geoChannel||t.channel]?e[t.geoChannel||t.channel]:e[t.field]:e))))),gle(l)||(o.timeUnit=new gve(null,l))},signals:(e,t,n)=>{const r=t.name+_ve,i=n.filter((e=>e.name===r));return i.length>0||t.project.hasSelectionId?n:n.concat({name:r,value:t.project.items.map(ave)})}},Sve=Eve,Cve={defined:e=>"interval"===e.type&&"global"===e.resolve&&e.bind&&"scales"===e.bind,parse:(e,t)=>{const n=t.scales=[];for(const r of t.project.items){const i=r.channel;if(!Lce(i))continue;const o=e.getScaleComponent(i),a=o?o.get("type"):void 0;o&&hfe(a)?(o.set("selectionExtent",{param:t.name,field:r.field},!0),n.push(r)):fde("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}},topLevelSignals:(e,t,n)=>{const r=t.scales.filter((e=>0===n.filter((t=>t.name===e.signals.data)).length));if(!e.parent||Ave(e)||0===r.length)return n;const i=n.filter((e=>e.name===t.name))[0];let o=i.update;if(o.indexOf(Pye)>=0)i.update="{".concat(r.map((e=>"".concat(AF(Tle(e.field)),": ").concat(e.signals.data))).join(", "),"}");else{for(const e of r){const t="".concat(AF(Tle(e.field)),": ").concat(e.signals.data);o.includes(t)||(o="".concat(o.substring(0,o.length-1),", ").concat(t,"}"))}i.update=o}return n.concat(r.map((e=>({name:e.signals.data}))))},signals:(e,t,n)=>{if(e.parent&&!Ave(e))for(const r of t.scales){const e=n.filter((e=>e.name===r.signals.data))[0];e.push="outer",delete e.value,delete e.update}return n}},Mve=Cve;function Tve(e,t){const n=AF(e.scaleName(t));return"domain(".concat(n,")")}function Ave(e){var t;return e.parent&&Swe(e.parent)&&(null!==(t=!e.parent.parent)&&void 0!==t?t:Ave(e.parent.parent))}const Dve="_brush",Fve="_scale_trigger",Nve="geo_interval_init_tick",Rve="_init",zve={defined:e=>"interval"===e.type,parse:(e,t,n)=>{var r;if(e.hasProjection){const e={...ED(n.select)?n.select:{}};e.fields=[hme],e.encodings||(e.encodings=n.value?vle(n.value):[rse,nse]),n.select={type:"interval",...e}}if(t.translate&&!Mve.defined(t)){const e="!event.item || event.item.mark.name !== ".concat(AF(t.name+Dve));for(const n of t.events){var i;if(!n.between){fde("".concat(n," is not an ordered event stream for interval selections."));continue}const t=YD(null!==(i=(r=n.between[0]).filter)&&void 0!==i?i:r.filter=[]);t.indexOf(e)<0&&t.push(e)}}},signals:(e,t,n)=>{const r=t.name,i=r+Rye,o=yle(t.project.hasChannel).filter((e=>e.channel===Vle||e.channel===Gle)),a=t.init?t.init[0]:null;if(n.push(...o.reduce(((n,r)=>n.concat(function(e,t,n,r){const i=!e.hasProjection,o=n.channel,a=n.signals.visual,l=AF(i?e.scaleName(o):e.projectionName()),s=e=>"scale(".concat(l,", ").concat(e,")"),c=e.getSizeSignalRef(o===Vle?"width":"height").signal,u="".concat(o,"(unit)"),d=t.events.reduce(((e,t)=>[...e,{events:t.between[0],update:"[".concat(u,", ").concat(u,"]")},{events:t,update:"[".concat(a,"[0], clamp(").concat(u,", 0, ").concat(c,")]")}]),[]);if(i){const i=n.signals.data,c=Mve.defined(t),u=e.getScaleComponent(o),f=u?u.get("type"):void 0,h=r?{init:lve(r,!0,s)}:{value:[]};return d.push({events:{signal:t.name+Fve},update:hfe(f)?"[".concat(s("".concat(i,"[0]")),", ").concat(s("".concat(i,"[1]")),"]"):"[0, 0]"}),c?[{name:i,on:[]}]:[{name:a,...h,on:d},{name:i,...r?{init:lve(r)}:{},on:[{events:{signal:a},update:"".concat(a,"[0] === ").concat(a,"[1] ? null : invert(").concat(l,", ").concat(a,")")}]}]}{const e=o===Vle?0:1,n=t.name+Rve,i=r?{init:"[".concat(n,"[0][").concat(e,"], ").concat(n,"[1][").concat(e,"]]")}:{value:[]};return[{name:a,...i,on:d}]}}(e,t,r,a&&a[r.index]))),[])),e.hasProjection){const l=AF(e.projectionName()),s=e.projectionName()+"_center",{x:c,y:u}=t.project.hasChannel,d=c&&c.signals.visual,f=u&&u.signals.visual,h=c?a&&a[c.index]:"".concat(s,"[0]"),p=u?a&&a[u.index]:"".concat(s,"[1]"),m=t=>e.getSizeSignalRef(t).signal,g="["+"[".concat(d?d+"[0]":"0",", ").concat(f?f+"[0]":"0","],")+"[".concat(d?d+"[1]":m("width"),", ")+"".concat(f?f+"[1]":m("height"),"]")+"]";if(a&&(n.unshift({name:r+Rve,init:"[scale(".concat(l,", [").concat(c?h[0]:h,", ").concat(u?p[0]:p,"]), ")+"scale(".concat(l,", [").concat(c?h[1]:h,", ").concat(u?p[1]:p,"])]")}),!c||!u)){const e=n.find((e=>e.name===s));e||n.unshift({name:s,update:"invert(".concat(l,", [").concat(m("width"),"/2, ").concat(m("height"),"/2])")})}const v="intersect(".concat(g,", {markname: ").concat(AF(e.getName("marks")),"}, unit.mark)"),y="{unit: ".concat(Iye(e),"}"),b="vlSelectionTuples(".concat(v,", ").concat(y,")"),x=o.map((e=>e.signals.visual));return n.concat({name:i,on:[{events:[...x.length?[{signal:x.join(" || ")}]:[],...a?[{signal:Nve}]:[]],update:b}]})}{if(!Mve.defined(t)){const t=r+Fve,i=o.map((t=>{const n=t.channel,{data:r,visual:i}=t.signals,o=AF(e.scaleName(n)),a=hfe(e.getScaleComponent(n).get("type"))?"+":"";return"(!isArray(".concat(r,") || ")+"(".concat(a,"invert(").concat(o,", ").concat(i,")[0] === ").concat(a).concat(r,"[0] && ")+"".concat(a,"invert(").concat(o,", ").concat(i,")[1] === ").concat(a).concat(r,"[1]))")}));i.length&&n.push({name:t,value:{},on:[{events:o.map((t=>({scale:e.scaleName(t.channel)}))),update:i.join(" && ")+" ? ".concat(t," : {}")}]})}const l=o.map((e=>e.signals.data)),s="unit: ".concat(Iye(e),", fields: ").concat(r+_ve,", values");return n.concat({name:i,...a?{init:"{".concat(s,": ").concat(lve(a),"}")}:{},...l.length?{on:[{events:[{signal:l.join(" || ")}],update:"".concat(l.join(" && ")," ? {").concat(s,": [").concat(l,"]} : null")}]}:{}})}},topLevelSignals:(e,t,n)=>{if(_we(e)&&e.hasProjection&&t.init){const e=n.filter((e=>e.name===Nve));e.length||n.unshift({name:Nve,value:null,on:[{events:"timer{1}",update:"".concat(Nve," === null ? {} : ").concat(Nve)}]})}return n},marks:(e,t,n)=>{const r=t.name,{x:i,y:o}=t.project.hasChannel,a=null===i||void 0===i?void 0:i.signals.visual,l=null===o||void 0===o?void 0:o.signals.visual,s="data(".concat(AF(t.name+Nye),")");if(Mve.defined(t)||!i&&!o)return n;const c={x:void 0!==i?{signal:"".concat(a,"[0]")}:{value:0},y:void 0!==o?{signal:"".concat(l,"[0]")}:{value:0},x2:void 0!==i?{signal:"".concat(a,"[1]")}:{field:{group:"width"}},y2:void 0!==o?{signal:"".concat(l,"[1]")}:{field:{group:"height"}}};if("global"===t.resolve)for(const m of vle(c))c[m]=[{test:"".concat(s,".length && ").concat(s,"[0].unit === ").concat(Iye(e)),...c[m]},{value:0}];const{fill:u,fillOpacity:d,cursor:f,...h}=t.mark,p=vle(h).reduce(((e,t)=>(e[t]=[{test:[void 0!==i&&"".concat(a,"[0] !== ").concat(a,"[1]"),void 0!==o&&"".concat(l,"[0] !== ").concat(l,"[1]")].filter((e=>e)).join(" && "),value:h[t]},{value:null}],e)),{});return[{name:"".concat(r+Dve,"_bg"),type:"rect",clip:!0,encode:{enter:{fill:{value:u},fillOpacity:{value:d}},update:c}},...n,{name:r+Dve,type:"rect",clip:!0,encode:{enter:{...f?{cursor:{value:f}}:{},fill:{value:"transparent"}},update:{...c,...p}}}]}},Pve=zve;const Ove={defined:e=>"point"===e.type,signals:(e,t,n)=>{var r;const i=t.name,o=i+_ve,a=t.project,l="(item().isVoronoi ? datum.datum : datum)",s=yle(null!==(r=e.component.selection)&&void 0!==r?r:{}).reduce(((e,t)=>"interval"===t.type?e.concat(t.name+Dve):e),[]).map((e=>"indexof(item().mark.name, '".concat(e,"') < 0"))).join(" && "),c="datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0".concat(s?" && ".concat(s):"");let u="unit: ".concat(Iye(e),", ");if(t.project.hasSelectionId)u+="".concat(hme,": ").concat(l,"[").concat(AF(hme),"]");else{const t=a.items.map((t=>{const n=e.fieldDef(t.channel);return null!==n&&void 0!==n&&n.bin?"[".concat(l,"[").concat(AF(e.vgField(t.channel,{})),"], ")+"".concat(l,"[").concat(AF(e.vgField(t.channel,{binSuffix:"end"})),"]]"):"".concat(l,"[").concat(AF(t.field),"]")})).join(", ");u+="fields: ".concat(o,", values: [").concat(t,"]")}const d=t.events;return n.concat([{name:i+Rye,on:d?[{events:d,update:"".concat(c," ? {").concat(u,"} : null"),force:!0}]:[]}])}},Ive=Ove;function Lve(e,t,n,r){const i=zhe(t)&&t.condition,o=r(t);if(i){const t=YD(i).map((t=>{const n=r(t);if(function(e){return e.param}(t)){const{param:r,empty:i}=t;return{test:qye(e,{param:r,empty:i}),...n}}return{test:Vye(e,t.test),...n}}));return{[n]:[...t,...void 0!==o?[o]:[]]}}return void 0!==o?{[n]:o}:{}}function Bve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";const n=e.encoding[t];return Lve(e,n,t,(t=>jve(t,e.config)))}function jve(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"datum";if(e){if(Hhe(e))return yue(e.value);if(Whe(e)){const{format:r,formatType:i}=ope(e);return uhe({fieldOrDatumDef:e,format:r,formatType:i,expr:n,config:t})}}}function Uve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{encoding:n,markDef:r,config:i,stack:o}=e,a=n.tooltip;if(kD(a))return{tooltip:Wve({tooltip:a},o,i,t)};{const l=t.reactiveGeom?"datum.datum":"datum";return Lve(e,a,"tooltip",(e=>{const a=jve(e,i,l);if(a)return a;if(null===e)return;let s=Eue("tooltip",r,i);return!0===s&&(s={content:"encoding"}),xF(s)?{value:s}:ED(s)?cue(s)?s:"encoding"===s.content?Wve(n,o,i,t):{signal:l}:void 0}))}}function Kve(e,t,n){let{reactiveGeom:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i={...n,...n.tooltipFormat},o={},a=r?"datum.datum":"datum",l=[];function s(n,r){var s;const c=Yse(r),u=qhe(n)?n:{...n,type:e[c].type},d=YD(u.title||ipe(u,i)).join(", ").replaceAll(/"/g,'\\"');let f;if(xce(r)){const t="x"===r?"x2":"y2",n=ape(e[t]);if(tue(u.bin)&&n){const e=$he(u,{expr:a}),r=$he(n,{expr:a}),{format:l,formatType:s}=ope(u);f=yhe(e,r,l,s,i),o[t]=!0}}if((xce(r)||r===ese||r===Zle)&&t&&t.fieldChannel===r&&"normalize"===t.offset){const{format:e,formatType:t}=ope(u);f=uhe({fieldOrDatumDef:u,format:e,formatType:t,expr:a,config:i,normalizeStack:!0}).signal}null!==(s=f)&&void 0!==s||(f=jve(u,i,a).signal),l.push({channel:r,key:d,value:f})}zpe(e,((e,t)=>{Ihe(e)?s(e,t):Phe(e)&&s(e.condition,t)}));const c={};for(const{channel:u,key:d,value:f}of l)o[u]||c[d]||(c[d]=f);return c}function Wve(e,t,n){let{reactiveGeom:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=Kve(e,t,n,{reactiveGeom:r}),o=ble(i).map((e=>{let[t,n]=e;return'"'.concat(t,'": ').concat(n)}));return o.length>0?{signal:"{".concat(o.join(", "),"}")}:void 0}function qve(e){const{markDef:t,config:n}=e,r=Eue("aria",t,n);return!1===r?{}:{...r?{aria:r}:{},...Hve(e),...Vve(e)}}function Hve(e){const{mark:t,markDef:n,config:r}=e;if(!1===r.aria)return{};const i=Eue("ariaRoleDescription",n,r);return null!=i?{ariaRoleDescription:{value:i}}:t in hue?{}:{ariaRoleDescription:{value:t}}}function Vve(e){const{encoding:t,markDef:n,config:r,stack:i}=e,o=t.description;if(o)return Lve(e,o,"description",(t=>jve(t,e.config)));const a=Eue("description",n,r);if(null!=a)return{description:yue(a)};if(!1===r.aria)return{};const l=Kve(t,i,r);return gle(l)?void 0:{description:{signal:ble(l).map(((e,t)=>{let[n,r]=e;return'"'.concat(t>0?"; ":"").concat(n,': " + (').concat(r,")")})).join(" + ")}}}function Gve(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{markDef:r,encoding:i,config:o}=t,{vgChannel:a}=n;let{defaultRef:l,defaultValue:s}=n;var c;void 0===l&&(null!==(c=s)&&void 0!==c||(s=Eue(e,r,o,{vgChannel:a,ignoreVgConfig:!0})),void 0!==s&&(l=yue(s)));const u=i[e];return Lve(t,u,null!==a&&void 0!==a?a:e,(n=>ohe({channel:e,channelDef:n,markDef:r,config:o,scaleName:t.scaleName(e),scale:t.getScaleComponent(e),stack:null,defaultRef:l})))}function Yve(e){var t,n,r,i;let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{filled:void 0};const{markDef:a,encoding:l,config:s}=e,{type:c}=a,u=null!==(t=o.filled)&&void 0!==t?t:Eue("filled",a,s),d=ole(["bar","point","circle","square","geoshape"],c)?"transparent":void 0,f=null!==(n=null!==(r=Eue(!0===u?"color":void 0,a,s,{vgChannel:"fill"}))&&void 0!==r?r:s.mark[!0===u&&"color"])&&void 0!==n?n:d,h=null!==(i=Eue(!1===u?"color":void 0,a,s,{vgChannel:"stroke"}))&&void 0!==i?i:s.mark[!1===u&&"color"],p=u?"fill":"stroke",m={...f?{fill:yue(f)}:{},...h?{stroke:yue(h)}:{}};return a.color&&(u?a.fill:a.stroke)&&fde(Yue("property",{fill:"fill"in a,stroke:"stroke"in a})),{...m,...Gve("color",e,{vgChannel:p,defaultValue:u?f:h}),...Gve("fill",e,{defaultValue:l.fill?f:void 0}),...Gve("stroke",e,{defaultValue:l.stroke?h:void 0})}}function Qve(e){const{encoding:t,mark:n}=e,r=t.order;return!Wfe(n)&&Hhe(r)?Lve(e,r,"zindex",(e=>yue(e.value))):{}}function Xve(e){let{channel:t,markDef:n,encoding:r={},model:i,bandPosition:o}=e;const a="".concat(t,"Offset"),l=n[a],s=r[a];if(("xOffset"===a||"yOffset"===a)&&s){return{offsetType:"encoding",offset:ohe({channel:a,channelDef:s,markDef:n,config:null===i||void 0===i?void 0:i.config,scaleName:i.scaleName(a),scale:i.getScaleComponent(a),stack:null,defaultRef:yue(l),bandPosition:o})}}const c=n[a];return c?{offsetType:"visual",offset:c}:{}}function $ve(e,t,n){let{defaultPos:r,vgChannel:i}=n;const{encoding:o,markDef:a,config:l,stack:s}=t,c=o[e],u=o[Xse(e)],d=t.scaleName(e),f=t.getScaleComponent(e),{offset:h,offsetType:p}=Xve({channel:e,markDef:a,encoding:o,model:t,bandPosition:.5}),m=Zve({model:t,defaultPos:r,channel:e,scaleName:d,scale:f}),g=!c&&xce(e)&&(o.latitude||o.longitude)?{field:t.getName(e)}:function(e){const{channel:t,channelDef:n,scaleName:r,stack:i,offset:o,markDef:a}=e;if(Whe(n)&&i&&t===i.fieldChannel){if(Ihe(n)){let e=n.bandPosition;if(void 0!==e||"text"!==a.type||"radius"!==t&&"theta"!==t||(e=.5),void 0!==e)return ihe({scaleName:r,fieldOrDatumDef:n,startSuffix:"start",bandPosition:e,offset:o})}return rhe(n,r,{suffix:"end"},{offset:o})}return ehe(e)}({channel:e,channelDef:c,channel2Def:u,markDef:a,config:l,scaleName:d,scale:f,stack:s,offset:h,defaultRef:m,bandPosition:"encoding"===p?0:void 0});return g?{[i||e]:g}:void 0}function Zve(e){let{model:t,defaultPos:n,channel:r,scaleName:i,scale:o}=e;const{markDef:a,config:l}=t;return()=>{const e=Yse(r),s=Qse(r),c=Eue(r,a,l,{vgChannel:s});if(void 0!==c)return ahe(r,c);switch(n){case"zeroOrMin":case"zeroOrMax":if(i){const e=o.get("type");if(ole([tfe.LOG,tfe.TIME,tfe.UTC],e));else if(o.domainDefinitelyIncludesZero())return{scale:i,value:0}}if("zeroOrMin"===n)return"y"===e?{field:{group:"height"}}:{value:0};switch(e){case"radius":return{signal:"min(".concat(t.width.signal,",").concat(t.height.signal,")/2")};case"theta":return{signal:"2*PI"};case"x":return{field:{group:"width"}};case"y":return{value:0}}break;case"mid":return{...t[$se(r)],mult:.5}}}}const Jve={left:"x",center:"xc",right:"x2"},eye={top:"y",middle:"yc",bottom:"y2"};function tye(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle";if("radius"===e||"theta"===e)return Qse(e);const i="x"===e?"align":"baseline",o=Eue(i,t,n);let a;return cue(o)?(fde(function(e){return"The ".concat(e," for range marks cannot be an expression")}(i)),a=void 0):a=o,"x"===e?Jve[a||("top"===r?"left":"center")]:eye[a||r]}function nye(e,t,n){let{defaultPos:r,defaultPos2:i,range:o}=n;return o?rye(e,t,{defaultPos:r,defaultPos2:i}):$ve(e,t,{defaultPos:r})}function rye(e,t,n){let{defaultPos:r,defaultPos2:i}=n;const{markDef:o,config:a}=t,l=Xse(e),s=$se(e),c=function(e,t,n){const{encoding:r,mark:i,markDef:o,stack:a,config:l}=e,s=Yse(n),c=$se(n),u=Qse(n),d=r[s],f=e.scaleName(s),h=e.getScaleComponent(s),{offset:p}=Xve(n in r||n in o?{channel:n,markDef:o,encoding:r,model:e}:{channel:s,markDef:o,encoding:r,model:e});if(!d&&("x2"===n||"y2"===n)&&(r.latitude||r.longitude)){const t=$se(n),r=e.markDef[t];return null!=r?{[t]:{value:r}}:{[u]:{field:e.getName(n)}}}const m=function(e){let{channel:t,channelDef:n,channel2Def:r,markDef:i,config:o,scaleName:a,scale:l,stack:s,offset:c,defaultRef:u}=e;if(Whe(n)&&s&&t.charAt(0)===s.fieldChannel.charAt(0))return rhe(n,a,{suffix:"start"},{offset:c});return ehe({channel:t,channelDef:r,scaleName:a,scale:l,stack:s,markDef:i,config:o,offset:c,defaultRef:u})}({channel:n,channelDef:d,channel2Def:r[n],markDef:o,config:l,scaleName:f,scale:h,stack:a,offset:p,defaultRef:void 0});if(void 0!==m)return{[u]:m};return iye(n,o)||iye(n,{[n]:Cue(n,o,l.style),[c]:Cue(c,o,l.style)})||iye(n,l[i])||iye(n,l.mark)||{[u]:Zve({model:e,defaultPos:t,channel:n,scaleName:f,scale:h})()}}(t,i,l);return{...$ve(e,t,{defaultPos:r,vgChannel:c[s]?tye(e,o,a):Qse(e)}),...c}}function iye(e,t){const n=$se(e),r=Qse(e);if(void 0!==t[r])return{[r]:ahe(e,t[r])};if(void 0!==t[e])return{[r]:ahe(e,t[e])};if(t[n]){const r=t[n];if(!Xfe(r))return{[n]:ahe(e,r)};fde(function(e){return"Position range does not support relative band size for ".concat(e,".")}(n))}}function oye(e,t){var n,r;const{config:i,encoding:o,markDef:a}=e,l=a.type,s=Xse(t),c=$se(t),u=o[t],d=o[s],f=e.getScaleComponent(t),h=f?f.get("type"):void 0,p=a.orient,m=null!==(n=null!==(r=o[c])&&void 0!==r?r:o.size)&&void 0!==n?n:Eue("size",a,i,{vgChannel:c}),g=Zse(t),v="bar"===l&&("x"===t?"vertical"===p:"horizontal"===p);return!Ihe(u)||!(eue(u.bin)||tue(u.bin)||u.timeUnit&&!d)||m&&!Xfe(m)||o[g]||ffe(h)?(Whe(u)&&ffe(h)||v)&&!d?function(e,t,n){var r,i;const{markDef:o,encoding:a,config:l,stack:s}=n,c=o.orient,u=n.scaleName(t),d=n.getScaleComponent(t),f=$se(t),h=Xse(t),p=Zse(t),m=n.scaleName(p),g=n.getScaleComponent(Jse(t)),v="horizontal"===c&&"y"===t||"vertical"===c&&"x"===t;let y;(a.size||o.size)&&(v?y=Gve("size",n,{vgChannel:f,defaultRef:yue(o.size)}):fde(function(e){return'Cannot apply size to non-oriented mark "'.concat(e,'".')}(o.type)));const b=!!y,x=Fhe({channel:t,fieldDef:e,markDef:o,config:l,scaleType:null===(r=d||g)||void 0===r?void 0:r.get("type"),useVlSizeChannel:v});y=y||{[f]:aye(f,m||u,g||d,l,x,!!e,o.type)};const w="band"===(null===(i=d||g)||void 0===i?void 0:i.get("type"))&&Xfe(x)&&!b?"top":"middle",_=tye(t,o,l,w),k="xc"===_||"yc"===_,{offset:E,offsetType:S}=Xve({channel:t,markDef:o,encoding:a,model:n,bandPosition:k?.5:0}),C=ehe({channel:t,channelDef:e,markDef:o,config:l,scaleName:u,scale:d,stack:s,offset:E,defaultRef:Zve({model:n,defaultPos:"mid",channel:t,scaleName:u,scale:d}),bandPosition:k?"encoding"===S?0:.5:cue(x)?{signal:"(1-".concat(x,")/2")}:Xfe(x)?(1-x.band)/2:0});if(f)return{[_]:C,...y};{const e=Qse(h),t=y[f],n=E?{...t,offset:E}:t;return{[_]:C,[e]:kD(C)?[C[0],{...C[1],offset:n}]:{...C,offset:n}}}}(u,t,e):rye(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"}):function(e){var t,n,r;let{fieldDef:i,fieldDef2:o,channel:a,model:l}=e;const{config:s,markDef:c,encoding:u}=l,d=l.getScaleComponent(a),f=l.scaleName(a),h=d?d.get("type"):void 0,p=d.get("reverse"),m=Fhe({channel:a,fieldDef:i,markDef:c,config:s,scaleType:h}),g=null===(t=l.component.axes[a])||void 0===t?void 0:t[0],v=null!==(n=null===g||void 0===g?void 0:g.get("translate"))&&void 0!==n?n:.5,y=xce(a)&&null!==(r=Eue("binSpacing",c,s))&&void 0!==r?r:0,b=Xse(a),x=Qse(a),w=Qse(b),_=Sue("minBandSize",c,s),{offset:k}=Xve({channel:a,markDef:c,encoding:u,model:l,bandPosition:0}),{offset:E}=Xve({channel:b,markDef:c,encoding:u,model:l,bandPosition:0}),S=function(e){let{scaleName:t,fieldDef:n}=e;const r=$he(n,{expr:"datum"}),i=$he(n,{expr:"datum",suffix:"end"});return'abs(scale("'.concat(t,'", ').concat(i,') - scale("').concat(t,'", ').concat(r,"))")}({fieldDef:i,scaleName:f}),C=lye(a,y,p,v,k,_,S),M=lye(b,y,p,v,null!==E&&void 0!==E?E:k,_,S),T=cue(m)?{signal:"(1-".concat(m.signal,")/2")}:Xfe(m)?(1-m.band)/2:.5,A=Dhe({fieldDef:i,fieldDef2:o,markDef:c,config:s});if(eue(i.bin)||i.timeUnit){const e=i.timeUnit&&.5!==A;return{[w]:sye({fieldDef:i,scaleName:f,bandPosition:T,offset:M,useRectOffsetField:e}),[x]:sye({fieldDef:i,scaleName:f,bandPosition:cue(T)?{signal:"1-".concat(T.signal)}:1-T,offset:C,useRectOffsetField:e})}}if(tue(i.bin)){const e=rhe(i,f,{},{offset:M});if(Ihe(o))return{[w]:e,[x]:rhe(o,f,{},{offset:C})};if(nue(i.bin)&&i.bin.step)return{[w]:e,[x]:{signal:'scale("'.concat(f,'", ').concat($he(i,{expr:"datum"})," + ").concat(i.bin.step,")"),offset:C}}}return void fde(sde(b))}({fieldDef:u,fieldDef2:d,channel:t,model:e})}function aye(e,t,n,r,i,o,a){if(Xfe(i)){if(!n)return{mult:i.band,field:{group:e}};{const e=n.get("type");if("band"===e){let e="bandwidth('".concat(t,"')");1!==i.band&&(e="".concat(i.band," * ").concat(e));const n=Sue("minBandSize",{type:a},r);return{signal:n?"max(".concat(wue(n),", ").concat(e,")"):e}}1!==i.band&&(fde(function(e){return"Cannot use the relative band size with ".concat(e," scale.")}(e)),i=void 0)}}else{if(cue(i))return i;if(i)return{value:i}}if(n){const e=n.get("range");if(uue(e)&&yF(e.step))return{value:e.step-2}}if(!o){const{bandPaddingInner:t,barBandPaddingInner:n,rectBandPaddingInner:i}=r.scale,o=Nle(t,"bar"===a?n:i);if(cue(o))return{signal:"(1 - (".concat(o.signal,")) * ").concat(e)};if(yF(o))return{signal:"".concat(1-o," * ").concat(e)}}return{value:Mme(r.view,e)-2}}function lye(e,t,n,r,i,o,a){if(Cse(e))return 0;const l="x"===e||"y2"===e,s=l?-t/2:t/2;if(cue(n)||cue(i)||cue(r)||o){const e=wue(n),t=wue(i),c=wue(r),u=wue(o),d=l?"":"-",f=o?"(".concat(a," < ").concat(u," ? ").concat(d,"0.5 * (").concat(u," - (").concat(a,")) : ").concat(s,")"):s;return{signal:(c?"".concat(c," + "):"")+(e?"(".concat(e," ? -1 : 1) * "):"")+(t?"(".concat(t," + ").concat(f,")"):f)}}return i=i||0,r+(n?-i-s:+i+s)}function sye(e){let{fieldDef:t,scaleName:n,bandPosition:r,offset:i,useRectOffsetField:o}=e;return ihe({scaleName:n,fieldOrDatumDef:t,bandPosition:r,offset:i,...o?{startSuffix:vve,endSuffix:yve}:{}})}const cye=new Set(["aria","width","height"]);function uye(e,t){const{fill:n,stroke:r}="include"===t.color?Yve(e):{};return{...fye(e.markDef,t),...dye(e,"fill",n),...dye(e,"stroke",r),...Gve("opacity",e),...Gve("fillOpacity",e),...Gve("strokeOpacity",e),...Gve("strokeWidth",e),...Gve("strokeDash",e),...Qve(e),...Uve(e),...Bve(e,"href"),...qve(e)}}function dye(e,t,n){const{config:r,mark:i,markDef:o}=e;if("hide"===Eue("invalid",o,r)&&n&&!Wfe(i)){const r=function(e,t){let{invalid:n=!1,channels:r}=t;const i=r.reduce(((t,n)=>{const r=e.getScaleComponent(n);if(r){const i=r.get("type"),o=e.vgField(n,{expr:"datum"});o&&hfe(i)&&(t[o]=!0)}return t}),{}),o=vle(i);if(o.length>0){const e=n?"||":"&&";return o.map((e=>nhe(e,n))).join(" ".concat(e," "))}return}(e,{invalid:!0,channels:Ice});if(r)return{[t]:[{test:r,value:null},...YD(n)]}}return n?{[t]:n}:{}}function fye(e,t){return fue.reduce(((n,r)=>(cye.has(r)||void 0===e[r]||"ignore"===t[r]||(n[r]=yue(e[r])),n)),{})}function hye(e){const{config:t,markDef:n}=e;if(Eue("invalid",n,t)){const t=function(e,t){let{invalid:n=!1,channels:r}=t;const i=r.reduce(((t,n)=>{const r=e.getScaleComponent(n);if(r){var i;const o=r.get("type"),a=e.vgField(n,{expr:"datum",binSuffix:null!==(i=e.stack)&&void 0!==i&&i.impute?"mid":void 0});a&&hfe(o)&&(t[a]=!0)}return t}),{}),o=vle(i);if(o.length>0){const e=n?"||":"&&";return o.map((e=>nhe(e,n))).join(" ".concat(e," "))}return}(e,{channels:bce});if(t)return{defined:{signal:t}}}return{}}function pye(e,t){if(void 0!==t)return{[e]:yue(t)}}const mye="voronoi",gye={defined:e=>"point"===e.type&&e.nearest,parse:(e,t)=>{if(t.events)for(const n of t.events)n.markname=e.getName(mye)},marks:(e,t,n)=>{const{x:r,y:i}=t.project.hasChannel,o=e.mark;if(Wfe(o))return fde('The "nearest" transform is not supported for '.concat(o," marks.")),n;const a={name:e.getName(mye),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0},...Uve(e,{reactiveGeom:!0})}},transform:[{type:"voronoi",x:{expr:r||!i?"datum.datum.x || 0":"0"},y:{expr:i||!r?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};let l=0,s=!1;return n.forEach(((t,n)=>{var r;const i=null!==(r=t.name)&&void 0!==r?r:"";i===e.component.mark[0].name?l=n:i.indexOf(mye)>=0&&(s=!0)})),s||n.splice(l+1,0,a),n}},vye=gye,yye={defined:e=>"point"===e.type&&"global"===e.resolve&&e.bind&&"scales"!==e.bind&&!mme(e.bind),parse:(e,t,n)=>Bye(t,n),topLevelSignals:(e,t,n)=>{const r=t.name,i=t.project,o=t.bind,a=t.init&&t.init[0],l=vye.defined(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.items.forEach(((e,i)=>{const s=wle("".concat(r,"_").concat(e.field)),c=n.filter((e=>e.name===s));var u,d;c.length||n.unshift({name:s,...a?{init:lve(a[i])}:{value:null},on:t.events?[{events:t.events,update:"datum && item().mark.marktype !== 'group' ? ".concat(l,"[").concat(AF(e.field),"] : null")}]:[],bind:null!==(u=null!==(d=o[e.field])&&void 0!==d?d:o[e.channel])&&void 0!==u?u:o})})),n},signals:(e,t,n)=>{const r=t.name,i=t.project,o=n.filter((e=>e.name===r+Rye))[0],a=r+_ve,l=i.items.map((e=>wle("".concat(r,"_").concat(e.field)))),s=l.map((e=>"".concat(e," !== null"))).join(" && ");return l.length&&(o.update="".concat(s," ? {fields: ").concat(a,", values: [").concat(l.join(", "),"]} : null")),delete o.value,delete o.on,n}},bye=yye,xye="_toggle",wye={defined:e=>"point"===e.type&&!!e.toggle,signals:(e,t,n)=>n.concat({name:t.name+xye,value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(e,t)=>{const n=t.name+Rye,r=t.name+xye;return"".concat(r," ? null : ").concat(n,", ")+("global"===t.resolve?"".concat(r," ? null : true, "):"".concat(r," ? null : {unit: ").concat(Iye(e),"}, "))+"".concat(r," ? ").concat(n," : null")}},_ye={defined:e=>void 0!==e.clear&&!1!==e.clear,parse:(e,t)=>{t.clear&&(t.clear=xF(t.clear)?mne(t.clear,"view"):t.clear)},topLevelSignals:(e,t,n)=>{if(bye.defined(t))for(const r of t.project.items){const e=n.findIndex((e=>e.name===wle("".concat(t.name,"_").concat(r.field))));-1!==e&&n[e].on.push({events:t.clear,update:"null"})}return n},signals:(e,t,n)=>{function r(e,r){-1!==e&&n[e].on&&n[e].on.push({events:t.clear,update:r})}if("interval"===t.type)for(const i of t.project.items){const e=n.findIndex((e=>e.name===i.signals.visual));if(r(e,"[0, 0]"),-1===e){r(n.findIndex((e=>e.name===i.signals.data)),"null")}}else{let e=n.findIndex((e=>e.name===t.name+Rye));r(e,"null"),wye.defined(t)&&(e=n.findIndex((e=>e.name===t.name+xye)),r(e,"false"))}return n}},kye={defined:e=>{const t="global"===e.resolve&&e.bind&&mme(e.bind),n=1===e.project.items.length&&e.project.items[0].field!==hme;return t&&!n&&fde("Legend bindings are only supported for selections over an individual field or encoding channel."),t&&n},parse:(e,t,n)=>{const r=Jae(n);if(r.select=xF(r.select)?{type:r.select,toggle:t.toggle}:{...r.select,toggle:t.toggle},Bye(t,r),ED(n.select)&&(n.select.on||n.select.clear)){const e='event.item && indexof(event.item.mark.role, "legend") < 0';for(const n of t.events){var i;n.filter=YD(null!==(i=n.filter)&&void 0!==i?i:[]),n.filter.includes(e)||n.filter.push(e)}}const o=gme(t.bind)?t.bind.legend:"click",a=xF(o)?mne(o,"view"):YD(o);t.bind={legend:{merge:a}}},topLevelSignals:(e,t,n)=>{const r=t.name,i=gme(t.bind)&&t.bind.legend,o=e=>t=>{const n=Jae(t);return n.markname=e,n};for(const a of t.project.items){if(!a.hasLegend)continue;const e="".concat(wle(a.field),"_legend"),l="".concat(r,"_").concat(e),s=n.filter((e=>e.name===l));if(0===s.length){const r=i.merge.map(o("".concat(e,"_symbols"))).concat(i.merge.map(o("".concat(e,"_labels")))).concat(i.merge.map(o("".concat(e,"_entries"))));n.unshift({name:l,...t.init?{}:{value:null},on:[{events:r,update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:i.merge,update:"!event.item || !datum ? null : ".concat(l),force:!0}]})}}return n},signals:(e,t,n)=>{const r=t.name,i=t.project,o=n.find((e=>e.name===r+Rye)),a=r+_ve,l=i.items.filter((e=>e.hasLegend)).map((e=>wle("".concat(r,"_").concat(wle(e.field),"_legend")))),s=l.map((e=>"".concat(e," !== null"))).join(" && "),c="".concat(s," ? {fields: ").concat(a,", values: [").concat(l.join(", "),"]} : null");t.events&&l.length>0?o.on.push({events:l.map((e=>({signal:e}))),update:c}):l.length>0&&(o.update=c,delete o.value,delete o.on);const u=n.find((e=>e.name===r+xye)),d=gme(t.bind)&&t.bind.legend;return u&&(t.events?u.on.push({...u.on[0],events:d}):u.on[0].events=d),n}};const Eye="_translate_anchor",Sye="_translate_delta",Cye={defined:e=>"interval"===e.type&&e.translate,signals:(e,t,n)=>{const r=t.name,i=Mve.defined(t),o=r+Eye,{x:a,y:l}=t.project.hasChannel;let s=mne(t.translate,"scope");return i||(s=s.map((e=>(e.between[0].markname=r+Dve,e)))),n.push({name:o,value:{},on:[{events:s.map((e=>e.between[0])),update:"{x: x(unit), y: y(unit)"+(void 0!==a?", extent_x: ".concat(i?Tve(e,Vle):"slice(".concat(a.signals.visual,")")):"")+(void 0!==l?", extent_y: ".concat(i?Tve(e,Gle):"slice(".concat(l.signals.visual,")")):"")+"}"}]},{name:r+Sye,value:{},on:[{events:s,update:"{x: ".concat(o,".x - x(unit), y: ").concat(o,".y - y(unit)}")}]}),void 0!==a&&Mye(e,t,a,"width",n),void 0!==l&&Mye(e,t,l,"height",n),n}};function Mye(e,t,n,r,i){var o,a;const l=t.name,s=l+Eye,c=l+Sye,u=n.channel,d=Mve.defined(t),f=i.filter((e=>e.name===n.signals[d?"data":"visual"]))[0],h=e.getSizeSignalRef(r).signal,p=e.getScaleComponent(u),m=p&&p.get("type"),g=p&&p.get("reverse"),v=d?u===Vle?g?"":"-":g?"-":"":"",y="".concat(s,".extent_").concat(u),b="".concat(v).concat(c,".").concat(u," / ").concat(d?"".concat(h):"span(".concat(y,")")),x=d&&p?"log"===m?"panLog":"symlog"===m?"panSymlog":"pow"===m?"panPow":"panLinear":"panLinear",w=d?"pow"===m?", ".concat(null!==(o=p.get("exponent"))&&void 0!==o?o:1):"symlog"===m?", ".concat(null!==(a=p.get("constant"))&&void 0!==a?a:1):"":"",_="".concat(x,"(").concat(y,", ").concat(b).concat(w,")");f.on.push({events:{signal:c},update:d?_:"clampRange(".concat(_,", 0, ").concat(h,")")})}const Tye="_zoom_anchor",Aye="_zoom_delta",Dye={defined:e=>"interval"===e.type&&e.zoom,signals:(e,t,n)=>{const r=t.name,i=Mve.defined(t),o=r+Aye,{x:a,y:l}=t.project.hasChannel,s=AF(e.scaleName(Vle)),c=AF(e.scaleName(Gle));let u=mne(t.zoom,"scope");return i||(u=u.map((e=>(e.markname=r+Dve,e)))),n.push({name:r+Tye,on:[{events:u,update:i?"{"+[s?"x: invert(".concat(s,", x(unit))"):"",c?"y: invert(".concat(c,", y(unit))"):""].filter((e=>e)).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:o,on:[{events:u,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),void 0!==a&&Fye(e,t,a,"width",n),void 0!==l&&Fye(e,t,l,"height",n),n}};function Fye(e,t,n,r,i){var o,a;const l=t.name,s=n.channel,c=Mve.defined(t),u=i.filter((e=>e.name===n.signals[c?"data":"visual"]))[0],d=e.getSizeSignalRef(r).signal,f=e.getScaleComponent(s),h=f&&f.get("type"),p=c?Tve(e,s):u.name,m=l+Aye,g="".concat(l).concat(Tye,".").concat(s),v=c&&f?"log"===h?"zoomLog":"symlog"===h?"zoomSymlog":"pow"===h?"zoomPow":"zoomLinear":"zoomLinear",y=c?"pow"===h?", ".concat(null!==(o=f.get("exponent"))&&void 0!==o?o:1):"symlog"===h?", ".concat(null!==(a=f.get("constant"))&&void 0!==a?a:1):"":"",b="".concat(v,"(").concat(p,", ").concat(g,", ").concat(m).concat(y,")");u.on.push({events:{signal:m},update:c?b:"clampRange(".concat(b,", 0, ").concat(d,")")})}const Nye="_store",Rye="_tuple",zye="_modify",Pye="vlSelectionResolve",Oye=[Ive,Pve,Sve,wye,bye,Mve,kye,_ye,Cye,Dye,vye];function Iye(e){let{escape:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{escape:!0},n=t?AF(e.name):e.name;const r=function(e){let t=e.parent;for(;t&&!kwe(t);)t=t.parent;return t}(e);if(r){const{facet:e}=r;for(const t of zse)e[t]&&(n+=" + '__facet_".concat(t,"_' + (facet[").concat(AF(r.vgField(t)),"])"))}return n}function Lye(e){var t;return yle(null!==(t=e.component.selection)&&void 0!==t?t:{}).reduce(((e,t)=>e||t.project.hasSelectionId),!1)}function Bye(e,t){!xF(t.select)&&t.select.on||delete e.events,!xF(t.select)&&t.select.clear||delete e.clear,!xF(t.select)&&t.select.toggle||delete e.toggle}function jye(e){const t=[];return"Identifier"===e.type?[e.name]:"Literal"===e.type?[e.value]:("MemberExpression"===e.type&&(t.push(...jye(e.object)),t.push(...jye(e.property))),t)}function Uye(e){return"MemberExpression"===e.object.type?Uye(e.object):"datum"===e.object.name}function Kye(e){const t=N7(e),n=new Set;return t.visit((e=>{"MemberExpression"===e.type&&Uye(e)&&n.add(jye(e).slice(1).join("."))})),n}class Wye extends fve{clone(){return new Wye(null,this.model,Jae(this.filter))}constructor(e,t,n){super(e),this.model=t,this.filter=n,this.expr=Vye(this.model,this.filter,this),this._dependentFields=Kye(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return"Filter ".concat(this.expr)}}function qye(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"datum";const i=xF(t)?t:t.param,o=wle(i),a=AF(o+Nye);let l;try{l=e.getSelectionComponent(o,i)}catch(BMe){return"!!".concat(o)}if(l.project.timeUnit){const t=null!==n&&void 0!==n?n:e.component.data.raw,r=l.project.timeUnit.clone();t.parent?r.insertAsParentOf(t):t.parent=r}const s=l.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(",c="global"===l.resolve?")":", ".concat(AF(l.resolve),")"),u="".concat(s).concat(a,", ").concat(r).concat(c),d="length(data(".concat(a,"))");return!1===t.empty?"".concat(d," && ").concat(u):"!".concat(d," || ").concat(u)}function Hye(e,t,n){const r=wle(t),i=n.encoding;let o,a=n.field;try{o=e.getSelectionComponent(r,t)}catch(BMe){return r}if(i||a){if(i&&!a){const e=o.project.items.filter((e=>e.channel===i));!e.length||e.length>1?(a=o.project.items[0].field,fde((e.length?"Multiple ":"No ")+"matching ".concat(AF(i)," encoding found for selection ").concat(AF(n.param),". ")+'Using "field": '.concat(AF(a),"."))):a=e[0].field}}else a=o.project.items[0].field,o.project.items.length>1&&fde('A "field" or "encoding" must be specified when using a selection as a scale domain. '+'Using "field": '.concat(AF(a),"."));return"".concat(o.name,"[").concat(AF(Tle(a)),"]")}function Vye(e,t,n){return _le(t,(t=>xF(t)?t:function(e){return null===e||void 0===e?void 0:e.param}(t)?qye(e,t,n):qde(t)))}function Gye(e,t,n,r){var i,o,a,l,s;null!==(i=e.encode)&&void 0!==i||(e.encode={}),null!==(o=(l=e.encode)[t])&&void 0!==o||(l[t]={}),null!==(a=(s=e.encode[t]).update)&&void 0!==a||(s.update={}),e.encode[t].update[n]=r}function Yye(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{header:!1};const{disable:i,orient:o,scale:a,labelExpr:l,title:s,zindex:c,...u}=e.combine();if(!i){for(const e in u){const n=xpe[e],r=u[e];if(n&&n!==t&&"both"!==n)delete u[e];else if(ype(r)){const{condition:t,...n}=r,i=YD(t),o=vpe[e];if(o){const{vgProp:t,part:r}=o,a=[...i.map((e=>{const{test:t,...n}=e;return{test:Vye(null,t),...n}})),n];Gye(u,r,t,a),delete u[e]}else if(null===o){const t={signal:i.map((e=>{const{test:t,...n}=e;return"".concat(Vye(null,t)," ? ").concat(xue(n)," : ")})).join("")+xue(n)};u[e]=t}}else if(cue(r)){const t=vpe[e];if(t){const{vgProp:n,part:i}=t;Gye(u,i,n,r),delete u[e]}}ole(["labelAlign","labelBaseline"],e)&&null===u[e]&&delete u[e]}if("grid"===t){if(!u.grid)return;if(u.encode){const{grid:e}=u.encode;u.encode={...e?{grid:e}:{}},gle(u.encode)&&delete u.encode}return{scale:a,orient:o,...u,domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:Nle(c,0)}}{if(!r.header&&e.mainExtracted)return;if(void 0!==l){var d;let e=l;null!==(d=u.encode)&&void 0!==d&&null!==(d=d.labels)&&void 0!==d&&d.update&&cue(u.encode.labels.update.text)&&(e=Ale(l,"datum.label",u.encode.labels.update.text.signal)),Gye(u,"labels","text",{signal:e})}if(null===u.labelAlign&&delete u.labelAlign,u.encode){for(const t of bpe)e.hasAxisPart(t)||delete u.encode[t];gle(u.encode)&&delete u.encode}const t=function(e,t){if(e)return kD(e)&&!sue(e)?e.map((e=>ipe(e,t))).join(", "):e}(s,n);return{scale:a,orient:o,grid:!1,...t?{title:t}:{},...u,...!1===n.aria?{aria:!1}:{},zindex:Nle(c,0)}}}}function Qye(e){const{axes:t}=e.component,n=[];for(const r of bce)if(t[r])for(const i of t[r])if(!i.get("disable")&&!i.get("gridScale")){const t="x"===r?"height":"width",i=e.getSizeSignalRef(t).signal;t!==i&&n.push({name:t,update:i})}return n}function Xye(e,t,n,r){return Object.assign.apply(null,[{},...e.map((e=>{if("axisOrient"===e){const e="x"===n?"bottom":"left",i=t["x"===n?"axisBottom":"axisLeft"]||{},o=t["x"===n?"axisTop":"axisRight"]||{},a=new Set([...vle(i),...vle(o)]),l={};for(const t of a.values())l[t]={signal:"".concat(r.signal,' === "').concat(e,'" ? ').concat(wue(i[t])," : ").concat(wue(o[t]))};return l}return t[e]}))])}function $ye(e,t){const n=[{}];for(const i of e){var r;let e=null===(r=t[i])||void 0===r?void 0:r.style;if(e){e=YD(e);for(const r of e)n.push(t.style[r])}}return Object.assign.apply(null,n)}function Zye(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=Mue(e,n,t);if(void 0!==i)return{configFrom:"style",configValue:i};for(const a of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"]){var o;if(void 0!==(null===(o=r[a])||void 0===o?void 0:o[e]))return{configFrom:a,configValue:r[a][e]}}return{}}const Jye={scale:e=>{let{model:t,channel:n}=e;return t.scaleName(n)},format:e=>{let{format:t}=e;return t},formatType:e=>{let{formatType:t}=e;return t},grid:e=>{var t;let{fieldOrDatumDef:n,axis:r,scaleType:i}=e;return null!==(t=r.grid)&&void 0!==t?t:function(e,t){return!ffe(e)&&Ihe(t)&&!eue(null===t||void 0===t?void 0:t.bin)&&!tue(null===t||void 0===t?void 0:t.bin)}(i,n)},gridScale:e=>{let{model:t,channel:n}=e;return function(e,t){const n="x"===t?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n);return}(t,n)},labelAlign:e=>{let{axis:t,labelAngle:n,orient:r,channel:i}=e;return t.labelAlign||nbe(n,r,i)},labelAngle:e=>{let{labelAngle:t}=e;return t},labelBaseline:e=>{let{axis:t,labelAngle:n,orient:r,channel:i}=e;return t.labelBaseline||tbe(n,r,i)},labelFlush:e=>{var t;let{axis:n,fieldOrDatumDef:r,channel:i}=e;return null!==(t=n.labelFlush)&&void 0!==t?t:function(e,t){if("x"===t&&ole(["quantitative","temporal"],e))return!0;return}(r.type,i)},labelOverlap:e=>{var t;let{axis:n,fieldOrDatumDef:r,scaleType:i}=e;return null!==(t=n.labelOverlap)&&void 0!==t?t:function(e,t,n,r){if(n&&!ED(r)||"nominal"!==e&&"ordinal"!==e)return"log"!==t&&"symlog"!==t||"greedy";return}(r.type,i,Ihe(r)&&!!r.timeUnit,Ihe(r)?r.sort:void 0)},orient:e=>{let{orient:t}=e;return t},tickCount:e=>{var t;let{channel:n,model:r,axis:i,fieldOrDatumDef:o,scaleType:a}=e;const l="x"===n?"width":"y"===n?"height":void 0,s=l?r.getSizeSignalRef(l):void 0;return null!==(t=i.tickCount)&&void 0!==t?t:function(e){let{fieldOrDatumDef:t,scaleType:n,size:r,values:i}=e;if(!i&&!ffe(n)&&"log"!==n){if(Ihe(t)){var o;if(eue(t.bin))return{signal:"ceil(".concat(r.signal,"/10)")};if(t.timeUnit&&ole(["month","hours","day","quarter"],null===(o=Fde(t.timeUnit))||void 0===o?void 0:o.unit))return}return{signal:"ceil(".concat(r.signal,"/40)")}}return}({fieldOrDatumDef:o,scaleType:a,size:s,values:i.values})},tickMinStep:function(e){let{format:t,fieldOrDatumDef:n}=e;if("d"===t)return 1;if(Ihe(n)){const{timeUnit:e}=n;if(e){const t=Nde(e);if(t)return{signal:t}}}return},title:e=>{let{axis:t,model:n,channel:r}=e;if(void 0!==t.title)return t.title;const i=rbe(n,r);if(void 0!==i)return i;const o=n.typedFieldDef(r),a="x"===r?"x2":"y2",l=n.fieldDef(a);return Aue(o?[The(o)]:[],Ihe(l)?[The(l)]:[])},values:e=>{let{axis:t,fieldOrDatumDef:n}=e;return function(e,t){const n=e.values;if(kD(n))return mpe(t,n);if(cue(n))return n;return}(t,n)},zindex:e=>{var t;let{axis:n,fieldOrDatumDef:r,mark:i}=e;return null!==(t=n.zindex)&&void 0!==t?t:function(e,t){if("rect"===e&&Zhe(t))return 1;return 0}(i,r)}};function ebe(e){return"(((".concat(e.signal," % 360) + 360) % 360)")}function tbe(e,t,n,r){if(void 0!==e){if("x"===n){if(cue(e)){const n=ebe(e),r=cue(t)?"(".concat(t.signal,' === "top")'):"top"===t;return{signal:"(45 < ".concat(n," && ").concat(n," < 135) || (225 < ").concat(n," && ").concat(n,' < 315) ? "middle" :')+"(".concat(n," <= 45 || 315 <= ").concat(n,") === ").concat(r,' ? "bottom" : "top"')}}if(45<e&&e<135||225<e&&e<315)return"middle";if(cue(t)){const n=e<=45||315<=e?"===":"!==";return{signal:"".concat(t.signal," ").concat(n,' "top" ? "bottom" : "top"')}}return(e<=45||315<=e)===("top"===t)?"bottom":"top"}if(cue(e)){const n=ebe(e),i=cue(t)?"(".concat(t.signal,' === "left")'):"left"===t,o=r?'"middle"':"null";return{signal:"".concat(n," <= 45 || 315 <= ").concat(n," || (135 <= ").concat(n," && ").concat(n," <= 225) ? ").concat(o," : (45 <= ").concat(n," && ").concat(n," <= 135) === ").concat(i,' ? "top" : "bottom"')}}if(e<=45||315<=e||135<=e&&e<=225)return r?"middle":null;if(cue(t)){const n=45<=e&&e<=135?"===":"!==";return{signal:"".concat(t.signal," ").concat(n,' "left" ? "top" : "bottom"')}}return(45<=e&&e<=135)===("left"===t)?"top":"bottom"}}function nbe(e,t,n){if(void 0===e)return;const r="x"===n,i=r?0:90,o=r?"bottom":"left";if(cue(e)){const n=ebe(e),a=cue(t)?"(".concat(t.signal,' === "').concat(o,'")'):t===o;return{signal:"(".concat(i?"(".concat(n," + 90)"):n," % 180 === 0) ? ").concat(r?null:'"center"'," :")+"(".concat(i," < ").concat(n," && ").concat(n," < ").concat(180+i,") === ").concat(a,' ? "left" : "right"')}}if((e+i)%180===0)return r?null:"center";if(cue(t)){const n=i<e&&e<180+i?"===":"!==",r="".concat(t.signal," ").concat(n,' "').concat(o,'"');return{signal:"".concat(r,' ? "left" : "right"')}}return(i<e&&e<180+i)===(t===o)?"left":"right"}function rbe(e,t){const n="x"===t?"x2":"y2",r=e.fieldDef(t),i=e.fieldDef(n),o=r?r.title:void 0,a=i?i.title:void 0;return o&&a?Due(o,a):o||(a||(void 0!==o?o:void 0!==a?a:void 0))}class ibe extends fve{clone(){return new ibe(null,Jae(this.transform))}constructor(e,t){super(e),this.transform=t,this._dependentFields=Kye(this.transform.calculate)}static parseAllForSortIndex(e,t){return t.forEachFieldDef(((t,n)=>{if(Vhe(t)&&Ehe(t.sort)){const{field:r,timeUnit:i}=t,o=t.sort,a=o.map(((e,t)=>"".concat(qde({field:r,timeUnit:i,equal:e})," ? ").concat(t," : "))).join("")+o.length;e=new ibe(e,{calculate:a,as:obe(t,n,{forAs:!0})})}})),e}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return"Calculate ".concat(rle(this.transform))}}function obe(e,t,n){return $he(e,{prefix:t,suffix:"sort_index",...null!==n&&void 0!==n?n:{}})}function abe(e,t){return ole(["top","bottom"],t)?"column":ole(["left","right"],t)||"row"===e?"row":"column"}function lbe(e,t,n,r){const i="row"===r?n.headerRow:"column"===r?n.headerColumn:n.headerFacet;return Nle((t||{})[e],i[e],n.header[e])}function sbe(e,t,n,r){const i={};for(const o of e){const e=lbe(o,t||{},n,r);void 0!==e&&(i[o]=e)}return i}const cbe=["row","column"],ube=["header","footer"];function dbe(e,t){const n=e.component.layoutHeaders[t].title,r=e.config?e.config:void 0,i=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:o,titleAngle:a,titleOrient:l}=sbe(["titleAnchor","titleAngle","titleOrient"],i.header,r,t),s=abe(t,l),c=Lle(a);return{name:"".concat(t,"-title"),type:"group",role:"".concat(s,"-title"),title:{text:n,..."row"===t?{orient:"left"}:{},style:"guide-title",...hbe(c,s),...fbe(s,c,o),...xbe(r,i,t,sme,ame)}}}function fbe(e,t){switch(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"middle"){case"start":return{align:"left"};case"end":return{align:"right"}}const n=nbe(t,"row"===e?"left":"top","row"===e?"y":"x");return n?{align:n}:{}}function hbe(e,t){const n=tbe(e,"row"===t?"left":"top","row"===t?"y":"x",!0);return n?{baseline:n}:{}}function pbe(e,t){const n=e.component.layoutHeaders[t],r=[];for(const i of ube)if(n[i])for(const o of n[i]){const a=vbe(e,t,i,n,o);null!=a&&r.push(a)}return r}function mbe(e,t){const{sort:n}=e;var r;return khe(n)?{field:$he(n,{expr:"datum"}),order:null!==(r=n.order)&&void 0!==r?r:"ascending"}:kD(n)?{field:obe(e,t,{expr:"datum"}),order:"ascending"}:{field:$he(e,{expr:"datum"}),order:null!==n&&void 0!==n?n:"ascending"}}function gbe(e,t,n){const{format:r,formatType:i,labelAngle:o,labelAnchor:a,labelOrient:l,labelExpr:s}=sbe(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e.header,n,t),c=uhe({fieldOrDatumDef:e,format:r,formatType:i,expr:"parent",config:n}).signal,u=abe(t,l);return{text:{signal:s?Ale(Ale(s,"datum.label",c),"datum.value",$he(e,{expr:"parent"})):c},..."row"===t?{orient:"left"}:{},style:"guide-label",frame:"group",...hbe(o,u),...fbe(u,o,a),...xbe(n,e,t,cme,lme)}}function vbe(e,t,n,r,i){if(i){let o=null;const{facetFieldDef:a}=r,l=e.config?e.config:void 0;if(a&&i.labels){const{labelOrient:e}=sbe(["labelOrient"],a.header,l,t);("row"===t&&!ole(["top","bottom"],e)||"column"===t&&!ole(["left","right"],e))&&(o=gbe(a,t,l))}const s=kwe(e)&&!She(e.facet),c=i.axes,u=(null===c||void 0===c?void 0:c.length)>0;if(o||u){const l="row"===t?"height":"width";return{name:e.getName("".concat(t,"_").concat(n)),type:"group",role:"".concat(t,"-").concat(n),...r.facetFieldDef?{from:{data:e.getName("".concat(t,"_domain"))},sort:mbe(a,t)}:{},...u&&s?{from:{data:e.getName("facet_domain_".concat(t))}}:{},...o?{title:o}:{},...i.sizeSignal?{encode:{update:{[l]:i.sizeSignal}}}:{},...u?{axes:c}:{}}}}return null}const ybe={column:{start:0,end:1},row:{start:1,end:0}};function bbe(e,t){return ybe[t][e]}function xbe(e,t,n,r,i){const o={};for(const a of r){if(!i[a])continue;const r=lbe(a,null===t||void 0===t?void 0:t.header,e,n);void 0!==r&&(o[i[a]]=r)}return o}function wbe(e){return[..._be(e,"width"),..._be(e,"height"),..._be(e,"childWidth"),..._be(e,"childHeight")]}function _be(e,t){const n="width"===t?"x":"y",r=e.component.layoutSize.get(t);if(!r||"merged"===r)return[];const i=e.getSizeSignalRef(t).signal;if("step"===r){const t=e.getScaleComponent(n);if(t){const r=t.get("type"),o=t.get("range");if(ffe(r)&&uue(o)){const r=e.scaleName(n);if(kwe(e.parent)){if("independent"===e.parent.component.resolve.scale[n])return[kbe(r,o)]}return[kbe(r,o),{name:i,update:Ebe(r,t,"domain('".concat(r,"').length"))}]}}throw new Error("layout size is step although width/height is not step.")}if("container"==r){const t=i.endsWith("width"),n=t?"containerSize()[0]":"containerSize()[1]",r=Cme(e.config.view,t?"width":"height"),o="isFinite(".concat(n,") ? ").concat(n," : ").concat(r);return[{name:i,init:o,on:[{update:o,events:"window:resize"}]}]}return[{name:i,value:r}]}function kbe(e,t){const n="".concat(e,"_step");return cue(t.step)?{name:n,update:t.step.signal}:{name:n,value:t.step}}function Ebe(e,t,n){const r=t.get("type"),i=t.get("padding"),o=Nle(t.get("paddingOuter"),i);let a=t.get("paddingInner");return a="band"===r?void 0!==a?a:i:1,"bandspace(".concat(n,", ").concat(wue(a),", ").concat(wue(o),") * ").concat(e,"_step")}function Sbe(e){return"childWidth"===e?"width":"childHeight"===e?"height":e}function Cbe(e,t){return vle(e).reduce(((n,r)=>{const i=e[r];return{...n,...Lve(t,i,r,(e=>yue(e.value)))}}),{})}function Mbe(e,t){if(kwe(t))return"theta"===e?"independent":"shared";if(Swe(t))return"shared";if(Ewe(t))return xce(e)||"theta"===e||"radius"===e?"independent":"shared";throw new Error("invalid model type for resolve")}function Tbe(e,t){const n=e.scale[t],r=xce(t)?"axis":"legend";return"independent"===n?("shared"===e[r][t]&&fde(function(e){return'Setting the scale to be independent for "'.concat(e,'" means we also have to set the guide (axis or legend) to be independent.')}(t)),"independent"):e[r][t]||"shared"}const Abe={...fme,disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1},Dbe=vle(Abe);class Fbe extends Hge{}const Nbe={symbols:function(e,t){var n,r,i,o;let{fieldOrDatumDef:a,model:l,channel:s,legendCmpt:c,legendType:u}=t;if("symbol"!==u)return;const{markDef:d,encoding:f,config:h,mark:p}=l,m=d.filled&&"trail"!==p;let g={..._ue({},l,Gfe),...Yve(l,{filled:m})};const v=null!==(n=c.get("symbolOpacity"))&&void 0!==n?n:h.legend.symbolOpacity,y=null!==(r=c.get("symbolFillColor"))&&void 0!==r?r:h.legend.symbolFillColor,b=null!==(i=c.get("symbolStrokeColor"))&&void 0!==i?i:h.legend.symbolStrokeColor,x=void 0===v?null!==(o=Rbe(f.opacity))&&void 0!==o?o:d.opacity:void 0;if(g.fill){var w;if("fill"===s||m&&s===ase)delete g.fill;else if(g.fill.field)if(y)delete g.fill;else g.fill=yue(null!==(w=h.legend.symbolBaseFillColor)&&void 0!==w?w:"black"),g.fillOpacity=yue(null!==x&&void 0!==x?x:1);else if(kD(g.fill)){var _,k,E;const e=null!==(_=null!==(k=zbe(null!==(E=f.fill)&&void 0!==E?E:f.color))&&void 0!==k?k:d.fill)&&void 0!==_?_:m&&d.color;e&&(g.fill=yue(e))}}if(g.stroke)if("stroke"===s||!m&&s===ase)delete g.stroke;else if(g.stroke.field||b)delete g.stroke;else if(kD(g.stroke)){const e=Nle(zbe(f.stroke||f.color),d.stroke,m?d.color:void 0);e&&(g.stroke={value:e})}if(s!==fse){const e=Ihe(a)&&Obe(l,c,a);e?g.opacity=[{test:e,...yue(null!==x&&void 0!==x?x:1)},yue(h.legend.unselectedOpacity)]:x&&(g.opacity=yue(x))}return g={...g,...e},gle(g)?void 0:g},gradient:function(e,t){var n;let{model:r,legendType:i,legendCmpt:o}=t;if("gradient"!==i)return;const{config:a,markDef:l,encoding:s}=r;let c={};const u=null!==(n=o.get("gradientOpacity"))&&void 0!==n?n:a.legend.gradientOpacity,d=void 0===u?Rbe(s.opacity)||l.opacity:void 0;d&&(c.opacity=yue(d));return c={...c,...e},gle(c)?void 0:c},labels:function(e,t){let{fieldOrDatumDef:n,model:r,channel:i,legendCmpt:o}=t;const a=r.legend(i)||{},l=r.config,s=Ihe(n)?Obe(r,o,n):void 0,c=s?[{test:s,value:1},{value:l.legend.unselectedOpacity}]:void 0,{format:u,formatType:d}=a;let f;lhe(d)?f=fhe({fieldOrDatumDef:n,field:"datum.value",format:u,formatType:d,config:l}):void 0===u&&void 0===d&&l.customFormatTypes&&("quantitative"===n.type&&l.numberFormatType?f=fhe({fieldOrDatumDef:n,field:"datum.value",format:l.numberFormat,formatType:l.numberFormatType,config:l}):"temporal"===n.type&&l.timeFormatType&&Ihe(n)&&void 0===n.timeUnit&&(f=fhe({fieldOrDatumDef:n,field:"datum.value",format:l.timeFormat,formatType:l.timeFormatType,config:l})));const h={...c?{opacity:c}:{},...f?{text:f}:{},...e};return gle(h)?void 0:h},entries:function(e,t){let{legendCmpt:n}=t;const r=n.get("selections");return null!==r&&void 0!==r&&r.length?{...e,fill:{value:"transparent"}}:e}};function Rbe(e){return Pbe(e,((e,t)=>Math.max(e,t.value)))}function zbe(e){return Pbe(e,((e,t)=>Nle(e,t.value)))}function Pbe(e,t){return function(e){const t=null===e||void 0===e?void 0:e.condition;return!!t&&(kD(t)||Hhe(t))}(e)?YD(e.condition).reduce(t,e.value):Hhe(e)?e.value:void 0}function Obe(e,t,n){const r=t.get("selections");if(null===r||void 0===r||!r.length)return;const i=AF(n.field);return r.map((e=>{const t=AF(wle(e)+Nye);return"(!length(data(".concat(t,")) || (").concat(e,"[").concat(i,"] && indexof(").concat(e,"[").concat(i,"], datum.value) >= 0))")})).join(" || ")}const Ibe={direction:e=>{let{direction:t}=e;return t},format:e=>{let{fieldOrDatumDef:t,legend:n,config:r}=e;const{format:i,formatType:o}=n;return hhe(t,t.type,i,o,r,!1)},formatType:e=>{let{legend:t,fieldOrDatumDef:n,scaleType:r}=e;const{formatType:i}=t;return phe(i,n,r)},gradientLength:e=>{var t,n;const{legend:r,legendConfig:i}=e;return null!==(t=null!==(n=r.gradientLength)&&void 0!==n?n:i.gradientLength)&&void 0!==t?t:function(e){let{legendConfig:t,model:n,direction:r,orient:i,scaleType:o}=e;const{gradientHorizontalMaxLength:a,gradientHorizontalMinLength:l,gradientVerticalMaxLength:s,gradientVerticalMinLength:c}=t;if(pfe(o))return"horizontal"===r?"top"===i||"bottom"===i?jbe(n,"width",l,a):l:jbe(n,"height",c,s);return}(e)},labelOverlap:e=>{var t,n;let{legend:r,legendConfig:i,scaleType:o}=e;return null!==(t=null!==(n=r.labelOverlap)&&void 0!==n?n:i.labelOverlap)&&void 0!==t?t:function(e){if(ole(["quantile","threshold","log","symlog"],e))return"greedy";return}(o)},symbolType:e=>{var t;let{legend:n,markDef:r,channel:i,encoding:o}=e;return null!==(t=n.symbolType)&&void 0!==t?t:function(e,t,n,r){if("shape"!==t){var i;const e=null!==(i=zbe(n))&&void 0!==i?i:r;if(e)return e}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}(r.type,i,o.shape,r.shape)},title:e=>{let{fieldOrDatumDef:t,config:n}=e;return npe(t,n,{allowDisabling:!0})},type:e=>{let{legendType:t,scaleType:n,channel:r}=e;if(Nse(r)&&pfe(n)){if("gradient"===t)return}else if("symbol"===t)return;return t},values:e=>{let{fieldOrDatumDef:t,legend:n}=e;return function(e,t){const n=e.values;if(kD(n))return mpe(t,n);if(cue(n))return n;return}(n,t)}};function Lbe(e){const{legend:t}=e;return Nle(t.type,function(e){let{channel:t,timeUnit:n,scaleType:r}=e;if(Nse(t)){if(ole(["quarter","month","day"],n))return"symbol";if(pfe(r))return"gradient"}return"symbol"}(e))}function Bbe(e){var t,n;let{legendConfig:r,legendType:i,orient:o,legend:a}=e;return null!==(t=null!==(n=a.direction)&&void 0!==n?n:r[i?"gradientDirection":"symbolDirection"])&&void 0!==t?t:function(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return"gradient"===t?"horizontal":void 0}}(o,i)}function jbe(e,t,n,r){const i=e.getSizeSignalRef(t).signal;return{signal:"clamp(".concat(i,", ").concat(n,", ").concat(r,")")}}function Ube(e){const t=_we(e)?function(e){const{encoding:t}=e,n={};for(const r of[ase,...dme]){const i=lpe(t[r]);i&&e.getScaleComponent(r)&&(r===cse&&Ihe(i)&&i.type===efe||(n[r]=Wbe(e,r)))}return n}(e):function(e){const{legends:t,resolve:n}=e.component;for(const r of e.children){Ube(r);for(const i of vle(r.component.legends))n.legend[i]=Tbe(e.component.resolve,i),"shared"===n.legend[i]&&(t[i]=qbe(t[i],r.component.legends[i]),t[i]||(n.legend[i]="independent",delete t[i]))}for(const r of vle(t))for(const t of e.children)t.component.legends[r]&&"shared"===n.legend[r]&&delete t.component.legends[r];return t}(e);return e.component.legends=t,t}function Kbe(e,t,n,r){switch(t){case"disable":return void 0!==n;case"values":return!(null===n||void 0===n||!n.values);case"title":if("title"===t&&e===(null===r||void 0===r?void 0:r.title))return!0}return e===(n||{})[t]}function Wbe(e,t){var n,r,i;let o=e.legend(t);const{markDef:a,encoding:l,config:s}=e,c=s.legend,u=new Fbe({},function(e,t){const n=e.scaleName(t);if("trail"===e.mark){if("color"===t)return{stroke:n};if("size"===t)return{strokeWidth:n}}return"color"===t?e.markDef.filled?{fill:n}:{stroke:n}:{[t]:n}}(e,t));!function(e,t,n){var r;const i=null===(r=e.fieldDef(t))||void 0===r?void 0:r.field;for(const s of yle(null!==(o=e.component.selection)&&void 0!==o?o:{})){var o,a;const e=null!==(a=s.project.hasField[i])&&void 0!==a?a:s.project.hasChannel[t];if(e&&kye.defined(s)){var l;const t=null!==(l=n.get("selections"))&&void 0!==l?l:[];t.push(s.name),n.set("selections",t,!1),e.hasLegend=!0}}}(e,t,u);const d=void 0!==o?!o:c.disable;if(u.set("disable",d,void 0!==o),d)return u;o=o||{};const f=e.getScaleComponent(t).get("type"),h=lpe(l[t]),p=Ihe(h)?null===(n=Fde(h.timeUnit))||void 0===n?void 0:n.unit:void 0,m=o.orient||s.legend.orient||"right",g=Lbe({legend:o,channel:t,timeUnit:p,scaleType:f}),v={legend:o,channel:t,model:e,markDef:a,encoding:l,fieldOrDatumDef:h,legendConfig:c,config:s,scaleType:f,orient:m,legendType:g,direction:Bbe({legend:o,legendType:g,orient:m,legendConfig:c})};for(const E of Dbe){if("gradient"===g&&E.startsWith("symbol")||"symbol"===g&&E.startsWith("gradient"))continue;const n=E in Ibe?Ibe[E](v):o[E];if(void 0!==n){const r=Kbe(n,E,o,e.fieldDef(t));(r||void 0===s.legend[E])&&u.set(E,n,r)}}const y=null!==(r=null===(i=o)||void 0===i?void 0:i.encoding)&&void 0!==r?r:{},b=u.get("selections"),x={},w={fieldOrDatumDef:h,model:e,channel:t,legendCmpt:u,legendType:g};for(const E of["labels","legend","title","symbols","gradient","entries"]){var _;const t=Cbe(null!==(_=y[E])&&void 0!==_?_:{},e),n=E in Nbe?Nbe[E](t,w):t;void 0===n||gle(n)||(x[E]={...null!==b&&void 0!==b&&b.length&&Ihe(h)?{name:"".concat(wle(h.field),"_legend_").concat(E)}:{},...null!==b&&void 0!==b&&b.length?{interactive:!!b}:{},update:n})}var k;gle(x)||u.set("encode",x,!(null===(k=o)||void 0===k||!k.encoding));return u}function qbe(e,t){if(!e)return t.clone();const n=e.getWithExplicit("orient"),r=t.getWithExplicit("orient");if(n.explicit&&r.explicit&&n.value!==r.value)return;let i=!1;for(const l of Dbe){const n=Xge(e.getWithExplicit(l),t.getWithExplicit(l),l,"legend",((e,t)=>{switch(l){case"symbolType":return Hbe(e,t);case"title":return Fue(e,t);case"type":return i=!0,Gge("symbol")}return Qge(e,t,l,"legend")}));e.setWithExplicit(l,n)}var o,a;i&&(null!==(o=e.implicit)&&void 0!==o&&null!==(o=o.encode)&&void 0!==o&&o.gradient&&kle(e.implicit,["encode","gradient"]),null!==(a=e.explicit)&&void 0!==a&&null!==(a=a.encode)&&void 0!==a&&a.gradient&&kle(e.explicit,["encode","gradient"]));return e}function Hbe(e,t){return"circle"===t.value?t:e}function Vbe(e){const t=e.component.legends,n={};for(const i of vle(t)){const r=Kle(e.getScaleComponent(i).get("domains"));if(n[r])for(const e of n[r]){qbe(e,t[i])||n[r].push(t[i])}else n[r]=[t[i].clone()]}const r=yle(n).flat().map((t=>function(e,t){var n;const{disable:r,labelExpr:i,selections:o,...a}=e.combine();if(r)return;!1===t.aria&&void 0==a.aria&&(a.aria=!1);if(null!==(n=a.encode)&&void 0!==n&&n.symbols){const e=a.encode.symbols.update;!e.fill||"transparent"===e.fill.value||e.stroke||a.stroke||(e.stroke={value:"transparent"});for(const t of dme)a[t]&&delete e[t]}a.title||delete a.title;if(void 0!==i){var l;let e=i;null!==(l=a.encode)&&void 0!==l&&null!==(l=l.labels)&&void 0!==l&&l.update&&cue(a.encode.labels.update.text)&&(e=Ale(i,"datum.label",a.encode.labels.update.text.signal)),function(e,t,n,r){var i,o,a,l,s;null!==(i=e.encode)&&void 0!==i||(e.encode={}),null!==(o=(l=e.encode)[t])&&void 0!==o||(l[t]={}),null!==(a=(s=e.encode[t]).update)&&void 0!==a||(s.update={}),e.encode[t].update[n]=r}(a,"labels","text",{signal:e})}return a}(t,e.config))).filter((e=>void 0!==e));return r}function Gbe(e){return Swe(e)||Ewe(e)?function(e){return e.children.reduce(((e,t)=>e.concat(t.assembleProjections())),Ybe(e))}(e):Ybe(e)}function Ybe(e){const t=e.component.projection;if(!t||t.merged)return[];const n=t.combine(),{name:r}=n;if(t.data){const i={signal:"[".concat(t.size.map((e=>e.signal)).join(", "),"]")},o=t.data.reduce(((t,n)=>{const r=cue(n)?n.signal:"data('".concat(e.lookupDataSource(n),"')");return ole(t,r)||t.push(r),t}),[]);if(o.length<=0)throw new Error("Projection's fit didn't find any data sources");return[{name:r,size:i,fit:{signal:o.length>1?"[".concat(o.join(", "),"]"):o[0]},...n}]}return[{name:r,translate:{signal:"[width / 2, height / 2]"},...n}]}const Qbe=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class Xbe extends Hge{constructor(e,t,n,r){super({...t},{name:e}),this.specifiedProjection=t,this.size=n,this.data=r,this.merged=!1}get isFit(){return!!this.data}}function $be(e){e.component.projection=_we(e)?function(e){if(e.hasProjection){var t;const n=aue(e.specifiedProjection),r=!(n&&(null!=n.scale||null!=n.translate)),i=r?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,o=r?function(e){const t=[],{encoding:n}=e;for(const r of[[rse,nse],[ose,ise]])(lpe(n[r[0]])||lpe(n[r[1]]))&&t.push({signal:e.getName("geojson_".concat(t.length))});e.channelHasField(cse)&&e.typedFieldDef(cse).type===efe&&t.push({signal:e.getName("geojson_".concat(t.length))});0===t.length&&t.push(e.requestDataName(ove.Main));return t}(e):void 0,a=new Xbe(e.projectionName(!0),{...null!==(t=aue(e.config.projection))&&void 0!==t?t:{},...null!==n&&void 0!==n?n:{}},i,o);return a.get("type")||a.set("type","equalEarth",!1),a}return}(e):function(e){if(0===e.children.length)return;let t;for(const r of e.children)$be(r);const n=lle(e.children,(e=>{const n=e.component.projection;if(n){if(t){const e=function(e,t){const n=lle(Qbe,(n=>!cF(e.explicit,n)&&!cF(t.explicit,n)||!!(cF(e.explicit,n)&&cF(t.explicit,n)&&Ule(e.get(n),t.get(n))))),r=Ule(e.size,t.size);if(r){if(n)return e;if(Ule(e.explicit,{}))return t;if(Ule(t.explicit,{}))return e}return null}(t,n);return e&&(t=e),!!e}return t=n,!0}return!0}));if(t&&n){const n=e.projectionName(!0),r=new Xbe(n,t.specifiedProjection,t.size,Jae(t.data));for(const t of e.children){const e=t.component.projection;e&&(e.isFit&&r.data.push(...t.component.projection.data),t.renameProjection(e.get("name"),n),e.merged=!0)}return r}return}(e)}function Zbe(e,t,n,r){if(gpe(t,n)){var i,o;const a=_we(e)&&null!==(i=null!==(o=e.axis(n))&&void 0!==o?o:e.legend(n))&&void 0!==i?i:{},l=$he(t,{expr:"datum"}),s=$he(t,{expr:"datum",binSuffix:"end"});return{formulaAs:$he(t,{binSuffix:"range",forAs:!0}),formula:yhe(l,s,a.format,a.formatType,r)}}return{}}function Jbe(e,t){return"".concat(Jce(e),"_").concat(t)}function exe(e,t,n){var r;const i=Jbe(null!==(r=dpe(n,void 0))&&void 0!==r?r:{},t);return e.getName("".concat(i,"_bins"))}function txe(e,t,n){let r,i;r=function(e){return"as"in e}(e)?xF(e.as)?[e.as,"".concat(e.as,"_end")]:[e.as[0],e.as[1]]:[$he(e,{forAs:!0}),$he(e,{binSuffix:"end",forAs:!0})];const o={...dpe(t,void 0)},a=Jbe(o,e.field),{signal:l,extentSignal:s}=function(e,t){return{signal:e.getName("".concat(t,"_bins")),extentSignal:e.getName("".concat(t,"_extent"))}}(n,a);if(rue(o.extent)){const e=o.extent;i=Hye(n,e.param,e),delete o.extent}return{key:a,binComponent:{bin:o,field:e.field,as:[r],...l?{signal:l}:{},...s?{extentSignal:s}:{},...i?{span:i}:{}}}}class nxe extends fve{clone(){return new nxe(null,Jae(this.bins))}constructor(e,t){super(e),this.bins=t}static makeFromEncoding(e,t){const n=t.reduceFieldDef(((e,n,r)=>{if(qhe(n)&&eue(n.bin)){const{key:i,binComponent:o}=txe(n,n.bin,t);e[i]={...o,...e[i],...Zbe(t,n,r,t.config)}}return e}),{});return gle(n)?null:new nxe(e,n)}static makeFromTransform(e,t,n){const{key:r,binComponent:i}=txe(t,t.bin,n);return new nxe(e,{[r]:i})}merge(e,t){for(const n of vle(e.bins))n in this.bins?(t(e.bins[n].signal,this.bins[n].signal),this.bins[n].as=ule([...this.bins[n].as,...e.bins[n].as],rle)):this.bins[n]=e.bins[n];for(const n of e.children)e.removeChild(n),n.parent=this;e.remove()}producedFields(){return new Set(yle(this.bins).map((e=>e.as)).flat(2))}dependentFields(){return new Set(yle(this.bins).map((e=>e.field)))}hash(){return"Bin ".concat(rle(this.bins))}assemble(){return yle(this.bins).flatMap((e=>{const t=[],[n,...r]=e.as,{extent:i,...o}=e.bin,a={type:"bin",field:Tle(e.field),as:n,signal:e.signal,...rue(i)?{extent:null}:{extent:i},...e.span?{span:{signal:"span(".concat(e.span,")")}}:{},...o};!i&&e.extentSignal&&(t.push({type:"extent",field:Tle(e.field),signal:e.extentSignal}),a.extent={signal:e.extentSignal}),t.push(a);for(const l of r)for(let e=0;e<2;e++)t.push({type:"formula",expr:$he({field:n[e]},{expr:"datum"}),as:l[e]});return e.formula&&t.push({type:"formula",expr:e.formula,as:e.formulaAs}),t}))}}function rxe(e,t,n,r){var i;const o=_we(r)?r.encoding[Xse(t)]:void 0;if(qhe(n)&&_we(r)&&Nhe(n,o,r.markDef,r.config)){e.add($he(n,{})),e.add($he(n,{suffix:"end"}));const{mark:i,markDef:o,config:a}=r,l=Dhe({fieldDef:n,markDef:o,config:a});qfe(i)&&.5!==l&&xce(t)&&(e.add($he(n,{suffix:vve})),e.add($he(n,{suffix:yve}))),n.bin&&gpe(n,t)&&e.add($he(n,{binSuffix:"range"}))}else if(Ase(t)){const n=Tse(t);e.add(r.getName(n))}else e.add($he(n));return Vhe(n)&&function(e){return ED(e)&&"field"in e}(null===(i=n.scale)||void 0===i?void 0:i.range)&&e.add(n.scale.range.field),e}class ixe extends fve{clone(){return new ixe(null,new Set(this.dimensions),Jae(this.measures))}constructor(e,t,n){super(e),this.dimensions=t,this.measures=n}get groupBy(){return this.dimensions}static makeFromEncoding(e,t){let n=!1;t.forEachFieldDef((e=>{e.aggregate&&(n=!0)}));const r={},i=new Set;return n?(t.forEachFieldDef(((e,n)=>{const{aggregate:o,field:a}=e;if(o)if("count"===o){var l;null!==(l=r["*"])&&void 0!==l||(r["*"]={}),r["*"].count=new Set([$he(e,{forAs:!0})])}else{if(Vce(o)||Gce(o)){var s;const e=Vce(o)?"argmin":"argmax",t=o[e];null!==(s=r[t])&&void 0!==s||(r[t]={}),r[t][e]=new Set([$he({op:e,field:t},{forAs:!0})])}else{var c;null!==(c=r[a])&&void 0!==c||(r[a]={}),r[a][o]=new Set([$he(e,{forAs:!0})])}var u;if(Lce(n)&&"unaggregated"===t.scaleDomain(n))null!==(u=r[a])&&void 0!==u||(r[a]={}),r[a].min=new Set([$he({field:a,aggregate:"min"},{forAs:!0})]),r[a].max=new Set([$he({field:a,aggregate:"max"},{forAs:!0})])}else rxe(i,n,e,t)})),i.size+vle(r).length===0?null:new ixe(e,i,r)):null}static makeFromTransform(e,t){const n=new Set,r={};for(const l of t.aggregate){const{op:e,field:t,as:n}=l;var i,o;if(e)if("count"===e)null!==(i=r["*"])&&void 0!==i||(r["*"]={}),r["*"].count=new Set([n||$he(l,{forAs:!0})]);else null!==(o=r[t])&&void 0!==o||(r[t]={}),r[t][e]=new Set([n||$he(l,{forAs:!0})])}for(const l of null!==(a=t.groupby)&&void 0!==a?a:[]){var a;n.add(l)}return n.size+vle(r).length===0?null:new ixe(e,n,r)}merge(e){return fle(this.dimensions,e.dimensions)?(function(e,t){for(const r of vle(t)){const i=t[r];for(const t of vle(i)){var n;r in e?e[r][t]=new Set([...null!==(n=e[r][t])&&void 0!==n?n:[],...i[t]]):e[r]={[t]:i[t]}}}}(this.measures,e.measures),!0):(function(){ude.debug(...arguments)}("different dimensions, cannot merge"),!1)}addDimensions(e){e.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...vle(this.measures)])}producedFields(){const e=new Set;for(const t of vle(this.measures))for(const n of vle(this.measures[t])){const r=this.measures[t][n];0===r.size?e.add("".concat(n,"_").concat(t)):r.forEach(e.add,e)}return e}hash(){return"Aggregate ".concat(rle({dimensions:this.dimensions,measures:this.measures}))}assemble(){const e=[],t=[],n=[];for(const r of vle(this.measures))for(const i of vle(this.measures[r]))for(const o of this.measures[r][i])n.push(o),e.push(i),t.push("*"===r?null:Tle(r));return{type:"aggregate",groupby:[...this.dimensions].map(Tle),ops:e,fields:t,as:n}}}class oxe extends fve{constructor(e,t,n,r){super(e),this.model=t,this.name=n,this.data=r;for(const i of zse){const e=t.facet[i];if(e){const{bin:n,sort:r}=e;this[i]={name:t.getName("".concat(i,"_domain")),fields:[$he(e),...eue(n)?[$he(e,{binSuffix:"end"})]:[]],...khe(r)?{sortField:r}:kD(r)?{sortIndexField:obe(e,i)}:{}}}}this.childModel=t.child}hash(){let e="Facet";for(const t of zse)this[t]&&(e+=" ".concat(t.charAt(0),":").concat(rle(this[t])));return e}get fields(){const e=[];for(const n of zse){var t;null!==(t=this[n])&&void 0!==t&&t.fields&&e.push(...this[n].fields)}return e}dependentFields(){const e=new Set(this.fields);for(const t of zse)this[t]&&(this[t].sortField&&e.add(this[t].sortField.field),this[t].sortIndexField&&e.add(this[t].sortIndexField));return e}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const e={};for(const t of bce){const n=this.childModel.component.scales[t];if(n&&!n.merged){const r=n.get("type"),i=n.get("range");if(ffe(r)&&uue(i)){const n=Zxe(Jxe(this.childModel,t));n?e[t]=n:fde(Iue(t))}}}return e}assembleRowColumnHeaderData(e,t,n){const r={row:"y",column:"x",facet:void 0}[e],i=[],o=[],a=[];r&&n&&n[r]&&(t?(i.push("distinct_".concat(n[r])),o.push("max")):(i.push(n[r]),o.push("distinct")),a.push("distinct_".concat(n[r])));const{sortField:l,sortIndexField:s}=this[e];if(l){const{op:e=bhe,field:t}=l;i.push(t),o.push(e),a.push($he(l,{forAs:!0}))}else s&&(i.push(s),o.push("max"),a.push(s));return{name:this[e].name,source:null!==t&&void 0!==t?t:this.data,transform:[{type:"aggregate",groupby:this[e].fields,...i.length?{fields:i,ops:o,as:a}:{}}]}}assembleFacetHeaderData(e){const{columns:t}=this.model.layout,{layoutHeaders:n}=this.model.component,r=[],i={};for(const c of cbe){for(const e of ube){var o;const t=null!==(o=n[c]&&n[c][e])&&void 0!==o?o:[];for(const e of t){var a;if((null===(a=e.axes)||void 0===a?void 0:a.length)>0){i[c]=!0;break}}}if(i[c]){const e='length(data("'.concat(this.facet.name,'"))'),n="row"===c?t?{signal:"ceil(".concat(e," / ").concat(t,")")}:1:t?{signal:"min(".concat(e,", ").concat(t,")")}:{signal:e};r.push({name:"".concat(this.facet.name,"_").concat(c),transform:[{type:"sequence",start:0,stop:n}]})}}const{row:l,column:s}=i;return(l||s)&&r.unshift(this.assembleRowColumnHeaderData("facet",null,e)),r}assemble(){const e=[];let t=null;const n=this.getChildIndependentFieldsWithStep(),{column:r,row:i,facet:o}=this;if(r&&i&&(n.x||n.y)){var a,l;t="cross_".concat(this.column.name,"_").concat(this.row.name);const r=[].concat(null!==(a=n.x)&&void 0!==a?a:[],null!==(l=n.y)&&void 0!==l?l:[]),i=r.map((()=>"distinct"));e.push({name:t,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:r,ops:i}]})}for(const s of[qle,Wle])this[s]&&e.push(this.assembleRowColumnHeaderData(s,t,n));if(o){const t=this.assembleFacetHeaderData(n);t&&e.push(...t)}return e}}function axe(e){return e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e}function lxe(e){const t={};return $ae(e.filter,(e=>{if(Kde(e)){let r=null;if(Pde(e))r=gue(e.equal);else if(Ide(e))r=gue(e.lte);else if(Ode(e))r=gue(e.lt);else if(Lde(e))r=gue(e.gt);else if(Bde(e))r=gue(e.gte);else if(jde(e))r=e.range[0];else if(Ude(e)){var n;r=(null!==(n=e.oneOf)&&void 0!==n?n:e.in)[0]}r&&(hde(r)?t[e.field]="date":yF(r)?t[e.field]="number":xF(r)&&(t[e.field]="string")),e.timeUnit&&(t[e.field]="date")}})),t}function sxe(e){const t={};function n(e){var n;hpe(e)?t[e.field]="date":"quantitative"===e.type&&(xF(n=e.aggregate)&&ole(["min","max"],n))?t[e.field]="number":Fle(e.field)>1?e.field in t||(t[e.field]="flatten"):Vhe(e)&&khe(e.sort)&&Fle(e.sort.field)>1&&(e.sort.field in t||(t[e.sort.field]="flatten"))}if((_we(e)||kwe(e))&&e.forEachFieldDef(((t,r)=>{if(qhe(t))n(t);else{const i=Yse(r),o=e.fieldDef(i);n({...t,type:o.type})}})),_we(e)){const{mark:n,markDef:r,encoding:i}=e;if(Wfe(n)&&!e.encoding.order){const e=i["horizontal"===r.orient?"y":"x"];Ihe(e)&&"quantitative"===e.type&&!(e.field in t)&&(t[e.field]="number")}}return t}class cxe extends fve{clone(){return new cxe(null,Jae(this._parse))}constructor(e,t){super(e),this._parse=t}hash(){return"Parse ".concat(rle(this._parse))}static makeExplicit(e,t,n){var r;let i={};const o=t.data;return!tve(o)&&null!==o&&void 0!==o&&null!==(r=o.format)&&void 0!==r&&r.parse&&(i=o.format.parse),this.makeWithAncestors(e,i,{},n)}static makeWithAncestors(e,t,n,r){for(const a of vle(n)){const e=r.getWithExplicit(a);void 0!==e.value&&(e.explicit||e.value===n[a]||"derived"===e.value||"flatten"===n[a]?delete n[a]:fde(Wue(a,n[a],e.value)))}for(const a of vle(t)){const e=r.get(a);void 0!==e&&(e===t[a]?delete t[a]:fde(Wue(a,t[a],e)))}const i=new Hge(t,n);r.copyAll(i);const o={};for(const a of vle(i.combine())){const e=i.get(a);null!==e&&(o[a]=e)}return 0===vle(o).length||r.parseNothing?null:new cxe(e,o)}get parse(){return this._parse}merge(e){this._parse={...this._parse,...e.parse},e.remove()}assembleFormatParse(){const e={};for(const t of vle(this._parse)){const n=this._parse[t];1===Fle(t)&&(e[t]=n)}return e}producedFields(){return new Set(vle(this._parse))}dependentFields(){return new Set(vle(this._parse))}assembleTransforms(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return vle(this._parse).filter((t=>!e||Fle(t)>1)).map((e=>{const t=function(e,t){const n=Sle(e);if("number"===t)return"toNumber(".concat(n,")");if("boolean"===t)return"toBoolean(".concat(n,")");if("string"===t)return"toString(".concat(n,")");if("date"===t)return"toDate(".concat(n,")");if("flatten"===t)return n;if(t.startsWith("date:")){const e=axe(t.slice(5,t.length));return"timeParse(".concat(n,",'").concat(e,"')")}if(t.startsWith("utc:")){const e=axe(t.slice(4,t.length));return"utcParse(".concat(n,",'").concat(e,"')")}return fde('Unrecognized parse "'.concat(t,'".')),null}(e,this._parse[e]);if(!t)return null;return{type:"formula",expr:t,as:Dle(e)}})).filter((e=>null!==e))}}class uxe extends fve{clone(){return new uxe(null)}constructor(e){super(e)}dependentFields(){return new Set}producedFields(){return new Set([hme])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:hme}}}class dxe extends fve{clone(){return new dxe(null,this.params)}constructor(e,t){super(e),this.params=t}dependentFields(){return new Set}producedFields(){}hash(){return"Graticule ".concat(rle(this.params))}assemble(){return{type:"graticule",...!0===this.params?{}:this.params}}}class fxe extends fve{clone(){return new fxe(null,this.params)}constructor(e,t){super(e),this.params=t}dependentFields(){return new Set}producedFields(){var e;return new Set([null!==(e=this.params.as)&&void 0!==e?e:"data"])}hash(){return"Hash ".concat(rle(this.params))}assemble(){return{type:"sequence",...this.params}}}class hxe extends fve{constructor(e){var t;let n;if(super(null),null!==(t=e)&&void 0!==t||(e={name:"source"}),tve(e)||(n=e.format?{...nle(e.format,["parse"])}:{}),Jge(e))this._data={values:e.values};else if(Zge(e)){if(this._data={url:e.url},!n.type){let t=/(?:\.([^.]+))?$/.exec(e.url)[1];ole(["json","csv","tsv","dsv","topojson"],t)||(t="json"),n.type=t}}else rve(e)?this._data={values:[{type:"Sphere"}]}:(eve(e)||tve(e))&&(this._data={});this._generator=tve(e),e.name&&(this._name=e.name),n&&!gle(n)&&(this._data.format=n)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(e){this._name=e}set parent(e){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return{name:this._name,...this._data,transform:[]}}}var pxe,mxe=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},gxe=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};function vxe(e){return e instanceof hxe||e instanceof dxe||e instanceof fxe}class yxe{constructor(){pxe.set(this,void 0),mxe(this,pxe,!1,"f")}setModified(){mxe(this,pxe,!0,"f")}get modifiedFlag(){return gxe(this,pxe,"f")}}pxe=new WeakMap;class bxe extends yxe{getNodeDepths(e,t,n){n.set(e,t);for(const r of e.children)this.getNodeDepths(r,t+1,n);return n}optimize(e){const t=[...this.getNodeDepths(e,0,new Map).entries()].sort(((e,t)=>t[1]-e[1]));for(const n of t)this.run(n[0]);return this.modifiedFlag}}class xxe extends yxe{optimize(e){this.run(e);for(const t of e.children)this.optimize(t);return this.modifiedFlag}}class wxe extends xxe{mergeNodes(e,t){const n=t.shift();for(const r of t)e.removeChild(r),r.parent=n,r.remove()}run(e){const t=e.children.map((e=>e.hash())),n={};for(let r=0;r<t.length;r++)void 0===n[t[r]]?n[t[r]]=[e.children[r]]:n[t[r]].push(e.children[r]);for(const r of vle(n))n[r].length>1&&(this.setModified(),this.mergeNodes(e,n[r]))}}class _xe extends xxe{constructor(e){super(),this.requiresSelectionId=e&&Lye(e)}run(e){e instanceof uxe&&(this.requiresSelectionId&&(vxe(e.parent)||e.parent instanceof ixe||e.parent instanceof cxe)||(this.setModified(),e.remove()))}}class kxe extends yxe{optimize(e){return this.run(e,new Set),this.modifiedFlag}run(e,t){let n=new Set;e instanceof gve&&(n=e.producedFields(),hle(n,t)&&(this.setModified(),e.removeFormulas(t),0===e.producedFields.length&&e.remove()));for(const r of e.children)this.run(r,new Set([...t,...n]))}}class Exe extends xxe{constructor(){super()}run(e){e instanceof hve&&!e.isRequired()&&(this.setModified(),e.remove())}}class Sxe extends bxe{run(e){if(!vxe(e)&&!(e.numChildren()>1))for(const t of e.children)if(t instanceof cxe)if(e instanceof cxe)this.setModified(),e.merge(t);else{if(mle(e.producedFields(),t.dependentFields()))continue;this.setModified(),t.swapWithParent()}}}class Cxe extends bxe{run(e){const t=[...e.children],n=e.children.filter((e=>e instanceof cxe));if(e.numChildren()>1&&n.length>=1){const r={},i=new Set;for(const e of n){const t=e.parse;for(const e of vle(t))e in r?r[e]!==t[e]&&i.add(e):r[e]=t[e]}for(const e of i)delete r[e];if(!gle(r)){this.setModified();const n=new cxe(e,r);for(const i of t){if(i instanceof cxe)for(const e of vle(r))delete i.parse[e];e.removeChild(i),i.parent=n,i instanceof cxe&&0===vle(i.parse).length&&i.remove()}}}}}class Mxe extends bxe{run(e){e instanceof hve||e.numChildren()>0||e instanceof oxe||e instanceof hxe||(this.setModified(),e.remove())}}class Txe extends bxe{run(e){const t=e.children.filter((e=>e instanceof gve)),n=t.pop();for(const r of t)this.setModified(),n.merge(r)}}class Axe extends bxe{run(e){const t=e.children.filter((e=>e instanceof ixe)),n={};for(const r of t){const e=rle(r.groupBy);e in n||(n[e]=[]),n[e].push(r)}for(const r of vle(n)){const t=n[r];if(t.length>1){const n=t.pop();for(const r of t)n.merge(r)&&(e.removeChild(r),r.parent=n,r.remove(),this.setModified())}}}}class Dxe extends bxe{constructor(e){super(),this.model=e}run(e){const t=!(vxe(e)||e instanceof Wye||e instanceof cxe||e instanceof uxe),n=[],r=[];for(const i of e.children)i instanceof nxe&&(t&&!mle(e.producedFields(),i.dependentFields())?n.push(i):r.push(i));if(n.length>0){const t=n.pop();for(const e of n)t.merge(e,this.model.renameSignal.bind(this.model));this.setModified(),e instanceof nxe?e.merge(t,this.model.renameSignal.bind(this.model)):t.swapWithParent()}if(r.length>1){const e=r.pop();for(const t of r)e.merge(t,this.model.renameSignal.bind(this.model));this.setModified()}}}class Fxe extends bxe{run(e){const t=[...e.children];if(!ale(t,(e=>e instanceof hve))||e.numChildren()<=1)return;const n=[];let r;for(const i of t)if(i instanceof hve){let t=i;for(;1===t.numChildren();){const[e]=t.children;if(!(e instanceof hve))break;t=e}n.push(...t.children),r?(e.removeChild(i),i.parent=r.parent,r.parent.removeChild(r),r.parent=t,this.setModified()):r=t}else n.push(i);if(n.length){this.setModified();for(const e of n)e.parent.removeChild(e),e.parent=r}}}class Nxe extends fve{clone(){return new Nxe(null,Jae(this.transform))}constructor(e,t){super(e),this.transform=t}addDimensions(e){this.transform.groupby=ule(this.transform.groupby.concat(e),(e=>e))}dependentFields(){const e=new Set;return this.transform.groupby&&this.transform.groupby.forEach(e.add,e),this.transform.joinaggregate.map((e=>e.field)).filter((e=>void 0!==e)).forEach(e.add,e),e}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(e){var t;return null!==(t=e.as)&&void 0!==t?t:$he(e)}hash(){return"JoinAggregateTransform ".concat(rle(this.transform))}assemble(){const e=[],t=[],n=[];for(const i of this.transform.joinaggregate)t.push(i.op),n.push(this.getDefaultName(i)),e.push(void 0===i.field?null:i.field);const r=this.transform.groupby;return{type:"joinaggregate",as:n,ops:t,fields:e,...void 0!==r?{groupby:r}:{}}}}class Rxe extends fve{clone(){return new Rxe(null,Jae(this._stack))}constructor(e,t){super(e),this._stack=t}static makeFromTransform(e,t){const{stack:n,groupby:r,as:i,offset:o="zero"}=t,a=[],l=[];if(void 0!==t.sort)for(const u of t.sort)a.push(u.field),l.push(Nle(u.order,"ascending"));const s={field:a,order:l};let c;return c=function(e){return kD(e)&&e.every((e=>xF(e)))&&e.length>1}(i)?i:xF(i)?[i,"".concat(i,"_end")]:["".concat(t.stack,"_start"),"".concat(t.stack,"_end")],new Rxe(e,{dimensionFieldDefs:[],stackField:n,groupby:r,offset:o,sort:s,facetby:[],as:c})}static makeFromEncoding(e,t){const n=t.stack,{encoding:r}=t;if(!n)return null;const{groupbyChannels:i,fieldChannel:o,offset:a,impute:l}=n,s=i.map((e=>ape(r[e]))).filter((e=>!!e)),c=function(e){return e.stack.stackBy.reduce(((e,t)=>{const n=$he(t.fieldDef);return n&&e.push(n),e}),[])}(t),u=t.encoding.order;let d;if(kD(u)||Ihe(u))d=Tue(u);else{const e=Rhe(u)?u.sort:"y"===o?"descending":"ascending";d=c.reduce(((t,n)=>(t.field.push(n),t.order.push(e),t)),{field:[],order:[]})}return new Rxe(e,{dimensionFieldDefs:s,stackField:t.vgField(o),facetby:[],stackby:c,sort:d,offset:a,impute:l,as:[t.vgField(o,{suffix:"start",forAs:!0}),t.vgField(o,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(e){this._stack.facetby.push(...e)}dependentFields(){const e=new Set;return e.add(this._stack.stackField),this.getGroupbyFields().forEach(e.add,e),this._stack.facetby.forEach(e.add,e),this._stack.sort.field.forEach(e.add,e),e}producedFields(){return new Set(this._stack.as)}hash(){return"Stack ".concat(rle(this._stack))}getGroupbyFields(){const{dimensionFieldDefs:e,impute:t,groupby:n}=this._stack;return e.length>0?e.map((e=>e.bin?t?[$he(e,{binSuffix:"mid"})]:[$he(e,{}),$he(e,{binSuffix:"end"})]:[$he(e)])).flat():null!==n&&void 0!==n?n:[]}assemble(){const e=[],{facetby:t,dimensionFieldDefs:n,stackField:r,stackby:i,sort:o,offset:a,impute:l,as:s}=this._stack;if(l)for(const c of n){const{bandPosition:n=.5,bin:o}=c;if(o){const t=$he(c,{expr:"datum"}),r=$he(c,{expr:"datum",binSuffix:"end"});e.push({type:"formula",expr:"".concat(n,"*").concat(t,"+").concat(1-n,"*").concat(r),as:$he(c,{binSuffix:"mid",forAs:!0})})}e.push({type:"impute",field:r,groupby:[...i,...t],key:$he(c,{binSuffix:"mid"}),method:"value",value:0})}return e.push({type:"stack",groupby:[...this.getGroupbyFields(),...t],field:r,sort:o,as:s,offset:a}),e}}class zxe extends fve{clone(){return new zxe(null,Jae(this.transform))}constructor(e,t){super(e),this.transform=t}addDimensions(e){this.transform.groupby=ule(this.transform.groupby.concat(e),(e=>e))}dependentFields(){var e,t;const n=new Set;return(null!==(e=this.transform.groupby)&&void 0!==e?e:[]).forEach(n.add,n),(null!==(t=this.transform.sort)&&void 0!==t?t:[]).forEach((e=>n.add(e.field))),this.transform.window.map((e=>e.field)).filter((e=>void 0!==e)).forEach(n.add,n),n}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(e){var t;return null!==(t=e.as)&&void 0!==t?t:$he(e)}hash(){return"WindowTransform ".concat(rle(this.transform))}assemble(){const e=[],t=[],n=[],r=[];for(const d of this.transform.window)t.push(d.op),n.push(this.getDefaultName(d)),r.push(void 0===d.param?null:d.param),e.push(void 0===d.field?null:d.field);const i=this.transform.frame,o=this.transform.groupby;if(i&&null===i[0]&&null===i[1]&&t.every((e=>Yce(e))))return{type:"joinaggregate",as:n,ops:t,fields:e,...void 0!==o?{groupby:o}:{}};const a=[],l=[];if(void 0!==this.transform.sort)for(const d of this.transform.sort){var s;a.push(d.field),l.push(null!==(s=d.order)&&void 0!==s?s:"ascending")}const c={field:a,order:l},u=this.transform.ignorePeers;return{type:"window",params:r,as:n,ops:t,fields:e,sort:c,...void 0!==u?{ignorePeers:u}:{},...void 0!==o?{groupby:o}:{},...void 0!==i?{frame:i}:{}}}}function Pxe(e){if(e instanceof oxe)if(1!==e.numChildren()||e.children[0]instanceof hve){const n=e.model.component.data.main;Oxe(n);const r=(t=e,function e(n){if(!(n instanceof oxe)){const r=n.clone();if(r instanceof hve){const e=Ixe+r.getSource();r.setSource(e),t.model.component.data.outputNodes[e]=r}else(r instanceof ixe||r instanceof Rxe||r instanceof zxe||r instanceof Nxe)&&r.addDimensions(t.fields);for(const t of n.children.flatMap(e))t.parent=r;return[r]}return n.children.flatMap(e)}),i=e.children.map(r).flat();for(const e of i)e.parent=n}else{const t=e.children[0];(t instanceof ixe||t instanceof Rxe||t instanceof zxe||t instanceof Nxe)&&t.addDimensions(e.fields),t.swapWithParent(),Pxe(e)}else e.children.map(Pxe);var t}function Oxe(e){if(e instanceof hve&&e.type===ove.Main&&1===e.numChildren()){const t=e.children[0];t instanceof oxe||(t.swapWithParent(),Oxe(e))}}const Ixe="scale_",Lxe=5;function Bxe(e){for(const t of e){for(const e of t.children)if(e.parent!==t)return!1;if(!Bxe(t.children))return!1}return!0}function jxe(e,t){let n=!1;for(const r of t)n=e.optimize(r)||n;return n}function Uxe(e,t,n){let r=e.sources,i=!1;return i=jxe(new Exe,r)||i,i=jxe(new _xe(t),r)||i,r=r.filter((e=>e.numChildren()>0)),i=jxe(new Mxe,r)||i,r=r.filter((e=>e.numChildren()>0)),n||(i=jxe(new Sxe,r)||i,i=jxe(new Dxe(t),r)||i,i=jxe(new kxe,r)||i,i=jxe(new Cxe,r)||i,i=jxe(new Axe,r)||i,i=jxe(new Txe,r)||i,i=jxe(new wxe,r)||i,i=jxe(new Fxe,r)||i),e.sources=r,i}class Kxe{constructor(e){Object.defineProperty(this,"signal",{enumerable:!0,get:e})}static fromName(e,t){return new Kxe((()=>e(t)))}}function Wxe(e){_we(e)?function(e){const t=e.component.scales;for(const n of vle(t)){const r=qxe(e,n);if(t[n].setWithExplicit("domains",r),Yxe(e,n),e.component.data.isFaceted){let t=e;for(;!kwe(t)&&t.parent;)t=t.parent;if("shared"===t.component.resolve.scale[n])for(const e of r.value)due(e)&&(e.data=Ixe+e.data.replace(Ixe,""))}}}(e):function(e){for(const n of e.children)Wxe(n);const t=e.component.scales;for(const n of vle(t)){let r,i=null;for(const t of e.children){const e=t.component.scales[n];if(e){r=void 0===r?e.getWithExplicit("domains"):Xge(r,e.getWithExplicit("domains"),"domains","scale",Xxe);const t=e.get("selectionExtent");i&&t&&i.param!==t.param&&fde(Uue),i=t}}t[n].setWithExplicit("domains",r),i&&t[n].set("selectionExtent",i,!0)}}(e)}function qxe(e,t){const n=e.getScaleComponent(t).get("type"),{encoding:r}=e,i=function(e,t,n,r){if("unaggregated"===e){const{valid:e,reason:r}=Qxe(t,n);if(!e)return void fde(r)}else if(void 0===e&&r.useUnaggregatedDomain){const{valid:e}=Qxe(t,n);if(e)return"unaggregated"}return e}(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return i!==e.scaleDomain(t)&&(e.specifiedScales[t]={...e.specifiedScales[t],domain:i}),"x"===t&&lpe(r.x2)?lpe(r.x)?Xge(Vxe(n,i,e,"x"),Vxe(n,i,e,"x2"),"domain","scale",Xxe):Vxe(n,i,e,"x2"):"y"===t&&lpe(r.y2)?lpe(r.y)?Xge(Vxe(n,i,e,"y"),Vxe(n,i,e,"y2"),"domain","scale",Xxe):Vxe(n,i,e,"y2"):Vxe(n,i,e,t)}function Hxe(e,t,n){var r;const i=null===(r=Fde(n))||void 0===r?void 0:r.unit;return"temporal"===t||i?function(e,t,n){return e.map((e=>{const r=ppe(e,{timeUnit:n,type:t});return{signal:"{data: ".concat(r,"}")}}))}(e,t,i):[e]}function Vxe(e,t,n,r){const{encoding:i,markDef:o,mark:a,config:l,stack:s}=n,c=lpe(i[r]),{type:u}=c,d=c.timeUnit;if(function(e){return null===e||void 0===e?void 0:e.unionWith}(t)){const i=Vxe(e,void 0,n,r);return Vge([...Hxe(t.unionWith,u,d),...i.value])}if(cue(t))return Vge([t]);if(t&&"unaggregated"!==t&&!gfe(t))return Vge(Hxe(t,u,d));if(s&&r===s.fieldChannel){if("normalize"===s.offset)return Gge([[0,1]]);const e=n.requestDataName(ove.Main);return Gge([{data:e,field:n.vgField(r,{suffix:"start"})},{data:e,field:n.vgField(r,{suffix:"end"})}])}const f=Lce(r)&&Ihe(c)?function(e,t,n){if(!ffe(n))return;const r=e.fieldDef(t),i=r.sort;if(Ehe(i))return{op:"min",field:obe(r,t),order:"ascending"};const{stack:o}=e,a=o?new Set([...o.groupbyFields,...o.stackBy.map((e=>e.fieldDef.field))]):void 0;if(khe(i)){return Gxe(i,o&&!a.has(i.field))}if(_he(i)){const{encoding:t,order:n}=i,r=e.fieldDef(t),{aggregate:l,field:s}=r,c=o&&!a.has(s);if(Vce(l)||Gce(l))return Gxe({field:$he(r),order:n},c);if(Yce(l)||!l)return Gxe({op:l,field:s,order:n},c)}else{if("descending"===i)return{op:"min",field:e.vgField(t),order:"descending"};if(ole(["ascending",void 0],i))return!0}return}(n,r,e):void 0;if(Bhe(c)){return Gge(Hxe([c.datum],u,d))}const h=c;if("unaggregated"===t){const e=n.requestDataName(ove.Main),{field:t}=c;return Gge([{data:e,field:$he({field:t,aggregate:"min"})},{data:e,field:$he({field:t,aggregate:"max"})}])}if(eue(h.bin)){if(ffe(e))return Gge("bin-ordinal"===e?[]:[{data:xle(f)?n.requestDataName(ove.Main):n.requestDataName(ove.Raw),field:n.vgField(r,gpe(h,r)?{binSuffix:"range"}:{}),sort:!0!==f&&ED(f)?f:{field:n.vgField(r,{}),op:"min"}}]);{const{bin:e}=h;if(eue(e)){const t=exe(n,h.field,e);return Gge([new Kxe((()=>{const e=n.getSignalName(t);return"[".concat(e,".start, ").concat(e,".stop]")}))])}return Gge([{data:n.requestDataName(ove.Main),field:n.vgField(r,{})}])}}if(h.timeUnit&&ole(["time","utc"],e)){const e=i[Xse(r)];if(Nhe(h,e,o,l)){const t=n.requestDataName(ove.Main),i=Dhe({fieldDef:h,fieldDef2:e,markDef:o,config:l}),s=qfe(a)&&.5!==i&&xce(r);return Gge([{data:t,field:n.vgField(r,s?{suffix:vve}:{})},{data:t,field:n.vgField(r,{suffix:s?yve:"end"})}])}}return Gge(f?[{data:xle(f)?n.requestDataName(ove.Main):n.requestDataName(ove.Raw),field:n.vgField(r),sort:f}]:[{data:n.requestDataName(ove.Main),field:n.vgField(r)}])}function Gxe(e,t){const{op:n,field:r,order:i}=e;return{op:null!==n&&void 0!==n?n:t?"sum":bhe,...r?{field:Tle(r)}:{},...i?{order:i}:{}}}function Yxe(e,t){var n;const r=e.component.scales[t],i=e.specifiedScales[t].domain,o=null===(n=e.fieldDef(t))||void 0===n?void 0:n.bin,a=gfe(i)&&i,l=nue(o)&&rue(o.extent)&&o.extent;(a||l)&&r.set("selectionExtent",null!==a&&void 0!==a?a:l,!0)}function Qxe(e,t){const{aggregate:n,type:r}=e;return n?xF(n)&&!Zce.has(n)?{valid:!1,reason:tde(n)}:"quantitative"===r&&"log"===t?{valid:!1,reason:nde(e)}:{valid:!0}:{valid:!1,reason:ede(e)}}function Xxe(e,t,n,r){return e.explicit&&t.explicit&&fde(function(e,t,n,r){return"Conflicting ".concat(t.toString(),' property "').concat(e.toString(),'" (').concat(Kle(n)," and ").concat(Kle(r),"). Using the union of the two domains.")}(n,r,e.value,t.value)),{explicit:e.explicit,value:[...e.value,...t.value]}}function $xe(e){const t=ule(e.map((e=>{if(due(e)){const{sort:t,...n}=e;return n}return e})),rle),n=ule(e.map((e=>{if(due(e)){const t=e.sort;return void 0===t||xle(t)||("op"in t&&"count"===t.op&&delete t.field,"ascending"===t.order&&delete t.order),t}})).filter((e=>void 0!==e)),rle);if(0===t.length)return;if(1===t.length){const t=e[0];if(due(t)&&n.length>0){let e=n[0];if(n.length>1){fde(ode);const t=n.filter((e=>ED(e)&&"op"in e&&"min"!==e.op));e=!n.every((e=>ED(e)&&"op"in e))||1!==t.length||t[0]}else if(ED(e)&&"field"in e){const n=e.field;t.field===n&&(e=!e.order||{order:e.order})}return{...t,sort:e}}return t}const r=ule(n.map((e=>xle(e)||!("op"in e)||xF(e.op)&&e.op in Hce?e:(fde(function(e){return"Dropping sort property ".concat(Kle(e),' as unioned domains only support boolean or op "count", "min", and "max".')}(e)),!0))),rle);let i;1===r.length?i=r[0]:r.length>1&&(fde(ode),i=!0);const o=ule(e.map((e=>due(e)?e.data:null)),(e=>e));if(1===o.length&&null!==o[0]){return{data:o[0],fields:t.map((e=>e.field)),...i?{sort:i}:{}}}return{fields:t,...i?{sort:i}:{}}}function Zxe(e){if(due(e)&&xF(e.field))return e.field;if(function(e){return!kD(e)&&"fields"in e&&!("data"in e)}(e)){let t;for(const n of e.fields)if(due(n)&&xF(n.field))if(t){if(t!==n.field)return fde("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),t}else t=n.field;return fde("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect."),t}if(function(e){return!kD(e)&&"fields"in e&&"data"in e}(e)){fde("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.");const t=e.fields[0];return xF(t)?t:void 0}}function Jxe(e,t){const n=e.component.scales[t].get("domains").map((t=>(due(t)&&(t.data=e.lookupDataSource(t.data)),t)));return $xe(n)}function ewe(e){return Swe(e)||Ewe(e)?e.children.reduce(((e,t)=>e.concat(ewe(t))),twe(e)):twe(e)}function twe(e){return vle(e.component.scales).reduce(((t,n)=>{const r=e.component.scales[n];if(r.merged)return t;const i=r.combine(),{name:o,type:a,selectionExtent:l,domains:s,range:c,reverse:u,...d}=i,f=function(e,t,n,r){if(xce(n)){if(uue(e))return{step:{signal:"".concat(t,"_step")}}}else if(ED(e)&&due(e))return{...e,data:r.lookupDataSource(e.data)};return e}(i.range,o,n,e),h=Jxe(e,n),p=l?function(e,t,n,r){const i=Hye(e,t.param,t);return{signal:hfe(n.get("type"))&&kD(r)&&r[0]>r[1]?"isValid(".concat(i,") && reverse(").concat(i,")"):i}}(e,l,r,h):null;return t.push({name:o,type:a,...h?{domain:h}:{},...p?{domainRaw:p}:{},range:f,...void 0!==u?{reverse:u}:{},...d}),t}),[])}class nwe extends Hge{constructor(e,t){super({},{name:e}),this.merged=!1,this.setWithExplicit("type",t)}domainDefinitelyIncludesZero(){return!1!==this.get("zero")||ale(this.get("domains"),(e=>kD(e)&&2===e.length&&yF(e[0])&&e[0]<=0&&yF(e[1])&&e[1]>=0))}}const rwe=["range","scheme"];function iwe(e,t){const n=e.fieldDef(t);if(null!==n&&void 0!==n&&n.bin){const{bin:r,field:i}=n,o=$se(t),a=e.getName(o);if(ED(r)&&r.binned&&void 0!==r.step)return new Kxe((()=>{const n=e.scaleName(t),i='(domain("'.concat(n,'")[1] - domain("').concat(n,'")[0]) / ').concat(r.step);return"".concat(e.getSignalName(a)," / (").concat(i,")")}));if(eue(r)){const t=exe(e,i,r);return new Kxe((()=>{const n=e.getSignalName(t),r="(".concat(n,".stop - ").concat(n,".start) / ").concat(n,".step");return"".concat(e.getSignalName(a)," / (").concat(r,")")}))}}}function owe(e,t){const n=t.specifiedScales[e],{size:r}=t,i=t.getScaleComponent(e).get("type");for(const u of rwe)if(void 0!==n[u]){const r=Cfe(i,u),o=Mfe(e,u);if(r)if(o)fde(o);else switch(u){case"range":{const r=n.range;if(kD(r)){if(xce(e))return Vge(r.map((e=>{if("width"===e||"height"===e){const n=t.getName(e),r=t.getSignalName.bind(t);return Kxe.fromName(r,n)}return e})))}else if(ED(r))return Vge({data:t.requestDataName(ove.Main),field:r.field,sort:{op:"min",field:t.vgField(e)}});return Vge(r)}case"scheme":return Vge(awe(n[u]))}else fde(rde(i,u,e))}const o=e===Vle||"xOffset"===e?"width":"height",a=r[o];if(kme(a))if(xce(e))if(ffe(i)){const n=swe(a,t,e);if(n)return Vge({step:n})}else fde(ide(o));else if(Sce(e)){const n=e===Xle?"x":"y";if("band"===t.getScaleComponent(n).get("type")){const e=cwe(a,i);if(e)return Vge(e)}}const{rangeMin:l,rangeMax:s}=n,c=function(e,t){const{size:n,config:r,mark:i,encoding:o}=t,{type:a}=lpe(o[e]),l=t.getScaleComponent(e),s=l.get("type"),{domain:c,domainMid:u}=t.specifiedScales[e];switch(e){case Vle:case Gle:if(ole(["point","band"],s)){const i=uwe(e,n,r.view);if(kme(i)){return{step:swe(i,t,e)}}}return lwe(e,t,s);case Xle:case $le:return function(e,t,n){const r=e===Xle?"x":"y",i=t.getScaleComponent(r);if(!i)return lwe(r,t,n,{center:!0});const o=i.get("type"),a=t.scaleName(r),{markDef:l,config:s}=t;if("band"===o){const e=uwe(r,t.size,t.config.view);if(kme(e)){const t=cwe(e,n);if(t)return t}return[0,{signal:"bandwidth('".concat(a,"')")}]}{const n=t.encoding[r];if(Ihe(n)&&n.timeUnit){const e=Nde(n.timeUnit,(e=>"scale('".concat(a,"', ").concat(e,")"))),r=t.config.scale.bandWithNestedOffsetPaddingInner,i=Dhe({fieldDef:n,markDef:l,config:s})-.5,o=0!==i?" + ".concat(i):"";if(r){const t=cue(r)?"".concat(r.signal,"/2")+o:"".concat(r/2+i),n=cue(r)?"(1 - ".concat(r.signal,"/2)")+o:"".concat(1-r/2+i);return[{signal:"".concat(t," * (").concat(e,")")},{signal:"".concat(n," * (").concat(e,")")}]}return[0,{signal:e}]}return ele("Cannot use ".concat(e," scale if ").concat(r," scale is not discrete."))}}(e,t,s);case use:{const o=dwe(i,t.component.scales[e].get("zero"),r),a=function(e,t,n,r){const i={x:iwe(n,"x"),y:iwe(n,"y")};switch(e){case"bar":case"tick":{if(void 0!==r.scale.maxBandSize)return r.scale.maxBandSize;const e=hwe(t,i,r.view);return yF(e)?e-1:new Kxe((()=>"".concat(e.signal," - 1")))}case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":{if(r.scale.maxSize)return r.scale.maxSize;const e=hwe(t,i,r.view);return yF(e)?Math.pow(fwe*e,2):new Kxe((()=>"pow(".concat(fwe," * ").concat(e.signal,", 2)")))}}throw new Error(Xue("size",e))}(i,n,t,r);return mfe(s)?function(e,t,n){const r=()=>{const r=wue(t),i=wue(e),o="(".concat(r," - ").concat(i,") / (").concat(n," - 1)");return"sequence(".concat(i,", ").concat(r," + ").concat(o,", ").concat(o,")")};return cue(t)?new Kxe(r):{signal:r()}}(o,a,function(e,t,n,r){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return void 0!==n&&kD(n)?n.length+1:(fde(function(e){return"Domain for ".concat(e," is required for threshold scale.")}(r)),3)}}(s,r,c,e)):[o,a]}case ese:return[0,2*Math.PI];case dse:return[0,360];case Zle:return[0,new Kxe((()=>{const e=t.getSignalName("width"),n=t.getSignalName("height");return"min(".concat(e,",").concat(n,")/2")}))];case mse:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case gse:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case cse:return"symbol";case ase:case lse:case sse:return"ordinal"===s?"nominal"===a?"category":"ordinal":void 0!==u?"diverging":"rect"===i||"geoshape"===i?"heatmap":"ramp";case fse:case hse:case pse:return[r.scale.minOpacity,r.scale.maxOpacity]}}(e,t);return(void 0!==l||void 0!==s)&&Cfe(i,"rangeMin")&&kD(c)&&2===c.length?Vge([null!==l&&void 0!==l?l:c[0],null!==s&&void 0!==s?s:c[1]]):Gge(c)}function awe(e){return function(e){return!xF(e)&&!!e.name}(e)?{scheme:e.name,...nle(e,["name"])}:{scheme:e}}function lwe(e,t,n){let{center:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=$se(e),o=t.getName(i),a=t.getSignalName.bind(t);return e===Gle&&hfe(n)?r?[Kxe.fromName((e=>"".concat(a(e),"/2")),o),Kxe.fromName((e=>"-".concat(a(e),"/2")),o)]:[Kxe.fromName(a,o),0]:r?[Kxe.fromName((e=>"-".concat(a(e),"/2")),o),Kxe.fromName((e=>"".concat(a(e),"/2")),o)]:[0,Kxe.fromName(a,o)]}function swe(e,t,n){const{encoding:r}=t,i=t.getScaleComponent(n),o=Jse(n),a=r[o];if("offset"===_me({step:e,offsetIsDiscrete:Whe(a)&&Qde(a.type)})&&Tpe(r,o)){var l;const n=t.getScaleComponent(o),r=t.scaleName(o);let a="domain('".concat(r,"').length");if("band"===n.get("type")){var s,c,u,d;const e=null!==(s=null!==(c=n.get("paddingInner"))&&void 0!==c?c:n.get("padding"))&&void 0!==s?s:0,t=null!==(u=null!==(d=n.get("paddingOuter"))&&void 0!==d?d:n.get("padding"))&&void 0!==u?u:0;a="bandspace(".concat(a,", ").concat(e,", ").concat(t,")")}const f=null!==(l=i.get("paddingInner"))&&void 0!==l?l:i.get("padding");return{signal:"".concat(e.step," * ").concat(a," / (1-").concat(bue(f),")")}}return e.step}function cwe(e,t){if("offset"===_me({step:e,offsetIsDiscrete:ffe(t)}))return{step:e.step}}function uwe(e,t,n){const r=e===Vle?"width":"height",i=t[r];return i||Tme(n,r)}function dwe(e,t,n){if(t)return cue(t)?{signal:"".concat(t.signal," ? 0 : ").concat(dwe(e,!1,n))}:0;switch(e){case"bar":case"tick":return n.scale.minBandSize;case"line":case"trail":case"rule":return n.scale.minStrokeWidth;case"text":return n.scale.minFontSize;case"point":case"square":case"circle":return n.scale.minSize}throw new Error(Xue("size",e))}const fwe=.95;function hwe(e,t,n){const r=kme(e.width)?e.width.step:Mme(n,"width"),i=kme(e.height)?e.height.step:Mme(n,"height");return t.x||t.y?new Kxe((()=>{const e=[t.x?t.x.signal:r,t.y?t.y.signal:i];return"min(".concat(e.join(", "),")")})):Math.min(r,i)}function pwe(e,t){_we(e)?function(e,t){const n=e.component.scales,{config:r,encoding:i,markDef:o,specifiedScales:a}=e;for(const l of vle(n)){const s=a[l],c=n[l],u=e.getScaleComponent(l),d=lpe(i[l]),f=s[t],h=u.get("type"),p=u.get("padding"),m=u.get("paddingInner"),g=Cfe(h,t),v=Mfe(l,t);if(void 0!==f&&(g?v&&fde(v):fde(rde(h,t,l))),g&&void 0===v)if(void 0!==f){const e=d.timeUnit,n=d.type;switch(t){case"domainMax":case"domainMin":hde(s[t])||"temporal"===n||e?c.set(t,{signal:ppe(s[t],{type:n,timeUnit:e})},!0):c.set(t,s[t],!0);break;default:c.copyKeyFromObject(t,s)}}else{const n=t in mwe?mwe[t]({model:e,channel:l,fieldOrDatumDef:d,scaleType:h,scalePadding:p,scalePaddingInner:m,domain:s.domain,domainMin:s.domainMin,domainMax:s.domainMax,markDef:o,config:r,hasNestedOffsetScale:Ape(i,l),hasSecondaryRangeChannel:!!i[Xse(l)]}):r.scale[t];void 0!==n&&c.set(t,n,!1)}}}(e,t):vwe(e,t)}const mwe={bins:e=>{let{model:t,fieldOrDatumDef:n}=e;return Ihe(n)?function(e,t){const n=t.bin;if(eue(n)){const r=exe(e,t.field,n);return new Kxe((()=>e.getSignalName(r)))}if(tue(n)&&nue(n)&&void 0!==n.step)return{step:n.step};return}(t,n):void 0},interpolate:e=>{let{channel:t,fieldOrDatumDef:n}=e;return function(e,t){if(ole([ase,lse,sse],e)&&"nominal"!==t)return"hcl";return}(t,n.type)},nice:e=>{let{scaleType:t,channel:n,domain:r,domainMin:i,domainMax:o,fieldOrDatumDef:a}=e;return function(e,t,n,r,i,o){var a;if(null!==(a=ape(o))&&void 0!==a&&a.bin||kD(n)||null!=i||null!=r||ole([tfe.TIME,tfe.UTC],e))return;return!!xce(t)||void 0}(t,n,r,i,o,a)},padding:e=>{let{channel:t,scaleType:n,fieldOrDatumDef:r,markDef:i,config:o}=e;return function(e,t,n,r,i,o){if(xce(e)){if(pfe(t)){if(void 0!==n.continuousPadding)return n.continuousPadding;const{type:t,orient:a}=i;if("bar"===t&&(!Ihe(r)||!r.bin&&!r.timeUnit)&&("vertical"===a&&"x"===e||"horizontal"===a&&"y"===e))return o.continuousBandSize}if(t===tfe.POINT)return n.pointPadding}return}(t,n,o.scale,r,i,o.bar)},paddingInner:e=>{let{scalePadding:t,channel:n,markDef:r,scaleType:i,config:o,hasNestedOffsetScale:a}=e;return function(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(void 0!==e)return;if(xce(t)){const{bandPaddingInner:e,barBandPaddingInner:t,rectBandPaddingInner:r,bandWithNestedOffsetPaddingInner:a}=i;return o?a:Nle(e,"bar"===n?t:r)}if(Sce(t)&&r===tfe.BAND)return i.offsetBandPaddingInner;return}(t,n,r.type,i,o.scale,a)},paddingOuter:e=>{let{scalePadding:t,channel:n,scaleType:r,scalePaddingInner:i,config:o,hasNestedOffsetScale:a}=e;return function(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(void 0!==e)return;if(xce(t)){const{bandPaddingOuter:e,bandWithNestedOffsetPaddingOuter:t}=i;if(o)return t;if(n===tfe.BAND)return Nle(e,cue(r)?{signal:"".concat(r.signal,"/2")}:r/2)}else if(Sce(t)){if(n===tfe.POINT)return.5;if(n===tfe.BAND)return i.offsetBandPaddingOuter}return}(t,n,r,i,o.scale,a)},reverse:e=>{let{fieldOrDatumDef:t,scaleType:n,channel:r,config:i}=e;return function(e,t,n,r){if("x"===n&&void 0!==r.xReverse)return hfe(e)&&"descending"===t?cue(r.xReverse)?{signal:"!".concat(r.xReverse.signal)}:!r.xReverse:r.xReverse;if(hfe(e)&&"descending"===t)return!0;return}(n,Ihe(t)?t.sort:void 0,r,i.scale)},zero:e=>{let{channel:t,fieldOrDatumDef:n,domain:r,markDef:i,scaleType:o,config:a,hasSecondaryRangeChannel:l}=e;return function(e,t,n,r,i,o,a){if(n&&"unaggregated"!==n&&hfe(i)){if(kD(n)){const e=n[0],t=n[n.length-1];if(yF(e)&&e<=0&&yF(t)&&t>=0)return!0}return!1}if("size"===e&&"quantitative"===t.type&&!mfe(i))return!0;if((!Ihe(t)||!t.bin)&&ole([...bce,..._ce],e)){const{orient:t,type:n}=r;return(!ole(["bar","area","line","trail"],n)||!("horizontal"===t&&"y"===e||"vertical"===t&&"x"===e))&&(!(!ole(["bar","area"],n)||a)||(null===o||void 0===o?void 0:o.zero))}return!1}(t,n,r,i,o,a.scale,l)}};function gwe(e){_we(e)?function(e){const t=e.component.scales;for(const n of Ice){const r=t[n];if(!r)continue;const i=owe(n,e);r.setWithExplicit("range",i)}}(e):vwe(e,"range")}function vwe(e,t){const n=e.component.scales;for(const r of e.children)"range"===t?gwe(r):pwe(r,t);for(const r of vle(n)){let i;for(const n of e.children){const e=n.component.scales[r];if(e){i=Xge(i,e.getWithExplicit(t),t,"scale",Yge(((e,n)=>"range"===t&&e.step&&n.step?e.step-n.step:0)))}}n[r].setWithExplicit(t,i)}}function ywe(e,t,n,r){const i=function(e,t,n,r){switch(t.type){case"nominal":case"ordinal":var i;if(Nse(e)||"discrete"===Wce(e))return"shape"===e&&"ordinal"===t.type&&fde(Jue(e,"ordinal")),"ordinal";if(xce(e)||Sce(e)){if(ole(["rect","bar","image","rule"],n.type))return"band";if(r)return"band"}else if("arc"===n.type&&e in wce)return"band";return Xfe(n[$se(e)])||Ghe(t)&&null!==(i=t.axis)&&void 0!==i&&i.tickBand?"band":"point";case"temporal":return Nse(e)?"time":"discrete"===Wce(e)?(fde(Jue(e,"temporal")),"ordinal"):Ihe(t)&&t.timeUnit&&Fde(t.timeUnit).utc?"utc":"time";case"quantitative":return Nse(e)?Ihe(t)&&eue(t.bin)?"bin-ordinal":"linear":"discrete"===Wce(e)?(fde(Jue(e,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(Gue(t.type))}(t,n,r,arguments.length>4&&void 0!==arguments[4]&&arguments[4]),{type:o}=e;return Lce(t)?void 0!==o?function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!Lce(e))return!1;switch(e){case Vle:case Gle:case Xle:case $le:case ese:case Zle:return!!pfe(t)||"band"===t||"point"===t&&!n;case use:case mse:case fse:case hse:case pse:case dse:return pfe(t)||mfe(t)||ole(["band","point","ordinal"],t);case ase:case lse:case sse:return"band"!==t;case gse:case cse:return"ordinal"===t||mfe(t)}}(t,o)?Ihe(n)&&(a=o,l=n.type,!(ole([$de,Jde],l)?void 0===a||ffe(a):l===Zde?ole([tfe.TIME,tfe.UTC,void 0],a):l!==Xde||sfe(a)||mfe(a)||void 0===a))?(fde(function(e,t){return'FieldDef does not work with "'.concat(e,'" scale. We are using "').concat(t,'" scale instead.')}(o,i)),i):o:(fde(function(e,t,n){return'Channel "'.concat(e,'" does not work with "').concat(t,'" scale. We are using "').concat(n,'" scale instead.')}(t,o,i)),i):i:null;var a,l}function bwe(e){_we(e)?e.component.scales=function(e){const{encoding:t,mark:n,markDef:r}=e,i={};for(const a of Ice){const l=lpe(t[a]);if(l&&n===Kfe&&a===cse&&l.type===efe)continue;let s=l&&l.scale;if(l&&null!==s&&!1!==s){var o;null!==(o=s)&&void 0!==o||(s={});const n=ywe(s,a,l,r,Ape(t,a));i[a]=new nwe(e.scaleName("".concat(a),!0),{value:n,explicit:s.type===n})}}return i}(e):e.component.scales=function(e){var t;const n=e.component.scales={},r={},i=e.component.resolve;for(const a of e.children){bwe(a);for(const n of vle(a.component.scales)){var o;if(null!==(o=(t=i.scale)[n])&&void 0!==o||(t[n]=Mbe(n,e)),"shared"===i.scale[n]){const e=r[n],t=a.component.scales[n].getWithExplicit("type");e?rfe(e.value,t.value)?r[n]=Xge(e,t,"type","scale",xwe):(i.scale[n]="independent",delete r[n]):r[n]=t}}}for(const a of vle(r)){const t=e.scaleName(a,!0),i=r[a];n[a]=new nwe(t,i);for(const n of e.children){const e=n.component.scales[a];e&&(n.renameScale(e.get("name"),t),e.merged=!0)}}return n}(e)}const xwe=Yge(((e,t)=>ofe(e)-ofe(t)));class wwe{constructor(){this.nameMap={}}rename(e,t){this.nameMap[e]=t}has(e){return void 0!==this.nameMap[e]}get(e){for(;this.nameMap[e]&&e!==this.nameMap[e];)e=this.nameMap[e];return e}}function _we(e){return"unit"===(null===e||void 0===e?void 0:e.type)}function kwe(e){return"facet"===(null===e||void 0===e?void 0:e.type)}function Ewe(e){return"concat"===(null===e||void 0===e?void 0:e.type)}function Swe(e){return"layer"===(null===e||void 0===e?void 0:e.type)}class Cwe{constructor(e,t,n,r,i,o,a){var l,s;this.type=t,this.parent=n,this.config=i,this.correctDataNames=e=>{var t,n;return null!==(t=e.from)&&void 0!==t&&t.data&&(e.from.data=this.lookupDataSource(e.from.data)),null!==(n=e.from)&&void 0!==n&&null!==(n=n.facet)&&void 0!==n&&n.data&&(e.from.facet.data=this.lookupDataSource(e.from.facet.data)),e},this.parent=n,this.config=i,this.view=aue(a),this.name=null!==(l=e.name)&&void 0!==l?l:r,this.title=sue(e.title)?{text:e.title}:e.title?aue(e.title):void 0,this.scaleNameMap=n?n.scaleNameMap:new wwe,this.projectionNameMap=n?n.projectionNameMap:new wwe,this.signalNameMap=n?n.signalNameMap:new wwe,this.data=e.data,this.description=e.description,this.transforms=function(e){return e.map((e=>fge(e)?{filter:Zae(e.filter,Vde)}:e))}(null!==(s=e.transform)&&void 0!==s?s:[]),this.layout="layer"===t||"unit"===t?{}:function(e,t,n){const r=n[t],i={},{spacing:o,columns:a}=r;void 0!==o&&(i.spacing=o),void 0!==a&&(Mhe(e)&&!She(e.facet)||bme(e))&&(i.columns=a),xme(e)&&(i.columns=1);for(const c of Sme)if(void 0!==e[c])if("spacing"===c){var l,s;const t=e[c];i[c]=yF(t)?t:{row:null!==(l=t.row)&&void 0!==l?l:o,column:null!==(s=t.column)&&void 0!==s?s:o}}else i[c]=e[c];return i}(e,t,i),this.component={data:{sources:n?n.component.data.sources:[],outputNodes:n?n.component.data.outputNodes:{},outputNodeRefCounts:n?n.component.data.outputNodeRefCounts:{},isFaceted:Mhe(e)||(null===n||void 0===n?void 0:n.component.data.isFaceted)&&void 0===e.data},layoutSize:new Hge,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:{scale:{},axis:{},legend:{},...o?Jae(o):{}},selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){!function(e){let{ignoreRange:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};bwe(e),Wxe(e);for(const n of Sfe)pwe(e,n);t||gwe(e)}(this)}parseProjection(){$be(this)}renameTopLevelLayoutSizeSignal(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width"),"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}parseLegends(){Ube(this)}assembleEncodeFromView(e){const{style:t,...n}=e,r={};for(const i of vle(n)){const e=n[i];void 0!==e&&(r[i]=yue(e))}return r}assembleGroupEncodeEntry(e){let t={};var n;if((this.view&&(t=this.assembleEncodeFromView(this.view)),!e)&&(this.description&&(t.description=yue(this.description)),"unit"===this.type||"layer"===this.type))return{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height"),...null!==(n=t)&&void 0!==n?n:{}};return gle(t)?void 0:t}assembleLayout(){if(!this.layout)return;const{spacing:e,...t}=this.layout,{component:n,config:r}=this,i=function(e,t){const n={};for(const r of zse){const i=e[r];if(null!==i&&void 0!==i&&i.facetFieldDef){const{titleAnchor:e,titleOrient:o}=sbe(["titleAnchor","titleOrient"],i.facetFieldDef.header,t,r),a=abe(r,o),l=bbe(e,a);void 0!==l&&(n[a]=l)}}return gle(n)?void 0:n}(n.layoutHeaders,r);return{padding:e,...this.assembleDefaultLayout(),...t,...i?{titleBand:i}:{}}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:e}=this.component;let t=[];for(const n of zse)e[n].title&&t.push(dbe(this,n));for(const n of cbe)t=t.concat(pbe(this,n));return t}assembleAxes(){return function(e,t){const{x:n=[],y:r=[]}=e;return[...n.map((e=>Yye(e,"grid",t))),...r.map((e=>Yye(e,"grid",t))),...n.map((e=>Yye(e,"main",t))),...r.map((e=>Yye(e,"main",t)))].filter((e=>e))}(this.component.axes,this.config)}assembleLegends(){return Vbe(this)}assembleProjections(){return Gbe(this)}assembleTitle(){var e;const{encoding:t,...n}=null!==(e=this.title)&&void 0!==e?e:{},r={...lue(this.config.title).nonMarkTitleProperties,...n,...t?{encode:{update:t}}:{}};if(r.text){var i,o;if(ole(["unit","layer"],this.type)){if(ole(["middle",void 0],r.anchor))null!==(i=r.frame)&&void 0!==i||(r.frame="group")}else null!==(o=r.anchor)&&void 0!==o||(r.anchor="start");return gle(r)?void 0:r}}assembleGroup(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t={};e=e.concat(this.assembleSignals()),e.length>0&&(t.signals=e);const n=this.assembleLayout();n&&(t.layout=n),t.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const r=!this.parent||kwe(this.parent)?ewe(this):[];r.length>0&&(t.scales=r);const i=this.assembleAxes();i.length>0&&(t.axes=i);const o=this.assembleLegends();return o.length>0&&(t.legends=o),t}getName(e){return wle((this.name?"".concat(this.name,"_"):"")+e)}getDataName(e){return this.getName(ove[e].toLowerCase())}requestDataName(e){const t=this.getDataName(e),n=this.component.data.outputNodeRefCounts;return n[t]=(n[t]||0)+1,t}getSizeSignalRef(e){if(kwe(this.parent)){const t=kce(Sbe(e)),n=this.component.scales[t];if(n&&!n.merged){const e=n.get("type"),r=n.get("range");if(ffe(e)&&uue(r)){const e=n.get("name"),r=Zxe(Jxe(this,t));if(r){return{signal:Ebe(e,n,$he({aggregate:"distinct",field:r},{expr:"datum"}))}}return fde(Iue(t)),null}}}return{signal:this.signalNameMap.get(this.getName(e))}}lookupDataSource(e){const t=this.component.data.outputNodes[e];return t?t.getSource():e}getSignalName(e){return this.signalNameMap.get(e)}renameSignal(e,t){this.signalNameMap.rename(e,t)}renameScale(e,t){this.scaleNameMap.rename(e,t)}renameProjection(e,t){this.projectionNameMap.rename(e,t)}scaleName(e,t){return t?this.getName(e):Hse(e)&&Lce(e)&&this.component.scales[e]||this.scaleNameMap.has(this.getName(e))?this.scaleNameMap.get(this.getName(e)):void 0}projectionName(e){return e?this.getName("projection"):this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection"))?this.projectionNameMap.get(this.getName("projection")):void 0}getScaleComponent(e){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const t=this.component.scales[e];return t&&!t.merged?t:this.parent?this.parent.getScaleComponent(e):void 0}getSelectionComponent(e,t){let n=this.component.selection[e];if(!n&&this.parent&&(n=this.parent.getSelectionComponent(e,t)),!n)throw new Error('Cannot find a selection named "'.concat(t,'".'));return n}hasAxisOrientSignalRef(){var e,t;return(null===(e=this.component.axes.x)||void 0===e?void 0:e.some((e=>e.hasOrientSignalRef())))||(null===(t=this.component.axes.y)||void 0===t?void 0:t.some((e=>e.hasOrientSignalRef())))}}class Mwe extends Cwe{vgField(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.fieldDef(e);if(n)return $he(n,t)}reduceFieldDef(e,t){return function(e,t,n,r){return e?vle(e).reduce(((n,i)=>{const o=e[i];return kD(o)?o.reduce(((e,n)=>t.call(r,e,n,i)),n):t.call(r,n,o,i)}),n):n}(this.getMapping(),((t,n,r)=>{const i=ape(n);return i?e(t,i,r):t}),t)}forEachFieldDef(e,t){zpe(this.getMapping(),((t,n)=>{const r=ape(t);r&&e(r,n)}),t)}}class Twe extends fve{clone(){return new Twe(null,Jae(this.transform))}constructor(e,t){var n,r,i;super(e),this.transform=t,this.transform=Jae(t);const o=null!==(n=this.transform.as)&&void 0!==n?n:[void 0,void 0];this.transform.as=[null!==(r=o[0])&&void 0!==r?r:"value",null!==(i=o[1])&&void 0!==i?i:"density"]}dependentFields(){var e;return new Set([this.transform.density,...null!==(e=this.transform.groupby)&&void 0!==e?e:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"DensityTransform ".concat(rle(this.transform))}assemble(){const{density:e,...t}=this.transform,n={type:"kde",field:e,...t};return this.transform.groupby&&(n.resolve="shared"),n}}class Awe extends fve{clone(){return new Awe(null,Jae(this.transform))}constructor(e,t){super(e),this.transform=t,this.transform=Jae(t)}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return"ExtentTransform ".concat(rle(this.transform))}assemble(){const{extent:e,param:t}=this.transform;return{type:"extent",field:e,signal:t}}}class Dwe extends fve{clone(){return new Dwe(null,{...this.filter})}constructor(e,t){super(e),this.filter=t}static make(e,t){const{config:n,mark:r,markDef:i}=t;if("filter"!==Eue("invalid",i,n))return null;const o=t.reduceFieldDef(((e,n,i)=>{const o=Lce(i)&&t.getScaleComponent(i);if(o){hfe(o.get("type"))&&"count"!==n.aggregate&&!Wfe(r)&&(e[n.field]=n)}return e}),{});return vle(o).length?new Dwe(e,o):null}dependentFields(){return new Set(vle(this.filter))}producedFields(){return new Set}hash(){return"FilterInvalid ".concat(rle(this.filter))}assemble(){const e=vle(this.filter).reduce(((e,t)=>{const n=this.filter[t],r=$he(n,{expr:"datum"});return null!==n&&("temporal"===n.type?e.push("(isDate(".concat(r,") || (isValid(").concat(r,") && isFinite(+").concat(r,")))")):"quantitative"===n.type&&(e.push("isValid(".concat(r,")")),e.push("isFinite(+".concat(r,")")))),e}),[]);return e.length>0?{type:"filter",expr:e.join(" && ")}:null}}class Fwe extends fve{clone(){return new Fwe(this.parent,Jae(this.transform))}constructor(e,t){super(e),this.transform=t,this.transform=Jae(t);const{flatten:n,as:r=[]}=this.transform;this.transform.as=n.map(((e,t)=>{var n;return null!==(n=r[t])&&void 0!==n?n:e}))}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return"FlattenTransform ".concat(rle(this.transform))}assemble(){const{flatten:e,as:t}=this.transform;return{type:"flatten",fields:e,as:t}}}class Nwe extends fve{clone(){return new Nwe(null,Jae(this.transform))}constructor(e,t){var n,r,i;super(e),this.transform=t,this.transform=Jae(t);const o=null!==(n=this.transform.as)&&void 0!==n?n:[void 0,void 0];this.transform.as=[null!==(r=o[0])&&void 0!==r?r:"key",null!==(i=o[1])&&void 0!==i?i:"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return"FoldTransform ".concat(rle(this.transform))}assemble(){const{fold:e,as:t}=this.transform;return{type:"fold",fields:e,as:t}}}class Rwe extends fve{clone(){return new Rwe(null,Jae(this.fields),this.geojson,this.signal)}static parseAll(e,t){if(t.component.projection&&!t.component.projection.isFit)return e;let n=0;for(const r of[[rse,nse],[ose,ise]]){const i=r.map((e=>{const n=lpe(t.encoding[e]);return Ihe(n)?n.field:Bhe(n)?{expr:"".concat(n.datum)}:Hhe(n)?{expr:"".concat(n.value)}:void 0}));(i[0]||i[1])&&(e=new Rwe(e,i,null,t.getName("geojson_".concat(n++))))}if(t.channelHasField(cse)){const r=t.typedFieldDef(cse);r.type===efe&&(e=new Rwe(e,null,r.field,t.getName("geojson_".concat(n++))))}return e}constructor(e,t,n,r){super(e),this.fields=t,this.geojson=n,this.signal=r}dependentFields(){var e;const t=(null!==(e=this.fields)&&void 0!==e?e:[]).filter(xF);return new Set([...this.geojson?[this.geojson]:[],...t])}producedFields(){return new Set}hash(){return"GeoJSON ".concat(this.geojson," ").concat(this.signal," ").concat(rle(this.fields))}assemble(){return[...this.geojson?[{type:"filter",expr:'isValid(datum["'.concat(this.geojson,'"])')}]:[],{type:"geojson",...this.fields?{fields:this.fields}:{},...this.geojson?{geojson:this.geojson}:{},signal:this.signal}]}}class zwe extends fve{clone(){return new zwe(null,this.projection,Jae(this.fields),Jae(this.as))}constructor(e,t,n,r){super(e),this.projection=t,this.fields=n,this.as=r}static parseAll(e,t){if(!t.projectionName())return e;for(const n of[[rse,nse],[ose,ise]]){const r=n.map((e=>{const n=lpe(t.encoding[e]);return Ihe(n)?n.field:Bhe(n)?{expr:"".concat(n.datum)}:Hhe(n)?{expr:"".concat(n.value)}:void 0})),i=n[0]===ose?"2":"";(r[0]||r[1])&&(e=new zwe(e,t.projectionName(),r,[t.getName("x".concat(i)),t.getName("y".concat(i))]))}return e}dependentFields(){return new Set(this.fields.filter(xF))}producedFields(){return new Set(this.as)}hash(){return"Geopoint ".concat(this.projection," ").concat(rle(this.fields)," ").concat(rle(this.as))}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class Pwe extends fve{clone(){return new Pwe(null,Jae(this.transform))}constructor(e,t){super(e),this.transform=t}dependentFields(){var e;return new Set([this.transform.impute,this.transform.key,...null!==(e=this.transform.groupby)&&void 0!==e?e:[]])}producedFields(){return new Set([this.transform.impute])}processSequence(e){const{start:t=0,stop:n,step:r}=e,i=[t,n,...r?[r]:[]].join(",");return{signal:"sequence(".concat(i,")")}}static makeFromTransform(e,t){return new Pwe(e,t)}static makeFromEncoding(e,t){const n=t.encoding,r=n.x,i=n.y;if(Ihe(r)&&Ihe(i)){const o=r.impute?r:i.impute?i:void 0;if(void 0===o)return;const a=r.impute?i:i.impute?r:void 0,{method:l,value:s,frame:c,keyvals:u}=o.impute,d=Ppe(t.mark,n);return new Pwe(e,{impute:o.field,key:a.field,...l?{method:l}:{},...void 0!==s?{value:s}:{},...c?{frame:c}:{},...void 0!==u?{keyvals:u}:{},...d.length?{groupby:d}:{}})}return null}hash(){return"Impute ".concat(rle(this.transform))}assemble(){const{impute:e,key:t,keyvals:n,method:r,groupby:i,value:o,frame:a=[null,null]}=this.transform,l={type:"impute",field:e,key:t,...n?{keyvals:hge(n)?this.processSequence(n):n}:{},method:"value",...i?{groupby:i}:{},value:r&&"value"!==r?null:o};if(r&&"value"!==r){return[l,{type:"window",as:["imputed_".concat(e,"_value")],ops:[r],fields:[e],frame:a,ignorePeers:!1,...i?{groupby:i}:{}},{type:"formula",expr:"datum.".concat(e," === null ? datum.imputed_").concat(e,"_value : datum.").concat(e),as:e}]}return[l]}}class Owe extends fve{clone(){return new Owe(null,Jae(this.transform))}constructor(e,t){var n,r,i;super(e),this.transform=t,this.transform=Jae(t);const o=null!==(n=this.transform.as)&&void 0!==n?n:[void 0,void 0];this.transform.as=[null!==(r=o[0])&&void 0!==r?r:t.on,null!==(i=o[1])&&void 0!==i?i:t.loess]}dependentFields(){var e;return new Set([this.transform.loess,this.transform.on,...null!==(e=this.transform.groupby)&&void 0!==e?e:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"LoessTransform ".concat(rle(this.transform))}assemble(){const{loess:e,on:t,...n}=this.transform;return{type:"loess",x:t,y:e,...n}}}class Iwe extends fve{clone(){return new Iwe(null,Jae(this.transform),this.secondary)}constructor(e,t,n){super(e),this.transform=t,this.secondary=n}static make(e,t,n,r){const i=t.component.data.sources,{from:o}=n;let a=null;if(function(e){return"data"in e}(o)){let e=Zwe(o.data,i);e||(e=new hxe(o.data),i.push(e));const n=t.getName("lookup_".concat(r));a=new hve(e,n,ove.Lookup,t.component.data.outputNodeRefCounts),t.component.data.outputNodes[n]=a}else if(function(e){return"param"in e}(o)){const e=o.param;let r;n={as:e,...n};try{r=t.getSelectionComponent(wle(e),e)}catch(BMe){throw new Error('Lookups can only be performed on selection parameters. "'.concat(e,'" is a variable parameter.'))}if(a=r.materialized,!a)throw new Error(function(e){return'Cannot define and lookup the "'.concat(e,'" selection in the same view. ')+"Try moving the lookup into a second, layered view?"}(e))}return new Iwe(e,n,a.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?YD(this.transform.as):this.transform.from.fields)}hash(){return"Lookup ".concat(rle({transform:this.transform,secondary:this.secondary}))}assemble(){let e;if(this.transform.from.fields)e={values:this.transform.from.fields,...this.transform.as?{as:YD(this.transform.as)}:{}};else{let t=this.transform.as;xF(t)||(fde('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),t="_lookup"),e={as:[t]}}return{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup],...e,...this.transform.default?{default:this.transform.default}:{}}}}class Lwe extends fve{clone(){return new Lwe(null,Jae(this.transform))}constructor(e,t){var n,r,i;super(e),this.transform=t,this.transform=Jae(t);const o=null!==(n=this.transform.as)&&void 0!==n?n:[void 0,void 0];this.transform.as=[null!==(r=o[0])&&void 0!==r?r:"prob",null!==(i=o[1])&&void 0!==i?i:"value"]}dependentFields(){var e;return new Set([this.transform.quantile,...null!==(e=this.transform.groupby)&&void 0!==e?e:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"QuantileTransform ".concat(rle(this.transform))}assemble(){const{quantile:e,...t}=this.transform;return{type:"quantile",field:e,...t}}}class Bwe extends fve{clone(){return new Bwe(null,Jae(this.transform))}constructor(e,t){var n,r,i;super(e),this.transform=t,this.transform=Jae(t);const o=null!==(n=this.transform.as)&&void 0!==n?n:[void 0,void 0];this.transform.as=[null!==(r=o[0])&&void 0!==r?r:t.on,null!==(i=o[1])&&void 0!==i?i:t.regression]}dependentFields(){var e;return new Set([this.transform.regression,this.transform.on,...null!==(e=this.transform.groupby)&&void 0!==e?e:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"RegressionTransform ".concat(rle(this.transform))}assemble(){const{regression:e,on:t,...n}=this.transform;return{type:"regression",x:t,y:e,...n}}}class jwe extends fve{clone(){return new jwe(null,Jae(this.transform))}constructor(e,t){super(e),this.transform=t}addDimensions(e){var t;this.transform.groupby=ule((null!==(t=this.transform.groupby)&&void 0!==t?t:[]).concat(e),(e=>e))}producedFields(){}dependentFields(){var e;return new Set([this.transform.pivot,this.transform.value,...null!==(e=this.transform.groupby)&&void 0!==e?e:[]])}hash(){return"PivotTransform ".concat(rle(this.transform))}assemble(){const{pivot:e,value:t,groupby:n,limit:r,op:i}=this.transform;return{type:"pivot",field:e,value:t,...void 0!==r?{limit:r}:{},...void 0!==i?{op:i}:{},...void 0!==n?{groupby:n}:{}}}}class Uwe extends fve{clone(){return new Uwe(null,Jae(this.transform))}constructor(e,t){super(e),this.transform=t}dependentFields(){return new Set}producedFields(){return new Set}hash(){return"SampleTransform ".concat(rle(this.transform))}assemble(){return{type:"sample",size:this.transform.sample}}}function Kwe(e){let t=0;return function n(r,i){if(r instanceof hxe&&!r.isGenerator&&!Zge(r.data)){e.push(i);i={name:null,source:i.name,transform:[]}}var o;if(r instanceof cxe&&(r.parent instanceof hxe&&!i.source?(i.format={...null!==(o=i.format)&&void 0!==o?o:{},parse:r.assembleFormatParse()},i.transform.push(...r.assembleTransforms(!0))):i.transform.push(...r.assembleTransforms())),r instanceof oxe)return i.name||(i.name="data_".concat(t++)),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source,void e.push(...r.assemble());if((r instanceof dxe||r instanceof fxe||r instanceof Dwe||r instanceof Wye||r instanceof ibe||r instanceof zwe||r instanceof ixe||r instanceof Iwe||r instanceof zxe||r instanceof Nxe||r instanceof Nwe||r instanceof Fwe||r instanceof Twe||r instanceof Owe||r instanceof Lwe||r instanceof Bwe||r instanceof uxe||r instanceof Uwe||r instanceof jwe||r instanceof Awe)&&i.transform.push(r.assemble()),(r instanceof nxe||r instanceof gve||r instanceof Pwe||r instanceof Rxe||r instanceof Rwe)&&i.transform.push(...r.assemble()),r instanceof hve)if(i.source&&0===i.transform.length)r.setSource(i.source);else if(r.parent instanceof hve)r.setSource(i.name);else if(i.name||(i.name="data_".concat(t++)),r.setSource(i.name),1===r.numChildren()){e.push(i);i={name:null,source:i.name,transform:[]}}switch(r.numChildren()){case 0:r instanceof hve&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:n(r.children[0],i);break;default:{i.name||(i.name="data_".concat(t++));let o=i.name;!i.source||i.transform.length>0?e.push(i):o=i.source;for(const e of r.children){n(e,{name:null,source:o,transform:[]})}break}}}}function Wwe(e){return"top"===e||"left"===e||cue(e)?"header":"footer"}function qwe(e,t){const{facet:n,config:r,child:i,component:o}=e;if(e.channelHasField(t)){var a;const l=n[t],s=lbe("title",null,r,t);let c=npe(l,r,{allowDisabling:!0,includeDefault:void 0===s||!!s});i.component.layoutHeaders[t].title&&(c=kD(c)?c.join(", "):c,c+=" / ".concat(i.component.layoutHeaders[t].title),i.component.layoutHeaders[t].title=null);const u=lbe("labelOrient",l.header,r,t),d=null!==l.header&&Nle(null===(a=l.header)||void 0===a?void 0:a.labels,r.header.labels,!0),f=ole(["bottom","right"],u)?"footer":"header";o.layoutHeaders[t]={title:null!==l.header?c:null,facetFieldDef:l,[f]:"facet"===t?[]:[Hwe(e,t,d)]}}}function Hwe(e,t,n){const r="row"===t?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function Vwe(e,t){const{child:n}=e;if(n.component.axes[t]){const{layoutHeaders:i,resolve:o}=e.component;if(o.axis[t]=Tbe(o,t),"shared"===o.axis[t]){const o="x"===t?"column":"row",a=i[o];for(const i of n.component.axes[t]){var r;const t=Wwe(i.get("orient"));null!==(r=a[t])&&void 0!==r||(a[t]=[Hwe(e,o,!1)]);const n=Yye(i,"main",e.config,{header:!0});n&&a[t][0].axes.push(n),i.mainExtracted=!0}}}}function Gwe(e){for(const t of e.children)t.parseLayoutSize()}function Ywe(e,t){const n=Sbe(t),r=kce(n),i=e.component.resolve,o=e.component.layoutSize;let a;for(const s of e.children){var l;const t=s.component.layoutSize.getWithExplicit(n),o=null!==(l=i.scale[r])&&void 0!==l?l:Mbe(r,e);if("independent"===o&&"step"===t.value){a=void 0;break}if(a){if("independent"===o&&a.value!==t.value){a=void 0;break}a=Xge(a,t,n,"")}else a=t}if(a){for(const r of e.children)e.renameSignal(r.getName(n),e.getName(t)),r.component.layoutSize.set(n,"merged",!1);o.setWithExplicit(t,a)}else o.setWithExplicit(t,{explicit:!1,value:void 0})}function Qwe(e,t){const n="width"===t?"x":"y",r=e.config,i=e.getScaleComponent(n);if(i){const e=i.get("type"),n=i.get("range");if(ffe(e)){const e=Tme(r.view,t);return uue(n)||kme(e)?"step":e}return Cme(r.view,t)}if(e.hasProjection||"arc"===e.mark)return Cme(r.view,t);{const e=Tme(r.view,t);return kme(e)?e.step:e}}function Xwe(e,t,n){return $he(t,{suffix:"by_".concat($he(e)),...null!==n&&void 0!==n?n:{}})}class $we extends Mwe{constructor(e,t,n,r){super(e,"facet",t,n,r,e.resolve),this.child=S_e(e.spec,this,this.getName("child"),void 0,r),this.children=[this.child],this.facet=this.initFacet(e.facet)}initFacet(e){if(!She(e))return{facet:this.initFacetFieldDef(e,"facet")};const t=vle(e),n={};for(const r of t){if(![Wle,qle].includes(r)){fde(Xue(r,"facet"));break}const t=e[r];if(void 0===t.field){fde(Que(t,r));break}n[r]=this.initFacetFieldDef(t,r)}return n}initFacetFieldDef(e,t){const n=upe(e,t);return n.header?n.header=aue(n.header):null===n.header&&(n.header=null),n}channelHasField(e){return!!this.facet[e]}fieldDef(e){return this.facet[e]}parseData(){this.component.data=Jwe(this),this.child.parseData()}parseLayoutSize(){Gwe(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),function(e){for(const t of zse)qwe(e,t);Vwe(e,"x"),Vwe(e,"y")}(this)}assembleSelectionTopLevelSignals(e){return this.child.assembleSelectionTopLevelSignals(e)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(e){return this.child.assembleSelectionData(e)}getHeaderLayoutMixins(){const e={};for(const i of zse)for(const o of ube){const a=this.component.layoutHeaders[i],l=a[o],{facetFieldDef:s}=a;if(s){const n=lbe("titleOrient",s.header,this.config,i);if(["right","bottom"].includes(n)){var t;const r=abe(i,n);null!==(t=e.titleAnchor)&&void 0!==t||(e.titleAnchor={}),e.titleAnchor[r]="end"}}if(null!==l&&void 0!==l&&l[0]){const t="row"===i?"height":"width",l="header"===o?"headerBand":"footerBand";var n,r;if("facet"!==i&&!this.child.component.layoutSize.get(t))null!==(n=e[l])&&void 0!==n||(e[l]={}),e[l][i]=.5;if(a.title)null!==(r=e.offset)&&void 0!==r||(e.offset={}),e.offset["row"===i?"rowTitle":"columnTitle"]=10}}return e}assembleDefaultLayout(){const{column:e,row:t}=this.facet,n=e?this.columnDistinctSignal():t?1:void 0;let r="all";return(t||"independent"!==this.component.resolve.scale.x)&&(e||"independent"!==this.component.resolve.scale.y)||(r="none"),{...this.getHeaderLayoutMixins(),...n?{columns:n}:{},bounds:"full",align:r}}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof $we)){const e=this.getName("column_domain");return{signal:"length(data('".concat(e,"'))")}}}assembleGroupStyle(){}assembleGroup(e){return this.parent&&this.parent instanceof $we?{...this.channelHasField("column")?{encode:{update:{columns:{field:$he(this.facet.column,{prefix:"distinct"})}}}}:{},...super.assembleGroup(e)}:super.assembleGroup(e)}getCardinalityAggregateForChild(){const e=[],t=[],n=[];if(this.child instanceof $we){if(this.child.channelHasField("column")){const r=$he(this.child.facet.column);e.push(r),t.push("distinct"),n.push("distinct_".concat(r))}}else for(const r of bce){const i=this.child.component.scales[r];if(i&&!i.merged){const o=i.get("type"),a=i.get("range");if(ffe(o)&&uue(a)){const i=Zxe(Jxe(this.child,r));i?(e.push(i),t.push("distinct"),n.push("distinct_".concat(i))):fde(Iue(r))}}}return{fields:e,ops:t,as:n}}assembleFacet(){const{name:e,data:t}=this.component.data.facetRoot,{row:n,column:r}=this.facet,{fields:i,ops:o,as:a}=this.getCardinalityAggregateForChild(),l=[];for(const c of zse){const e=this.facet[c];if(e){l.push($he(e));const{bin:t,sort:s}=e;if(eue(t)&&l.push($he(e,{binSuffix:"end"})),khe(s)){const{field:t,op:l=bhe}=s,c=Xwe(e,s);n&&r?(i.push(c),o.push("max"),a.push(c)):(i.push(t),o.push(l),a.push(c))}else if(kD(s)){const t=obe(e,c);i.push(t),o.push("max"),a.push(t)}}}const s=!!n&&!!r;return{name:e,data:t,groupby:l,...s||i.length>0?{aggregate:{...s?{cross:s}:{},...i.length?{fields:i,ops:o,as:a}:{}}}:{}}}facetSortFields(e){const{facet:t}=this,n=t[e];return n?khe(n.sort)?[Xwe(n,n.sort,{expr:"datum"})]:kD(n.sort)?[obe(n,e,{expr:"datum"})]:[$he(n,{expr:"datum"})]:[]}facetSortOrder(e){const{facet:t}=this,n=t[e];if(n){const{sort:e}=n;return[(khe(e)?e.order:!kD(e)&&e)||"ascending"]}return[]}assembleLabelTitle(){const{facet:e,config:t}=this;if(e.facet)return gbe(e.facet,"facet",t);const n={row:["top","bottom"],column:["left","right"]};for(const i of cbe)if(e[i]){var r;const o=lbe("labelOrient",null===(r=e[i])||void 0===r?void 0:r.header,t,i);if(n[i].includes(o))return gbe(e[i],i,t)}}assembleMarks(){const{child:e}=this,t=function(e){const t=[],n=Kwe(t);for(const r of e.children)n(r,{source:e.name,name:null,transform:[]});return t}(this.component.data.facetRoot),n=e.assembleGroupEncodeEntry(!1),r=this.assembleLabelTitle()||e.assembleTitle(),i=e.assembleGroupStyle(),o={name:this.getName("cell"),type:"group",...r?{title:r}:{},...i?{style:i}:{},from:{facet:this.assembleFacet()},sort:{field:zse.map((e=>this.facetSortFields(e))).flat(),order:zse.map((e=>this.facetSortOrder(e))).flat()},...t.length>0?{data:t}:{},...n?{encode:{update:n}}:{},...e.assembleGroup(cve(this,[]))};return[o]}getMapping(){return this.facet}}function Zwe(e,t){for(const a of t){var n,r,i,o;const t=a.data;if(e.name&&a.hasName()&&e.name!==a.dataName)continue;const l=null===(n=e.format)||void 0===n?void 0:n.mesh,s=null===(r=t.format)||void 0===r?void 0:r.feature;if(l&&s)continue;const c=null===(i=e.format)||void 0===i?void 0:i.feature;if((c||s)&&c!==s)continue;const u=null===(o=t.format)||void 0===o?void 0:o.mesh;if(!l&&!u||l===u)if(Jge(e)&&Jge(t)){if(Ule(e.values,t.values))return a}else if(Zge(e)&&Zge(t)){if(e.url===t.url)return a}else if(eve(e)&&e.name===a.dataName)return a}return null}function Jwe(e){var t,n,r;let i=function(e,t){if(e.data||!e.parent){if(null===e.data){const e=new hxe({values:[]});return t.push(e),e}const n=Zwe(e.data,t);if(n)return tve(e.data)||(n.data.format=sle({},e.data.format,n.data.format)),!n.hasName()&&e.data.name&&(n.dataName=e.data.name),n;{const n=new hxe(e.data);return t.push(n),n}}return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}(e,e.component.data.sources);const{outputNodes:o,outputNodeRefCounts:a}=e.component.data,l=e.data,s=!(l&&(tve(l)||Zge(l)||Jge(l)))&&e.parent?e.parent.component.data.ancestorParse.clone():new $ge;tve(l)?(nve(l)?i=new fxe(i,l.sequence):ive(l)&&(i=new dxe(i,l.graticule)),s.parseNothing=!0):null===(null===l||void 0===l||null===(t=l.format)||void 0===t?void 0:t.parse)&&(s.parseNothing=!0),i=null!==(n=cxe.makeExplicit(i,e,s))&&void 0!==n?n:i,i=new uxe(i);const c=e.parent&&Swe(e.parent);var u;(_we(e)||kwe(e))&&(c&&(i=null!==(u=nxe.makeFromEncoding(i,e))&&void 0!==u?u:i));e.transforms.length>0&&(i=function(e,t,n){let r=0;for(const a of t.transforms){let l,s;if(Ege(a))s=e=new ibe(e,a),l="derived";else if(fge(a)){var i;const r=lxe(a);s=e=null!==(i=cxe.makeWithAncestors(e,{},r,n))&&void 0!==i?i:e,e=new Wye(e,t,a.filter)}else if(Sge(a))s=e=nxe.makeFromTransform(e,a,t),l="number";else if(Mge(a))l="date",void 0===n.getWithExplicit(a.field).value&&(e=new cxe(e,{[a.field]:l}),n.set(a.field,l,!1)),s=e=gve.makeFromTransform(e,a);else if(Tge(a))s=e=ixe.makeFromTransform(e,a),l="number",Lye(t)&&(e=new uxe(e));else if(pge(a))s=e=Iwe.make(e,t,a,r++),l="derived";else if(wge(a))s=e=new zxe(e,a),l="number";else if(_ge(a))s=e=new Nxe(e,a),l="number";else if(Age(a))s=e=Rxe.makeFromTransform(e,a),l="derived";else if(Dge(a))s=e=new Nwe(e,a),l="derived";else if(Fge(a))s=e=new Awe(e,a),l="derived";else if(kge(a))s=e=new Fwe(e,a),l="derived";else if(mge(a))s=e=new jwe(e,a),l="derived";else if(xge(a))e=new Uwe(e,a);else if(Cge(a))s=e=Pwe.makeFromTransform(e,a),l="derived";else if(gge(a))s=e=new Twe(e,a),l="derived";else if(vge(a))s=e=new Lwe(e,a),l="derived";else if(yge(a))s=e=new Bwe(e,a),l="derived";else{if(!bge(a)){fde(que(a));continue}s=e=new Owe(e,a),l="derived"}if(s&&void 0!==l)for(const e of null!==(o=s.producedFields())&&void 0!==o?o:[]){var o;n.set(e,l,!1)}}return e}(i,e,s));const d=function(e){const t={};if(_we(e)&&e.component.selection)for(const n of vle(e.component.selection)){const r=e.component.selection[n];for(const e of r.project.items)!e.channel&&Fle(e.field)>1&&(t[e.field]="flatten")}return t}(e),f=sxe(e);if(i=null!==(r=cxe.makeWithAncestors(i,{},{...d,...f},s))&&void 0!==r?r:i,_we(e)&&(i=Rwe.parseAll(i,e),i=zwe.parseAll(i,e)),_we(e)||kwe(e)){var h,p;if(!c)i=null!==(p=nxe.makeFromEncoding(i,e))&&void 0!==p?p:i;i=null!==(h=gve.makeFromEncoding(i,e))&&void 0!==h?h:i,i=ibe.parseAllForSortIndex(i,e)}const m=e.getDataName(ove.Raw),g=new hve(i,m,ove.Raw,a);if(o[m]=g,i=g,_we(e)){var v,y;const t=ixe.makeFromEncoding(i,e);t&&(i=t,Lye(e)&&(i=new uxe(i))),i=null!==(v=Pwe.makeFromEncoding(i,e))&&void 0!==v?v:i,i=null!==(y=Rxe.makeFromEncoding(i,e))&&void 0!==y?y:i}var b;_we(e)&&(i=null!==(b=Dwe.make(i,e))&&void 0!==b?b:i);const x=e.getDataName(ove.Main),w=new hve(i,x,ove.Main,a);o[x]=w,i=w,_we(e)&&function(e,t){for(const[r,i]of ble(null!==(n=e.component.selection)&&void 0!==n?n:{})){var n;const o=e.getName("lookup_".concat(r));e.component.data.outputNodes[o]=i.materialized=new hve(new Wye(t,e,{param:r}),o,ove.Lookup,e.component.data.outputNodeRefCounts)}}(e,w);let _=null;if(kwe(e)){var k;const t=e.getName("facet");i=null!==(k=function(e,t){const{row:n,column:r}=t;if(n&&r){let t=null;for(const i of[n,r])if(khe(i.sort)){const{field:n,op:r=bhe}=i.sort;e=t=new Nxe(e,{joinaggregate:[{op:r,field:n,as:Xwe(i,i.sort,{forAs:!0})}],groupby:[$he(i)]})}return t}return null}(i,e.facet))&&void 0!==k?k:i,_=new oxe(i,e,t,w.getSource()),o[t]=_}return{...e.component.data,outputNodes:o,outputNodeRefCounts:a,raw:g,main:w,facetRoot:_,ancestorParse:s}}class e_e extends Cwe{constructor(e,t,n,r){var i,o;super(e,"concat",t,n,r,e.resolve),"shared"!==(null===(i=e.resolve)||void 0===i||null===(i=i.axis)||void 0===i?void 0:i.x)&&"shared"!==(null===(o=e.resolve)||void 0===o||null===(o=o.axis)||void 0===o?void 0:o.y)||fde("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415)."),this.children=this.getChildren(e).map(((e,t)=>S_e(e,this,this.getName("concat_".concat(t)),void 0,r)))}parseData(){this.component.data=Jwe(this);for(const e of this.children)e.parseData()}parseSelections(){this.component.selection={};for(const e of this.children){e.parseSelections();for(const t of vle(e.component.selection))this.component.selection[t]=e.component.selection[t]}}parseMarkGroup(){for(const e of this.children)e.parseMarkGroup()}parseAxesAndHeaders(){for(const e of this.children)e.parseAxesAndHeaders()}getChildren(e){return xme(e)?e.vconcat:wme(e)?e.hconcat:e.concat}parseLayoutSize(){!function(e){Gwe(e);const t=1===e.layout.columns?"width":"childWidth",n=void 0===e.layout.columns?"height":"childHeight";Ywe(e,t),Ywe(e,n)}(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(e){return this.children.reduce(((e,t)=>t.assembleSelectionTopLevelSignals(e)),e)}assembleSignals(){return this.children.forEach((e=>e.assembleSignals())),[]}assembleLayoutSignals(){const e=wbe(this);for(const t of this.children)e.push(...t.assembleLayoutSignals());return e}assembleSelectionData(e){return this.children.reduce(((e,t)=>t.assembleSelectionData(e)),e)}assembleMarks(){return this.children.map((e=>{const t=e.assembleTitle(),n=e.assembleGroupStyle(),r=e.assembleGroupEncodeEntry(!1);return{type:"group",name:e.getName("group"),...t?{title:t}:{},...n?{style:n}:{},...r?{encode:{update:r}}:{},...e.assembleGroup()}}))}assembleGroupStyle(){}assembleDefaultLayout(){const e=this.layout.columns;return{...null!=e?{columns:e}:{},bounds:"full",align:"each"}}}const t_e={disable:1,gridScale:1,scale:1,...wpe,labelExpr:1,encode:1},n_e=vle(t_e);class r_e extends Hge{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];super(),this.explicit=e,this.implicit=t,this.mainExtracted=n}clone(){return new r_e(Jae(this.explicit),Jae(this.implicit),this.mainExtracted)}hasAxisPart(e){return"axis"===e||("grid"===e||"title"===e?!!this.get(e):!function(e){return!1===e||null===e}(this.get(e)))}hasOrientSignalRef(){return cue(this.explicit.orient)}}const i_e={bottom:"top",top:"bottom",left:"right",right:"left"};function o_e(e,t){if(!e)return t.map((e=>e.clone()));{if(e.length!==t.length)return;const n=e.length;for(let r=0;r<n;r++){const n=e[r],i=t[r];if(!!n!==!!i)return;if(n&&i){const t=n.getWithExplicit("orient"),o=i.getWithExplicit("orient");if(t.explicit&&o.explicit&&t.value!==o.value)return;e[r]=a_e(n,i)}}}return e}function a_e(e,t){for(const n of n_e){const r=Xge(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",((e,t)=>{switch(n){case"title":return Fue(e,t);case"gridScale":return{explicit:e.explicit,value:Nle(e.value,t.value)}}return Qge(e,t,n,"axis")}));e.setWithExplicit(n,r)}return e}function l_e(e,t,n,r,i){if("disable"===t)return void 0!==n;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(cue(n.labelAngle)?n.labelAngle:Lle(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===rbe(r,i))return!0}return e===n[t]}const s_e=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function c_e(e,t){var n,r,i,o,a;let l=t.axis(e);const s=new r_e,c=lpe(t.encoding[e]),{mark:u,config:d}=t,f=(null===(n=l)||void 0===n?void 0:n.orient)||(null===(r=d["x"===e?"axisX":"axisY"])||void 0===r?void 0:r.orient)||(null===(i=d.axis)||void 0===i?void 0:i.orient)||function(e){return"x"===e?"bottom":"left"}(e),h=t.getScaleComponent(e).get("type"),p=function(e,t,n,r){const i="band"===t?["axisDiscrete","axisBand"]:"point"===t?["axisDiscrete","axisPoint"]:sfe(t)?["axisQuantitative"]:"time"===t||"utc"===t?["axisTemporal"]:[],o="x"===e?"axisX":"axisY",a=cue(n)?"axisOrient":"axis".concat(Ele(n)),l=[...i,...i.map((e=>o+e.substr(4)))],s=["axis",a,o];return{vlOnlyAxisConfig:Xye(l,r,e,n),vgAxisConfig:Xye(s,r,e,n),axisConfigStyle:$ye([...s,...l],r)}}(e,h,f,t.config),m=void 0!==l?!l:Zye("disable",d.style,null===(o=l)||void 0===o?void 0:o.style,p).configValue;if(s.set("disable",m,void 0!==l),m)return s;l=l||{};const g=function(e,t,n,r,i){const o=null===t||void 0===t?void 0:t.labelAngle;if(void 0!==o)return cue(o)?o:Lle(o);{const{configValue:o}=Zye("labelAngle",r,null===t||void 0===t?void 0:t.style,i);return void 0!==o?Lle(o):n!==Vle||!ole([Jde,$de],e.type)||Ihe(e)&&e.timeUnit?void 0:270}}(c,l,e,d.style,p),v=phe(l.formatType,c,h),y=hhe(c,c.type,l.format,l.formatType,d,!0),b={fieldOrDatumDef:c,axis:l,channel:e,model:t,scaleType:h,orient:f,labelAngle:g,format:y,formatType:v,mark:u,config:d};for(const _ of n_e){const n=_ in Jye?Jye[_](b):kpe(_)?l[_]:void 0,r=void 0!==n,i=l_e(n,_,l,t,e);if(r&&i)s.set(_,n,i);else{const{configValue:e,configFrom:t}=kpe(_)&&"values"!==_?Zye(_,d.style,l.style,p):{},o=void 0!==e;r&&!o?s.set(_,n,i):("vgAxisConfig"!==t||s_e.has(_)&&o||ype(e)||cue(e))&&s.set(_,e,!1)}}const x=null!==(a=l.encoding)&&void 0!==a?a:{},w=bpe.reduce(((n,r)=>{var i;if(!s.hasAxisPart(r))return n;const o=Cbe(null!==(i=x[r])&&void 0!==i?i:{},t),a="labels"===r?function(e,t,n){var r;const{encoding:i,config:o}=e,a=null!==(r=lpe(i[t]))&&void 0!==r?r:lpe(i[Xse(t)]),l=e.axis(t)||{},{format:s,formatType:c}=l;if(lhe(c))return{text:fhe({fieldOrDatumDef:a,field:"datum.value",format:s,formatType:c,config:o}),...n};if(void 0===s&&void 0===c&&o.customFormatTypes){if("quantitative"===Lhe(a)){if(Ghe(a)&&"normalize"===a.stack&&o.normalizedNumberFormatType)return{text:fhe({fieldOrDatumDef:a,field:"datum.value",format:o.normalizedNumberFormat,formatType:o.normalizedNumberFormatType,config:o}),...n};if(o.numberFormatType)return{text:fhe({fieldOrDatumDef:a,field:"datum.value",format:o.numberFormat,formatType:o.numberFormatType,config:o}),...n}}if("temporal"===Lhe(a)&&o.timeFormatType&&Ihe(a)&&!a.timeUnit)return{text:fhe({fieldOrDatumDef:a,field:"datum.value",format:o.timeFormat,formatType:o.timeFormatType,config:o}),...n}}return n}(t,e,o):o;return void 0===a||gle(a)||(n[r]={update:a}),n}),{});return gle(w)||s.set("encode",w,!!l.encoding||void 0!==l.labelAngle),s}function u_e(e,t){const{config:n}=e;return{...uye(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...$ve("x",e,{defaultPos:"mid"}),...$ve("y",e,{defaultPos:"mid"}),...Gve("size",e),...Gve("angle",e),...d_e(e,n,t)}}function d_e(e,t,n){return n?{shape:{value:n}}:Gve("shape",e)}const f_e={vgMark:"rule",encodeEntry:e=>{const{markDef:t}=e,n=t.orient;return e.encoding.x||e.encoding.y||e.encoding.latitude||e.encoding.longitude?{...uye(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...nye("x",e,{defaultPos:"horizontal"===n?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==n}),...nye("y",e,{defaultPos:"vertical"===n?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==n}),...Gve("size",e,{vgChannel:"strokeWidth"})}:{}}},h_e={vgMark:"text",encodeEntry:e=>{const{config:t,encoding:n}=e;return{...uye(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),...$ve("x",e,{defaultPos:"mid"}),...$ve("y",e,{defaultPos:"mid"}),...Bve(e),...Gve("size",e,{vgChannel:"fontSize"}),...Gve("angle",e),...pye("align",p_e(e.markDef,n,t)),...pye("baseline",m_e(e.markDef,n,t)),...$ve("radius",e,{defaultPos:null}),...$ve("theta",e,{defaultPos:null})}}};function p_e(e,t,n){if(void 0===Eue("align",e,n))return"center"}function m_e(e,t,n){if(void 0===Eue("baseline",e,n))return"middle"}const g_e={vgMark:"rect",encodeEntry:e=>{const{config:t,markDef:n}=e,r=n.orient,i="horizontal"===r?"width":"height",o="horizontal"===r?"height":"width";return{...uye(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...$ve("x",e,{defaultPos:"mid",vgChannel:"xc"}),...$ve("y",e,{defaultPos:"mid",vgChannel:"yc"}),...Gve("size",e,{defaultValue:v_e(e),vgChannel:i}),[o]:yue(Eue("thickness",n,t))}}};function v_e(e){var t;const{config:n,markDef:r}=e,{orient:i}=r,o="horizontal"===i?"width":"height",a=e.getScaleComponent("horizontal"===i?"x":"y"),l=null!==(t=Eue("size",r,n,{vgChannel:o}))&&void 0!==t?t:n.tick.bandSize;if(void 0!==l)return l;{const e=a?a.get("range"):void 0;if(e&&uue(e)&&yF(e.step))return 3*e.step/4;return 3*Mme(n.view,o)/4}}const y_e={arc:{vgMark:"arc",encodeEntry:e=>({...uye(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...$ve("x",e,{defaultPos:"mid"}),...$ve("y",e,{defaultPos:"mid"}),...oye(e,"radius"),...oye(e,"theta")})},area:{vgMark:"area",encodeEntry:e=>({...uye(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),...nye("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===e.markDef.orient}),...nye("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===e.markDef.orient}),...hye(e)})},bar:{vgMark:"rect",encodeEntry:e=>({...uye(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...oye(e,"x"),...oye(e,"y")})},circle:{vgMark:"symbol",encodeEntry:e=>u_e(e,"circle")},geoshape:{vgMark:"shape",encodeEntry:e=>({...uye(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})}),postEncodingTransform:e=>{const{encoding:t}=e,n=t.shape;return[{type:"geoshape",projection:e.projectionName(),...n&&Ihe(n)&&n.type===efe?{field:$he(n,{expr:"datum"})}:{}}]}},image:{vgMark:"image",encodeEntry:e=>({...uye(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),...oye(e,"x"),...oye(e,"y"),...Bve(e,"url")})},line:{vgMark:"line",encodeEntry:e=>({...uye(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...$ve("x",e,{defaultPos:"mid"}),...$ve("y",e,{defaultPos:"mid"}),...Gve("size",e,{vgChannel:"strokeWidth"}),...hye(e)})},point:{vgMark:"symbol",encodeEntry:e=>u_e(e)},rect:{vgMark:"rect",encodeEntry:e=>({...uye(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...oye(e,"x"),...oye(e,"y")})},rule:f_e,square:{vgMark:"symbol",encodeEntry:e=>u_e(e,"square")},text:h_e,tick:g_e,trail:{vgMark:"trail",encodeEntry:e=>({...uye(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...$ve("x",e,{defaultPos:"mid"}),...$ve("y",e,{defaultPos:"mid"}),...Gve("size",e),...hye(e)})}};function b_e(e){if(ole([Rfe,Dfe,Bfe],e.mark)){const t=Ppe(e.mark,e.encoding);if(t.length>0)return function(e,t){return[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:x_e+e.requestDataName(ove.Main),data:e.requestDataName(ove.Main),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:__e(e,{fromPrefix:x_e})}]}(e,t)}else if(e.mark===Ffe){const t=pue.some((t=>Eue(t,e.markDef,e.config)));if(e.stack&&!e.fieldDef("size")&&t)return function(e){var t;const[n]=__e(e,{fromPrefix:w_e}),r=e.scaleName(e.stack.fieldChannel),i=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.vgField(e.stack.fieldChannel,t)},o=(e,t)=>{const n=[i({prefix:"min",suffix:"start",expr:t}),i({prefix:"max",suffix:"start",expr:t}),i({prefix:"min",suffix:"end",expr:t}),i({prefix:"max",suffix:"end",expr:t})];return"".concat(e,"(").concat(n.map((e=>"scale('".concat(r,"',").concat(e,")"))).join(","),")")};let a,l;"x"===e.stack.fieldChannel?(a={...tle(n.encode.update,["y","yc","y2","height",...pue]),x:{signal:o("min","datum")},x2:{signal:o("max","datum")},clip:{value:!0}},l={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},n.encode.update={...nle(n.encode.update,["y","yc","y2"]),height:{field:{group:"height"}}}):(a={...tle(n.encode.update,["x","xc","x2","width"]),y:{signal:o("min","datum")},y2:{signal:o("max","datum")},clip:{value:!0}},l={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},n.encode.update={...nle(n.encode.update,["x","xc","x2"]),width:{field:{group:"width"}}});for(const c of pue){const t=Sue(c,e.markDef,e.config);n.encode.update[c]?(a[c]=n.encode.update[c],delete n.encode.update[c]):t&&(a[c]=yue(t)),t&&(n.encode.update[c]={value:0})}const s=[];if((null===(t=e.stack.groupbyChannels)||void 0===t?void 0:t.length)>0)for(const c of e.stack.groupbyChannels){const t=e.fieldDef(c),n=$he(t);n&&s.push(n),(null!==t&&void 0!==t&&t.bin||null!==t&&void 0!==t&&t.timeUnit)&&s.push($he(t,{binSuffix:"end"}))}a=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce(((t,r)=>{if(n.encode.update[r])return{...t,[r]:n.encode.update[r]};{const n=Sue(r,e.markDef,e.config);return void 0!==n?{...t,[r]:yue(n)}:t}}),a),a.stroke&&(a.strokeForeground={value:!0},a.strokeOffset={value:0});return[{type:"group",from:{facet:{data:e.requestDataName(ove.Main),name:w_e+e.requestDataName(ove.Main),groupby:s,aggregate:{fields:[i({suffix:"start"}),i({suffix:"start"}),i({suffix:"end"}),i({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:a},marks:[{type:"group",encode:{update:l},marks:[n]}]}]}(e)}return __e(e)}const x_e="faceted_path_";const w_e="stack_group_";function __e(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fromPrefix:""};const{mark:n,markDef:r,encoding:i,config:o}=e,a=Nle(r.clip,function(e){const t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return!!(null!==t&&void 0!==t&&t.get("selectionExtent")||null!==n&&void 0!==n&&n.get("selectionExtent"))||void 0}(e),function(e){const t=e.component.projection;return!(!t||t.isFit)||void 0}(e)),l=kue(r),s=i.key,c=function(e){const{encoding:t,stack:n,mark:r,markDef:i,config:o}=e,a=t.order;if(!(!kD(a)&&Hhe(a)&&ile(a.value)||!a&&ile(Eue("order",i,o)))){if((kD(a)||Ihe(a))&&!n)return Tue(a,{expr:"datum"});if(Wfe(r)){const n="horizontal"===i.orient?"y":"x",r=t[n];if(Ihe(r)){const t=r.sort;if(kD(t))return{field:$he(r,{prefix:n,suffix:"sort_index",expr:"datum"})};if(khe(t))return{field:$he({aggregate:Dpe(e.encoding)?t.op:void 0,field:t.field},{expr:"datum"})};if(_he(t))return{field:$he(e.fieldDef(t.encoding),{expr:"datum"}),order:t.order};if(null===t)return;var l;return{field:$he(r,{binSuffix:null!==(l=e.stack)&&void 0!==l&&l.impute?"mid":void 0,expr:"datum"})}}}}}(e),u=function(e){if(!e.component.selection)return null;const t=vle(e.component.selection).length;let n=t,r=e.parent;for(;r&&0===n;)n=vle(r.component.selection).length,r=r.parent;return n?{interactive:t>0||"geoshape"===e.mark||!!e.encoding.tooltip}:null}(e),d=Eue("aria",r,o),f=y_e[n].postEncodingTransform?y_e[n].postEncodingTransform(e):null;return[{name:e.getName("marks"),type:y_e[n].vgMark,...a?{clip:!0}:{},...l?{style:l}:{},...s?{key:s.field}:{},...c?{sort:c}:{},...u||{},...!1===d?{aria:d}:{},from:{data:t.fromPrefix+e.requestDataName(ove.Main)},encode:{update:y_e[n].encodeEntry(e)},...f?{transform:f}:{}}]}class k_e extends Mwe{constructor(e,t,n){var r;let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0;super(e,"unit",t,n,o,void 0,Eme(e)?e.view:void 0),this.specifiedScales={},this.specifiedAxes={},this.specifiedLegends={},this.specifiedProjection={},this.selection=[],this.children=[];const a=Vfe(e.mark)?{...e.mark}:{type:e.mark},l=a.type;void 0===a.filled&&(a.filled=function(e,t,n){let{graticule:r}=n;if(r)return!1;const i=Sue("filled",e,t),o=e.type;return Nle(i,o!==zfe&&o!==Rfe&&o!==Ofe)}(a,o,{graticule:e.data&&ive(e.data)}));const s=this.encoding=function(e,t,n,r){const i={};for(const a of vle(e))Hse(a)||fde("".concat(o=a,"-encoding is dropped as ").concat(o," is not a valid encoding channel."));var o;for(let a of tce){if(!e[a])continue;const o=e[a];if(Sce(a)){const e=ece(a),t=i[e];if(Ihe(t)&&Yde(t.type)&&Ihe(o)&&!t.timeUnit){fde(Vue(e));continue}}if("angle"!==a||"arc"!==t||e.theta||(fde("Arc marks uses theta channel rather than angle, replacing angle with theta."),a=ese),Npe(e,a,t)){if(a===use&&"line"===t){const t=ape(e[a]);if(null!==t&&void 0!==t&&t.aggregate){fde("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.");continue}}if(a===ase&&(n?"fill"in e:"stroke"in e))fde(Yue("encoding",{fill:"fill"in e,stroke:"stroke"in e}));else if(a===bse||a===yse&&!kD(o)&&!Hhe(o)||a===wse&&kD(o)){if(o){if(a===yse){const t=e[a];if(Rhe(t)){i[a]=t;continue}}i[a]=YD(o).reduce(((e,t)=>(Ihe(t)?e.push(upe(t,a)):fde(Que(t,a)),e)),[])}}else{if(a===wse&&null===o)i[a]=null;else if(!Ihe(o)&&!Bhe(o)&&!Hhe(o)&&!zhe(o)&&!cue(o)){fde(Que(o,a));continue}i[a]=spe(o,a,r)}}else fde(Xue(a,t))}return i}(e.encoding||{},l,a.filled,o);this.markDef=Xme(a,s,o),this.size=function(e){let{encoding:t,size:n}=e;for(const r of bce){const e=$se(r);kme(n[e])&&jhe(t[r])&&(delete n[e],fde(ide(e)))}return n}({encoding:s,size:Eme(e)?{...i,...e.width?{width:e.width}:{},...e.height?{height:e.height}:{}}:i}),this.stack=Qme(this.markDef,s),this.specifiedScales=this.initScales(l,s),this.specifiedAxes=this.initAxes(s),this.specifiedLegends=this.initLegends(s),this.specifiedProjection=e.projection,this.selection=(null!==(r=e.params)&&void 0!==r?r:[]).filter((e=>vme(e)))}get hasProjection(){const{encoding:e}=this,t=this.mark===Kfe,n=e&&Dse.some((t=>Whe(e[t])));return t||n}scaleDomain(e){const t=this.specifiedScales[e];return t?t.domain:void 0}axis(e){return this.specifiedAxes[e]}legend(e){return this.specifiedLegends[e]}initScales(e,t){return Ice.reduce(((e,n)=>{const r=lpe(t[n]);var i;r&&(e[n]=this.initScale(null!==(i=r.scale)&&void 0!==i?i:{}));return e}),{})}initScale(e){const{domain:t,range:n}=e,r=aue(e);return kD(t)&&(r.domain=t.map(gue)),kD(n)&&(r.range=n.map(gue)),r}initAxes(e){return bce.reduce(((t,n)=>{const r=e[n];if(Whe(r)||n===Vle&&Whe(e.x2)||n===Gle&&Whe(e.y2)){const e=Whe(r)?r.axis:void 0;t[n]=e?this.initAxis({...e}):e}return t}),{})}initAxis(e){const t=vle(e),n={};for(const r of t){const t=e[r];n[r]=ype(t)?mue(t):gue(t)}return n}initLegends(e){return Pce.reduce(((t,n)=>{const r=lpe(e[n]);if(r&&function(e){switch(e){case ase:case lse:case sse:case use:case cse:case fse:case mse:case gse:return!0;case hse:case pse:case dse:return!1}}(n)){const e=r.legend;t[n]=e?aue(e):e}return t}),{})}parseData(){this.component.data=Jwe(this)}parseLayoutSize(){!function(e){const{size:t,component:n}=e;for(const r of bce){const i=$se(r);if(t[i]){const e=t[i];n.layoutSize.set(i,kme(e)?"step":e,!0)}else{const t=Qwe(e,i);n.layoutSize.set(i,t,!1)}}}(this)}parseSelections(){this.component.selection=function(e,t){const n={},r=e.config.selection;if(!t||!t.length)return n;for(const o of t){const t=wle(o.name),a=o.select,l=xF(a)?a:a.type,s=ED(a)?Jae(a):{type:l},c=r[l];for(const e in c){var i;"fields"!==e&&"encodings"!==e&&("mark"===e&&(s[e]={...c[e],...s[e]}),(void 0===s[e]||!0===s[e])&&(s[e]=Jae(null!==(i=c[e])&&void 0!==i?i:s[e])))}const u=n[t]={...s,name:t,type:l,init:o.value,bind:o.bind,events:xF(s.on)?mne(s.on,"scope"):YD(Jae(s.on))},d=Jae(o);for(const n of Oye)n.defined(u)&&n.parse&&n.parse(e,u,d)}return n}(this,this.selection)}parseMarkGroup(){this.component.mark=b_e(this)}parseAxesAndHeaders(){var e;this.component.axes=(e=this,bce.reduce(((t,n)=>(e.component.scales[n]&&(t[n]=[c_e(n,e)]),t)),{}))}assembleSelectionTopLevelSignals(e){return function(e,t){let n=!1;for(const i of yle(null!==(r=e.component.selection)&&void 0!==r?r:{})){var r;const o=i.name,a=AF(o+Nye),l=t.filter((e=>e.name===o));if(0===l.length){const e="global"===i.resolve?"union":i.resolve,n="point"===i.type?", true, true)":")";t.push({name:i.name,update:"".concat(Pye,"(").concat(a,", ").concat(AF(e)).concat(n)})}n=!0;for(const n of Oye)n.defined(i)&&n.topLevelSignals&&(t=n.topLevelSignals(e,i,t))}if(n){const e=t.filter((e=>"unit"===e.name));0===e.length&&t.unshift({name:"unit",value:{},on:[{events:"pointermove",update:"isTuple(group()) ? group() : unit"}]})}return dve(t)}(this,e)}assembleSignals(){return[...Qye(this),...sve(this,[])]}assembleSelectionData(e){return function(e,t){const n=[...t],r=Iye(e,{escape:!1});for(const o of yle(null!==(i=e.component.selection)&&void 0!==i?i:{})){var i;const e={name:o.name+Nye};if(o.project.hasSelectionId&&(e.transform=[{type:"collect",sort:{field:hme}}]),o.init){const t=o.project.items.map(ave);e.values=o.project.hasSelectionId?o.init.map((e=>({unit:r,[hme]:lve(e,!1)[0]}))):o.init.map((e=>({unit:r,fields:t,values:lve(e,!1)})))}n.filter((e=>e.name===o.name+Nye)).length||n.push(e)}return n}(this,e)}assembleLayout(){return null}assembleLayoutSignals(){return wbe(this)}assembleMarks(){var e;let t=null!==(e=this.component.mark)&&void 0!==e?e:[];return this.parent&&Swe(this.parent)||(t=uve(this,t)),t.map(this.correctDataNames)}assembleGroupStyle(){const{style:e}=this.view||{};return void 0!==e?e:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(e){return Mpe(this.encoding,e)}fieldDef(e){return ape(this.encoding[e])}typedFieldDef(e){const t=this.fieldDef(e);return qhe(t)?t:null}}class E_e extends Cwe{constructor(e,t,n,r,i){super(e,"layer",t,n,i,e.resolve,e.view);const o={...r,...e.width?{width:e.width}:{},...e.height?{height:e.height}:{}};this.children=e.layer.map(((e,t)=>{if(Kme(e))return new E_e(e,this,this.getName("layer_".concat(t)),o,i);if(Spe(e))return new k_e(e,this,this.getName("layer_".concat(t)),o,i);throw new Error(Nue(e))}))}parseData(){this.component.data=Jwe(this);for(const e of this.children)e.parseData()}parseLayoutSize(){var e;Gwe(e=this),Ywe(e,"width"),Ywe(e,"height")}parseSelections(){this.component.selection={};for(const e of this.children){e.parseSelections();for(const t of vle(e.component.selection))this.component.selection[t]=e.component.selection[t]}}parseMarkGroup(){for(const e of this.children)e.parseMarkGroup()}parseAxesAndHeaders(){!function(e){const{axes:t,resolve:n}=e.component,r={top:0,bottom:0,right:0,left:0};for(const o of e.children){o.parseAxesAndHeaders();for(const r of vle(o.component.axes))n.axis[r]=Tbe(e.component.resolve,r),"shared"===n.axis[r]&&(t[r]=o_e(t[r],o.component.axes[r]),t[r]||(n.axis[r]="independent",delete t[r]))}for(const o of bce){for(const a of e.children)if(a.component.axes[o]){if("independent"===n.axis[o]){var i;t[o]=(null!==(i=t[o])&&void 0!==i?i:[]).concat(a.component.axes[o]);for(const e of a.component.axes[o]){const{value:t,explicit:n}=e.getWithExplicit("orient");if(!cue(t)){if(r[t]>0&&!n){const n=i_e[t];r[t]>r[n]&&e.set("orient",n,!1)}r[t]++}}}delete a.component.axes[o]}if("independent"===n.axis[o]&&t[o]&&t[o].length>1)for(const[e,n]of(t[o]||[]).entries())e>0&&n.get("grid")&&!n.explicit.grid&&(n.implicit.grid=!1)}}(this)}assembleSelectionTopLevelSignals(e){return this.children.reduce(((e,t)=>t.assembleSelectionTopLevelSignals(e)),e)}assembleSignals(){return this.children.reduce(((e,t)=>e.concat(t.assembleSignals())),Qye(this))}assembleLayoutSignals(){return this.children.reduce(((e,t)=>e.concat(t.assembleLayoutSignals())),wbe(this))}assembleSelectionData(e){return this.children.reduce(((e,t)=>t.assembleSelectionData(e)),e)}assembleGroupStyle(){const e=new Set;for(const n of this.children)for(const t of YD(n.assembleGroupStyle()))e.add(t);const t=Array.from(e);return t.length>1?t:1===t.length?t[0]:void 0}assembleTitle(){let e=super.assembleTitle();if(e)return e;for(const t of this.children)if(e=t.assembleTitle(),e)return e}assembleLayout(){return null}assembleMarks(){return function(e,t){for(const n of e.children)_we(n)&&(t=uve(n,t));return t}(this,this.children.flatMap((e=>e.assembleMarks())))}assembleLegends(){return this.children.reduce(((e,t)=>e.concat(t.assembleLegends())),Vbe(this))}}function S_e(e,t,n,r,i){if(Mhe(e))return new $we(e,t,n,i);if(Kme(e))return new E_e(e,t,n,r,i);if(Spe(e))return new k_e(e,t,n,r,i);if(function(e){return xme(e)||wme(e)||bme(e)}(e))return new e_e(e,t,n,i);throw new Error(Nue(e))}function C_e(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;t.logger&&(n=t.logger,ude=n),t.fieldTitle&&tpe(t.fieldTitle);try{const n=Ome(CD(t.config,e.config)),r=Lge(e,n),i=S_e(r,null,"",void 0,n);i.parse(),function(e,t){Bxe(e.sources);let n=0,r=0;for(let i=0;i<Lxe&&Uxe(e,t,!0);i++)n++;e.sources.map(Pxe);for(let i=0;i<Lxe&&Uxe(e,t,!1);i++)r++;Bxe(e.sources),Math.max(n,r)===Lxe&&fde("Maximum optimization runs(".concat(Lxe,") reached."))}(i.component.data,i);const o=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;const i=e.config?jme(e.config):void 0,o=[].concat(e.assembleSelectionData([]),function(e,t){const n=[],r=Kwe(n);let i=0;for(const s of e.sources){s.hasName()||(s.dataName="source_".concat(i++));const e=s.assemble();r(s,e)}for(const s of n)0===s.transform.length&&delete s.transform;let o=0;for(const[s,c]of n.entries()){var a;0!==(null!==(a=c.transform)&&void 0!==a?a:[]).length||c.source||n.splice(o++,0,n.splice(s,1)[0])}for(const s of n)for(const t of null!==(l=s.transform)&&void 0!==l?l:[]){var l;"lookup"===t.type&&(t.from=e.outputNodes[t.from].getSource())}for(const s of n)s.name in t&&(s.values=t[s.name]);return n}(e.component.data,n)),a=e.assembleProjections(),l=e.assembleTitle(),s=e.assembleGroupStyle(),c=e.assembleGroupEncodeEntry(!0);let u=e.assembleLayoutSignals();u=u.filter((e=>"width"!==e.name&&"height"!==e.name||void 0===e.value||(t[e.name]=+e.value,!1)));const{params:d,...f}=t;return{$schema:"https://vega.github.io/schema/vega/v5.json",...e.description?{description:e.description}:{},...f,...l?{title:l}:{},...s?{style:s}:{},...c?{encode:{update:c}}:{},data:o,...a.length>0?{projections:a}:{},...e.assembleGroup([...u,...e.assembleSelectionTopLevelSignals([]),...yme(d)]),...i?{config:i}:{},...r?{usermeta:r}:{}}}(i,function(e,t,n,r){const i=r.component.layoutSize.get("width"),o=r.component.layoutSize.get("height");void 0===t?(t={type:"pad"},r.hasAxisOrientSignalRef()&&(t.resize=!0)):xF(t)&&(t={type:t});if(i&&o&&(a=t.type,"fit"===a||"fit-x"===a||"fit-y"===a))if("step"===i&&"step"===o)fde(Oue()),t.type="pad";else if("step"===i||"step"===o){const e="step"===i?"width":"height";fde(Oue(kce(e)));const n="width"===e?"height":"width";t.type=function(e){return e?"fit-".concat(kce(e)):"fit"}(n)}var a;return{...1===vle(t).length&&t.type?"pad"===t.type?{}:{autosize:t.type}:{autosize:t},...qge(n,!1),...qge(e,!0)}}(e,r.autosize,n,i),e.datasets,e.usermeta);return{spec:o,normalized:r}}finally{t.logger&&dde(),t.fieldTitle&&tpe(Jhe)}}const M_e="5.16.3";const T_e=function(e){const[t,n]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t,version:n}};var A_e="2.14.0";const D_e="#fff",F_e="#888",N_e={background:"#333",view:{stroke:F_e},title:{color:D_e,subtitleColor:D_e},style:{"guide-label":{fill:D_e},"guide-title":{fill:D_e}},axis:{domainColor:D_e,gridColor:F_e,tickColor:D_e}},R_e="#4572a7",z_e={background:"#fff",arc:{fill:R_e},area:{fill:R_e},line:{stroke:R_e,strokeWidth:2},path:{stroke:R_e},rect:{fill:R_e},shape:{stroke:R_e},symbol:{fill:R_e,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},P_e="#30a2da",O_e="#cbcbcb",I_e="#f0f0f0",L_e="#333",B_e={arc:{fill:P_e},area:{fill:P_e},axis:{domainColor:O_e,grid:!0,gridColor:O_e,gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:O_e,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:I_e,group:{fill:I_e},legend:{labelColor:L_e,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:L_e,titleFontSize:14,titlePadding:10},line:{stroke:P_e,strokeWidth:2},path:{stroke:P_e,strokeWidth:.5},rect:{fill:P_e},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:P_e},bar:{binSpacing:2,fill:P_e,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},j_e="#000",U_e={group:{fill:"#e5e5e5"},arc:{fill:j_e},area:{fill:j_e},line:{stroke:j_e},path:{stroke:j_e},rect:{fill:j_e},shape:{stroke:j_e},symbol:{fill:j_e,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},K_e="Benton Gothic, sans-serif",W_e="#82c6df",q_e="Benton Gothic Bold, sans-serif",H_e="normal",V_e={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},G_e={background:"#ffffff",title:{anchor:"start",color:"#000000",font:q_e,fontSize:22,fontWeight:"normal"},arc:{fill:W_e},area:{fill:W_e},line:{stroke:W_e,strokeWidth:2},path:{stroke:W_e},rect:{fill:W_e},shape:{stroke:W_e},symbol:{fill:W_e,size:30},axis:{labelFont:K_e,labelFontSize:11.5,labelFontWeight:"normal",titleFont:q_e,titleFontSize:13,titleFontWeight:H_e},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:K_e,labelFontSize:11.5,symbolType:"square",titleFont:q_e,titleFontSize:13,titleFontWeight:H_e},range:{category:V_e["category-6"],diverging:V_e["fireandice-6"],heatmap:V_e["fire-7"],ordinal:V_e["fire-7"],ramp:V_e["fire-7"]}},Y_e="#ab5787",Q_e="#979797",X_e={background:"#f9f9f9",arc:{fill:Y_e},area:{fill:Y_e},line:{stroke:Y_e},path:{stroke:Y_e},rect:{fill:Y_e},shape:{stroke:Y_e},symbol:{fill:Y_e,size:30},axis:{domainColor:Q_e,domainWidth:.5,gridWidth:.2,labelColor:Q_e,tickColor:Q_e,tickWidth:.2,titleColor:Q_e},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},$_e="#3e5c69",Z_e={background:"#fff",arc:{fill:$_e},area:{fill:$_e},line:{stroke:$_e},path:{stroke:$_e},rect:{fill:$_e},shape:{stroke:$_e},symbol:{fill:$_e},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},J_e="#1696d2",eke="#000000",tke="Lato",nke="Lato",rke={"main-colors":["#1696d2","#d2d2d2","#000000","#fdbf11","#ec008b","#55b748","#5c5859","#db2b27"],"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"shades-gray":["#F5F5F5","#ECECEC","#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],"shades-yellow":["#FFF2CF","#FCE39E","#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],"shades-magenta":["#F5CBDF","#EB99C2","#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"],"shades-green":["#DCEDD9","#BCDEB4","#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],"shades-black":["#D5D5D4","#ADABAC","#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],"shades-red":["#F8D5D4","#F1AAA9","#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-cat-2":["#1696d2","#d2d2d2","#ec008b","#fdbf11","#332d2f","#0a4c6a"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},ike={background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:tke},axisX:{domain:!0,domainColor:eke,domainWidth:1,grid:!1,labelFontSize:12,labelFont:nke,labelAngle:0,tickColor:eke,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:tke},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:nke,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:tke,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:nke,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:tke,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:rke["six-groups-cat-1"],diverging:rke["diverging-colors"],heatmap:rke["diverging-colors"],ordinal:rke["six-groups-seq"],ramp:rke["shades-blue"]},area:{fill:J_e},rect:{fill:J_e},line:{color:J_e,stroke:J_e,strokeWidth:5},trail:{color:J_e,stroke:J_e,strokeWidth:0,size:1},path:{stroke:J_e,strokeWidth:.5},point:{filled:!0},text:{font:"Lato",color:J_e,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:J_e,stroke:null}},arc:{fill:J_e},shape:{stroke:J_e},symbol:{fill:J_e,size:30}},oke="#3366CC",ake="#ccc",lke="Arial, sans-serif",ske={arc:{fill:oke},area:{fill:oke},path:{stroke:oke},rect:{fill:oke},shape:{stroke:oke},symbol:{stroke:oke},circle:{fill:oke},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:lke,fontSize:12},"guide-title":{font:lke,fontSize:12},"group-title":{font:lke,fontSize:12}},title:{font:lke,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:ake,tickColor:ake,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},cke=e=>e*(1/3+1),uke=cke(9),dke=cke(10),fke=cke(12),hke="Segoe UI",pke="wf_standard-font, helvetica, arial, sans-serif",mke="#252423",gke="#605E5C",vke="transparent",yke="#118DFF",bke="#DEEFFF",xke=[bke,yke],wke={view:{stroke:vke},background:vke,font:hke,header:{titleFont:pke,titleFontSize:fke,titleColor:mke,labelFont:hke,labelFontSize:dke,labelColor:gke},axis:{ticks:!1,grid:!1,domain:!1,labelColor:gke,labelFontSize:uke,titleFont:pke,titleColor:mke,titleFontSize:fke,titleFontWeight:"normal"},axisQuantitative:{tickCount:3,grid:!0,gridColor:"#C8C6C4",gridDash:[1,5],labelFlush:!1},axisBand:{tickExtra:!0},axisX:{labelPadding:5},axisY:{labelPadding:10},bar:{fill:yke},line:{stroke:yke,strokeWidth:3,strokeCap:"round",strokeJoin:"round"},text:{font:hke,fontSize:uke,fill:gke},arc:{fill:yke},area:{fill:yke,line:!0,opacity:.6},path:{stroke:yke},rect:{fill:yke},point:{fill:yke,filled:!0,size:75},shape:{stroke:yke},symbol:{fill:yke,strokeWidth:1.5,size:50},legend:{titleFont:hke,titleFontWeight:"bold",titleColor:gke,labelFont:hke,labelFontSize:dke,labelColor:gke,symbolType:"circle",symbolSize:75},range:{category:[yke,"#12239E","#E66C37","#6B007B","#E044A7","#744EC2","#D9B300","#D64550"],diverging:xke,heatmap:xke,ordinal:[bke,"#c7e4ff","#b0d9ff","#9aceff","#83c3ff","#6cb9ff","#55aeff","#3fa3ff","#2898ff",yke]}},_ke='IBM Plex Sans,system-ui,-apple-system,BlinkMacSystemFont,".sfnstext-regular",sans-serif',kke=["#8a3ffc","#33b1ff","#007d79","#ff7eb6","#fa4d56","#fff1f1","#6fdc8c","#4589ff","#d12771","#d2a106","#08bdba","#bae6ff","#ba4e00","#d4bbff"],Eke=["#6929c4","#1192e8","#005d5d","#9f1853","#fa4d56","#570408","#198038","#002d9c","#ee538b","#b28600","#009d9a","#012749","#8a3800","#a56eff"];function Ske(e){let{type:t,background:n}=e;const r="dark"===t?"#161616":"#ffffff",i="dark"===t?"#f4f4f4":"#161616",o="dark"===t?"#d4bbff":"#6929c4";return{background:n,arc:{fill:o},area:{fill:o},path:{stroke:o},rect:{fill:o},shape:{stroke:o},symbol:{stroke:o},circle:{fill:o},view:{fill:r,stroke:r},group:{fill:r},title:{color:i,anchor:"start",dy:-15,fontSize:16,font:_ke,fontWeight:600},axis:{labelColor:i,labelFontSize:12,grid:!0,gridColor:"#525252",titleColor:i,labelAngle:0},style:{"guide-label":{font:_ke,fill:i,fontWeight:400},"guide-title":{font:_ke,fill:i,fontWeight:400}},range:{category:"dark"===t?kke:Eke,diverging:["#750e13","#a2191f","#da1e28","#fa4d56","#ff8389","#ffb3b8","#ffd7d9","#fff1f1","#e5f6ff","#bae6ff","#82cfff","#33b1ff","#1192e8","#0072c3","#00539a","#003a6d"],heatmap:["#f6f2ff","#e8daff","#d4bbff","#be95ff","#a56eff","#8a3ffc","#6929c4","#491d8b","#31135e","#1c0f30"]}}}const Cke=Ske({type:"light",background:"#ffffff"}),Mke=Ske({type:"light",background:"#f4f4f4"}),Tke=Ske({type:"dark",background:"#262626"}),Ake=Ske({type:"dark",background:"#161616"}),Dke=A_e;function Fke(e,t){return JSON.stringify(e,function(e){const t=[];return function(n,r){if("object"!==typeof r||null===r)return r;const i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}(t))}const Nke="vg-tooltip-element",Rke={offsetX:10,offsetY:10,id:Nke,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")},maxDepth:2,formatTooltip:function(e,t,n,r){if(kD(e))return"[".concat(e.map((e=>t(xF(e)?e:Fke(e,n)))).join(", "),"]");if(ED(e)){let i="";const{title:o,image:a,...l}=e;o&&(i+="<h2>".concat(t(o),"</h2>")),a&&(i+='<img src="'.concat(new URL(t(a),r||location.href).href,'">'));const s=Object.keys(l);if(s.length>0){i+="<table>";for(const e of s){let r=l[e];void 0!==r&&(ED(r)&&(r=Fke(r,n)),i+='<tr><td class="key">'.concat(t(e),'</td><td class="value">').concat(t(r),"</td></tr>"))}i+="</table>"}return i||"{}"}return t(e)},baseURL:""};class zke{constructor(e){this.options={...Rke,...e};const t=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const e=document.createElement("style");e.setAttribute("id",this.options.styleId),e.innerHTML=function(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return"#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black;\n}\n#vg-tooltip-element.visible {\n  visibility: visible;\n}\n#vg-tooltip-element h2 {\n  margin-top: 0;\n  margin-bottom: 10px;\n  font-size: 13px;\n}\n#vg-tooltip-element table {\n  border-spacing: 0;\n}\n#vg-tooltip-element table tr {\n  border: none;\n}\n#vg-tooltip-element table tr td {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-top: 2px;\n  padding-bottom: 2px;\n}\n#vg-tooltip-element table tr td.key {\n  color: #808080;\n  max-width: 150px;\n  text-align: right;\n  padding-right: 4px;\n}\n#vg-tooltip-element table tr td.value {\n  display: block;\n  max-width: 300px;\n  max-height: 7em;\n  text-align: left;\n}\n#vg-tooltip-element.dark-theme {\n  background-color: rgba(32, 32, 32, 0.9);\n  border: 1px solid #f5f5f5;\n  color: white;\n}\n#vg-tooltip-element.dark-theme td.key {\n  color: #bfbfbf;\n}\n".toString().replace(Nke,e)}(t);const n=document.head;n.childNodes.length>0?n.insertBefore(e,n.childNodes[0]):n.appendChild(e)}}tooltipHandler(e,t,n,r){if(this.el=document.getElementById(this.options.id),!this.el){var i;this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip");(null!==(i=document.fullscreenElement)&&void 0!==i?i:document.body).appendChild(this.el)}if(null==r||""===r)return void this.el.classList.remove("visible","".concat(this.options.theme,"-theme"));this.el.innerHTML=this.options.formatTooltip(r,this.options.sanitize,this.options.maxDepth,this.options.baseURL),this.el.classList.add("visible","".concat(this.options.theme,"-theme"));const{x:o,y:a}=function(e,t,n,r){let i=e.clientX+n;i+t.width>window.innerWidth&&(i=+e.clientX-n-t.width);let o=e.clientY+r;return o+t.height>window.innerHeight&&(o=+e.clientY-r-t.height),{x:i,y:o}}(t,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.style.top="".concat(a,"px"),this.el.style.left="".concat(o,"px")}}var Pke,Oke,Ike;function Lke(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Bke=jke;function jke(e){var t=this;if(t instanceof jke||(t=new jke),t.tail=null,t.head=null,t.length=0,e&&"function"===typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)t.push(arguments[n]);return t}function Uke(e,t,n){var r=t===e.head?new qke(n,null,t,e):new qke(n,t,t.next,e);return null===r.next&&(e.tail=r),null===r.prev&&(e.head=r),e.length++,r}function Kke(e,t){e.tail=new qke(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function Wke(e,t){e.head=new qke(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function qke(e,t,n,r){if(!(this instanceof qke))return new qke(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}jke.Node=qke,jke.create=jke,jke.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},jke.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},jke.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},jke.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)Kke(this,arguments[e]);return this.length},jke.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)Wke(this,arguments[e]);return this.length},jke.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},jke.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},jke.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;null!==n;r++)e.call(t,n.value,r,this),n=n.next},jke.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;null!==n;r--)e.call(t,n.value,r,this),n=n.prev},jke.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},jke.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},jke.prototype.map=function(e,t){t=t||this;for(var n=new jke,r=this.head;null!==r;)n.push(e.call(t,r.value,this)),r=r.next;return n},jke.prototype.mapReverse=function(e,t){t=t||this;for(var n=new jke,r=this.tail;null!==r;)n.push(e.call(t,r.value,this)),r=r.prev;return n},jke.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var i=0;null!==r;i++)n=e(n,r.value,i),r=r.next;return n},jke.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var i=this.length-1;null!==r;i--)n=e(n,r.value,i),r=r.prev;return n},jke.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},jke.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},jke.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new jke;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=0,i=this.head;null!==i&&r<e;r++)i=i.next;for(;null!==i&&r<t;r++,i=i.next)n.push(i.value);return n},jke.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new jke;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=this.length,i=this.tail;null!==i&&r>t;r--)i=i.prev;for(;null!==i&&r>e;r--,i=i.prev)n.push(i.value);return n},jke.prototype.splice=function(e,t){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,r=this.head;null!==r&&n<e;n++)r=r.next;var i=[];for(n=0;r&&n<t;n++)i.push(r.value),r=this.removeNode(r);null===r&&(r=this.tail),r!==this.head&&r!==this.tail&&(r=r.prev);for(n=0;n<(arguments.length<=2?0:arguments.length-2);n++)r=Uke(this,r,n+2<2||arguments.length<=n+2?void 0:arguments[n+2]);return i},jke.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};try{(Ike||(Ike=1,Oke=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}),Oke)(jke)}catch(jMe){}const Hke=Bke,Vke=Symbol("max"),Gke=Symbol("length"),Yke=Symbol("lengthCalculator"),Qke=Symbol("allowStale"),Xke=Symbol("maxAge"),$ke=Symbol("dispose"),Zke=Symbol("noDisposeOnSet"),Jke=Symbol("lruList"),eEe=Symbol("cache"),tEe=Symbol("updateAgeOnGet"),nEe=()=>1;const rEe=(e,t,n)=>{const r=e[eEe].get(t);if(r){const t=r.value;if(iEe(e,t)){if(aEe(e,r),!e[Qke])return}else n&&(e[tEe]&&(r.value.now=Date.now()),e[Jke].unshiftNode(r));return t.value}},iEe=(e,t)=>{if(!t||!t.maxAge&&!e[Xke])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[Xke]&&n>e[Xke]},oEe=e=>{if(e[Gke]>e[Vke])for(let t=e[Jke].tail;e[Gke]>e[Vke]&&null!==t;){const n=t.prev;aEe(e,t),t=n}},aEe=(e,t)=>{if(t){const n=t.value;e[$ke]&&e[$ke](n.key,n.value),e[Gke]-=n.length,e[eEe].delete(n.key),e[Jke].removeNode(t)}};class lEe{constructor(e,t,n,r,i){this.key=e,this.value=t,this.length=n,this.now=r,this.maxAge=i||0}}const sEe=(e,t,n,r)=>{let i=n.value;iEe(e,i)&&(aEe(e,n),e[Qke]||(i=void 0)),i&&t.call(r,i.value,i.key,e)};var cEe=class{constructor(e){if("number"===typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!==typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[Vke]=e.max||1/0;const t=e.length||nEe;if(this[Yke]="function"!==typeof t?nEe:t,this[Qke]=e.stale||!1,e.maxAge&&"number"!==typeof e.maxAge)throw new TypeError("maxAge must be a number");this[Xke]=e.maxAge||0,this[$ke]=e.dispose,this[Zke]=e.noDisposeOnSet||!1,this[tEe]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!==typeof e||e<0)throw new TypeError("max must be a non-negative number");this[Vke]=e||1/0,oEe(this)}get max(){return this[Vke]}set allowStale(e){this[Qke]=!!e}get allowStale(){return this[Qke]}set maxAge(e){if("number"!==typeof e)throw new TypeError("maxAge must be a non-negative number");this[Xke]=e,oEe(this)}get maxAge(){return this[Xke]}set lengthCalculator(e){"function"!==typeof e&&(e=nEe),e!==this[Yke]&&(this[Yke]=e,this[Gke]=0,this[Jke].forEach((e=>{e.length=this[Yke](e.value,e.key),this[Gke]+=e.length}))),oEe(this)}get lengthCalculator(){return this[Yke]}get length(){return this[Gke]}get itemCount(){return this[Jke].length}rforEach(e,t){t=t||this;for(let n=this[Jke].tail;null!==n;){const r=n.prev;sEe(this,e,n,t),n=r}}forEach(e,t){t=t||this;for(let n=this[Jke].head;null!==n;){const r=n.next;sEe(this,e,n,t),n=r}}keys(){return this[Jke].toArray().map((e=>e.key))}values(){return this[Jke].toArray().map((e=>e.value))}reset(){this[$ke]&&this[Jke]&&this[Jke].length&&this[Jke].forEach((e=>this[$ke](e.key,e.value))),this[eEe]=new Map,this[Jke]=new Hke,this[Gke]=0}dump(){return this[Jke].map((e=>!iEe(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[Jke]}set(e,t,n){if((n=n||this[Xke])&&"number"!==typeof n)throw new TypeError("maxAge must be a number");const r=n?Date.now():0,i=this[Yke](t,e);if(this[eEe].has(e)){if(i>this[Vke])return aEe(this,this[eEe].get(e)),!1;const o=this[eEe].get(e).value;return this[$ke]&&(this[Zke]||this[$ke](e,o.value)),o.now=r,o.maxAge=n,o.value=t,this[Gke]+=i-o.length,o.length=i,this.get(e),oEe(this),!0}const o=new lEe(e,t,i,r,n);return o.length>this[Vke]?(this[$ke]&&this[$ke](e,t),!1):(this[Gke]+=o.length,this[Jke].unshift(o),this[eEe].set(e,this[Jke].head),oEe(this),!0)}has(e){if(!this[eEe].has(e))return!1;const t=this[eEe].get(e).value;return!iEe(this,t)}get(e){return rEe(this,e,!0)}peek(e){return rEe(this,e,!1)}pop(){const e=this[Jke].tail;return e?(aEe(this,e),e.value):null}del(e){aEe(this,this[eEe].get(e))}load(e){this.reset();const t=Date.now();for(let n=e.length-1;n>=0;n--){const r=e[n],i=r.e||0;if(0===i)this.set(r.k,r.v);else{const e=i-t;e>0&&this.set(r.k,r.v,e)}}}prune(){this[eEe].forEach(((e,t)=>rEe(this,t,!1)))}};const uEe=Object.freeze({loose:!0}),dEe=Object.freeze({});var fEe=e=>e?"object"!==typeof e?uEe:e:dEe,hEe={exports:{}};var pEe={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};var mEe="object"===typeof process&&{NODE_ENV:"production",PUBLIC_URL:"/SpotiFylter",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.NODE_DEBUG&&/\bsemver\b/i.test({NODE_ENV:"production",PUBLIC_URL:"/SpotiFylter",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.NODE_DEBUG)?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return console.error("SEMVER",...t)}:()=>{};!function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=pEe,o=mEe,a=(t=e.exports={}).re=[],l=t.safeRe=[],s=t.src=[],c=t.t={};let u=0;const d="[a-zA-Z0-9-]",f=[["\\s",1],["\\d",i],[d,r]],h=(e,t,n)=>{const r=(e=>{for(const[t,n]of f)e=e.split("".concat(t,"*")).join("".concat(t,"{0,").concat(n,"}")).split("".concat(t,"+")).join("".concat(t,"{1,").concat(n,"}"));return e})(t),i=u++;o(e,i,t),c[e]=i,s[i]=t,a[i]=new RegExp(t,n?"g":void 0),l[i]=new RegExp(r,n?"g":void 0)};h("NUMERICIDENTIFIER","0|[1-9]\\d*"),h("NUMERICIDENTIFIERLOOSE","\\d+"),h("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-]".concat(d,"*")),h("MAINVERSION","(".concat(s[c.NUMERICIDENTIFIER],")\\.")+"(".concat(s[c.NUMERICIDENTIFIER],")\\.")+"(".concat(s[c.NUMERICIDENTIFIER],")")),h("MAINVERSIONLOOSE","(".concat(s[c.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(s[c.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(s[c.NUMERICIDENTIFIERLOOSE],")")),h("PRERELEASEIDENTIFIER","(?:".concat(s[c.NUMERICIDENTIFIER],"|").concat(s[c.NONNUMERICIDENTIFIER],")")),h("PRERELEASEIDENTIFIERLOOSE","(?:".concat(s[c.NUMERICIDENTIFIERLOOSE],"|").concat(s[c.NONNUMERICIDENTIFIER],")")),h("PRERELEASE","(?:-(".concat(s[c.PRERELEASEIDENTIFIER],"(?:\\.").concat(s[c.PRERELEASEIDENTIFIER],")*))")),h("PRERELEASELOOSE","(?:-?(".concat(s[c.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(s[c.PRERELEASEIDENTIFIERLOOSE],")*))")),h("BUILDIDENTIFIER","".concat(d,"+")),h("BUILD","(?:\\+(".concat(s[c.BUILDIDENTIFIER],"(?:\\.").concat(s[c.BUILDIDENTIFIER],")*))")),h("FULLPLAIN","v?".concat(s[c.MAINVERSION]).concat(s[c.PRERELEASE],"?").concat(s[c.BUILD],"?")),h("FULL","^".concat(s[c.FULLPLAIN],"$")),h("LOOSEPLAIN","[v=\\s]*".concat(s[c.MAINVERSIONLOOSE]).concat(s[c.PRERELEASELOOSE],"?").concat(s[c.BUILD],"?")),h("LOOSE","^".concat(s[c.LOOSEPLAIN],"$")),h("GTLT","((?:<|>)?=?)"),h("XRANGEIDENTIFIERLOOSE","".concat(s[c.NUMERICIDENTIFIERLOOSE],"|x|X|\\*")),h("XRANGEIDENTIFIER","".concat(s[c.NUMERICIDENTIFIER],"|x|X|\\*")),h("XRANGEPLAIN","[v=\\s]*(".concat(s[c.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(s[c.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(s[c.XRANGEIDENTIFIER],")")+"(?:".concat(s[c.PRERELEASE],")?").concat(s[c.BUILD],"?")+")?)?"),h("XRANGEPLAINLOOSE","[v=\\s]*(".concat(s[c.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(s[c.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(s[c.XRANGEIDENTIFIERLOOSE],")")+"(?:".concat(s[c.PRERELEASELOOSE],")?").concat(s[c.BUILD],"?")+")?)?"),h("XRANGE","^".concat(s[c.GTLT],"\\s*").concat(s[c.XRANGEPLAIN],"$")),h("XRANGELOOSE","^".concat(s[c.GTLT],"\\s*").concat(s[c.XRANGEPLAINLOOSE],"$")),h("COERCE","".concat("(^|[^\\d])(\\d{1,").concat(n,"})")+"(?:\\.(\\d{1,".concat(n,"}))?")+"(?:\\.(\\d{1,".concat(n,"}))?")+"(?:$|[^\\d])"),h("COERCERTL",s[c.COERCE],!0),h("LONETILDE","(?:~>?)"),h("TILDETRIM","(\\s*)".concat(s[c.LONETILDE],"\\s+"),!0),t.tildeTrimReplace="$1~",h("TILDE","^".concat(s[c.LONETILDE]).concat(s[c.XRANGEPLAIN],"$")),h("TILDELOOSE","^".concat(s[c.LONETILDE]).concat(s[c.XRANGEPLAINLOOSE],"$")),h("LONECARET","(?:\\^)"),h("CARETTRIM","(\\s*)".concat(s[c.LONECARET],"\\s+"),!0),t.caretTrimReplace="$1^",h("CARET","^".concat(s[c.LONECARET]).concat(s[c.XRANGEPLAIN],"$")),h("CARETLOOSE","^".concat(s[c.LONECARET]).concat(s[c.XRANGEPLAINLOOSE],"$")),h("COMPARATORLOOSE","^".concat(s[c.GTLT],"\\s*(").concat(s[c.LOOSEPLAIN],")$|^$")),h("COMPARATOR","^".concat(s[c.GTLT],"\\s*(").concat(s[c.FULLPLAIN],")$|^$")),h("COMPARATORTRIM","(\\s*)".concat(s[c.GTLT],"\\s*(").concat(s[c.LOOSEPLAIN],"|").concat(s[c.XRANGEPLAIN],")"),!0),t.comparatorTrimReplace="$1$2$3",h("HYPHENRANGE","^\\s*(".concat(s[c.XRANGEPLAIN],")")+"\\s+-\\s+"+"(".concat(s[c.XRANGEPLAIN],")")+"\\s*$"),h("HYPHENRANGELOOSE","^\\s*(".concat(s[c.XRANGEPLAINLOOSE],")")+"\\s+-\\s+"+"(".concat(s[c.XRANGEPLAINLOOSE],")")+"\\s*$"),h("STAR","(<|>)?=?\\s*\\*"),h("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),h("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(hEe,hEe.exports);var gEe=hEe.exports;const vEe=/^[0-9]+$/,yEe=(e,t)=>{const n=vEe.test(e),r=vEe.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1};var bEe={compareIdentifiers:yEe,rcompareIdentifiers:(e,t)=>yEe(t,e)};const xEe=mEe,{MAX_LENGTH:wEe,MAX_SAFE_INTEGER:_Ee}=pEe,{safeRe:kEe,t:EEe}=gEe,SEe=fEe,{compareIdentifiers:CEe}=bEe;var MEe=class e{constructor(t,n){if(n=SEe(n),t instanceof e){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if("string"!==typeof t)throw new TypeError('Invalid version. Must be a string. Got type "'.concat(typeof t,'".'));if(t.length>wEe)throw new TypeError("version is longer than ".concat(wEe," characters"));xEe("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=t.trim().match(n.loose?kEe[EEe.LOOSE]:kEe[EEe.FULL]);if(!r)throw new TypeError("Invalid Version: ".concat(t));if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>_Ee||this.major<0)throw new TypeError("Invalid major version");if(this.minor>_Ee||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>_Ee||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<_Ee)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch),this.prerelease.length&&(this.version+="-".concat(this.prerelease.join("."))),this.version}toString(){return this.version}compare(t){if(xEe("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if("string"===typeof t&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof e||(t=new e(t,this.options)),CEe(this.major,t.major)||CEe(this.minor,t.minor)||CEe(this.patch,t.patch)}comparePre(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let n=0;do{const e=this.prerelease[n],r=t.prerelease[n];if(xEe("prerelease compare",n,e,r),void 0===e&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===e)return-1;if(e!==r)return CEe(e,r)}while(++n)}compareBuild(t){t instanceof e||(t=new e(t,this.options));let n=0;do{const e=this.build[n],r=t.build[n];if(xEe("prerelease compare",n,e,r),void 0===e&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===e)return-1;if(e!==r)return CEe(e,r)}while(++n)}inc(e,t,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(n)?1:0;if(!t&&!1===n)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let r=this.prerelease.length;for(;--r>=0;)"number"===typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);if(-1===r){if(t===this.prerelease.join(".")&&!1===n)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let r=[t,e];!1===n&&(r=[t]),0===CEe(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=r):this.prerelease=r}break}default:throw new Error("invalid increment argument: ".concat(e))}return this.raw=this.format(),this.build.length&&(this.raw+="+".concat(this.build.join("."))),this}};const TEe=MEe;var AEe=(e,t,n)=>new TEe(e,n).compare(new TEe(t,n));const DEe=AEe;var FEe=(e,t,n)=>0===DEe(e,t,n);const NEe=AEe;var REe=(e,t,n)=>0!==NEe(e,t,n);const zEe=AEe;var PEe=(e,t,n)=>zEe(e,t,n)>0;const OEe=AEe;var IEe=(e,t,n)=>OEe(e,t,n)>=0;const LEe=AEe;var BEe=(e,t,n)=>LEe(e,t,n)<0;const jEe=AEe;var UEe=(e,t,n)=>jEe(e,t,n)<=0;const KEe=FEe,WEe=REe,qEe=PEe,HEe=IEe,VEe=BEe,GEe=UEe;var YEe,QEe,XEe,$Ee,ZEe=(e,t,n,r)=>{switch(t){case"===":return"object"===typeof e&&(e=e.version),"object"===typeof n&&(n=n.version),e===n;case"!==":return"object"===typeof e&&(e=e.version),"object"===typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return KEe(e,n,r);case"!=":return WEe(e,n,r);case">":return qEe(e,n,r);case">=":return HEe(e,n,r);case"<":return VEe(e,n,r);case"<=":return GEe(e,n,r);default:throw new TypeError("Invalid operator: ".concat(t))}};function JEe(){if($Ee)return XEe;$Ee=1;class e{constructor(t,i){if(i=n(i),t instanceof e)return t.loose===!!i.loose&&t.includePrerelease===!!i.includePrerelease?t:new e(t.raw,i);if(t instanceof r)return this.raw=t.value,this.set=[[t]],this.format(),this;if(this.options=i,this.loose=!!i.loose,this.includePrerelease=!!i.includePrerelease,this.raw=t.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError("Invalid SemVer Range: ".concat(this.raw));if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!h(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const t of this.set)if(1===t.length&&p(t[0])){this.set=[t];break}}this.format()}format(){return this.range=this.set.map((e=>e.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(e){const n=((this.options.includePrerelease&&d)|(this.options.loose&&f))+":"+e,o=t.get(n);if(o)return o;const p=this.options.loose,m=p?a[l.HYPHENRANGELOOSE]:a[l.HYPHENRANGE];e=e.replace(m,C(this.options.includePrerelease)),i("hyphen replace",e),e=e.replace(a[l.COMPARATORTRIM],s),i("comparator trim",e),e=e.replace(a[l.TILDETRIM],c),i("tilde trim",e),e=e.replace(a[l.CARETTRIM],u),i("caret trim",e);let v=e.split(" ").map((e=>g(e,this.options))).join(" ").split(/\s+/).map((e=>S(e,this.options)));p&&(v=v.filter((e=>(i("loose invalid filter",e,this.options),!!e.match(a[l.COMPARATORLOOSE]))))),i("range list",v);const y=new Map,b=v.map((e=>new r(e,this.options)));for(const t of b){if(h(t))return[t];y.set(t.value,t)}y.size>1&&y.has("")&&y.delete("");const x=[...y.values()];return t.set(n,x),x}intersects(t,n){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some((e=>m(e,n)&&t.set.some((t=>m(t,n)&&e.every((e=>t.every((t=>e.intersects(t,n)))))))))}test(e){if(!e)return!1;if("string"===typeof e)try{e=new o(e,this.options)}catch(jMe){return!1}for(let t=0;t<this.set.length;t++)if(M(this.set[t],e,this.options))return!0;return!1}}XEe=e;const t=new cEe({max:1e3}),n=fEe,r=function(){if(QEe)return YEe;QEe=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(r,i){if(i=n(i),r instanceof t){if(r.loose===!!i.loose)return r;r=r.value}r=r.trim().split(/\s+/).join(" "),a("comparator",r,i),this.options=i,this.loose=!!i.loose,this.parse(r),this.semver===e?this.value="":this.value=this.operator+this.semver.version,a("comp",this)}parse(t){const n=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],o=t.match(n);if(!o)throw new TypeError("Invalid comparator: ".concat(t));this.operator=void 0!==o[1]?o[1]:"","="===this.operator&&(this.operator=""),o[2]?this.semver=new l(o[2],this.options.loose):this.semver=e}toString(){return this.value}test(t){if(a("Comparator.test",t,this.options.loose),this.semver===e||t===e)return!0;if("string"===typeof t)try{t=new l(t,this.options)}catch(jMe){return!1}return o(t,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new s(e.value,r).test(this.value):""===e.operator?""===e.value||new s(this.value,r).test(e.semver):(!(r=n(r)).includePrerelease||"<0.0.0-0"!==this.value&&"<0.0.0-0"!==e.value)&&!(!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&(!(!this.operator.startsWith(">")||!e.operator.startsWith(">"))||!(!this.operator.startsWith("<")||!e.operator.startsWith("<"))||!(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))||!!(o(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))||!!(o(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}}YEe=t;const n=fEe,{safeRe:r,t:i}=gEe,o=ZEe,a=mEe,l=MEe,s=JEe();return YEe}(),i=mEe,o=MEe,{safeRe:a,t:l,comparatorTrimReplace:s,tildeTrimReplace:c,caretTrimReplace:u}=gEe,{FLAG_INCLUDE_PRERELEASE:d,FLAG_LOOSE:f}=pEe,h=e=>"<0.0.0-0"===e.value,p=e=>""===e.value,m=(e,t)=>{let n=!0;const r=e.slice();let i=r.pop();for(;n&&r.length;)n=r.every((e=>i.intersects(e,t))),i=r.pop();return n},g=(e,t)=>(i("comp",e,t),e=x(e,t),i("caret",e),e=y(e,t),i("tildes",e),e=_(e,t),i("xrange",e),e=E(e,t),i("stars",e),e),v=e=>!e||"x"===e.toLowerCase()||"*"===e,y=(e,t)=>e.trim().split(/\s+/).map((e=>b(e,t))).join(" "),b=(e,t)=>{const n=t.loose?a[l.TILDELOOSE]:a[l.TILDE];return e.replace(n,((t,n,r,o,a)=>{let l;return i("tilde",e,t,n,r,o,a),v(n)?l="":v(r)?l=">=".concat(n,".0.0 <").concat(+n+1,".0.0-0"):v(o)?l=">=".concat(n,".").concat(r,".0 <").concat(n,".").concat(+r+1,".0-0"):a?(i("replaceTilde pr",a),l=">=".concat(n,".").concat(r,".").concat(o,"-").concat(a," <").concat(n,".").concat(+r+1,".0-0")):l=">=".concat(n,".").concat(r,".").concat(o," <").concat(n,".").concat(+r+1,".0-0"),i("tilde return",l),l}))},x=(e,t)=>e.trim().split(/\s+/).map((e=>w(e,t))).join(" "),w=(e,t)=>{i("caret",e,t);const n=t.loose?a[l.CARETLOOSE]:a[l.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,((t,n,o,a,l)=>{let s;return i("caret",e,t,n,o,a,l),v(n)?s="":v(o)?s=">=".concat(n,".0.0").concat(r," <").concat(+n+1,".0.0-0"):v(a)?s="0"===n?">=".concat(n,".").concat(o,".0").concat(r," <").concat(n,".").concat(+o+1,".0-0"):">=".concat(n,".").concat(o,".0").concat(r," <").concat(+n+1,".0.0-0"):l?(i("replaceCaret pr",l),s="0"===n?"0"===o?">=".concat(n,".").concat(o,".").concat(a,"-").concat(l," <").concat(n,".").concat(o,".").concat(+a+1,"-0"):">=".concat(n,".").concat(o,".").concat(a,"-").concat(l," <").concat(n,".").concat(+o+1,".0-0"):">=".concat(n,".").concat(o,".").concat(a,"-").concat(l," <").concat(+n+1,".0.0-0")):(i("no pr"),s="0"===n?"0"===o?">=".concat(n,".").concat(o,".").concat(a).concat(r," <").concat(n,".").concat(o,".").concat(+a+1,"-0"):">=".concat(n,".").concat(o,".").concat(a).concat(r," <").concat(n,".").concat(+o+1,".0-0"):">=".concat(n,".").concat(o,".").concat(a," <").concat(+n+1,".0.0-0")),i("caret return",s),s}))},_=(e,t)=>(i("replaceXRanges",e,t),e.split(/\s+/).map((e=>k(e,t))).join(" ")),k=(e,t)=>{e=e.trim();const n=t.loose?a[l.XRANGELOOSE]:a[l.XRANGE];return e.replace(n,((n,r,o,a,l,s)=>{i("xRange",e,n,r,o,a,l,s);const c=v(o),u=c||v(a),d=u||v(l),f=d;return"="===r&&f&&(r=""),s=t.includePrerelease?"-0":"",c?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&f?(u&&(a=0),l=0,">"===r?(r=">=",u?(o=+o+1,a=0,l=0):(a=+a+1,l=0)):"<="===r&&(r="<",u?o=+o+1:a=+a+1),"<"===r&&(s="-0"),n="".concat(r+o,".").concat(a,".").concat(l).concat(s)):u?n=">=".concat(o,".0.0").concat(s," <").concat(+o+1,".0.0-0"):d&&(n=">=".concat(o,".").concat(a,".0").concat(s," <").concat(o,".").concat(+a+1,".0-0")),i("xRange return",n),n}))},E=(e,t)=>(i("replaceStars",e,t),e.trim().replace(a[l.STAR],"")),S=(e,t)=>(i("replaceGTE0",e,t),e.trim().replace(a[t.includePrerelease?l.GTE0PRE:l.GTE0],"")),C=e=>(t,n,r,i,o,a,l,s,c,u,d,f,h)=>(n=v(r)?"":v(i)?">=".concat(r,".0.0").concat(e?"-0":""):v(o)?">=".concat(r,".").concat(i,".0").concat(e?"-0":""):a?">=".concat(n):">=".concat(n).concat(e?"-0":""),s=v(c)?"":v(u)?"<".concat(+c+1,".0.0-0"):v(d)?"<".concat(c,".").concat(+u+1,".0-0"):f?"<=".concat(c,".").concat(u,".").concat(d,"-").concat(f):e?"<".concat(c,".").concat(u,".").concat(+d+1,"-0"):"<=".concat(s),"".concat(n," ").concat(s).trim()),M=(e,t,n)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let n=0;n<e.length;n++)if(i(e[n].semver),e[n].semver!==r.ANY&&e[n].semver.prerelease.length>0){const r=e[n].semver;if(r.major===t.major&&r.minor===t.minor&&r.patch===t.patch)return!0}return!1}return!0};return XEe}const eSe=JEe();var tSe=(e,t,n)=>{try{t=new eSe(t,n)}catch(jMe){return!1}return t.test(e)},nSe=Lke(tSe);var rSe='.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box;\n}\n.vega-embed.has-actions {\n  padding-right: 38px;\n}\n.vega-embed details:not([open]) > :not(summary) {\n  display: none !important;\n}\n.vega-embed summary {\n  list-style: none;\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 6px;\n  z-index: 1000;\n  background: white;\n  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n  color: #1b1e23;\n  border: 1px solid #aaa;\n  border-radius: 999px;\n  opacity: 0.2;\n  transition: opacity 0.4s ease-in;\n  cursor: pointer;\n  line-height: 0px;\n}\n.vega-embed summary::-webkit-details-marker {\n  display: none;\n}\n.vega-embed summary:active {\n  box-shadow: #aaa 0px 0px 0px 1px inset;\n}\n.vega-embed summary svg {\n  width: 14px;\n  height: 14px;\n}\n.vega-embed details[open] summary {\n  opacity: 0.7;\n}\n.vega-embed:hover summary, .vega-embed:focus-within summary {\n  opacity: 1 !important;\n  transition: opacity 0.2s ease;\n}\n.vega-embed .vega-actions {\n  position: absolute;\n  z-index: 1001;\n  top: 35px;\n  right: -9px;\n  display: flex;\n  flex-direction: column;\n  padding-bottom: 8px;\n  padding-top: 8px;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n  border: 1px solid #d9d9d9;\n  background: white;\n  animation-duration: 0.15s;\n  animation-name: scale-in;\n  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n  text-align: left;\n}\n.vega-embed .vega-actions a {\n  padding: 8px 16px;\n  font-family: sans-serif;\n  font-size: 14px;\n  font-weight: 600;\n  white-space: nowrap;\n  color: #434a56;\n  text-decoration: none;\n}\n.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {\n  background-color: #f7f7f9;\n  color: black;\n}\n.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n  content: "";\n  display: inline-block;\n  position: absolute;\n}\n.vega-embed .vega-actions::before {\n  left: auto;\n  right: 14px;\n  top: -16px;\n  border: 8px solid rgba(0, 0, 0, 0);\n  border-bottom-color: #d9d9d9;\n}\n.vega-embed .vega-actions::after {\n  left: auto;\n  right: 15px;\n  top: -14px;\n  border: 7px solid rgba(0, 0, 0, 0);\n  border-bottom-color: #fff;\n}\n.vega-embed .chart-wrapper.fit-x {\n  width: 100%;\n}\n.vega-embed .chart-wrapper.fit-y {\n  height: 100%;\n}\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: auto;\n  padding-right: 14px;\n}\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n';function iSe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(const i of n)oSe(e,i);return e}function oSe(e,t){for(const n of Object.keys(t))MD(e,n,t[n],!0)}const aSe=m;let lSe=g;const sSe="undefined"!==typeof window?window:void 0;void 0===lSe&&null!==sSe&&void 0!==sSe&&null!==(Pke=sSe.vl)&&void 0!==Pke&&Pke.compile&&(lSe=sSe.vl);const cSe={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},uSe={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},dSe={vega:"Vega","vega-lite":"Vega-Lite"},fSe={vega:aSe.version,"vega-lite":lSe?lSe.version:"not available"},hSe={vega:e=>e,"vega-lite":(e,t)=>lSe.compile(e,{config:t}).spec},pSe='\n<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">\n  <circle r="2" cy="8" cx="2"></circle>\n  <circle r="2" cy="8" cx="8"></circle>\n  <circle r="2" cy="8" cx="14"></circle>\n</svg>',mSe="chart-wrapper";function gSe(e,t,n,r){const i="<html><head>".concat(t,'</head><body><pre><code class="json">'),o="</code></pre>".concat(n,"</body></html>"),a=window.open("");a.document.write(i+e+o),a.document.title="".concat(dSe[r]," JSON Source")}function vSe(e){return!(!e||!("load"in e))}function ySe(e){return vSe(e)?e:aSe.loader(e)}async function bSe(e,t){var n,r;let i,o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};xF(t)?(o=ySe(a.loader),i=JSON.parse(await o.load(t))):i=t;const l=function(e){var t,n;const r=null!==(t=null===(n=e.usermeta)||void 0===n?void 0:n.embedOptions)&&void 0!==t?t:{};return xF(r.defaultStyle)&&(r.defaultStyle=!1),r}(i),s=l.loader;var c;o&&!s||(o=ySe(null!==(c=a.loader)&&void 0!==c?c:s));const u=await xSe(l,o),d=await xSe(a,o),f={...iSe(d,u),config:CD(null!==(n=d.config)&&void 0!==n?n:{},null!==(r=u.config)&&void 0!==r?r:{})};return await async function(e,t){var n,r,i,o,a,l,s;let c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=arguments.length>3?arguments[3]:void 0;const d=c.theme?CD(v[c.theme],null!==(n=c.config)&&void 0!==n?n:{}):c.config,f=mF(c.actions)?c.actions:iSe({},cSe,null!==(r=c.actions)&&void 0!==r?r:{}),h={...uSe,...c.i18n},p=null!==(i=c.renderer)&&void 0!==i?i:"canvas",m=null!==(o=c.logLevel)&&void 0!==o?o:aSe.Warn,g=null!==(a=c.downloadFileName)&&void 0!==a?a:"visualization",y="string"===typeof e?document.querySelector(e):e;if(!y)throw new Error("".concat(e," does not exist"));if(!1!==c.defaultStyle){const e="vega-embed-style",{root:t,rootContainer:n}=function(e){var t;const n=e.getRootNode?e.getRootNode():document;return n instanceof ShadowRoot?{root:n,rootContainer:n}:{root:document,rootContainer:null!==(t=document.head)&&void 0!==t?t:document.body}}(y);if(!t.getElementById(e)){const t=document.createElement("style");t.id=e,t.innerHTML=void 0===c.defaultStyle||!0===c.defaultStyle?rSe.toString():c.defaultStyle,n.appendChild(t)}}const b=function(e,t){if(e.$schema){const r=T_e(e.$schema);var n;t&&t!==r.library&&console.warn("The given visualization spec is written in ".concat(dSe[r.library],", but mode argument sets ").concat(null!==(n=dSe[t])&&void 0!==n?n:t,"."));const i=r.library;return nSe(fSe[i],"^".concat(r.version.slice(1)))||console.warn("The input spec uses ".concat(dSe[i]," ").concat(r.version,", but the current version of ").concat(dSe[i]," is v").concat(fSe[i],".")),i}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":null!==t&&void 0!==t?t:"vega"}(t,c.mode);let x=hSe[b](t,d);if("vega-lite"===b&&x.$schema){const e=T_e(x.$schema);nSe(fSe.vega,"^".concat(e.version.slice(1)))||console.warn("The compiled spec uses Vega ".concat(e.version,", but current version is v").concat(fSe.vega,"."))}y.classList.add("vega-embed"),f&&y.classList.add("has-actions");y.innerHTML="";let w=y;if(f){const e=document.createElement("div");e.classList.add(mSe),y.appendChild(e),w=e}const _=c.patch;_&&(x=_ instanceof Function?_(x):jA(x,_,!0,!1).newDocument);c.formatLocale&&aSe.formatLocale(c.formatLocale);c.timeFormatLocale&&aSe.timeFormatLocale(c.timeFormatLocale);if(c.expressionFunctions)for(const v in c.expressionFunctions){const e=c.expressionFunctions[v];"fn"in e?aSe.expressionFunction(v,e.fn,e.visitor):e instanceof Function&&aSe.expressionFunction(v,e)}const{ast:k}=c,E=aSe.parse(x,"vega-lite"===b?{}:d,{ast:k}),S=new(c.viewClass||aSe.View)(E,{loader:u,logLevel:m,renderer:p,...k?{expr:null!==(l=null!==(s=aSe.expressionInterpreter)&&void 0!==s?s:c.expr)&&void 0!==l?l:Gae}:{}});if(S.addSignalListener("autosize",((e,t)=>{const{type:n}=t;"fit-x"==n?(w.classList.add("fit-x"),w.classList.remove("fit-y")):"fit-y"==n?(w.classList.remove("fit-x"),w.classList.add("fit-y")):"fit"==n?w.classList.add("fit-x","fit-y"):w.classList.remove("fit-x","fit-y")})),!1!==c.tooltip){const{loader:e,tooltip:t}=c,n=e&&!vSe(e)?null===e||void 0===e?void 0:e.baseURL:void 0,r=function(e){return"function"===typeof e}(t)?t:new zke({baseURL:n,...!0===t?{}:t}).call;S.tooltip(r)}let C,{hover:M}=c;void 0===M&&(M="vega"===b);if(M){const{hoverSet:e,updateSet:t}="boolean"===typeof M?{}:M;S.hover(e,t)}c&&(null!=c.width&&S.width(c.width),null!=c.height&&S.height(c.height),null!=c.padding&&S.padding(c.padding));if(await S.initialize(w,c.bind).runAsync(),!1!==f){let e=y;if(!1!==c.defaultStyle||c.forceActionsMenu){const t=document.createElement("details");t.title=h.CLICK_TO_VIEW_ACTIONS,y.append(t),e=t;const n=document.createElement("summary");n.innerHTML=pSe,t.append(n),C=e=>{t.contains(e.target)||t.removeAttribute("open")},document.addEventListener("click",C)}const n=document.createElement("div");if(e.append(n),n.classList.add("vega-actions"),!0===f||!1!==f.export)for(const t of["svg","png"])if(!0===f||!0===f.export||f.export[t]){const e=h["".concat(t.toUpperCase(),"_ACTION")],r=document.createElement("a"),i=ED(c.scaleFactor)?c.scaleFactor[t]:c.scaleFactor;r.text=e,r.href="#",r.target="_blank",r.download="".concat(g,".").concat(t),r.addEventListener("mousedown",(async function(e){e.preventDefault();const n=await S.toImageURL(t,i);this.href=n})),n.append(r)}if(!0===f||!1!==f.source){const e=document.createElement("a");e.text=h.SOURCE_ACTION,e.href="#",e.addEventListener("click",(function(e){var n,r;gSe(eD()(t),null!==(n=c.sourceHeader)&&void 0!==n?n:"",null!==(r=c.sourceFooter)&&void 0!==r?r:"",b),e.preventDefault()})),n.append(e)}if("vega-lite"===b&&(!0===f||!1!==f.compiled)){const e=document.createElement("a");e.text=h.COMPILED_ACTION,e.href="#",e.addEventListener("click",(function(e){var t,n;gSe(eD()(x),null!==(t=c.sourceHeader)&&void 0!==t?t:"",null!==(n=c.sourceFooter)&&void 0!==n?n:"","vega"),e.preventDefault()})),n.append(e)}if(!0===f||!1!==f.editor){var T;const e=null!==(T=c.editorUrl)&&void 0!==T?T:"https://vega.github.io/editor/",r=document.createElement("a");r.text=h.EDITOR_ACTION,r.href="#",r.addEventListener("click",(function(n){!function(e,t,n){const r=e.open(t),{origin:i}=new URL(t);let o=40;e.addEventListener("message",(function t(n){n.source===r&&(o=0,e.removeEventListener("message",t,!1))}),!1),setTimeout((function e(){o<=0||(r.postMessage(n,i),setTimeout(e,250),o-=1)}),250)}(window,e,{config:d,mode:b,renderer:p,spec:eD()(t)}),n.preventDefault()})),n.append(r)}}function A(){C&&document.removeEventListener("click",C),S.finalize()}return{view:S,spec:t,vgSpec:x,finalize:A,embedOptions:c}}(e,i,f,o)}async function xSe(e,t){var n;const r=xF(e.config)?JSON.parse(await t.load(e.config)):null!==(n=e.config)&&void 0!==n?n:{},i=xF(e.patch)?JSON.parse(await t.load(e.patch)):e.patch;return{...e,...i?{patch:i}:{},...r?{config:r}:{}}}function wSe(e,t){Object.keys(t).forEach((n=>{!function(e,t,n){var r;n&&((r=n)&&"[object Function]"==={}.toString.call(r)?n(e.data(t)):e.change(t,aSe.changeset().remove((()=>!0)).insert(n)))}(e,n,t[n])}))}var _Se=n(7),kSe=n.n(_Se);function ESe(e){const t=new Set;return e.forEach((e=>{Object.keys(e).forEach((e=>{t.add(e)}))})),t}const SSe=()=>{};function CSe(e,t){const n=Object.keys(t);return n.forEach((n=>{try{e.addSignalListener(n,t[n])}catch(lD){console.warn("Cannot add invalid signal listener.",lD)}})),n.length>0}var MSe=n(262),TSe=n.n(MSe);function ASe(e,t){const n=Object.keys(t);return n.forEach((n=>{try{e.removeSignalListener(n,t[n])}catch(lD){console.warn("Cannot remove invalid signal listener.",lD)}})),n.length>0}function DSe(e){const{spec:t,width:n,height:r}=e;return"undefined"!==typeof n&&"undefined"!==typeof r?{...t,width:n,height:r}:"undefined"!==typeof n?{...t,width:n}:"undefined"!==typeof r?{...t,height:r}:t}function FSe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class NSe extends y.PureComponent{constructor(){super(...arguments),FSe(this,"containerRef",y.createRef()),FSe(this,"resultPromise",void 0),FSe(this,"handleError",(e=>{const{onError:t=SSe}=this.props;t(e,this.containerRef.current),console.warn(e)})),FSe(this,"modifyView",(e=>{this.resultPromise&&this.resultPromise.then((t=>(t&&e(t.view),!0))).catch(this.handleError)}))}componentDidMount(){this.createView()}componentDidUpdate(e){const t=ESe([this.props,e]);if(t.delete("className"),t.delete("signalListeners"),t.delete("spec"),t.delete("style"),t.delete("width"),t.delete("height"),Array.from(t).some((t=>this.props[t]!==e[t])))this.clearView(),this.createView();else{const t=function(e,t){if(e===t)return!1;const n={width:!1,height:!1,isExpensive:!1},r=ESe([e,t]);return!r.has("width")||"width"in e&&"width"in t&&e.width===t.width||("width"in e&&"number"===typeof e.width?n.width=e.width:n.isExpensive=!0),!r.has("height")||"height"in e&&"height"in t&&e.height===t.height||("height"in e&&"number"===typeof e.height?n.height=e.height:n.isExpensive=!0),r.delete("width"),r.delete("height"),[...r].some((n=>!(n in e)||!(n in t)||!TSe()(e[n],t[n])))&&(n.isExpensive=!0),!(!1===n.width&&!1===n.height&&!n.isExpensive)&&n}(DSe(this.props),DSe(e)),{signalListeners:n}=this.props,{signalListeners:r}=e;if(t)if(t.isExpensive)this.clearView(),this.createView();else{const e=!_A(n,r);this.modifyView((i=>{!1!==t.width&&i.width(t.width),!1!==t.height&&i.height(t.height),e&&(r&&ASe(i,r),n&&CSe(i,n)),i.run()}))}else _A(n,r)||this.modifyView((e=>{r&&ASe(e,r),n&&CSe(e,n),e.run()}))}}componentWillUnmount(){this.clearView()}createView(){const{spec:e,onNewView:t,signalListeners:n={},width:r,height:i,...o}=this.props;if(this.containerRef.current){const e=DSe(this.props);this.resultPromise=bSe(this.containerRef.current,e,o).then((e=>{if(e){const{view:t}=e;CSe(t,n)&&t.run()}return e})).catch(this.handleError),t&&this.modifyView(t)}}clearView(){return this.resultPromise&&this.resultPromise.then((e=>{e&&e.finalize()})).catch(this.handleError),this.resultPromise=void 0,this}render(){const{className:e,style:t}=this.props;return y.createElement("div",{ref:this.containerRef,className:e,style:t})}}function RSe(){return RSe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RSe.apply(this,arguments)}function zSe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}FSe(NSe,"propTypes",{className:kSe().string,onError:kSe().func});class PSe extends y.PureComponent{constructor(){super(...arguments),zSe(this,"vegaEmbed",y.createRef()),zSe(this,"handleNewView",(e=>{this.update();const{onNewView:t=SSe}=this.props;t(e)}))}componentDidMount(){this.update()}componentDidUpdate(e){_A(this.props.data,e.data)||this.update()}update(){const{data:e}=this.props;this.vegaEmbed.current&&e&&Object.keys(e).length>0&&this.vegaEmbed.current.modifyView((t=>{wSe(t,e),t.resize().run()}))}render(){const{data:e,...t}=this.props;return y.createElement(NSe,RSe({ref:this.vegaEmbed},t,{onNewView:this.handleNewView}))}}function OSe(){return OSe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OSe.apply(this,arguments)}function ISe(e){return y.createElement(PSe,OSe({},e,{mode:"vega-lite"}))}function LSe(e,t,n){const r={table:e.trackList.map((e=>({song:e.song.name,danceability:e.features.danceability,energy:e.features.energy,valence:e.features.valence})))};console.log(r);const i={width:400,title:"".concat(null===e||void 0===e?void 0:e.name,"'s ").concat(null===t||void 0===t?void 0:t.currentKey," Distribution"),height:200,mark:"bar",encoding:{y:{aggregate:"count",title:"Count"},x:{field:null===t||void 0===t?void 0:t.currentKey,bin:{step:.1}}},data:{name:"table"}};return(0,dA.jsx)("div",{children:(0,dA.jsxs)(gg,{isDismissable:!0,children:[(0,dA.jsx)(Jd,{children:"Analysis"}),(0,dA.jsx)(pg,{children:(0,dA.jsx)(wg,{alignSelf:"center",children:(0,dA.jsxs)(va,{alignItems:"center",direction:"column",children:[(0,dA.jsxs)(Ww,{children:[(0,dA.jsx)(Jd,{marginBottom:"5%",children:"Metric"}),(0,dA.jsx)(Xw,{selectionMode:"single",selectedKeys:t,onSelectionChange:n,children:["danceability","energy","valence"].map((e=>(0,dA.jsx)(av,{children:e},e)))})]}),t?(0,dA.jsx)(ISe,{spec:i,data:r}):null]})})})]})})}zSe(PSe,"defaultProps",{data:{}});var BSe;BSe={maximum:"\u0623\u0642\u0635\u0649",minimum:"\u0623\u062f\u0646\u0649"};var jSe;jSe={maximum:"\u041c\u0430\u043a\u0441\u0438\u043c\u0443\u043c",minimum:"\u041c\u0438\u043d\u0438\u043c\u0443\u043c"};var USe;USe={maximum:"Maximum",minimum:"Minimum"};var KSe;KSe={maximum:"Maksimum",minimum:"Minimum"};var WSe;WSe={maximum:"Maximum",minimum:"Minimum"};var qSe;qSe={maximum:"\u039c\u03ad\u03b3\u03b9\u03c3\u03c4\u03bf",minimum:"\u0395\u03bb\u03ac\u03c7\u03b9\u03c3\u03c4\u03bf"};var HSe;HSe={minimum:"Minimum",maximum:"Maximum"};var VSe;VSe={maximum:"M\xe1ximo",minimum:"M\xednimo"};var GSe;GSe={maximum:"Maksimaalne",minimum:"Minimaalne"};var YSe;YSe={maximum:"Maksimi",minimum:"Minimi"};var QSe;QSe={maximum:"Maximum",minimum:"Minimum"};var XSe;XSe={maximum:"\u05de\u05e7\u05e1\u05d9\u05de\u05d5\u05dd",minimum:"\u05de\u05d9\u05e0\u05d9\u05de\u05d5\u05dd"};var $Se;$Se={maximum:"Najvi\u0161e",minimum:"Najmanje"};var ZSe;ZSe={maximum:"Maximum",minimum:"Minimum"};var JSe;JSe={maximum:"Massimo",minimum:"Minimo"};var eCe;eCe={maximum:"\u6700\u5927",minimum:"\u6700\u5c0f"};var tCe;tCe={maximum:"\ucd5c\ub300",minimum:"\ucd5c\uc18c"};var nCe;nCe={maximum:"Daugiausia",minimum:"Ma\u017eiausia"};var rCe;rCe={maximum:"Maksim\u0101l\u0101 v\u0113rt\u012bba",minimum:"Minim\u0101l\u0101 v\u0113rt\u012bba"};var iCe;iCe={maximum:"Maksimum",minimum:"Minimum"};var oCe;oCe={maximum:"Maximum",minimum:"Minimum"};var aCe;aCe={maximum:"Maksimum",minimum:"Minimum"};var lCe;lCe={maximum:"M\xe1ximo",minimum:"M\xednimo"};var sCe;sCe={maximum:"M\xe1ximo",minimum:"M\xednimo"};var cCe;cCe={maximum:"Maximum",minimum:"Minimum"};var uCe;uCe={maximum:"\u041c\u0430\u043a\u0441\u0438\u043c\u0443\u043c",minimum:"\u041c\u0438\u043d\u0438\u043c\u0443\u043c"};var dCe;dCe={maximum:"Maximum",minimum:"Minimum"};var fCe;fCe={maximum:"Najve\u010dji",minimum:"Najmanj"};var hCe;hCe={maximum:"Najvi\u0161e",minimum:"Najmanje"};var pCe;pCe={maximum:"Maximum",minimum:"Minimum"};var mCe;mCe={maximum:"Maksimum",minimum:"Minimum"};var gCe;gCe={maximum:"\u041c\u0430\u043a\u0441\u0438\u043c\u0443\u043c",minimum:"\u041c\u0456\u043d\u0456\u043c\u0443\u043c"};var vCe;vCe={maximum:"\u6700\u5927",minimum:"\u6700\u5c0f"};var yCe;yCe={maximum:"\u6700\u5927\u503c",minimum:"\u6700\u5c0f\u503c"};const bCe=0,xCe=100,wCe=1;function _Ce(e){const{isDisabled:t=!1,minValue:n=bCe,maxValue:r=xCe,numberFormatter:i,step:o=wCe,orientation:a="horizontal"}=e;let l=(0,y.useMemo)((()=>{let e=(r-n)/10;return e=Fn(e,0,e+o,o),Math.max(e,o)}),[o,r,n]),s=(0,y.useCallback)((e=>null===e||void 0===e?void 0:e.map(((t,i)=>Fn(t,0===i?n:t[i-1],i===e.length-1?r:t[i+1],o)))),[n,r,o]),c=(0,y.useMemo)((()=>s(ECe(e.value))),[e.value]),u=(0,y.useMemo)((()=>{var t;return s(null!==(t=ECe(e.defaultValue))&&void 0!==t?t:[n])}),[e.defaultValue,n]),d=SCe(e.value,e.defaultValue,e.onChange),f=SCe(e.value,e.defaultValue,e.onChangeEnd);const[h,p]=An(c,u,d),[m,g]=(0,y.useState)(new Array(h.length).fill(!1)),v=(0,y.useRef)(new Array(h.length).fill(!0)),[b,x]=(0,y.useState)(void 0),w=(0,y.useRef)(h),_=(0,y.useRef)(m);let k=e=>{w.current=e,p(e)};function E(e){return(e-n)/(r-n)}function S(e){return 0===e?n:h[e-1]}function C(e){return e===h.length-1?r:h[e+1]}function M(e){return v.current[e]}function T(e,n){if(t||!M(e))return;n=Fn(n,S(e),C(e),o);let r=kCe(w.current,e,n);k(r)}function A(e){return i.format(e)}function D(e){return Dn(function(e){return Math.round((e-n)/o)*o+n}(e*(r-n)+n),n,r)}return{values:h,getThumbValue:e=>h[e],setThumbValue:T,setThumbPercent:function(e,t){T(e,D(t))},isThumbDragging:e=>m[e],setThumbDragging:function(e,n){if(t||!M(e))return;const r=_.current[e];var i;_.current=kCe(_.current,e,n),i=_.current,_.current=i,g(i),f&&r&&!_.current.some(Boolean)&&f(w.current)},focusedThumb:b,setFocusedThumb:x,getThumbPercent:e=>E(h[e]),getValuePercent:E,getThumbValueLabel:e=>A(h[e]),getFormattedValue:A,getThumbMinValue:S,getThumbMaxValue:C,getPercentValue:D,isThumbEditable:M,setThumbEditable:function(e,t){v.current[e]=t},incrementThumb:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=Math.max(t,o);T(e,Fn(h[e]+i,n,r,o))},decrementThumb:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=Math.max(t,o);T(e,Fn(h[e]-i,n,r,o))},step:o,pageSize:l,orientation:a,isDisabled:t}}function kCe(e,t,n){return e[t]===n?e:[...e.slice(0,t),n,...e.slice(t+1)]}function ECe(e){if(null!=e)return Array.isArray(e)?e:[e]}function SCe(e,t,n){return r=>{"number"===typeof e||"number"===typeof t?null===n||void 0===n||n(r[0]):null===n||void 0===n||n(r)}}const CCe=new WeakMap;function MCe(e,t){let n=CCe.get(e);if(!n)throw new Error("Unknown slider state");return"".concat(n.id,"-").concat(t)}function TCe(e,t,n){let{labelProps:r,fieldProps:i}=$a(e),o="vertical"===e.orientation;var a;CCe.set(t,{id:null!==(a=r.id)&&void 0!==a?a:i.id,"aria-describedby":e["aria-describedby"],"aria-details":e["aria-details"]});let{direction:l}=ot(),{addGlobalListener:s,removeGlobalListener:c}=ge();const u=(0,y.useRef)(null),d="rtl"===l,f=(0,y.useRef)(null),{moveProps:h}=Pr({onMoveStart(){f.current=null},onMove(e){let{deltaX:r,deltaY:i}=e,{height:a,width:l}=n.current.getBoundingClientRect(),s=o?a:l;null==f.current&&(f.current=t.getThumbPercent(u.current)*s);let c=o?i:r;if((o||d)&&(c=-c),f.current+=c,null!=u.current&&n.current){const e=Dn(f.current/s,0,1);t.setThumbPercent(u.current,e)}},onMoveEnd(){null!=u.current&&(t.setThumbDragging(u.current,!1),u.current=null)}});let p=(0,y.useRef)(void 0),m=(r,i,a,c)=>{if(n.current&&!e.isDisabled&&t.values.every(((e,n)=>!t.isThumbDragging(n)))){let{height:e,width:d,top:f,left:h}=n.current.getBoundingClientRect();let m=((o?c:a)-(o?f:h))/(o?e:d);("rtl"===l||o)&&(m=1-m);let v,y=t.getPercentValue(m),b=t.values.findIndex((e=>y-e<0));if(0===b)v=b;else if(-1===b)v=t.values.length-1;else{let e=t.values[b-1],n=t.values[b];v=Math.abs(e-y)<Math.abs(n-y)?b-1:b}v>=0&&t.isThumbEditable(v)?(r.preventDefault(),u.current=v,t.setFocusedThumb(v),p.current=i,t.setThumbDragging(u.current,!0),t.setThumbValue(v,y),s(window,"mouseup",g,!1),s(window,"touchend",g,!1),s(window,"pointerup",g,!1)):u.current=null}},g=e=>{var n,r;(null!==(r=e.pointerId)&&void 0!==r?r:null===(n=e.changedTouches)||void 0===n?void 0:n[0].identifier)===p.current&&(null!=u.current&&(t.setThumbDragging(u.current,!1),u.current=null),c(window,"mouseup",g,!1),c(window,"touchend",g,!1),c(window,"pointerup",g,!1))};return"htmlFor"in r&&r.htmlFor&&(delete r.htmlFor,r.onClick=()=>{var e;null===(e=document.getElementById(MCe(t,0)))||void 0===e||e.focus(),xr("keyboard")}),{labelProps:r,groupProps:{role:"group",...i},trackProps:q({onMouseDown(e){0!==e.button||e.altKey||e.ctrlKey||e.metaKey||m(e,void 0,e.clientX,e.clientY)},onPointerDown(e){"mouse"===e.pointerType&&(0!==e.button||e.altKey||e.ctrlKey||e.metaKey)||m(e,e.pointerId,e.clientX,e.clientY)},onTouchStart(e){m(e,e.changedTouches[0].identifier,e.changedTouches[0].clientX,e.changedTouches[0].clientY)},style:{position:"relative",touchAction:"none"}},h),outputProps:{htmlFor:t.values.map(((e,n)=>MCe(t,n))).join(" "),"aria-live":"off"}}}function ACe(e,t){let{index:n=0,isRequired:r,validationState:i,isInvalid:o,trackRef:a,inputRef:l,orientation:s=t.orientation,name:c}=e,u=e.isDisabled||t.isDisabled,d="vertical"===s,{direction:f}=ot(),{addGlobalListener:h,removeGlobalListener:p}=ge(),m=CCe.get(t);var g;const{labelProps:v,fieldProps:b}=$a({...e,id:MCe(t,n),"aria-labelledby":"".concat(m.id," ").concat(null!==(g=e["aria-labelledby"])&&void 0!==g?g:"").trim()}),x=t.values[n],w=(0,y.useCallback)((()=>{l.current&&$(l.current)}),[l]),_=t.focusedThumb===n;(0,y.useEffect)((()=>{_&&w()}),[_,w]);let k="rtl"===f,E=(0,y.useRef)(null),{keyboardProps:S}=zr({onKeyDown(e){let{getThumbMaxValue:r,getThumbMinValue:i,decrementThumb:o,incrementThumb:a,setThumbValue:l,setThumbDragging:s,pageSize:c}=t;if(/^(PageUp|PageDown|Home|End)$/.test(e.key)){switch(e.preventDefault(),s(n,!0),e.key){case"PageUp":a(n,c);break;case"PageDown":o(n,c);break;case"Home":l(n,i(n));break;case"End":l(n,r(n))}s(n,!1)}else e.continuePropagation()}}),{moveProps:C}=Pr({onMoveStart(){E.current=null,t.setThumbDragging(n,!0)},onMove(e){let{deltaX:r,deltaY:i,pointerType:o,shiftKey:l}=e;const{getThumbPercent:s,setThumbPercent:c,decrementThumb:u,incrementThumb:f,step:h,pageSize:p}=t;let{width:m,height:g}=a.current.getBoundingClientRect(),v=d?g:m;if(null==E.current&&(E.current=s(n)*v),"keyboard"===o)r>0&&k||r<0&&!k||i>0?u(n,l?p:h):f(n,l?p:h);else{let e=d?i:r;(d||k)&&(e=-e),E.current+=e,c(n,Dn(E.current/v,0,1))}},onMoveEnd(){t.setThumbDragging(n,!1)}});t.setThumbEditable(n,!u);const{focusableProps:M}=ci(q(e,{onFocus:()=>t.setFocusedThumb(n),onBlur:()=>t.setFocusedThumb(void 0)}),l);let T=(0,y.useRef)(void 0),A=e=>{w(),T.current=e,t.setThumbDragging(n,!0),h(window,"mouseup",D,!1),h(window,"touchend",D,!1),h(window,"pointerup",D,!1)},D=e=>{var r,i;(null!==(i=e.pointerId)&&void 0!==i?i:null===(r=e.changedTouches)||void 0===r?void 0:r[0].identifier)===T.current&&(w(),t.setThumbDragging(n,!1),p(window,"mouseup",D,!1),p(window,"touchend",D,!1),p(window,"pointerup",D,!1))},F=t.getThumbPercent(n);(d||"rtl"===f)&&(F=1-F);let N=u?{}:q(S,C,{onMouseDown:e=>{0!==e.button||e.altKey||e.ctrlKey||e.metaKey||A()},onPointerDown:e=>{0!==e.button||e.altKey||e.ctrlKey||e.metaKey||A(e.pointerId)},onTouchStart:e=>{A(e.changedTouches[0].identifier)}});return Pe(l,x,(e=>{t.setThumbValue(n,e)})),{inputProps:q(M,b,{type:"range",tabIndex:u?void 0:0,min:t.getThumbMinValue(n),max:t.getThumbMaxValue(n),step:t.step,value:x,name:c,disabled:u,"aria-orientation":s,"aria-valuetext":t.getThumbValueLabel(n),"aria-required":r||void 0,"aria-invalid":o||"invalid"===i||void 0,"aria-errormessage":e["aria-errormessage"],"aria-describedby":[m["aria-describedby"],e["aria-describedby"]].filter(Boolean).join(" "),"aria-details":[m["aria-details"],e["aria-details"]].filter(Boolean).join(" "),onChange:e=>{t.setThumbValue(n,parseFloat(e.target.value))}}),thumbProps:{...N,style:{position:"absolute",[d?"top":"left"]:"".concat(100*F,"%"),transform:"translate(-50%, -50%)",touchAction:"none"}},labelProps:v,isDragging:t.isThumbDragging(n),isDisabled:u,isFocused:_}}function DCe(e){return e&&e.__esModule?e.default:e}function FCe(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var NCe,RCe,zCe,PCe,OCe,ICe,LCe,BCe,jCe,UCe,KCe,WCe,qCe,HCe,VCe,GCe,YCe,QCe,XCe,$Ce,ZCe,JCe,eMe,tMe,nMe,rMe,iMe,oMe,aMe,lMe,sMe,cMe,uMe,dMe,fMe,hMe,pMe,mMe,gMe,vMe,yMe,bMe,xMe,wMe,_Me,kMe,EMe={};function SMe(e,t){e=Io(e);let{isDisabled:n,children:r,classes:i,style:o,labelPosition:a="top",getValueLabel:l,showValueLabel:s=!!e.label,formatOptions:c,minValue:u=0,maxValue:d=100,...f}=e,{styleProps:h}=Lt(f);2===Math.abs(Math.sign(u)-Math.sign(d))&&(null!=c?"signDisplay"in c||(c={...c,signDisplay:"exceptZero"}):c={signDisplay:"exceptZero"});const p=ct(c),m=_Ce({...e,numberFormatter:p,minValue:u,maxValue:d});let g,v=(0,y.useRef)(),{groupProps:b,trackProps:x,labelProps:w,outputProps:_}=TCe(e,m,v),k=(0,y.useRef)(),E=yt(t,k),S="";if("function"===typeof l)switch(S=l(m.values),m.values.length){case 1:g=Math.max(l([u]).length,l([d]).length);break;case 2:g=Math.max(l([u,u]).length,l([u,d]).length,l([d,u]).length,l([d,d]).length);break;default:throw new Error("Only sliders with 1 or 2 handles are supported!")}else switch(g=Math.max([...p.format(u)].length,[...p.format(d)].length),m.values.length){case 1:S=m.getThumbValueLabel(0);break;case 2:S="".concat(m.getThumbValueLabel(0)," \u2013 ").concat(m.getThumbValueLabel(1)),g=3+2*Math.max(g,[...p.format(u)].length,[...p.format(d)].length);break;default:throw new Error("Only sliders with 1 or 2 handles are supported!")}let C=y.createElement("label",{className:ht(DCe(EMe),"spectrum-Slider-label"),...w},e.label),M=y.createElement("output",{..._,className:ht(DCe(EMe),"spectrum-Slider-value"),style:g&&{width:"".concat(g,"ch"),minWidth:"".concat(g,"ch")}},S);return y.createElement("div",{ref:E,className:ht(DCe(EMe),"spectrum-Slider",{"spectrum-Slider--positionTop":"top"===a,"spectrum-Slider--positionSide":"side"===a,"is-disabled":n},i,h.className),style:{...o,...h.style},...b},e.label&&y.createElement("div",{className:ht(DCe(EMe),"spectrum-Slider-labelContainer"),role:"presentation"},e.label&&C,e.contextualHelp&&y.createElement(Wt,{slots:{actionButton:{UNSAFE_className:ht(DCe(EMe),"spectrum-Slider-contextualHelp")}}},e.contextualHelp),"top"===a&&s&&M),y.createElement("div",{className:ht(DCe(EMe),"spectrum-Slider-controls"),ref:v,...x,role:"presentation"},r({trackRef:v,inputRef:k,state:m})),"side"===a&&y.createElement("div",{className:ht(DCe(EMe),"spectrum-Slider-valueLabelContainer"),role:"presentation"},s&&M))}FCe(EMe,"contextualHelp",(()=>NCe),(e=>NCe=e)),FCe(EMe,"focus-ring",(()=>RCe),(e=>RCe=e)),FCe(EMe,"i18nFontFamily",(()=>zCe),(e=>zCe=e)),FCe(EMe,"is-disabled",(()=>PCe),(e=>PCe=e)),FCe(EMe,"is-dragged",(()=>OCe),(e=>OCe=e)),FCe(EMe,"is-focused",(()=>ICe),(e=>ICe=e)),FCe(EMe,"is-hovered",(()=>LCe),(e=>LCe=e)),FCe(EMe,"is-tophandle",(()=>BCe),(e=>BCe=e)),FCe(EMe,"label",(()=>jCe),(e=>jCe=e)),FCe(EMe,"spectrum-Slider",(()=>UCe),(e=>UCe=e)),FCe(EMe,"spectrum-Dial",(()=>KCe),(e=>KCe=e)),FCe(EMe,"spectrum-Dial--small",(()=>WCe),(e=>WCe=e)),FCe(EMe,"spectrum-Slider-controls",(()=>qCe),(e=>qCe=e)),FCe(EMe,"spectrum-Dial-controls",(()=>HCe),(e=>HCe=e)),FCe(EMe,"spectrum-Slider-handle",(()=>VCe),(e=>VCe=e)),FCe(EMe,"spectrum-Dial-handle",(()=>GCe),(e=>GCe=e)),FCe(EMe,"spectrum-Slider-input",(()=>YCe),(e=>YCe=e)),FCe(EMe,"spectrum-Dial-input",(()=>QCe),(e=>QCe=e)),FCe(EMe,"spectrum-Dial-label",(()=>XCe),(e=>XCe=e)),FCe(EMe,"spectrum-Slider-labelContainer",(()=>$Ce),(e=>$Ce=e)),FCe(EMe,"spectrum-Dial-labelContainer",(()=>ZCe),(e=>ZCe=e)),FCe(EMe,"spectrum-Dial-value",(()=>JCe),(e=>JCe=e)),FCe(EMe,"spectrum-FocusRing-ring",(()=>eMe),(e=>eMe=e)),FCe(EMe,"spectrum-FocusRing",(()=>tMe),(e=>tMe=e)),FCe(EMe,"spectrum-FocusRing--quiet",(()=>nMe),(e=>nMe=e)),FCe(EMe,"spectrum-Slider--color",(()=>rMe),(e=>rMe=e)),FCe(EMe,"spectrum-Slider--filled",(()=>iMe),(e=>iMe=e)),FCe(EMe,"spectrum-Slider--label-side",(()=>oMe),(e=>oMe=e)),FCe(EMe,"spectrum-Slider--positionSide",(()=>aMe),(e=>aMe=e)),FCe(EMe,"spectrum-Slider--positionTop",(()=>lMe),(e=>lMe=e)),FCe(EMe,"spectrum-Slider--ramp",(()=>sMe),(e=>sMe=e)),FCe(EMe,"spectrum-Slider--range",(()=>cMe),(e=>cMe=e)),FCe(EMe,"spectrum-Slider-buffer",(()=>uMe),(e=>uMe=e)),FCe(EMe,"spectrum-Slider-contextualHelp",(()=>dMe),(e=>dMe=e)),FCe(EMe,"spectrum-Slider-fill",(()=>fMe),(e=>fMe=e)),FCe(EMe,"spectrum-Slider-fill--right",(()=>hMe),(e=>hMe=e)),FCe(EMe,"spectrum-Slider-label",(()=>pMe),(e=>pMe=e)),FCe(EMe,"spectrum-Slider-ramp",(()=>mMe),(e=>mMe=e)),FCe(EMe,"spectrum-Slider-tick",(()=>gMe),(e=>gMe=e)),FCe(EMe,"spectrum-Slider-tickLabel",(()=>vMe),(e=>vMe=e)),FCe(EMe,"spectrum-Slider-ticks",(()=>yMe),(e=>yMe=e)),FCe(EMe,"spectrum-Slider-track",(()=>bMe),(e=>bMe=e)),FCe(EMe,"spectrum-Slider-value",(()=>xMe),(e=>xMe=e)),FCe(EMe,"spectrum-Slider-valueLabelContainer",(()=>wMe),(e=>wMe=e)),FCe(EMe,"u-isGrabbing",(()=>_Me),(e=>_Me=e)),FCe(EMe,"value",(()=>kMe),(e=>kMe=e)),NCe="BTW8mG_contextualHelp",RCe="BTW8mG_focus-ring",zCe="BTW8mG_i18nFontFamily",PCe="BTW8mG_is-disabled",OCe="BTW8mG_is-dragged",ICe="BTW8mG_is-focused",LCe="BTW8mG_is-hovered",BCe="BTW8mG_is-tophandle",jCe="BTW8mG_label",KCe="BTW8mG_spectrum-Dial ".concat(UCe="BTW8mG_spectrum-Slider"),WCe="BTW8mG_spectrum-Dial--small",HCe="BTW8mG_spectrum-Dial-controls ".concat(qCe="BTW8mG_spectrum-Slider-controls"),GCe="BTW8mG_spectrum-Dial-handle ".concat(VCe="BTW8mG_spectrum-Slider-handle"),QCe="BTW8mG_spectrum-Dial-input ".concat(YCe="BTW8mG_spectrum-Slider-input"),XCe="BTW8mG_spectrum-Dial-label",ZCe="BTW8mG_spectrum-Dial-labelContainer ".concat($Ce="BTW8mG_spectrum-Slider-labelContainer"),JCe="BTW8mG_spectrum-Dial-value",tMe="BTW8mG_spectrum-FocusRing ".concat(eMe="BTW8mG_spectrum-FocusRing-ring"),nMe="BTW8mG_spectrum-FocusRing--quiet",rMe="BTW8mG_spectrum-Slider--color",iMe="BTW8mG_spectrum-Slider--filled",oMe="BTW8mG_spectrum-Slider--label-side",aMe="BTW8mG_spectrum-Slider--positionSide",lMe="BTW8mG_spectrum-Slider--positionTop",sMe="BTW8mG_spectrum-Slider--ramp",cMe="BTW8mG_spectrum-Slider--range",uMe="BTW8mG_spectrum-Slider-buffer",dMe="BTW8mG_spectrum-Slider-contextualHelp",fMe="BTW8mG_spectrum-Slider-fill",hMe="BTW8mG_spectrum-Slider-fill--right",pMe="BTW8mG_spectrum-Slider-label",mMe="BTW8mG_spectrum-Slider-ramp",gMe="BTW8mG_spectrum-Slider-tick",vMe="BTW8mG_spectrum-Slider-tickLabel",yMe="BTW8mG_spectrum-Slider-ticks",bMe="BTW8mG_spectrum-Slider-track",xMe="BTW8mG_spectrum-Slider-value",wMe="BTW8mG_spectrum-Slider-valueLabelContainer",_Me="BTW8mG_u-isGrabbing",kMe="BTW8mG_value";const CMe=y.forwardRef(SMe);function MMe(e){let{inputRef:t,state:n}=e,r=(0,y.useRef)();t=t||r;let{thumbProps:i,inputProps:o,isDragging:a,isFocused:l}=ACe({...e,inputRef:t},n),{hoverProps:s,isHovered:c}=Dr({});return y.createElement(oi,{within:!0,focusRingClass:ht(DCe(EMe),"is-focused")},y.createElement("div",{className:ht(DCe(EMe),"spectrum-Slider-handle",{"is-hovered":c,"is-dragged":a,"is-tophandle":l}),...q(i,s),role:"presentation"},y.createElement(pi,null,y.createElement("input",{className:ht(DCe(EMe),"spectrum-Slider-input"),ref:t,...o}))))}var TMe;function AMe(e,t){let{onChange:n,onChangeEnd:r,value:i,defaultValue:o,getValueLabel:a,...l}=e;var s,c;let u={...l,value:null!=i?[i.start,i.end]:void 0,defaultValue:null!=o?[o.start,o.end]:[null!==(s=e.minValue)&&void 0!==s?s:0,null!==(c=e.maxValue)&&void 0!==c?c:100],onChange(e){null===n||void 0===n||n({start:e[0],end:e[1]})},onChangeEnd(e){null===r||void 0===r||r({start:e[0],end:e[1]})},getValueLabel:a?e=>{let[t,n]=e;return a({start:t,end:n})}:void 0},d=st(DCe(TMe),"@react-spectrum/slider"),{direction:f}=ot();return y.createElement(CMe,{...u,classes:"spectrum-Slider--range",ref:t},(t=>{let{trackRef:n,inputRef:r,state:i}=t,o="rtl"===f?"right":"left";return y.createElement(y.Fragment,null,y.createElement("div",{className:ht(DCe(EMe),"spectrum-Slider-track"),style:{width:"".concat(100*i.getThumbPercent(0),"%")}}),y.createElement(MMe,{index:0,"aria-label":d.format("minimum"),isDisabled:e.isDisabled,trackRef:n,inputRef:r,state:i,name:e.startName}),y.createElement("div",{className:ht(DCe(EMe),"spectrum-Slider-track"),style:{[o]:"".concat(100*i.getThumbPercent(0),"%"),width:"".concat(100*Math.abs(i.getThumbPercent(0)-i.getThumbPercent(1)),"%")}}),y.createElement(MMe,{index:1,"aria-label":d.format("maximum"),isDisabled:e.isDisabled,trackRef:n,state:i,name:e.endName}),y.createElement("div",{className:ht(DCe(EMe),"spectrum-Slider-track"),style:{width:"".concat(100*(1-i.getThumbPercent(1)),"%")}}))}))}TMe={"ar-AE":BSe,"bg-BG":jSe,"cs-CZ":USe,"da-DK":KSe,"de-DE":WSe,"el-GR":qSe,"en-US":HSe,"es-ES":VSe,"et-EE":GSe,"fi-FI":YSe,"fr-FR":QSe,"he-IL":XSe,"hr-HR":$Se,"hu-HU":ZSe,"it-IT":JSe,"ja-JP":eCe,"ko-KR":tCe,"lt-LT":nCe,"lv-LV":rCe,"nb-NO":iCe,"nl-NL":oCe,"pl-PL":aCe,"pt-BR":lCe,"pt-PT":sCe,"ro-RO":cCe,"ru-RU":uCe,"sk-SK":dCe,"sl-SI":fCe,"sr-SP":hCe,"sv-SE":pCe,"tr-TR":mCe,"uk-UA":gCe,"zh-CN":vCe,"zh-TW":yCe};const DMe=y.forwardRef(AMe),FMe=[{key:0,id:"danceability",minValue:0,maxValue:1,step:.01},{key:1,id:"energy",minValue:0,maxValue:1,step:.01},{key:2,id:"valence",minValue:0,maxValue:1,step:.01},{key:3,id:"instrumentalness",minValue:0,maxValue:1,step:.01}];function NMe(e,t){let n,r=[];console.log(Object.keys(t));for(let i=0;i<e.length;i++)n=!0,Object.keys(t).forEach((r=>{(t[r].start>e[i].features[r]||t[r].end<e[i].features[r])&&(n=!1)})),n&&r.push({key:i,song:e[i].song,features:e[i].features});return r}function RMe(e,t){const[n,r]=(0,y.useState)(e),[i,o]=(0,y.useState)((()=>{let e={};return FMe.forEach((t=>e[t.id]={start:t.minValue,end:t.maxValue})),e}));let a=Object.create((()=>{let e={};return FMe.forEach((t=>e[t.id]={start:t.minValue,end:t.maxValue})),e})),l=[];return console.log(n),console.log("oi vey"),!n&&e&&r(e),(0,dA.jsxs)(gg,{type:"modal",isDismissable:!0,children:[(0,dA.jsx)(Jd,{isDisabled:!e,children:"Filter"}),r=>(0,dA.jsxs)(pg,{size:"M",children:[(0,dA.jsx)(sd,{children:"Filter Playlist"}),(0,dA.jsx)(yf,{}),(0,dA.jsxs)(wg,{children:[(0,dA.jsx)(va,{direction:"column",gap:"size-100",children:FMe.map(((e,t)=>(0,dA.jsx)(DMe,{label:e.id,onChange:t=>o({...i,[e.id]:t}),minValue:e.minValue,maxValue:e.maxValue,step:e.step,value:i[e.id]})))}),(0,dA.jsxs)(va,{direction:"row",gap:"20%",width:"100%",children:[(0,dA.jsx)(Jd,{onPress:()=>{l=NMe(n.trackList,i),t({...e,trackList:l}),r()},children:"Set Filters"}),(0,dA.jsx)(Jd,{onPress:()=>{o(a),l=NMe(e.trackList,i),t(n),r()},children:"Reset"}),(0,dA.jsx)(Jd,{onPress:()=>{r()},children:"Cancel"})]})]})]})]})}var zMe=n(769);function PMe(e){return y.createElement(ds,e,y.createElement(zMe.g,null))}async function OMe(){return await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"grant_type=client_credentials&client_id=".concat("44ecebfe60684e3190de17084d2c95c3","&client_secret=").concat("aaf6d7fa216c443aa83ead247608ec42")})}const IMe=function(){const[e,t]=(0,y.useState)(),[n,r]=(0,y.useState)(),[i,o]=(0,y.useState)();let a=[];function l(){(async function(e){return(await OMe().then((t=>{if(t.ok)return t.json().then((t=>fetch("https://api.spotify.com/v1/".concat(e[1]+"s","/").concat(e[2]),{headers:{Authorization:"".concat(t.token_type," ").concat(t.access_token)}})))}))).json()})(new URL(i).pathname.split("/")).then((e=>{let t="";e.tracks.items.forEach((e=>{t=t.concat("".concat(e.track.id,","))})),async function(e){return(await OMe().then((t=>{if(t.ok)return t.json().then((t=>fetch("https://api.spotify.com/v1/audio-features?ids=".concat(e),{headers:{Authorization:"".concat(t.token_type," ").concat(t.access_token)}})))}))).json()}(t.slice(0,-1)).then((t=>{a=function(e,t){let n=[];for(let r=0;r<e.length;r++)n.push({key:r,song:e[r].track,features:t[r]});return n}(e.tracks.items,t.audio_features),r({name:e.name,maker:e.owner.display_name,trackList:a,imgSrc:e.images[0].url})}))}))}return(0,dA.jsx)(zo,{theme:na,children:(0,dA.jsx)("div",{className:"App",children:(0,dA.jsx)("header",{className:"App-header",children:(0,dA.jsxs)(va,{direction:"column",gap:"size-100",width:"100%",alignItems:"center",children:[(0,dA.jsxs)(va,{direction:"row",width:"75vw",alignSelf:"end",gap:"2.5%",children:[(0,dA.jsx)(Eu,{onChange:o,value:i,width:"50%",onKeyUp:e=>{"Enter"===e.code&&l()}}),(0,dA.jsx)(Jd,{onPress:l,isDisabled:!i,children:(0,dA.jsx)(PMe,{})})]}),RMe(n,r),(0,dA.jsx)(yf,{orientation:"horizontal",height:"size-10",width:"90%",alignSelf:"center"}),(0,dA.jsxs)(va,{direction:"row",width:"100%",gap:"5%",children:[(0,dA.jsxs)(va,{direction:"column",width:"40%",alignItems:"center",children:[n?xA(n):null,n?LSe(n,e,t):null]}),(0,dA.jsx)(yf,{orientation:"vertical",width:"size-10"}),(0,dA.jsx)(va,{direction:"column",maxHeight:"75vh",width:"60%",alignItems:"center",gap:"5%",children:pA(n)})]})]})})})})},LMe=e=>{e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:a}=t;n(e),r(e),i(e),o(e),a(e)}))};b.createRoot(document.getElementById("root")).render((0,dA.jsx)(y.StrictMode,{children:(0,dA.jsx)(IMe,{})})),LMe()})()})();
//# sourceMappingURL=main.728c6cf2.js.map